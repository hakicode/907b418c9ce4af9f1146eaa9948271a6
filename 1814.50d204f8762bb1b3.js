"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1814],{2433:(Z,f,p)=>{p.r(f),p.d(f,{UserPageModule:()=>mn});var l=p(6814),h=p(95),c=p(3536),m=p(4487),T=p(5861),x=p(4459),d=p(203),g=p(5511),_=p(2695),n=p(9468),v=p(6593),y=p(1815);let C=(()=>{var e;class a{constructor(){this.APP_ROUTE=_.z}ngOnInit(){}}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-info"]],inputs:{user:"user"},decls:9,vars:3,consts:[[1,"container","py-4"],["onerror","errorAvatar(this)",3,"src"],[1,"user-name","text-ellipsis","my-3"],[1,"text-center","mt-0","mb-1"],[1,"text-center","text-muted"]],template:function(t,i){if(1&t&&(n.TgZ(0,"div",0)(1,"ion-thumbnail"),n._UZ(2,"img",1),n.qZA(),n.TgZ(3,"div",2)(4,"h5",3)(5,"b"),n._uU(6),n.qZA()(),n.TgZ(7,"div",4),n._uU(8),n.qZA()()()),2&t){let s;n.xp6(2),n.Q6J("src",null!==(s=null==i.user?null:i.user.url_profilephoto)&&void 0!==s?s:"../../../assets/image/user-avatar-default.png",n.LSH),n.xp6(4),n.Oqu(null==i.user?null:i.user.fullname),n.xp6(2),n.Oqu(null==i.user?null:i.user.emailaddr)}},dependencies:[c.Bs],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 140px;--border-radius: 50%;margin:auto}"]}),a})();var A=p(6676),U=p.n(A),P=p(2654);function E(e,a){1&e&&n.GkF(0)}function I(e,a){1&e&&n.GkF(0)}function M(e,a){1&e&&(n.TgZ(0,"div",6),n._UZ(1,"ion-spinner",7),n.qZA())}function Q(e,a){1&e&&(n.TgZ(0,"small",9),n._uU(1,"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u!"),n.qZA())}function k(e,a){if(1&e&&n.YNc(0,Q,2,0,"small",8),2&e){const o=n.oxw();n.Q6J("ngIf",!1===o.response.loading)}}function D(e,a){if(1&e&&(n.TgZ(0,"p"),n._uU(1,"\xc1p d\u1ee5ng t\u1edbi "),n.TgZ(2,"b"),n._uU(3),n.qZA()()),2&e){const o=n.oxw(2);n.xp6(3),n.Oqu(o.renderDate(null==o.productpackageapplied?null:o.productpackageapplied.expirateddate,"DD/MM/YYYY"))}}function O(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"ion-badge",15),n._uU(2),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(2),n.Oqu(o.datavalue)}}function Y(e,a){1&e&&(n.ynx(0),n._UZ(1,"ion-icon",16),n.BQk())}function N(e,a){1&e&&(n.ynx(0),n._UZ(1,"ion-icon",17),n.BQk())}function J(e,a){if(1&e&&(n.ynx(0)(1,13),n.YNc(2,Y,2,0,"ng-container",14),n.YNc(3,N,2,0,"ng-container",14),n.BQk()()),2&e){const o=n.oxw().$implicit;n.xp6(1),n.Q6J("ngSwitch",o.datavalue),n.xp6(1),n.Q6J("ngSwitchCase","1"),n.xp6(1),n.Q6J("ngSwitchCase","0")}}function w(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"ion-badge",15),n._uU(2),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit,t=n.oxw(2);n.xp6(2),n.Oqu(t.renderTemplate(o.datavalue,o.template))}}function q(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"ion-badge",15),n._uU(2),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit,t=n.oxw(2);n.xp6(2),n.Oqu(t.renderDate(o.datavalue))}}function b(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"ion-item")(2,"ion-label"),n._uU(3),n.qZA(),n.ynx(4,13),n.YNc(5,O,3,1,"ng-container",14),n.YNc(6,J,4,3,"ng-container",14),n.YNc(7,w,3,1,"ng-container",14),n.YNc(8,q,3,1,"ng-container",14),n.BQk(),n.qZA(),n.BQk()),2&e){const o=a.$implicit;n.xp6(3),n.Oqu(o.productpackagecontent_title),n.xp6(1),n.Q6J("ngSwitch",o.v_datatype),n.xp6(1),n.Q6J("ngSwitchCase",800),n.xp6(1),n.Q6J("ngSwitchCase",801),n.xp6(1),n.Q6J("ngSwitchCase",802),n.xp6(1),n.Q6J("ngSwitchCase",803)}}function R(e,a){if(1&e&&(n.TgZ(0,"h3"),n._uU(1),n.qZA(),n.YNc(2,D,4,1,"p",10),n.TgZ(3,"ion-list",11),n.YNc(4,b,9,6,"ng-container",12),n.qZA()),2&e){const o=n.oxw();n.xp6(1),n.AsE("",null==o.productpackageapplied?null:o.productpackageapplied.productpackage_key," - ",null==o.productpackageapplied?null:o.productpackageapplied.productpackage_title,""),n.xp6(1),n.Q6J("ngIf",null==o.productpackageapplied?null:o.productpackageapplied.expirateddate),n.xp6(2),n.Q6J("ngForOf",o.filterData(o.response.productpackagecontents))}}let B=(()=>{var e;class a{constructor(){this.response={}}ngOnInit(){this.loadData()}onIonRefresher(t){this.loadData(()=>{t.target.complete()})}loadData(t){var i,s;(0,P.A)({loading:r=>{this.response.loading=r},params:{userid:null===(i=this.user)||void 0===i?void 0:i.userid,productpackage_id:null===(s=this.productpackageapplied)||void 0===s?void 0:s.productpackage_id},callback:r=>{var u;this.response.productpackagecontents=null!==(u=null==r?void 0:r.productpackagecontents)&&void 0!==u?u:[],t&&t()}})}filterData(t){var i;return null!==(i=null==t?void 0:t.filter(s=>s.iseffect))&&void 0!==i?i:[]}renderTemplate(t,i){return i?i.replace(/\{0\}/gm,null!=t?t:""):t}renderDate(t,i){return U()(t).format(null!=i?i:"DD/MM/YYYY HH:mm")}}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-membership"]],inputs:{user:"user",productpackageapplied:"productpackageapplied"},decls:12,vars:5,consts:[["slot","fixed",3,"ionRefresh"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],["templateLoading",""],["templateNoData",""],["templateYesData",""],[1,"text-center"],["name","dots"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[4,"ngIf"],["mode","ios"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","end"],["slot","end","color","primary","name","checkmark-outline"],["slot","end","color","danger","name","close-outline"]],template:function(t,i){if(1&t&&(n.TgZ(0,"ion-refresher",0),n.NdJ("ionRefresh",function(r){return i.onIonRefresher(r)}),n._UZ(1,"ion-refresher-content"),n.qZA(),n.TgZ(2,"h5"),n._uU(3,"G\xf3i h\u1ed9i vi\xean \u0111ang \xe1p d\u1ee5ng"),n.qZA(),n.YNc(4,E,1,0,"ng-container",1),n.YNc(5,I,1,0,"ng-container",2),n.YNc(6,M,2,0,"ng-template",null,3,n.W1O),n.YNc(8,k,1,1,"ng-template",null,4,n.W1O),n.YNc(10,R,5,4,"ng-template",null,5,n.W1O)),2&t){const s=n.MAs(7),r=n.MAs(9),u=n.MAs(11);n.xp6(4),n.Q6J("ngIf",i.productpackageapplied)("ngIfThen",u)("ngIfElse",r),n.xp6(1),n.Q6J("ngIf",!1!==i.response.loading)("ngIfThen",s)}},dependencies:[l.sg,l.O5,l.RF,l.n9,c.yp,c.gu,c.Ie,c.Q$,c.q_,c.nJ,c.Wo,c.PQ]}),a})();var F=p(5844),S=p(1862);function $(e,a){1&e&&n.GkF(0)}function G(e,a){1&e&&n.GkF(0)}function W(e,a){if(1&e){const o=n.EpF();n.TgZ(0,"ion-infinite-scroll",8),n.NdJ("ionInfinite",function(i){n.CHM(o);const s=n.oxw();return n.KtG(s.onIonInfiniteScroll(i))}),n._UZ(1,"ion-infinite-scroll-content"),n.qZA()}}function H(e,a){1&e&&(n.TgZ(0,"div",9),n._UZ(1,"ion-spinner",10),n.qZA())}function L(e,a){1&e&&(n.TgZ(0,"small",12),n._uU(1,"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u!"),n.qZA())}function z(e,a){if(1&e&&n.YNc(0,L,2,0,"small",11),2&e){const o=n.oxw();n.Q6J("ngIf",!1===o.response.loading)}}function K(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"a",18),n._uU(2),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit,t=n.oxw(2);n.xp6(1),n.Q6J("href",t.APP_ROUTE.HOME_STATUS_PAYMENT+"?poi="+o.pay_orderid,n.LSH),n.xp6(1),n.Oqu(o.order_code)}}function j(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"span",19),n._uU(2),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(2),n.Oqu(o.v_feesstatus_name)}}function X(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"span",20),n._uU(2),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(2),n.Oqu(o.v_feesstatus_name)}}function V(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"span",12),n._uU(2),n.qZA(),n.BQk()),2&e){const o=n.oxw().$implicit;n.xp6(2),n.Oqu(o.v_feesstatus_name)}}function nn(e,a){if(1&e&&(n.ynx(0),n.TgZ(1,"tr"),n._UZ(2,"td"),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n.YNc(8,K,3,2,"ng-container",14),n.qZA(),n.TgZ(9,"td"),n.ynx(10,15),n.YNc(11,j,3,1,"ng-container",16),n.YNc(12,X,3,1,"ng-container",16),n.YNc(13,V,3,1,"ng-container",17),n.BQk(),n.qZA(),n._UZ(14,"td"),n.qZA(),n.BQk()),2&e){const o=a.$implicit,t=n.oxw(2);n.xp6(4),n.hij("",t.renderMoney(o.amount)," VN\u0110"),n.xp6(2),n.Oqu(t.renderDate(o.order_date)),n.xp6(2),n.Q6J("ngIf",o.order_code),n.xp6(2),n.Q6J("ngSwitch",o.v_feesstatus),n.xp6(1),n.Q6J("ngSwitchCase",10201),n.xp6(1),n.Q6J("ngSwitchCase",10203)}}const en=function(){return[]};function tn(e,a){if(1&e&&n.YNc(0,nn,15,6,"ng-container",13),2&e){const o=n.oxw();let t;n.Q6J("ngForOf",null!==(t=o.response.payorderinfos)&&void 0!==t?t:n.DdM(1,en))}}let on=(()=>{var e;class a{constructor(){this.APP_ROUTE=_.z,this.paging={page:1,limit:20,active:!0},this.response={}}ngOnInit(){this.refreshData()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}onIonInfiniteScroll(t){this.loadMore(()=>{t.target.complete()})}refreshData(t){this.paging.page=1,this.paging.active=!0,this.loadData_Paging(t,!0)}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}loadData_Paging(t,i){var s;(0,F.Sz)({loading:r=>{this.response.loading=r},params:{userid:null===(s=this.user)||void 0===s?void 0:s.userid,page:this.paging.page,limit:this.paging.limit},callback:r=>{var u;this.response.payorderinfos=i?null!=r?r:[]:(null!==(u=this.response.payorderinfos)&&void 0!==u?u:[]).concat(null!=r?r:[]),(!(null!=r&&r.length)||(null==r?void 0:r.length)<this.paging.limit)&&(this.paging.active=!1),t&&t()}})}renderMoney(t){return(0,S.lb)(t,".")}renderDate(t,i){return U()(t).format(null!=i?i:"DD/MM/YYYY HH:mm")}}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-payment"]],inputs:{user:"user"},decls:28,vars:6,consts:[["slot","fixed",3,"ionRefresh"],[1,"table","table-hover"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],[3,"ionInfinite",4,"ngIf"],["templateLoading",""],["templateNoData",""],["templateYesData",""],[3,"ionInfinite"],[1,"text-center"],["name","dots","slot","center"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"href"],[1,"text-success"],[1,"text-danger"]],template:function(t,i){if(1&t&&(n.TgZ(0,"ion-refresher",0),n.NdJ("ionRefresh",function(r){return i.onIonRefresher(r)}),n._UZ(1,"ion-refresher-content"),n.qZA(),n.TgZ(2,"h5"),n._uU(3,"L\u1ecbch s\u1eed thanh to\xe1n"),n.qZA(),n.TgZ(4,"table",1)(5,"thead")(6,"tr")(7,"th"),n._uU(8,"#"),n.qZA(),n.TgZ(9,"th"),n._uU(10,"S\u1ed1 ti\u1ec1n giao d\u1ecbch"),n.qZA(),n.TgZ(11,"th"),n._uU(12,"Th\u1eddi gian"),n.qZA(),n.TgZ(13,"th"),n._uU(14,"M\xe3 \u0111\u01a1n h\xe0ng"),n.qZA(),n.TgZ(15,"th"),n._uU(16,"Tr\u1ea1ng th\xe1i"),n.qZA(),n._UZ(17,"th"),n.qZA()(),n.TgZ(18,"tbody"),n.YNc(19,$,1,0,"ng-container",2),n.qZA()(),n.YNc(20,G,1,0,"ng-container",3),n.YNc(21,W,2,0,"ion-infinite-scroll",4),n.YNc(22,H,2,0,"ng-template",null,5,n.W1O),n.YNc(24,z,1,1,"ng-template",null,6,n.W1O),n.YNc(26,tn,1,2,"ng-template",null,7,n.W1O)),2&t){const s=n.MAs(23),r=n.MAs(25),u=n.MAs(27);n.xp6(19),n.Q6J("ngIf",null==i.response.payorderinfos?null:i.response.payorderinfos.length)("ngIfThen",u)("ngIfElse",r),n.xp6(1),n.Q6J("ngIf",!1!==i.response.loading)("ngIfThen",s),n.xp6(1),n.Q6J("ngIf",i.paging.active)}},dependencies:[l.sg,l.O5,l.RF,l.n9,l.ED,c.ju,c.MB,c.nJ,c.Wo,c.PQ],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0}"]}),a})();function an(e,a){1&e&&n.GkF(0)}function rn(e,a){1&e&&n._UZ(0,"ion-spinner",13)}function sn(e,a){if(1&e&&(n.ynx(0),n._UZ(1,"app-user-info",16),n.BQk()),2&e){const o=n.oxw(2);n.xp6(1),n.Q6J("user",o.user)}}function pn(e,a){if(1&e&&(n.ynx(0),n._UZ(1,"app-user-membership",17),n.BQk()),2&e){const o=n.oxw(2);n.xp6(1),n.Q6J("user",o.user)("productpackageapplied",o.response.productpackageapplied)}}function cn(e,a){if(1&e&&(n.ynx(0),n._UZ(1,"app-user-payment",16),n.BQk()),2&e){const o=n.oxw(2);n.xp6(1),n.Q6J("user",o.user)}}function ln(e,a){if(1&e&&(n.ynx(0,14),n.YNc(1,sn,2,1,"ng-container",15),n.YNc(2,pn,2,2,"ng-container",15),n.YNc(3,cn,2,1,"ng-container",15),n.BQk()),2&e){const o=n.oxw();n.Q6J("ngSwitch",o.params.component),n.xp6(1),n.Q6J("ngSwitchCase","info"),n.xp6(1),n.Q6J("ngSwitchCase","membership"),n.xp6(1),n.Q6J("ngSwitchCase","payment")}}const un=[{path:"",component:(()=>{var e;class a{constructor(t,i,s){var r,u;if(this.router=t,this.activatedRoute=i,this.titleService=s,this.appsettings={},this.APP_ROUTE=_.z,this.params={},this.response={},this.params.component=null!==(r=i.snapshot.params.component)&&void 0!==r?r:"",this.params.to=null!==(u=i.snapshot.queryParamMap.get("to"))&&void 0!==u?u:"",this.params.to)t.navigate([_.z.USER.replace(":component",this.params.to)],{replaceUrl:!0});else switch(this.params.component){case"info":s.setTitle("Th\xf4ng tin t\xe0i kho\u1ea3n");break;case"membership":s.setTitle("G\xf3i h\u1ed9i vi\xean");break;case"payment":s.setTitle("L\u1ecbch s\u1eed thanh to\xe1n")}}ngOnInit(){var t=this;(0,T.Z)(function*(){t.appsettings=yield(0,x.H0)(),t.appsettings.madonvi&&(t.user=yield(0,g.R)(t.appsettings),t.refreshData())})()}refreshData(){var t;(0,d.nC)({loading:i=>{this.response.loading=i},params:{userid:null===(t=this.user)||void 0===t?void 0:t.userid},callback:i=>{this.response.productpackageapplied=i}})}swichComponent(t,i){this.params.component=i,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{to:i},queryParamsHandling:"merge",replaceUrl:!0})}}return(e=a).\u0275fac=function(t){return new(t||e)(n.Y36(m.F0),n.Y36(m.gz),n.Y36(v.Dx))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user"]],decls:30,vars:9,consts:[[3,"isFullWidth"],["when","md","contentId","main"],[1,"ion-no-padding"],["mode","ios"],[1,"font-weight-normal","text-muted"],[1,"text-dark"],["button","","detail","true","detail-icon","chevron-forward-outline",3,"click"],[3,"color"],["id","main",1,"ion-page"],[1,"ion-padding"],[4,"ngIf","ngIfThen","ngIfElse"],["templateLoading",""],["templateData",""],["name","dots"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"user"],[3,"user","productpackageapplied"]],template:function(t,i){if(1&t&&(n._UZ(0,"app-header",0),n.TgZ(1,"ion-content")(2,"ion-split-pane",1)(3,"ion-content",2)(4,"ion-list",3)(5,"ion-list-header")(6,"ion-label")(7,"span",4),n._uU(8,"Xin ch\xe0o "),n.TgZ(9,"b",5),n._uU(10),n.qZA(),n._uU(11,"."),n.qZA()()(),n.TgZ(12,"ion-item",6),n.NdJ("click",function(r){return i.swichComponent(r,"info")}),n.TgZ(13,"ion-label",7),n._uU(14,"Th\xf4ng tin t\xe0i kho\u1ea3n"),n.qZA()(),n.TgZ(15,"ion-item",6),n.NdJ("click",function(r){return i.swichComponent(r,"membership")}),n.TgZ(16,"ion-label",7),n._uU(17,"G\xf3i h\u1ed9i vi\xean"),n.qZA(),n.TgZ(18,"ion-badge"),n._uU(19),n.qZA()(),n.TgZ(20,"ion-item",6),n.NdJ("click",function(r){return i.swichComponent(r,"payment")}),n.TgZ(21,"ion-label",7),n._uU(22,"L\u1ecbch s\u1eed thanh to\xe1n"),n.qZA()()()(),n.TgZ(23,"div",8)(24,"ion-content",9),n.YNc(25,an,1,0,"ng-container",10),n.qZA()()()(),n.YNc(26,rn,1,0,"ng-template",null,11,n.W1O),n.YNc(28,ln,4,4,"ng-template",null,12,n.W1O)),2&t){const s=n.MAs(27),r=n.MAs(29);n.Q6J("isFullWidth",!0),n.xp6(10),n.Oqu(null==i.user?null:i.user.fullname),n.xp6(3),n.Q6J("color","info"==i.params.component?"tertiary":""),n.xp6(3),n.Q6J("color","membership"==i.params.component?"tertiary":""),n.xp6(3),n.Oqu(null==i.response.productpackageapplied?null:i.response.productpackageapplied.productpackage_key),n.xp6(2),n.Q6J("color","payment"==i.params.component?"tertiary":""),n.xp6(4),n.Q6J("ngIf",!1!==i.response.loading)("ngIfThen",s)("ngIfElse",r)}},dependencies:[l.O5,l.RF,l.n9,c.yp,c.W2,c.Ie,c.Q$,c.q_,c.yh,c.PQ,c.jI,y.G,C,B,on],styles:["ion-split-pane[_ngcontent-%COMP%]{--side-max-width: 360px}"]}),a})()}];let _n=(()=>{var e;class a{}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[m.Bz.forChild(un),m.Bz]}),a})();var gn=p(9074);let mn=(()=>{var e;class a{}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.ez,h.u5,c.Pc,_n,gn.V]}),a})()},5511:(Z,f,p)=>{p.d(f,{R:()=>x,v:()=>T});var l=p(5861),h=p(3377),c=p(2695),m=p(4459);const T=function(){var d=(0,l.Z)(function*(){return yield(0,h.iA)()});return function(){return d.apply(this,arguments)}}(),x=function(){var d=(0,l.Z)(function*(g){let _=null!=g?g:yield(0,m.H0)(),n=yield(0,h.iA)();return(!_.madonvi||!n.userid||_.madonvi!=(null==n?void 0:n.madonvi))&&window.location.replace(c.z.LANDING_PAGE+`?require=signin&returnurl=${encodeURIComponent(window.location.href)}`),n});return function(_){return d.apply(this,arguments)}}()}}]);