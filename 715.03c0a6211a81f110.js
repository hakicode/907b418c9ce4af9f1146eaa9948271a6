"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[715],{3377:(T,M,c)=>{c.d(M,{Kr:()=>t,LE:()=>C,iA:()=>o,lL:()=>p});var b=c(5861),s=c(2014),P=c(4459);const f=new s.K({name:"_userDB",driverOrder:[s.N.IndexedDB,s.N.LocalStorage]}),o=function(){var v=(0,b.Z)(function*(e){yield f.create();try{var n=(yield f.get("user-local"))||{};return"function"==typeof(null==e?void 0:e.callback)&&e.callback(Object.assign({},n||{})),n}catch(g){"function"==typeof(null==e?void 0:e.callback)&&e.callback(),console.error(g)}return{}});return function(n){return v.apply(this,arguments)}}(),t=function(){var v=(0,b.Z)(function*(e){yield f.create(),e.params=e.params||{};try{var n=Object.assign({},e.params);yield f.set("user-local",n),"function"==typeof e.callback&&e.callback(Object.assign({},n||{}))}catch(g){"function"==typeof e.callback&&e.callback(),console.error(g)}});return function(n){return v.apply(this,arguments)}}(),p=function(){var v=(0,b.Z)(function*(e){return e&&(e.params={}),t(null!=e?e:{})});return function(n){return v.apply(this,arguments)}}(),C=function(){var v=(0,b.Z)(function*(e,n){let g=yield(0,P.H0)();if(n){let x=[];e.params.profilephoto&&x.push(new Promise((m,O)=>{let d=new Image;d.onload=()=>{e.params.url_profilephoto=d.src,m(1)},d.onerror=()=>{e.params.url_profilephoto="assets/image/user-avatar-default.png",m(0)},d.src=g.readfileuploadurl+e.params.profilephoto})),e.params.banner&&x.push(new Promise((m,O)=>{let d=new Image;d.onload=()=>{e.params.url_banner=d.src,m(1)},d.onerror=()=>{e.params.url_banner="assets/image/user-banner-default.png",m(0)},d.src=g.readfileuploadurl+e.params.banner})),x.length>0?Promise.all(x).then(()=>{t(e)}):t(e)}else o({callback:x=>{if(x){let m=[];e.params.profilephoto&&m.push(new Promise((O,d)=>{let h=new Image;h.onload=()=>{e.params.url_profilephoto=h.src,O(1)},h.onerror=()=>{e.params.url_profilephoto="assets/image/user-avatar-default.png",O(0)},h.src=g.readfileuploadurl+e.params.profilephoto})),e.params.banner&&m.push(new Promise((O,d)=>{let h=new Image;h.onload=()=>{e.params.url_banner=h.src,O(1)},h.onerror=()=>{e.params.url_banner="assets/image/user-banner-default.png",O(0)},h.src=g.readfileuploadurl+e.params.banner})),m.length>0?Promise.all(m).then(()=>{t({params:Object.assign({},x,e.params),callback:e.callback})}):t({params:Object.assign({},x,e.params),callback:e.callback})}else"function"==typeof e.callback&&e.callback()}})});return function(n,g){return v.apply(this,arguments)}}()},715:(T,M,c)=>{c.r(M),c.d(M,{UserActivePageModule:()=>I});var b=c(6814),s=c(6223),P=c(3536),f=c(6916),o=c(5861),t=c(8662),p=c(4459),C=c(5328),A=c(3377),y=c(2695),v=c(9455),e=c(8186),n=c(5879),g=c(6593),x=c(3999);function m(a,u){if(1&a){const i=n.EpF();n.ynx(0),n.TgZ(1,"h4"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"p",8)(5,"span"),n._uU(6),n.ALo(7,"translate"),n.qZA(),n._UZ(8,"br"),n.TgZ(9,"span"),n._uU(10),n.ALo(11,"translate"),n.TgZ(12,"a")(13,"b"),n._uU(14),n.qZA()(),n.TgZ(15,"span",9),n._uU(16),n.ALo(17,"translate"),n.qZA()(),n._UZ(18,"br"),n.TgZ(19,"span"),n._uU(20),n.ALo(21,"translate"),n.qZA()(),n.TgZ(22,"p",10)(23,"button",11),n.NdJ("click",function(){n.CHM(i);const l=n.oxw();return n.KtG(l.goToSignIn())}),n._uU(24),n.ALo(25,"translate"),n.qZA()(),n.BQk()}if(2&a){const i=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,7,"AccountActivationSuccessful")),n.xp6(4),n.hij("",n.lcZ(7,9,"WelcomeTo")," Tabca,"),n.xp6(4),n.hij("",n.lcZ(11,11,"Account")," "),n.xp6(4),n.Oqu(i.dataForm.emailaddr),n.xp6(2),n.Oqu(n.lcZ(17,13,"AlreadyActivated")),n.xp6(4),n.Oqu(n.lcZ(21,15,"LogInNowToExperienceTheProduct")),n.xp6(4),n.Oqu(n.lcZ(25,17,"SignIn"))}}function O(a,u){if(1&a&&(n.TgZ(0,"option",21),n._uU(1),n.qZA()),2&a){const i=u.$implicit;n.Q6J("value",i.madonvi),n.xp6(1),n.Oqu(i.tendv)}}const d=function(){return{standalone:!0}};function h(a,u){if(1&a){const i=n.EpF();n.TgZ(0,"div",14)(1,"label"),n._uU(2),n.ALo(3,"translate"),n.TgZ(4,"span"),n._uU(5,"*"),n.qZA()(),n.TgZ(6,"select",19),n.NdJ("ngModelChange",function(l){n.CHM(i);const _=n.oxw(2);return n.KtG(_.changeDonVi(l))}),n.YNc(7,O,2,2,"option",20),n.qZA()()}if(2&a){const i=n.oxw(2);n.xp6(2),n.hij("",n.lcZ(3,4,"Unit")," "),n.xp6(4),n.Q6J("ngModel",i.dataForm.madonvi)("ngModelOptions",n.DdM(6,d)),n.xp6(1),n.Q6J("ngForOf",i.configs)}}function Z(a,u){if(1&a&&(n.TgZ(0,"p",22)(1,"span"),n._uU(2),n.qZA()()),2&a){const i=n.oxw(2);n.xp6(2),n.Oqu(i.dataRes.returnmsg)}}function L(a,u){if(1&a){const i=n.EpF();n.ynx(0),n.TgZ(1,"h1"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"form",12),n.NdJ("submit",function(l){n.CHM(i);const _=n.oxw();return n.KtG(_.formSubmit(l))}),n.YNc(5,h,8,7,"div",13),n.TgZ(6,"div",14)(7,"label"),n._uU(8),n.ALo(9,"translate"),n.TgZ(10,"span"),n._uU(11,"*"),n.qZA()(),n._UZ(12,"input",15),n.qZA(),n.TgZ(13,"div",16)(14,"button",17),n._uU(15),n.ALo(16,"translate"),n.qZA()()(),n.YNc(17,Z,3,1,"p",18),n.BQk()}if(2&a){const i=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,6,"ActiveAccount")),n.xp6(3),n.Q6J("ngIf",i.configs.length>1),n.xp6(3),n.hij("",n.lcZ(9,8,"Email")," "),n.xp6(4),n.Q6J("ngModel",i.dataForm.emailaddr),n.xp6(3),n.Oqu(n.lcZ(16,10,"Confirm")),n.xp6(2),n.Q6J("ngIf",i.dataRes)}}const F=[{path:"",component:(()=>{var a;class u{constructor(r,l,_,U){this.router=r,this.activatedRoute=l,this.titleService=_,this.toastController=U,this.appsettings={},this.configs=[],this.dataForm={},_.setTitle("K\xedch ho\u1ea1t t\xe0i kho\u1ea3n")}ngOnInit(){var r=this;if(this.dataForm.emailaddr=this.activatedRoute.snapshot.queryParamMap.get("email")||"",this.dataForm.activationcode=this.activatedRoute.snapshot.queryParamMap.get("code")||"",!this.dataForm.emailaddr||!this.dataForm.activationcode)return this.backToHome();(0,o.Z)(function*(){(0,A.lL)({}),yield(0,p.rt)(),r.appsettings=yield(0,p.H0)(),r.dataForm.madonvi=r.appsettings.madonvi;let l=yield t.A.getId();r.dataForm.devicekey=null==l?void 0:l.identifier,r.configs=(yield(0,p.dV)())||[],r.configs&&r.configs.length?1==r.configs.length&&(r.dataForm.madonvi=r.configs[0].madonvi):r.dataForm.madonvi=v.default_donvi,r.dataForm.madonvi&&r.formSubmit()})()}backToHome(){window.location.replace(y.z.LANDING_PAGE)}goToSignIn(){window.location.replace(y.z.LANDING_PAGE+"?require=signin")}changeDonVi(r){var l=this;return(0,o.Z)(function*(){l.dataForm.madonvi=r})()}formSubmit(r){var l=this;return(0,o.Z)(function*(){null==r||r.preventDefault(),l.dataForm.emailaddr&&l.dataForm.activationcode&&(yield(0,p.TT)(l.dataForm.madonvi),(0,C.Es)({params:l.dataForm,callback:_=>{(0,e.B)(l.toastController,{},_).then(U=>{U.onDidDismiss().then(E=>{0==(null==_?void 0:_.returncode)&&window.location.replace(y.z.LANDING_PAGE+"?require=signin")}),U.present()})}}))})()}}return(a=u).\u0275fac=function(r){return new(r||a)(n.Y36(f.F0),n.Y36(f.gz),n.Y36(g.Dx),n.Y36(P.yF))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-user-active"]],decls:9,vars:2,consts:[["scroll-x","false","scroll-y","false"],["slot","fixed","vertical","top","horizontal","start"],["size","small",3,"click"],["name","arrow-back-outline"],[1,"container-main","overflow-auto","d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"container-form"],["src","../../../../assets/image/logo.svg","alt","Tabca"],[4,"ngIf"],[1,"text-left"],[1,"text-lowercase"],[1,"mt-4","mb-3"],["type","button",1,"btn","btn-sign-in",3,"click"],[3,"submit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","placeholder","your-email@email.com","readonly","",1,"form-control",3,"ngModel"],[1,"form-group","mt-5"],["type","submit",1,"btn"],["class","text-danger",4,"ngIf"],["interface","popover","justify","end",1,"custom-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"]],template:function(r,l){1&r&&(n.TgZ(0,"ion-content",0)(1,"ion-fab",1)(2,"ion-fab-button",2),n.NdJ("click",function(){return l.backToHome()}),n._UZ(3,"ion-icon",3),n.qZA()(),n.TgZ(4,"div",4)(5,"div",5),n._UZ(6,"img",6),n.YNc(7,m,26,19,"ng-container",7),n.YNc(8,L,18,12,"ng-container",7),n.qZA()()()),2&r&&(n.xp6(7),n.Q6J("ngIf",0==(null==l.dataRes?null:l.dataRes.returncode)),n.xp6(1),n.Q6J("ngIf",0!=(null==l.dataRes?null:l.dataRes.returncode)))},dependencies:[b.sg,b.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,P.W2,P.IJ,P.W4,P.gu,x.X$],styles:[".container-main[_ngcontent-%COMP%]{padding:.5rem;background-image:url(bg-join-and-share.d53a3207da518edb.png);background-repeat:no-repeat;background-size:cover;background-position:center center}.container-form[_ngcontent-%COMP%]{width:420px;padding:2rem 2rem 1rem;margin:auto;border-radius:10px;background:#fff;box-shadow:0 0 20px #00000026}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{margin:1rem 0 .5rem;font-size:20px;font-weight:500;line-height:26px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   button.btn-sign-in[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background-color:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),u})()}];let k=(()=>{var a;class u{}return(a=u).\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[f.Bz.forChild(F),f.Bz]}),u})();var D=c(2630);let I=(()=>{var a;class u{}return(a=u).\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[b.ez,s.u5,P.Pc,k,D.L]}),u})()},8186:(T,M,c)=>{c.d(M,{B:()=>s});var b=c(5861);const s=function(){var P=(0,b.Z)(function*(f,o,t){var p,C,A;t&&(o.message||(o.message=null!==(A=null==t?void 0:t.returnmsg)&&void 0!==A?A:0==(null==t?void 0:t.returncode)?"Th\xe0nh c\xf4ng!":null!=t&&t.returncode?`L\u1ed7i: #${null==t?void 0:t.returncode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!"),o.icon||(o.icon=0==(null==t?void 0:t.returncode)?"checkmark-circle-sharp":null!=t&&t.returncode?"alert-circle-outline":"close-circle-sharp"),o.color||(o.color=0==(null==t?void 0:t.returncode)?"success":null!=t&&t.returncode?"warning":"danger"));return o.position||(o.position="bottom"),o.icon||(o.icon="bulb-outline"),o.color||(o.color="secondary"),o.duration=null!==(p=o.duration)&&void 0!==p?p:3e3,o.animated=null===(C=o.animated)||void 0===C||C,o.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield f.create(o)});return function(o,t,p){return P.apply(this,arguments)}}()}}]);