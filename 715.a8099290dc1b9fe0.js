"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[715],{3377:(T,A,a)=>{a.d(A,{Kr:()=>t,LE:()=>d,iA:()=>c,lL:()=>f});var v=a(5861),s=a(2014),h=a(4459);const u=new s.K({name:"_userDB",driverOrder:[s.N.IndexedDB,s.N.LocalStorage]}),c=function(){var m=(0,v.Z)(function*(e){yield u.create();try{var n=(yield u.get("user-local"))||{};return"function"==typeof(null==e?void 0:e.callback)&&e.callback(Object.assign({},n||{})),n}catch(_){"function"==typeof(null==e?void 0:e.callback)&&e.callback(),console.error(_)}return{}});return function(n){return m.apply(this,arguments)}}(),t=function(){var m=(0,v.Z)(function*(e){yield u.create(),e.params=e.params||{};try{var n=Object.assign({},e.params);yield u.set("user-local",n),"function"==typeof e.callback&&e.callback(Object.assign({},n||{}))}catch(_){"function"==typeof e.callback&&e.callback(),console.error(_)}});return function(n){return m.apply(this,arguments)}}(),f=function(){var m=(0,v.Z)(function*(e){return e&&(e.params={}),t(null!=e?e:{})});return function(n){return m.apply(this,arguments)}}(),d=function(){var m=(0,v.Z)(function*(e,n){let _=yield(0,h.H0)();if(n){let O=[];e.params.profilephoto&&O.push(new Promise((P,C)=>{let p=new Image;p.onload=()=>{e.params.url_profilephoto=p.src,P(1)},p.onerror=()=>{e.params.url_profilephoto="assets/image/user-avatar-default.png",P(0)},p.src=_.readfileuploadurl+e.params.profilephoto})),e.params.banner&&O.push(new Promise((P,C)=>{let p=new Image;p.onload=()=>{e.params.url_banner=p.src,P(1)},p.onerror=()=>{e.params.url_banner="assets/image/user-banner-default.png",P(0)},p.src=_.readfileuploadurl+e.params.banner})),O.length>0?Promise.all(O).then(()=>{t(e)}):t(e)}else c({callback:O=>{if(O){let P=[];e.params.profilephoto&&P.push(new Promise((C,p)=>{let M=new Image;M.onload=()=>{e.params.url_profilephoto=M.src,C(1)},M.onerror=()=>{e.params.url_profilephoto="assets/image/user-avatar-default.png",C(0)},M.src=_.readfileuploadurl+e.params.profilephoto})),e.params.banner&&P.push(new Promise((C,p)=>{let M=new Image;M.onload=()=>{e.params.url_banner=M.src,C(1)},M.onerror=()=>{e.params.url_banner="assets/image/user-banner-default.png",C(0)},M.src=_.readfileuploadurl+e.params.banner})),P.length>0?Promise.all(P).then(()=>{t({params:Object.assign({},O,e.params),callback:e.callback})}):t({params:Object.assign({},O,e.params),callback:e.callback})}else"function"==typeof e.callback&&e.callback()}})});return function(n,_){return m.apply(this,arguments)}}()},9074:(T,A,a)=>{a.d(A,{V:()=>f});var v=a(6814),s=a(6223),h=a(3536),u=a(5470),c=a(2630),t=a(5879);let f=(()=>{var d;class x{}return(d=x).\u0275fac=function(m){return new(m||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[v.ez,s.u5,h.Pc,u.Z,c.L,u.Z,c.L]}),x})()},715:(T,A,a)=>{a.r(A),a.d(A,{UserActivePageModule:()=>I});var v=a(6814),s=a(6223),h=a(3536),u=a(6916),c=a(5861),t=a(8662),f=a(4459),d=a(5328),x=a(3377),U=a(2695),m=a(9455),e=a(8186),n=a(5879),_=a(6593),O=a(3999);function P(r,g){if(1&r){const i=n.EpF();n.ynx(0),n.TgZ(1,"h4"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"p",8)(5,"span"),n._uU(6),n.ALo(7,"translate"),n.qZA(),n._UZ(8,"br"),n.TgZ(9,"span"),n._uU(10),n.ALo(11,"translate"),n.TgZ(12,"a")(13,"b"),n._uU(14),n.qZA()(),n.TgZ(15,"span",9),n._uU(16),n.ALo(17,"translate"),n.qZA()(),n._UZ(18,"br"),n.TgZ(19,"span"),n._uU(20),n.ALo(21,"translate"),n.qZA()(),n.TgZ(22,"p",10)(23,"button",11),n.NdJ("click",function(){n.CHM(i);const l=n.oxw();return n.KtG(l.goToSignIn())}),n._uU(24),n.ALo(25,"translate"),n.qZA()(),n.BQk()}if(2&r){const i=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,7,"AccountActivationSuccessful")),n.xp6(4),n.hij("",n.lcZ(7,9,"WelcomeTo")," Tabca,"),n.xp6(4),n.hij("",n.lcZ(11,11,"Account")," "),n.xp6(4),n.Oqu(i.dataForm.emailaddr),n.xp6(2),n.Oqu(n.lcZ(17,13,"AlreadyActivated")),n.xp6(4),n.Oqu(n.lcZ(21,15,"LogInNowToExperienceTheProduct")),n.xp6(4),n.Oqu(n.lcZ(25,17,"LogIn"))}}function C(r,g){if(1&r&&(n.TgZ(0,"option",21),n._uU(1),n.qZA()),2&r){const i=g.$implicit;n.Q6J("value",i.madonvi),n.xp6(1),n.Oqu(i.tendv)}}const p=function(){return{standalone:!0}};function M(r,g){if(1&r){const i=n.EpF();n.TgZ(0,"div",14)(1,"label"),n._uU(2),n.ALo(3,"translate"),n.TgZ(4,"span"),n._uU(5,"*"),n.qZA()(),n.TgZ(6,"select",19),n.NdJ("ngModelChange",function(l){n.CHM(i);const b=n.oxw(2);return n.KtG(b.changeDonVi(l))}),n.YNc(7,C,2,2,"option",20),n.qZA()()}if(2&r){const i=n.oxw(2);n.xp6(2),n.hij("",n.lcZ(3,4,"Unit")," "),n.xp6(4),n.Q6J("ngModel",i.dataForm.madonvi)("ngModelOptions",n.DdM(6,p)),n.xp6(1),n.Q6J("ngForOf",i.configs)}}function Z(r,g){if(1&r&&(n.TgZ(0,"p",22)(1,"span"),n._uU(2),n.qZA()()),2&r){const i=n.oxw(2);n.xp6(2),n.Oqu(i.dataRes.returnmsg)}}function L(r,g){if(1&r){const i=n.EpF();n.ynx(0),n.TgZ(1,"h1"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"form",12),n.NdJ("submit",function(l){n.CHM(i);const b=n.oxw();return n.KtG(b.formSubmit(l))}),n.YNc(5,M,8,7,"div",13),n.TgZ(6,"div",14)(7,"label"),n._uU(8),n.ALo(9,"translate"),n.TgZ(10,"span"),n._uU(11,"*"),n.qZA()(),n._UZ(12,"input",15),n.qZA(),n.TgZ(13,"div",16)(14,"button",17),n._uU(15),n.ALo(16,"translate"),n.qZA()()(),n.YNc(17,Z,3,1,"p",18),n.BQk()}if(2&r){const i=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,6,"ActiveAccount")),n.xp6(3),n.Q6J("ngIf",i.configs.length>1),n.xp6(3),n.hij("",n.lcZ(9,8,"Email")," "),n.xp6(4),n.Q6J("ngModel",i.dataForm.emailaddr),n.xp6(3),n.Oqu(n.lcZ(16,10,"Confirm")),n.xp6(2),n.Q6J("ngIf",i.dataRes)}}const E=[{path:"",component:(()=>{var r;class g{constructor(o,l,b,y){this.router=o,this.activatedRoute=l,this.titleService=b,this.toastController=y,this.appsettings={},this.configs=[],this.dataForm={},b.setTitle("K\xedch ho\u1ea1t t\xe0i kho\u1ea3n")}ngOnInit(){var o=this;if(this.dataForm.emailaddr=this.activatedRoute.snapshot.queryParamMap.get("email")||"",this.dataForm.activationcode=this.activatedRoute.snapshot.queryParamMap.get("code")||"",!this.dataForm.emailaddr||!this.dataForm.activationcode)return this.backToHome();(0,c.Z)(function*(){(0,x.lL)({}),yield(0,f.rt)(),o.appsettings=yield(0,f.H0)(),o.dataForm.madonvi=o.appsettings.madonvi;let l=yield t.A.getId();o.dataForm.devicekey=null==l?void 0:l.identifier,o.configs=(yield(0,f.dV)())||[],o.configs&&o.configs.length?1==o.configs.length&&(o.dataForm.madonvi=o.configs[0].madonvi):o.dataForm.madonvi=m.default_donvi,o.dataForm.madonvi&&o.formSubmit()})()}backToHome(){window.location.replace(U.z.LANDING_PAGE)}goToSignIn(){window.location.replace(U.z.LANDING_PAGE+"?require=signin")}changeDonVi(o){var l=this;return(0,c.Z)(function*(){l.dataForm.madonvi=o})()}formSubmit(o){var l=this;return(0,c.Z)(function*(){null==o||o.preventDefault(),l.dataForm.emailaddr&&l.dataForm.activationcode&&(yield(0,f.TT)(l.dataForm.madonvi),(0,d.Es)({params:l.dataForm,callback:b=>{(0,e.B)(l.toastController,{},b).then(y=>{y.onDidDismiss().then(j=>{0==(null==b?void 0:b.returncode)&&window.location.replace(U.z.LANDING_PAGE+"?require=signin")}),y.present()})}}))})()}}return(r=g).\u0275fac=function(o){return new(o||r)(n.Y36(u.F0),n.Y36(u.gz),n.Y36(_.Dx),n.Y36(h.yF))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-user-active"]],decls:9,vars:2,consts:[["scroll-x","false","scroll-y","false"],["slot","fixed","vertical","top","horizontal","start"],["size","small",3,"click"],["name","arrow-back-outline"],[1,"container-main","overflow-auto","d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"container-form"],["src","../../../../assets/image/logo.svg","alt","Tabca"],[4,"ngIf"],[1,"text-left"],[1,"text-lowercase"],[1,"mt-4","mb-3"],["type","button",1,"btn","btn-sign-in",3,"click"],[3,"submit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","placeholder","your-email@email.com","readonly","",1,"form-control",3,"ngModel"],[1,"form-group","mt-5"],["type","submit",1,"btn"],["class","text-danger",4,"ngIf"],["interface","popover","justify","end",1,"custom-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"]],template:function(o,l){1&o&&(n.TgZ(0,"ion-content",0)(1,"ion-fab",1)(2,"ion-fab-button",2),n.NdJ("click",function(){return l.backToHome()}),n._UZ(3,"ion-icon",3),n.qZA()(),n.TgZ(4,"div",4)(5,"div",5),n._UZ(6,"img",6),n.YNc(7,P,26,19,"ng-container",7),n.YNc(8,L,18,12,"ng-container",7),n.qZA()()()),2&o&&(n.xp6(7),n.Q6J("ngIf",0==(null==l.dataRes?null:l.dataRes.returncode)),n.xp6(1),n.Q6J("ngIf",0!=(null==l.dataRes?null:l.dataRes.returncode)))},dependencies:[v.sg,v.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,h.W2,h.IJ,h.W4,h.gu,O.X$],styles:[".container-main[_ngcontent-%COMP%]{padding:.5rem;background-image:url(bg-join-and-share.d53a3207da518edb.png);background-repeat:no-repeat;background-size:cover;background-position:center center}.container-form[_ngcontent-%COMP%]{width:420px;padding:2rem 2rem 1rem;margin:auto;border-radius:10px;background:#fff;box-shadow:0 0 20px #00000026}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{margin:1rem 0 .5rem;font-size:20px;font-weight:500;line-height:26px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   button.btn-sign-in[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background-color:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),g})()}];let D=(()=>{var r;class g{}return(r=g).\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[u.Bz.forChild(E),u.Bz]}),g})();var F=a(9074);let I=(()=>{var r;class g{}return(r=g).\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[v.ez,s.u5,h.Pc,D,F.V]}),g})()},8186:(T,A,a)=>{a.d(A,{B:()=>s});var v=a(5861);const s=function(){var h=(0,v.Z)(function*(u,c,t){var f,d,x;t&&(c.message||(c.message=null!==(x=null==t?void 0:t.returnmsg)&&void 0!==x?x:0==(null==t?void 0:t.returncode)?"Th\xe0nh c\xf4ng!":null!=t&&t.returncode?`L\u1ed7i: #${null==t?void 0:t.returncode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!"),c.icon||(c.icon=0==(null==t?void 0:t.returncode)?"checkmark-circle-sharp":null!=t&&t.returncode?"alert-circle-outline":"close-circle-sharp"),c.color||(c.color=0==(null==t?void 0:t.returncode)?"success":null!=t&&t.returncode?"warning":"danger"));return c.position||(c.position="bottom"),c.icon||(c.icon="bulb-outline"),c.color||(c.color="secondary"),c.duration=null!==(f=c.duration)&&void 0!==f?f:3e3,c.animated=null===(d=c.animated)||void 0===d||d,c.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield u.create(c)});return function(c,t,f){return h.apply(this,arguments)}}()}}]);