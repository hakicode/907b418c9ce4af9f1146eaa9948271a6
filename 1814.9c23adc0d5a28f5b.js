"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1814],{2433:(Z,f,p)=>{p.r(f),p.d(f,{UserPageModule:()=>ge});var l=p(6814),h=p(95),c=p(3536),m=p(4487),T=p(5861),x=p(4459),d=p(203),g=p(5511),_=p(2695),e=p(9468),v=p(6593),y=p(2348);let C=(()=>{var n;class a{constructor(){this.APP_ROUTE=_.z}ngOnInit(){}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-info"]],inputs:{user:"user"},decls:9,vars:3,consts:[[1,"container","py-4"],["onerror","errorAvatar(this)",3,"src"],[1,"user-name","text-ellipsis","my-3"],[1,"text-center","mt-0","mb-1"],[1,"text-center","text-muted"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"ion-thumbnail"),e._UZ(2,"img",1),e.qZA(),e.TgZ(3,"div",2)(4,"h5",3)(5,"b"),e._uU(6),e.qZA()(),e.TgZ(7,"div",4),e._uU(8),e.qZA()()()),2&t){let s;e.xp6(2),e.Q6J("src",null!==(s=null==i.user?null:i.user.url_profilephoto)&&void 0!==s?s:"../../../assets/image/user-avatar-default.png",e.LSH),e.xp6(4),e.Oqu(null==i.user?null:i.user.fullname),e.xp6(2),e.Oqu(null==i.user?null:i.user.emailaddr)}},dependencies:[c.Bs],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 140px;--border-radius: 50%;margin:auto}"]}),a})();var A=p(6676),U=p.n(A),P=p(2654);function E(n,a){1&n&&e.GkF(0)}function I(n,a){1&n&&e.GkF(0)}function M(n,a){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"ion-spinner",7),e.qZA())}function Q(n,a){1&n&&(e.TgZ(0,"small",9),e._uU(1,"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u!"),e.qZA())}function k(n,a){if(1&n&&e.YNc(0,Q,2,0,"small",8),2&n){const o=e.oxw();e.Q6J("ngIf",!1===o.response.loading)}}function D(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1,"\xc1p d\u1ee5ng t\u1edbi "),e.TgZ(2,"b"),e._uU(3),e.qZA()()),2&n){const o=e.oxw(2);e.xp6(3),e.Oqu(o.renderDate(null==o.productpackageapplied?null:o.productpackageapplied.expirateddate,"DD/MM/YYYY"))}}function O(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-badge",15),e._uU(2),e.qZA(),e.BQk()),2&n){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.datavalue)}}function Y(n,a){1&n&&(e.ynx(0),e._UZ(1,"ion-icon",16),e.BQk())}function N(n,a){1&n&&(e.ynx(0),e._UZ(1,"ion-icon",17),e.BQk())}function J(n,a){if(1&n&&(e.ynx(0)(1,13),e.YNc(2,Y,2,0,"ng-container",14),e.YNc(3,N,2,0,"ng-container",14),e.BQk()()),2&n){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngSwitch",o.datavalue),e.xp6(1),e.Q6J("ngSwitchCase","1"),e.xp6(1),e.Q6J("ngSwitchCase","0")}}function w(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-badge",15),e._uU(2),e.qZA(),e.BQk()),2&n){const o=e.oxw().$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(t.renderTemplate(o.datavalue,o.template))}}function q(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-badge",15),e._uU(2),e.qZA(),e.BQk()),2&n){const o=e.oxw().$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(t.renderDate(o.datavalue))}}function b(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-item")(2,"ion-label"),e._uU(3),e.qZA(),e.ynx(4,13),e.YNc(5,O,3,1,"ng-container",14),e.YNc(6,J,4,3,"ng-container",14),e.YNc(7,w,3,1,"ng-container",14),e.YNc(8,q,3,1,"ng-container",14),e.BQk(),e.qZA(),e.BQk()),2&n){const o=a.$implicit;e.xp6(3),e.Oqu(o.productpackagecontent_title),e.xp6(1),e.Q6J("ngSwitch",o.v_datatype),e.xp6(1),e.Q6J("ngSwitchCase",800),e.xp6(1),e.Q6J("ngSwitchCase",801),e.xp6(1),e.Q6J("ngSwitchCase",802),e.xp6(1),e.Q6J("ngSwitchCase",803)}}function R(n,a){if(1&n&&(e.TgZ(0,"h3"),e._uU(1),e.qZA(),e.YNc(2,D,4,1,"p",10),e.TgZ(3,"ion-list",11),e.YNc(4,b,9,6,"ng-container",12),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.AsE("",null==o.productpackageapplied?null:o.productpackageapplied.productpackage_key," - ",null==o.productpackageapplied?null:o.productpackageapplied.productpackage_title,""),e.xp6(1),e.Q6J("ngIf",null==o.productpackageapplied?null:o.productpackageapplied.expirateddate),e.xp6(2),e.Q6J("ngForOf",o.filterData(o.response.productpackagecontents))}}let B=(()=>{var n;class a{constructor(){this.response={}}ngOnInit(){this.loadData()}onIonRefresher(t){this.loadData(()=>{t.target.complete()})}loadData(t){var i,s;(0,P.A)({loading:r=>{this.response.loading=r},params:{userid:null===(i=this.user)||void 0===i?void 0:i.userid,productpackage_id:null===(s=this.productpackageapplied)||void 0===s?void 0:s.productpackage_id},callback:r=>{var u;this.response.productpackagecontents=null!==(u=null==r?void 0:r.productpackagecontents)&&void 0!==u?u:[],t&&t()}})}filterData(t){var i;return null!==(i=null==t?void 0:t.filter(s=>s.iseffect))&&void 0!==i?i:[]}renderTemplate(t,i){return i?i.replace(/\{0\}/gm,null!=t?t:""):t}renderDate(t,i){return U()(t).format(null!=i?i:"DD/MM/YYYY HH:mm")}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-membership"]],inputs:{user:"user",productpackageapplied:"productpackageapplied"},decls:12,vars:5,consts:[["slot","fixed",3,"ionRefresh"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],["templateLoading",""],["templateNoData",""],["templateYesData",""],[1,"text-center"],["name","dots"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[4,"ngIf"],["mode","ios"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","end"],["slot","end","color","primary","name","checkmark-outline"],["slot","end","color","danger","name","close-outline"]],template:function(t,i){if(1&t&&(e.TgZ(0,"ion-refresher",0),e.NdJ("ionRefresh",function(r){return i.onIonRefresher(r)}),e._UZ(1,"ion-refresher-content"),e.qZA(),e.TgZ(2,"h5"),e._uU(3,"G\xf3i h\u1ed9i vi\xean \u0111ang \xe1p d\u1ee5ng"),e.qZA(),e.YNc(4,E,1,0,"ng-container",1),e.YNc(5,I,1,0,"ng-container",2),e.YNc(6,M,2,0,"ng-template",null,3,e.W1O),e.YNc(8,k,1,1,"ng-template",null,4,e.W1O),e.YNc(10,R,5,4,"ng-template",null,5,e.W1O)),2&t){const s=e.MAs(7),r=e.MAs(9),u=e.MAs(11);e.xp6(4),e.Q6J("ngIf",i.productpackageapplied)("ngIfThen",u)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",!1!==i.response.loading)("ngIfThen",s)}},dependencies:[l.sg,l.O5,l.RF,l.n9,c.yp,c.gu,c.Ie,c.Q$,c.q_,c.nJ,c.Wo,c.PQ]}),a})();var F=p(5844),S=p(1862);function $(n,a){1&n&&e.GkF(0)}function G(n,a){1&n&&e.GkF(0)}function W(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"ion-infinite-scroll",8),e.NdJ("ionInfinite",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onIonInfiniteScroll(i))}),e._UZ(1,"ion-infinite-scroll-content"),e.qZA()}}function H(n,a){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"ion-spinner",10),e.qZA())}function L(n,a){1&n&&(e.TgZ(0,"small",12),e._uU(1,"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u!"),e.qZA())}function z(n,a){if(1&n&&e.YNc(0,L,2,0,"small",11),2&n){const o=e.oxw();e.Q6J("ngIf",!1===o.response.loading)}}function K(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"a",18),e._uU(2),e.qZA(),e.BQk()),2&n){const o=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("href",t.APP_ROUTE.HOME_STATUS_PAYMENT+"?poi="+o.pay_orderid,e.LSH),e.xp6(1),e.Oqu(o.order_code)}}function j(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span",19),e._uU(2),e.qZA(),e.BQk()),2&n){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.v_feesstatus_name)}}function X(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span",20),e._uU(2),e.qZA(),e.BQk()),2&n){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.v_feesstatus_name)}}function V(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span",12),e._uU(2),e.qZA(),e.BQk()),2&n){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.v_feesstatus_name)}}function ee(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"td"),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,K,3,2,"ng-container",14),e.qZA(),e.TgZ(9,"td"),e.ynx(10,15),e.YNc(11,j,3,1,"ng-container",16),e.YNc(12,X,3,1,"ng-container",16),e.YNc(13,V,3,1,"ng-container",17),e.BQk(),e.qZA(),e._UZ(14,"td"),e.qZA(),e.BQk()),2&n){const o=a.$implicit,t=e.oxw(2);e.xp6(4),e.hij("",t.renderMoney(o.amount)," VN\u0110"),e.xp6(2),e.Oqu(t.renderDate(o.order_date)),e.xp6(2),e.Q6J("ngIf",o.order_code),e.xp6(2),e.Q6J("ngSwitch",o.v_feesstatus),e.xp6(1),e.Q6J("ngSwitchCase",10201),e.xp6(1),e.Q6J("ngSwitchCase",10203)}}const ne=function(){return[]};function te(n,a){if(1&n&&e.YNc(0,ee,15,6,"ng-container",13),2&n){const o=e.oxw();let t;e.Q6J("ngForOf",null!==(t=o.response.payorderinfos)&&void 0!==t?t:e.DdM(1,ne))}}let oe=(()=>{var n;class a{constructor(){this.APP_ROUTE=_.z,this.paging={page:1,limit:20,active:!0},this.response={}}ngOnInit(){this.refreshData()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}onIonInfiniteScroll(t){this.loadMore(()=>{t.target.complete()})}refreshData(t){this.paging.page=1,this.paging.active=!0,this.loadData_Paging(t,!0)}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}loadData_Paging(t,i){var s;(0,F.Sz)({loading:r=>{this.response.loading=r},params:{userid:null===(s=this.user)||void 0===s?void 0:s.userid,page:this.paging.page,limit:this.paging.limit},callback:r=>{var u;this.response.payorderinfos=i?null!=r?r:[]:(null!==(u=this.response.payorderinfos)&&void 0!==u?u:[]).concat(null!=r?r:[]),(!r||!r.length)&&(this.paging.active=!1),t&&t()}})}renderMoney(t){return(0,S.lb)(t,".")}renderDate(t,i){return U()(t).format(null!=i?i:"DD/MM/YYYY HH:mm")}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-payment"]],inputs:{user:"user"},decls:28,vars:6,consts:[["slot","fixed",3,"ionRefresh"],[1,"table","table-hover"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],[3,"ionInfinite",4,"ngIf"],["templateLoading",""],["templateNoData",""],["templateYesData",""],[3,"ionInfinite"],[1,"text-center"],["name","dots","slot","center"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"href"],[1,"text-success"],[1,"text-danger"]],template:function(t,i){if(1&t&&(e.TgZ(0,"ion-refresher",0),e.NdJ("ionRefresh",function(r){return i.onIonRefresher(r)}),e._UZ(1,"ion-refresher-content"),e.qZA(),e.TgZ(2,"h5"),e._uU(3,"L\u1ecbch s\u1eed thanh to\xe1n"),e.qZA(),e.TgZ(4,"table",1)(5,"thead")(6,"tr")(7,"th"),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"S\u1ed1 ti\u1ec1n giao d\u1ecbch"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Th\u1eddi gian"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"M\xe3 \u0111\u01a1n h\xe0ng"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Tr\u1ea1ng th\xe1i"),e.qZA(),e._UZ(17,"th"),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,$,1,0,"ng-container",2),e.qZA()(),e.YNc(20,G,1,0,"ng-container",3),e.YNc(21,W,2,0,"ion-infinite-scroll",4),e.YNc(22,H,2,0,"ng-template",null,5,e.W1O),e.YNc(24,z,1,1,"ng-template",null,6,e.W1O),e.YNc(26,te,1,2,"ng-template",null,7,e.W1O)),2&t){const s=e.MAs(23),r=e.MAs(25),u=e.MAs(27);e.xp6(19),e.Q6J("ngIf",null==i.response.payorderinfos?null:i.response.payorderinfos.length)("ngIfThen",u)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",!1!==i.response.loading)("ngIfThen",s),e.xp6(1),e.Q6J("ngIf",i.paging.active)}},dependencies:[l.sg,l.O5,l.RF,l.n9,l.ED,c.ju,c.MB,c.nJ,c.Wo,c.PQ],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0}"]}),a})();function ie(n,a){1&n&&e.GkF(0)}function ae(n,a){1&n&&e._UZ(0,"ion-spinner",13)}function re(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-info",16),e.BQk()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("user",o.user)}}function se(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-membership",17),e.BQk()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("user",o.user)("productpackageapplied",o.response.productpackageapplied)}}function pe(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-payment",16),e.BQk()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("user",o.user)}}function ce(n,a){if(1&n&&(e.ynx(0,14),e.YNc(1,re,2,1,"ng-container",15),e.YNc(2,se,2,2,"ng-container",15),e.YNc(3,pe,2,1,"ng-container",15),e.BQk()),2&n){const o=e.oxw();e.Q6J("ngSwitch",o.params.component),e.xp6(1),e.Q6J("ngSwitchCase","info"),e.xp6(1),e.Q6J("ngSwitchCase","membership"),e.xp6(1),e.Q6J("ngSwitchCase","payment")}}const le=[{path:"",component:(()=>{var n;class a{constructor(t,i,s){var r,u;if(this.router=t,this.activatedRoute=i,this.titleService=s,this.appsettings={},this.APP_ROUTE=_.z,this.params={},this.response={},this.params.component=null!==(r=i.snapshot.params.component)&&void 0!==r?r:"",this.params.to=null!==(u=i.snapshot.queryParamMap.get("to"))&&void 0!==u?u:"",this.params.to)t.navigate([_.z.USER.replace(":component",this.params.to)],{replaceUrl:!0});else switch(this.params.component){case"info":s.setTitle("Th\xf4ng tin t\xe0i kho\u1ea3n");break;case"membership":s.setTitle("G\xf3i h\u1ed9i vi\xean");break;case"payment":s.setTitle("L\u1ecbch s\u1eed thanh to\xe1n")}}ngOnInit(){var t=this;(0,T.Z)(function*(){t.appsettings=yield(0,x.H0)(),t.appsettings.madonvi&&(t.user=yield(0,g.R)(t.appsettings),t.refreshData())})()}refreshData(){var t;(0,d.nC)({loading:i=>{this.response.loading=i},params:{userid:null===(t=this.user)||void 0===t?void 0:t.userid},callback:i=>{this.response.productpackageapplied=i}})}swichComponent(t,i){this.params.component=i,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{to:i},queryParamsHandling:"merge",replaceUrl:!0})}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(v.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user"]],decls:30,vars:9,consts:[[3,"isFullWidth"],["when","md","contentId","main"],[1,"ion-no-padding"],["mode","ios"],[1,"font-weight-normal","text-muted"],[1,"text-dark"],["button","","detail","true","detail-icon","chevron-forward-outline",3,"click"],[3,"color"],["id","main",1,"ion-page"],[1,"ion-padding"],[4,"ngIf","ngIfThen","ngIfElse"],["templateLoading",""],["templateData",""],["name","dots"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"user"],[3,"user","productpackageapplied"]],template:function(t,i){if(1&t&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content")(2,"ion-split-pane",1)(3,"ion-content",2)(4,"ion-list",3)(5,"ion-list-header")(6,"ion-label")(7,"span",4),e._uU(8,"Xin ch\xe0o "),e.TgZ(9,"b",5),e._uU(10),e.qZA(),e._uU(11,"."),e.qZA()()(),e.TgZ(12,"ion-item",6),e.NdJ("click",function(r){return i.swichComponent(r,"info")}),e.TgZ(13,"ion-label",7),e._uU(14,"Th\xf4ng tin t\xe0i kho\u1ea3n"),e.qZA()(),e.TgZ(15,"ion-item",6),e.NdJ("click",function(r){return i.swichComponent(r,"membership")}),e.TgZ(16,"ion-label",7),e._uU(17,"G\xf3i h\u1ed9i vi\xean"),e.qZA(),e.TgZ(18,"ion-badge"),e._uU(19),e.qZA()(),e.TgZ(20,"ion-item",6),e.NdJ("click",function(r){return i.swichComponent(r,"payment")}),e.TgZ(21,"ion-label",7),e._uU(22,"L\u1ecbch s\u1eed thanh to\xe1n"),e.qZA()()()(),e.TgZ(23,"div",8)(24,"ion-content",9),e.YNc(25,ie,1,0,"ng-container",10),e.qZA()()()(),e.YNc(26,ae,1,0,"ng-template",null,11,e.W1O),e.YNc(28,ce,4,4,"ng-template",null,12,e.W1O)),2&t){const s=e.MAs(27),r=e.MAs(29);e.Q6J("isFullWidth",!0),e.xp6(10),e.Oqu(null==i.user?null:i.user.fullname),e.xp6(3),e.Q6J("color","info"==i.params.component?"tertiary":""),e.xp6(3),e.Q6J("color","membership"==i.params.component?"tertiary":""),e.xp6(3),e.Oqu(null==i.response.productpackageapplied?null:i.response.productpackageapplied.productpackage_key),e.xp6(2),e.Q6J("color","payment"==i.params.component?"tertiary":""),e.xp6(4),e.Q6J("ngIf",!1!==i.response.loading)("ngIfThen",s)("ngIfElse",r)}},dependencies:[l.O5,l.RF,l.n9,c.yp,c.W2,c.Ie,c.Q$,c.q_,c.yh,c.PQ,c.jI,y.G,C,B,oe],styles:["ion-split-pane[_ngcontent-%COMP%]{--side-max-width: 360px}"]}),a})()}];let ue=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(le),m.Bz]}),a})();var _e=p(9074);let ge=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,h.u5,c.Pc,ue,_e.V]}),a})()},5511:(Z,f,p)=>{p.d(f,{R:()=>x,v:()=>T});var l=p(5861),h=p(3377),c=p(2695),m=p(4459);const T=function(){var d=(0,l.Z)(function*(){return yield(0,h.iA)()});return function(){return d.apply(this,arguments)}}(),x=function(){var d=(0,l.Z)(function*(g){let _=null!=g?g:yield(0,m.H0)(),e=yield(0,h.iA)();return(!_.madonvi||!e.userid||_.madonvi!=(null==e?void 0:e.madonvi))&&window.location.replace(c.z.LANDING_PAGE+`?require=signin&returnurl=${encodeURIComponent(window.location.href)}`),e});return function(_){return d.apply(this,arguments)}}()}}]);