"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[752],{7308:(T,w,a)=>{a.d(w,{s:()=>m});const m={Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,Digit0:48,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Insert:45,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,ArrowUp:38,ArrowDown:40,ArrowLeft:37,ArrowRight:39,Escape:27,Tab:9,Backspace:8,Enter:13,Space:32,BracketLeft:219,BracketRight:221}},3377:(T,w,a)=>{a.d(w,{Kr:()=>t,LE:()=>d,iA:()=>l,lL:()=>b});var m=a(5861),c=a(2014),h=a(4459);const u=new c.K({name:"_userDB",driverOrder:[c.N.IndexedDB,c.N.LocalStorage]}),l=function(){var f=(0,m.Z)(function*(n){yield u.create();try{var s=(yield u.get("user-local"))||{};return"function"==typeof(null==n?void 0:n.callback)&&n.callback(Object.assign({},s||{})),s}catch(e){"function"==typeof(null==n?void 0:n.callback)&&n.callback(),console.error(e)}return{}});return function(s){return f.apply(this,arguments)}}(),t=function(){var f=(0,m.Z)(function*(n){yield u.create(),n.params=n.params||{};try{var s=Object.assign({},n.params);yield u.set("user-local",s),"function"==typeof n.callback&&n.callback(Object.assign({},s||{}))}catch(e){"function"==typeof n.callback&&n.callback(),console.error(e)}});return function(s){return f.apply(this,arguments)}}(),b=function(){var f=(0,m.Z)(function*(n){return n&&(n.params={}),t(null!=n?n:{})});return function(s){return f.apply(this,arguments)}}(),d=function(){var f=(0,m.Z)(function*(n,s){let e=yield(0,h.H0)();if(s){let O=[];n.params.profilephoto&&O.push(new Promise((P,U)=>{let g=new Image;g.onload=()=>{n.params.url_profilephoto=g.src,P(1)},g.onerror=()=>{n.params.url_profilephoto="assets/image/user-avatar-default.png",P(0)},g.src=e.readfileuploadurl+n.params.profilephoto})),n.params.banner&&O.push(new Promise((P,U)=>{let g=new Image;g.onload=()=>{n.params.url_banner=g.src,P(1)},g.onerror=()=>{n.params.url_banner="assets/image/user-banner-default.png",P(0)},g.src=e.readfileuploadurl+n.params.banner})),O.length>0?Promise.all(O).then(()=>{t(n)}):t(n)}else l({callback:O=>{if(O){let P=[];n.params.profilephoto&&P.push(new Promise((U,g)=>{let v=new Image;v.onload=()=>{n.params.url_profilephoto=v.src,U(1)},v.onerror=()=>{n.params.url_profilephoto="assets/image/user-avatar-default.png",U(0)},v.src=e.readfileuploadurl+n.params.profilephoto})),n.params.banner&&P.push(new Promise((U,g)=>{let v=new Image;v.onload=()=>{n.params.url_banner=v.src,U(1)},v.onerror=()=>{n.params.url_banner="assets/image/user-banner-default.png",U(0)},v.src=e.readfileuploadurl+n.params.banner})),P.length>0?Promise.all(P).then(()=>{t({params:Object.assign({},O,n.params),callback:n.callback})}):t({params:Object.assign({},O,n.params),callback:n.callback})}else"function"==typeof n.callback&&n.callback()}})});return function(s,e){return f.apply(this,arguments)}}()},9074:(T,w,a)=>{a.d(w,{V:()=>b});var m=a(6814),c=a(6223),h=a(3536),u=a(5470),l=a(2630),t=a(5879);let b=(()=>{var d;class C{}return(d=C).\u0275fac=function(f){return new(f||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[m.ez,c.u5,h.Pc,u.Z,l.L,u.Z,l.L]}),C})()},752:(T,w,a)=>{a.r(w),a.d(w,{UserSetPwdPageModule:()=>A});var m=a(6814),c=a(6223),h=a(3536),u=a(6916),l=a(5861),t=a(8662),b=a(7308),d=a(4459),C=a(5328),F=a(3377),f=a(2695),n=a(9455),s=a(8186),e=a(5879),O=a(6593),P=a(3999);function U(i,M){if(1&i&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&i){const p=M.$implicit;e.Q6J("value",p.madonvi),e.xp6(1),e.Oqu(p.tendv)}}const g=function(){return{standalone:!0}};function v(i,M){if(1&i){const p=e.EpF();e.TgZ(0,"div",9)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span"),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(p);const _=e.oxw();return e.KtG(_.changeDonVi(o))}),e.YNc(7,U,2,2,"option",16),e.qZA()()}if(2&i){const p=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,4,"Unit")," "),e.xp6(4),e.Q6J("ngModel",p.dataForm.madonvi)("ngModelOptions",e.DdM(6,g)),e.xp6(1),e.Q6J("ngForOf",p.configs)}}const D=[{path:"",component:(()=>{var i;class M{constructor(r,o,_,y){this.router=r,this.activatedRoute=o,this.titleService=_,this.toastController=y,this.appsettings={},this.configs=[],this.dataForm={},this.inputPwdType="password",_.setTitle("\u0110\u1eb7t m\u1eadt kh\u1ea9u m\u1edbi")}ngOnInit(){var r=this;if(this.dataForm.emailaddr=this.activatedRoute.snapshot.queryParamMap.get("email")||"",this.dataForm.forgotpwdcode=this.activatedRoute.snapshot.queryParamMap.get("code")||"",!this.dataForm.emailaddr||!this.dataForm.forgotpwdcode)return this.backToHome();(0,l.Z)(function*(){(0,F.lL)({}),yield(0,d.rt)(),r.appsettings=yield(0,d.H0)(),r.dataForm.madonvi=r.appsettings.madonvi;let o=yield t.A.getId();r.dataForm.devicekey=null==o?void 0:o.identifier,r.configs=(yield(0,d.dV)())||[],r.configs&&r.configs.length?1==r.configs.length&&(r.dataForm.madonvi=r.configs[0].madonvi):r.dataForm.madonvi=n.default_donvi})()}backToHome(){window.location.replace(f.z.LANDING_PAGE)}changeDonVi(r){var o=this;return(0,l.Z)(function*(){o.dataForm.madonvi=r})()}changeNewPwd(r){this.dataForm.newpwd=r}changeNewPwd2(r){this.dataForm.newpwd2=r}keypressPwd(r){(r.keyCode||r.which||r.charCode||0)==b.s.Enter&&this.formSubmit(r)}formSubmit(r){var o=this;return(0,l.Z)(function*(){r.preventDefault(),o.dataForm.emailaddr&&o.dataForm.forgotpwdcode&&o.dataForm.newpwd&&o.dataForm.newpwd==o.dataForm.newpwd2&&(yield(0,d.TT)(o.dataForm.madonvi),(0,C.xK)({params:o.dataForm,callback:_=>{(0,s.B)(o.toastController,{},_).then(y=>y.present()),0==(null==_?void 0:_.returncode)&&setTimeout(()=>{window.location.replace(f.z.LANDING_PAGE+"?require=signin")},3e3)}}))})()}}return(i=M).\u0275fac=function(r){return new(r||i)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(O.Dx),e.Y36(h.yF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-set-pwd"]],decls:37,vars:25,consts:[["scroll-x","false","scroll-y","false"],["slot","fixed","vertical","top","horizontal","start"],["size","small",3,"click"],["name","arrow-back-outline"],[1,"container-main","overflow-auto","d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"container-form"],["src","../../../../assets/image/logo.svg","alt","Tabca"],[3,"submit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","placeholder","your-email@email.com","readonly","",1,"form-control",3,"ngModel"],["type","password","name","newpwd","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","name","newpwd2","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModel","ngModelOptions","keypress","ngModelChange"],[1,"form-group","mt-5"],["type","submit",1,"btn"],["interface","popover","justify","end",1,"custom-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){1&r&&(e.TgZ(0,"ion-content",0)(1,"ion-fab",1)(2,"ion-fab-button",2),e.NdJ("click",function(){return o.backToHome()}),e._UZ(3,"ion-icon",3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.TgZ(7,"h1"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"form",7),e.NdJ("submit",function(y){return o.formSubmit(y)}),e.YNc(11,v,8,7,"div",8),e.TgZ(12,"div",9)(13,"label"),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"span"),e._uU(17,"*"),e.qZA()(),e._UZ(18,"input",10),e.qZA(),e.TgZ(19,"div",9)(20,"label"),e._uU(21),e.ALo(22,"translate"),e.TgZ(23,"span"),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"input",11),e.NdJ("ngModelChange",function(y){return o.changeNewPwd(y)}),e.qZA()(),e.TgZ(26,"div",9)(27,"label"),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"span"),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"input",12),e.NdJ("keypress",function(y){return o.keypressPwd(y)})("ngModelChange",function(y){return o.changeNewPwd2(y)}),e.qZA()(),e.TgZ(33,"div",13)(34,"button",14),e._uU(35),e.ALo(36,"translate"),e.qZA()()()()()()),2&r&&(e.xp6(8),e.Oqu(e.lcZ(9,13,"UpdatePassword")),e.xp6(3),e.Q6J("ngIf",o.configs.length>1),e.xp6(3),e.hij("",e.lcZ(15,15,"Email")," "),e.xp6(4),e.Q6J("ngModel",o.dataForm.emailaddr),e.xp6(3),e.hij("",e.lcZ(22,17,"NewPassword")," "),e.xp6(4),e.Q6J("ngModel",o.dataForm.newpwd)("ngModelOptions",e.DdM(23,g)),e.xp6(3),e.hij("",e.lcZ(29,19,"ConfirmPassword")," "),e.xp6(4),e.Tol(o.dataForm.newpwd&&o.dataForm.newpwd2?o.dataForm.newpwd==o.dataForm.newpwd2?"is-valid":"is-invalid":""),e.Q6J("ngModel",o.dataForm.newpwd2)("ngModelOptions",e.DdM(24,g)),e.xp6(3),e.Oqu(e.lcZ(36,21,"SetNewPassword")))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.wO,c.nD,c.On,c.F,h.W2,h.IJ,h.W4,h.gu,P.X$],styles:[".container-main[_ngcontent-%COMP%]{padding:.5rem;background-image:url(bg-join-and-share.d53a3207da518edb.png);background-repeat:no-repeat;background-size:cover;background-position:center center}.container-form[_ngcontent-%COMP%]{width:420px;padding:2rem 2rem 1rem;margin:auto;border-radius:10px;background:#fff;box-shadow:0 0 20px #00000026}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background-color:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),M})()}];let Z=(()=>{var i;class M{}return(i=M).\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(D),u.Bz]}),M})();var x=a(9074);let A=(()=>{var i;class M{}return(i=M).\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,c.u5,h.Pc,Z,x.V]}),M})()},8186:(T,w,a)=>{a.d(w,{B:()=>c});var m=a(5861);const c=function(){var h=(0,m.Z)(function*(u,l,t){var b,d,C;t&&(l.message||(l.message=null!==(C=null==t?void 0:t.returnmsg)&&void 0!==C?C:0==(null==t?void 0:t.returncode)?"Th\xe0nh c\xf4ng!":null!=t&&t.returncode?`L\u1ed7i: #${null==t?void 0:t.returncode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!"),l.icon||(l.icon=0==(null==t?void 0:t.returncode)?"checkmark-circle-sharp":null!=t&&t.returncode?"alert-circle-outline":"close-circle-sharp"),l.color||(l.color=0==(null==t?void 0:t.returncode)?"success":null!=t&&t.returncode?"warning":"danger"));return l.position||(l.position="bottom"),l.icon||(l.icon="bulb-outline"),l.color||(l.color="secondary"),l.duration=null!==(b=l.duration)&&void 0!==b?b:3e3,l.animated=null===(d=l.animated)||void 0===d||d,l.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield u.create(l)});return function(l,t,b){return h.apply(this,arguments)}}()}}]);