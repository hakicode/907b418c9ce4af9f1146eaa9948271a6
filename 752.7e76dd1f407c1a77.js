"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[752],{7308:(F,C,i)=>{i.d(C,{s:()=>m});const m={Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,Digit0:48,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Insert:45,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,ArrowUp:38,ArrowDown:40,ArrowLeft:37,ArrowRight:39,Escape:27,Tab:9,Backspace:8,Enter:13,Space:32}},3377:(F,C,i)=>{i.d(C,{Kr:()=>a,LE:()=>b,iA:()=>o,lL:()=>O});var m=i(5861),c=i(2014),y=i(4459);const f=new c.K({name:"_userDB",driverOrder:[c.N.IndexedDB,c.N.LocalStorage]}),o=function(){var p=(0,m.Z)(function*(n){yield f.create();try{var d=(yield f.get("user-local"))||{};return"function"==typeof(null==n?void 0:n.callback)&&n.callback(Object.assign({},d||{})),d}catch(e){"function"==typeof(null==n?void 0:n.callback)&&n.callback(),console.error(e)}return{}});return function(d){return p.apply(this,arguments)}}(),a=function(){var p=(0,m.Z)(function*(n){yield f.create(),n.params=n.params||{};try{var d=Object.assign({},n.params);yield f.set("user-local",d),"function"==typeof n.callback&&n.callback(Object.assign({},d||{}))}catch(e){"function"==typeof n.callback&&n.callback(),console.error(e)}});return function(d){return p.apply(this,arguments)}}(),O=function(){var p=(0,m.Z)(function*(n){return n&&(n.params={}),a(null!=n?n:{})});return function(d){return p.apply(this,arguments)}}(),b=function(){var p=(0,m.Z)(function*(n,d){let e=yield(0,y.H0)();if(d){let w=[];n.params.profilephoto&&w.push(new Promise((h,M)=>{let s=new Image;s.onload=()=>{n.params.url_profilephoto=s.src,h(1)},s.onerror=()=>{n.params.url_profilephoto="assets/image/user-avatar-default.png",h(0)},s.src=e.readfileuploadurl+n.params.profilephoto})),n.params.banner&&w.push(new Promise((h,M)=>{let s=new Image;s.onload=()=>{n.params.url_banner=s.src,h(1)},s.onerror=()=>{n.params.url_banner="assets/image/user-banner-default.png",h(0)},s.src=e.readfileuploadurl+n.params.banner})),w.length>0?Promise.all(w).then(()=>{a(n)}):a(n)}else o({callback:w=>{if(w){let h=[];n.params.profilephoto&&h.push(new Promise((M,s)=>{let _=new Image;_.onload=()=>{n.params.url_profilephoto=_.src,M(1)},_.onerror=()=>{n.params.url_profilephoto="assets/image/user-avatar-default.png",M(0)},_.src=e.readfileuploadurl+n.params.profilephoto})),n.params.banner&&h.push(new Promise((M,s)=>{let _=new Image;_.onload=()=>{n.params.url_banner=_.src,M(1)},_.onerror=()=>{n.params.url_banner="assets/image/user-banner-default.png",M(0)},_.src=e.readfileuploadurl+n.params.banner})),h.length>0?Promise.all(h).then(()=>{a({params:Object.assign({},w,n.params),callback:n.callback})}):a({params:Object.assign({},w,n.params),callback:n.callback})}else"function"==typeof n.callback&&n.callback()}})});return function(d,e){return p.apply(this,arguments)}}()},752:(F,C,i)=>{i.r(C),i.d(C,{UserSetPwdPageModule:()=>A});var m=i(6814),c=i(6223),y=i(3536),f=i(6916),o=i(5861),a=i(8662),O=i(7308),b=i(4459),U=i(5328),T=i(3377),p=i(2695),n=i(9455),d=i(8186),e=i(5879),w=i(6593),h=i(3999);function M(l,P){if(1&l&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&l){const g=P.$implicit;e.Q6J("value",g.madonvi),e.xp6(1),e.Oqu(g.tendv)}}const s=function(){return{standalone:!0}};function _(l,P){if(1&l){const g=e.EpF();e.TgZ(0,"div",9)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span"),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",15),e.NdJ("ngModelChange",function(r){e.CHM(g);const u=e.oxw();return e.KtG(u.changeDonVi(r))}),e.YNc(7,M,2,2,"option",16),e.qZA()()}if(2&l){const g=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,4,"Unit")," "),e.xp6(4),e.Q6J("ngModel",g.dataForm.madonvi)("ngModelOptions",e.DdM(6,s)),e.xp6(1),e.Q6J("ngForOf",g.configs)}}const Z=[{path:"",component:(()=>{var l;class P{constructor(t,r,u,v){this.router=t,this.activatedRoute=r,this.titleService=u,this.toastController=v,this.appsettings={},this.configs=[],this.dataForm={},this.inputPwdType="password",u.setTitle("\u0110\u1eb7t m\u1eadt kh\u1ea9u m\u1edbi")}ngOnInit(){var t=this;if(this.dataForm.emailaddr=this.activatedRoute.snapshot.queryParamMap.get("email")||"",this.dataForm.forgotpwdcode=this.activatedRoute.snapshot.queryParamMap.get("code")||"",!this.dataForm.emailaddr||!this.dataForm.forgotpwdcode)return this.backToHome();(0,o.Z)(function*(){(0,T.lL)({}),yield(0,b.rt)(),t.appsettings=yield(0,b.H0)(),t.dataForm.madonvi=t.appsettings.madonvi;let r=yield a.A.getId();t.dataForm.devicekey=null==r?void 0:r.identifier,t.configs=(yield(0,b.dV)())||[],t.configs&&t.configs.length?1==t.configs.length&&(t.dataForm.madonvi=t.configs[0].madonvi):t.dataForm.madonvi=n.default_donvi})()}backToHome(){window.location.replace(p.z.LANDING_PAGE)}changeDonVi(t){var r=this;return(0,o.Z)(function*(){r.dataForm.madonvi=t})()}changeNewPwd(t){this.dataForm.newpwd=t}changeNewPwd2(t){this.dataForm.newpwd2=t}keypressPwd(t){(t.keyCode||t.which||t.charCode||0)==O.s.Enter&&this.formSubmit(t)}formSubmit(t){var r=this;return(0,o.Z)(function*(){t.preventDefault(),r.dataForm.emailaddr&&r.dataForm.forgotpwdcode&&r.dataForm.newpwd&&r.dataForm.newpwd==r.dataForm.newpwd2&&(yield(0,b.TT)(r.dataForm.madonvi),(0,U.xK)({params:r.dataForm,callback:u=>{(0,d.B)(r.toastController,{},u).then(v=>v.present()),0==(null==u?void 0:u.returncode)&&setTimeout(()=>{window.location.replace(p.z.LANDING_PAGE+"?require=signin")},3e3)}}))})()}}return(l=P).\u0275fac=function(t){return new(t||l)(e.Y36(f.F0),e.Y36(f.gz),e.Y36(w.Dx),e.Y36(y.yF))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-user-set-pwd"]],decls:37,vars:25,consts:[["scroll-x","false","scroll-y","false"],["slot","fixed","vertical","top","horizontal","start"],["size","small",3,"click"],["name","arrow-back-outline"],[1,"container-main","overflow-auto","d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"container-form"],["src","../../../../assets/image/logo.svg","alt","Tabca"],[3,"submit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","placeholder","your-email@email.com","readonly","",1,"form-control",3,"ngModel"],["type","password","name","newpwd","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","name","newpwd2","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModel","ngModelOptions","keypress","ngModelChange"],[1,"form-group","mt-5"],["type","submit",1,"btn"],["interface","popover","justify","end",1,"custom-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-content",0)(1,"ion-fab",1)(2,"ion-fab-button",2),e.NdJ("click",function(){return r.backToHome()}),e._UZ(3,"ion-icon",3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.TgZ(7,"h1"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"form",7),e.NdJ("submit",function(v){return r.formSubmit(v)}),e.YNc(11,_,8,7,"div",8),e.TgZ(12,"div",9)(13,"label"),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"span"),e._uU(17,"*"),e.qZA()(),e._UZ(18,"input",10),e.qZA(),e.TgZ(19,"div",9)(20,"label"),e._uU(21),e.ALo(22,"translate"),e.TgZ(23,"span"),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"input",11),e.NdJ("ngModelChange",function(v){return r.changeNewPwd(v)}),e.qZA()(),e.TgZ(26,"div",9)(27,"label"),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"span"),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"input",12),e.NdJ("keypress",function(v){return r.keypressPwd(v)})("ngModelChange",function(v){return r.changeNewPwd2(v)}),e.qZA()(),e.TgZ(33,"div",13)(34,"button",14),e._uU(35),e.ALo(36,"translate"),e.qZA()()()()()()),2&t&&(e.xp6(8),e.Oqu(e.lcZ(9,13,"SetANewPassword")),e.xp6(3),e.Q6J("ngIf",r.configs.length>1),e.xp6(3),e.hij("",e.lcZ(15,15,"Email")," "),e.xp6(4),e.Q6J("ngModel",r.dataForm.emailaddr),e.xp6(3),e.hij("",e.lcZ(22,17,"NewPassword")," "),e.xp6(4),e.Q6J("ngModel",r.dataForm.newpwd)("ngModelOptions",e.DdM(23,s)),e.xp6(3),e.hij("",e.lcZ(29,19,"ConfirmPassword")," "),e.xp6(4),e.Tol(r.dataForm.newpwd&&r.dataForm.newpwd2?r.dataForm.newpwd==r.dataForm.newpwd2?"is-valid":"is-invalid":""),e.Q6J("ngModel",r.dataForm.newpwd2)("ngModelOptions",e.DdM(24,s)),e.xp6(3),e.Oqu(e.lcZ(36,21,"Confirm")))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.wO,c.nD,c.On,c.F,y.W2,y.IJ,y.W4,y.gu,h.X$],styles:[".container-main[_ngcontent-%COMP%]{padding:.5rem;background-image:url(bg-join-and-share.d53a3207da518edb.png);background-repeat:no-repeat;background-size:cover;background-position:center center}.container-form[_ngcontent-%COMP%]{width:420px;padding:2rem 2rem 1rem;margin:auto;border-radius:10px;background:#fff;box-shadow:0 0 20px #00000026}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background-color:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),P})()}];let x=(()=>{var l;class P{}return(l=P).\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[f.Bz.forChild(Z),f.Bz]}),P})();var D=i(2630);let A=(()=>{var l;class P{}return(l=P).\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[m.ez,c.u5,y.Pc,x,D.L]}),P})()},8186:(F,C,i)=>{i.d(C,{B:()=>c});var m=i(5861);const c=function(){var y=(0,m.Z)(function*(f,o,a){var O,b,U;a&&(o.message||(o.message=null!==(U=null==a?void 0:a.returnmsg)&&void 0!==U?U:0==(null==a?void 0:a.returncode)?"Th\xe0nh c\xf4ng!":null!=a&&a.returncode?`L\u1ed7i: #${null==a?void 0:a.returncode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!"),o.icon||(o.icon=0==(null==a?void 0:a.returncode)?"checkmark-circle-sharp":null!=a&&a.returncode?"alert-circle-outline":"close-circle-sharp"),o.color||(o.color=0==(null==a?void 0:a.returncode)?"success":null!=a&&a.returncode?"warning":"danger"));return o.position||(o.position="bottom"),o.icon||(o.icon="bulb-outline"),o.color||(o.color="secondary"),o.duration=null!==(O=o.duration)&&void 0!==O?O:3e3,o.animated=null===(b=o.animated)||void 0===b||b,o.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield f.create(o)});return function(o,a,O){return y.apply(this,arguments)}}()}}]);