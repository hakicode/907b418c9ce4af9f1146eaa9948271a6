(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5453],{1814:(Ne,Vt,w)=>{"use strict";w.d(Vt,{In:()=>ut,MA:()=>G,Mo:()=>st,NV:()=>R,S3:()=>P,dt:()=>J,h8:()=>b,k0:()=>O});const P={fill:"transparent",stroke:"#129bff",strokeWidth:1},R={stroke:"#5F6CE1",strokeWidth:1,strokeLinecap:"round",strokeDasharrays:[4,2,1,2]},ut={fill:"#FFFFFF",stroke:"#5F6CE1",strokeWidth:1,width:7,height:7},st={fill:"transparent",stroke:"transparent",strokeWidth:1},J={fill:"none",stroke:"#5F6CE1",strokeWidth:1},b={stroke:"#129bff",strokeWidth:1,strokeLinecap:"round",strokeDasharray:8},G={fill:"transparent"},O={fill:"none",stroke:"#999",strokeWidth:1,strokeDasharray:2}},644:(Ne,Vt,w)=>{"use strict";w.d(Vt,{Dx:()=>J,aY:()=>O,qp:()=>G,qz:()=>st,sV:()=>b,yR:()=>K});var P=w(5861),R=w(2014);const ut=new R.K({name:"_localDataDB",driverOrder:[R.N.IndexedDB,R.N.LocalStorage]}),st=function(){var k=(0,P.Z)(function*(L){yield ut.create();var lt=(yield ut.get("icdt-data"))||[];"function"==typeof L.callback&&L.callback(lt)});return function(lt){return k.apply(this,arguments)}}(),J=function(){var k=(0,P.Z)(function*(L){yield ut.create(),L.params=L.params||{};try{yield ut.set("icdt-data",L.params),"function"==typeof L.callback&&L.callback(L.params)}catch(lt){"function"==typeof L.callback&&L.callback(null),console.error(lt)}});return function(lt){return k.apply(this,arguments)}}(),b=function(){var k=(0,P.Z)(function*(L){yield ut.create();try{var lt=(yield ut.get("icdt-config"))||{};"function"==typeof L.callback&&L.callback(lt)}catch(Ot){"function"==typeof L.callback&&L.callback(null),console.error(Ot)}});return function(lt){return k.apply(this,arguments)}}(),G=function(){var k=(0,P.Z)(function*(L){yield ut.create(),L.params=L.params||{};try{yield ut.set("icdt-config",L.params),"function"==typeof L.callback&&L.callback(L.params)}catch(lt){"function"==typeof L.callback&&L.callback(null),console.error(lt)}});return function(lt){return k.apply(this,arguments)}}(),O=function(){var k=(0,P.Z)(function*(L){yield ut.create();try{var lt=(yield ut.get("icdt-clipboard"))||{};"function"==typeof L.callback&&L.callback(lt)}catch(Ot){"function"==typeof L.callback&&L.callback(null),console.error(Ot)}});return function(lt){return k.apply(this,arguments)}}(),K=function(){var k=(0,P.Z)(function*(L){yield ut.create(),L.params=L.params||{};try{yield ut.set("icdt-clipboard",L.params),"function"==typeof L.callback&&L.callback(L.params)}catch(lt){"function"==typeof L.callback&&L.callback(null),console.error(lt)}});return function(lt){return k.apply(this,arguments)}}()},1687:(Ne,Vt,w)=>{"use strict";w.d(Vt,{O:()=>P});const P={RESIZE_GROUP:"icdt-resize-g",SELECT_GROUP:"icdt-select-g",SCAN_GROUP:"icdt-scan-g",CREATE_GROUP:"icdt-create-g",INTERACTIVE_GROUP:"icdt-interactive-g",INDEX_GROUP:"icdt-index-g",BACKGROUND_GROUP:"icdt-background-g",TEST_GROUP:"icdt-test-g"}},7308:(Ne,Vt,w)=>{"use strict";w.d(Vt,{s:()=>P});const P={Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,Digit0:48,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Insert:45,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,ArrowUp:38,ArrowDown:40,ArrowLeft:37,ArrowRight:39,Escape:27,Tab:9,Backspace:8,Enter:13,Space:32}},9125:(Ne,Vt,w)=>{"use strict";w.d(Vt,{D:()=>P});const P={DRAW:1,HIGHTLIGH:2,INTERACTIVE:3}},968:(Ne,Vt,w)=>{"use strict";w.d(Vt,{_:()=>P});const P={POINTER:0,HAND:1,PEN:2,SHAPE:3,FOREIGNOBJECT:6,IMAGE:7,TEXT:4,ERASER:5,INDEX:8}},4714:(Ne,Vt,w)=>{"use strict";w.d(Vt,{D:()=>P});const P={TRIANGLE_ISOSCELES:3,TRIANGLE_EQUILATERAL:31,RECTANGLE:4,PENTAGON:5,HEXAGON:6,BOOKMARK:101,COMMENT:102,CROSS:104,ARROW_ONEWAY:201,ARROW_TWOWAY:202,STAR_FOUR:304,STAR_FIVE:305,STAR_SIX:306}},9054:(Ne,Vt,w)=>{"use strict";w.d(Vt,{$:()=>P});const P={GROUP:0,CIRCLE:1,ELLIPSE:2,LINE:5,RECT:3,POLYGON:4,FOREIGNOBJECT:6,IMAGE:9,TEXT:7,PATH:8}},4981:(Ne,Vt,w)=>{"use strict";w.d(Vt,{icdt:()=>Bt});var P=w(2276),R=w(968),ut=w(4080),st=w(1687),J=w(9054),b=w(4318),G=w(6816),O=w(666),K=w(2966);const lt=U=>{var l,d,s;let f=(null===(l=U.mouseEvent)||void 0===l?void 0:l.target)||(null===(d=U.touchEvent)||void 0===d?void 0:d.target),p=(null==f?void 0:f.getAttribute("id"))||"",C=null==f?void 0:f.nodeName,I=(null==f||null===(s=f.parentNode)||void 0===s?void 0:s.getAttribute("id"))||"";var M,Y;if([st.O.RESIZE_GROUP,st.O.SELECT_GROUP].includes(I))return null===(M=U.mouseEvent)||void 0===M||M.stopPropagation(),void(null===(Y=U.mouseEvent)||void 0===Y||Y.preventDefault());if(p&&!p.match(/[^0-9]/)&&Bt.dataSelect.nodeName.includes(C)){var et,Q;let ct=parseFloat(p||"0");Bt.dataSelect.ids=null!==(et=U.mouseEvent)&&void 0!==et&&et.shiftKey||null!==(Q=U.touchEvent)&&void 0!==Q&&Q.shiftKey?[ct].concat(Bt.dataSelect.ids).filter((bt,de,me)=>me.indexOf(bt)==de):[ct];let _t=Bt.dataSelect.nodes;_t.length>1||1==_t.length&&_t[0].type==J.$.PATH?(0,K.Q)(_t):1==_t.length&&(0,O.y)(_t[0])}else{var A;Bt.dataSelect.ids.length&&(Bt.dataSelect.ids=[]),(0==(null===(A=U.mouseEvent)||void 0===A?void 0:A.button)||U.touchEvent)&&(U=>{let p=(0,ut.g1)(st.O.SCAN_GROUP,"g"),C=(0,b.bH)(0,0,1,1);(0,ut.vl)(p,C),((U,l,d)=>{(0,G.A)(U,{start:p=>{},move:(p,C)=>{((p,C,I,M)=>{l=(0,b.bH)(p,C,I,M),(0,ut.vl)(d,l)})(C[0][0],C[0][1],p.x,p.y)},end:(p,C)=>{null==d||d.remove(),Bt.dataSelect.ids=Bt.data.getNodeInArea(Math.min(C[0][0],p.x),Math.min(C[0][1],p.y),Math.max(C[0][0],p.x),Math.max(C[0][1],p.y));let I=Bt.dataSelect.nodes;1==I.length?(0,O.y)(I[0]):I.length>1&&(0,K.Q)(I)}})})(U,C,p)})(U)}};class it{constructor(){var l=Bt.screen.position,d=(s,f,p,C)=>{Bt.screen.positionTo={x:l.x+(p-s),y:l.y+(C-f)}};return{start:s=>{},move:(s,f)=>{d(f[0][0],f[0][1],s.x,s.y)},end:(s,f)=>{d(f[0][0],f[0][1],s.x,s.y)}}}}var j=w(4714);const tt=[{name:"tam gi\xe1c vu\xf4ng",type:j.D.TRIANGLE_ISOSCELES,ratios:[[0,0],[1,1],[0,1]]},{name:"tam gi\xe1c c\xe2n",type:j.D.TRIANGLE_EQUILATERAL,ratios:[[.5,0],[0,1],[1,1]]},{name:"h\xecnh ch\u1eef nh\u1eadt",type:j.D.RECTANGLE,ratios:[[0,0],[1,0],[1,1],[0,1]]},{name:"h\xecnh ng\u0169 gi\xe1c \u0111\u1ec1u",type:j.D.PENTAGON,ratios:[[.5,0],[1,.4],[.8,1],[.2,1],[0,.4]]},{name:"h\xecnh l\u1ee5c gi\xe1c \u0111\u1ec1u",type:j.D.HEXAGON,ratios:[[.5,0],[1,.25],[1,.75],[.5,1],[0,.75],[0,.25]]},{name:"khung \u0111\xe1nh d\u1ea5u v\u1ecb tr\xed",type:j.D.BOOKMARK,ratios:[[0,0],[1,0],[1,.8],[.5,1],[0,.8]]},{name:"khung \u0111\xe1nh tr\xf2 chuy\u1ec7n",type:j.D.COMMENT,ratios:[[0,0],[1,0],[1,.9],[.3,.9],[.2,1],[.1,.9],[0,.9]]},{name:"h\xecnh ch\u1eef th\u1eadp",type:j.D.CROSS,ratios:[[0,.3],[.3,.3],[.3,0],[.7,0],[.7,.3],[1,.3],[1,.7],[.7,.7],[.7,1],[.3,1],[.3,.7],[0,.7]]},{name:"h\xecnh m\u0169i t\xean 1 chi\u1ec1u",type:j.D.ARROW_ONEWAY,ratios:[[0,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[0,.8]]},{name:"h\xecnh m\u0169i t\xean 2 chi\u1ec1u",type:j.D.ARROW_TWOWAY,ratios:[[.2,0],[.2,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[.2,.8],[.2,1],[0,.5]]},{name:"h\xecnh ng\xf4i sao 4 c\xe1nh",type:j.D.STAR_FOUR,ratios:[[.5,0],[.65,.35],[1,.5],[.65,.65],[.5,1],[.35,.65],[0,.5],[.35,.35]]},{name:"h\xecnh ng\xf4i sao 5 c\xe1nh",type:j.D.STAR_FIVE,ratios:[[.5,0],[.625,.4],[1,.4],[.675,.625],[.8,1],[.5,.775],[.2,1],[.325,.625],[0,.4],[.375,.4]]},{name:"h\xecnh ng\xf4i sao 6 c\xe1nh",type:j.D.STAR_SIX,ratios:[[.5,0],[.667,.25],[1,.25],[.5+.334,.5],[1,.75],[.667,.75],[.5,1],[.334,.75],[0,.75],[.167,.5],[0,.25],[.334,.25]]}];var nt=w(8619),y=w(5811);class H{constructor(){let l=(0,ut.g1)(st.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,nt._)(Math.ceil(1e9*Math.random())),C=(I,M,Y,A)=>{p=(0,b.bH)(I,M,Y,A,{ratio:1}),p.x=(0,y.q)(p.x),p.y=(0,y.q)(p.y),p.width=(0,y.q)(p.width),p.height=(0,y.q)(p.height),Object.assign(f,(0,b.sg)(J.$.CIRCLE,p)),(0,ut.__)(s,f),(0,ut.g$)(l,p)};return{start:I=>{s.setAttribute("cx",I.x.toString()),s.setAttribute("cy",I.y.toString()),s.setAttribute("r","1")},move:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y)},end:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y),Bt.data.node=Object.assign({id:d,type:J.$.CIRCLE,name:"Circle"},{size:p,attribute:f}),null==l||l.remove()}}}}var ht=w(8785);class dt{constructor(){let l=(0,ut.g1)(st.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,ht.r)(Math.ceil(1e9*Math.random()));var C=(I,M,Y,A)=>{p=(0,b.bH)(I,M,Y,A),p.x=(0,y.q)(p.x),p.y=(0,y.q)(p.y),p.width=(0,y.q)(p.width),p.height=(0,y.q)(p.height),Object.assign(f,(0,b.sg)(J.$.ELLIPSE,p)),(0,ut.__)(s,f),(0,ut.g$)(l,p)};return{start:I=>{s.setAttribute("cx",I.x.toString()),s.setAttribute("cy",I.y.toString()),s.setAttribute("rx","1"),s.setAttribute("ry","1")},move:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y)},end:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y),Bt.data.node=Object.assign({id:d,type:J.$.ELLIPSE,name:"Ellipse"},{size:p,attribute:f}),null==l||l.remove()}}}}var B=w(8054);class Tt{constructor(){let l=(0,ut.g1)(st.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,B.f)(Math.ceil(1e9*Math.random()));var C=(I,M,Y,A)=>{p=(0,b.bH)(I,M,Y,A),p.x=(0,y.q)(p.x),p.y=(0,y.q)(p.y),p.width=(0,y.q)(p.width),p.height=(0,y.q)(p.height),Object.assign(f,(0,b.sg)(J.$.RECT,p)),(0,ut.__)(s,f),(0,ut.g$)(l,p)};return{start:I=>{C(I.x,I.y,I.x+p.width,I.y+p.height)},move:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y)},end:(I,M)=>{p.width>=10&&p.height>=10?Bt.data.node=Object.assign({id:d,type:J.$.RECT,name:"Rect"},{size:p,attribute:f}):null==s||s.remove(),null==l||l.remove()}}}}var a=w(2282);class te{constructor(l){let d=(0,ut.g1)(st.O.CREATE_GROUP,"g"),s=l||[[0,0],[1,1],[0,1]],{nodeId:f,element:p,attribute:C,size:I}=(0,a.l)(Math.ceil(1e9*Math.random()));I.ratios=s;var M=(Y,A,et,Q)=>{I=(0,b.bH)(Y,A,et,Q,{ratios:s}),I.x=(0,y.q)(I.x),I.y=(0,y.q)(I.y),I.width=(0,y.q)(I.width),I.height=(0,y.q)(I.height),Object.assign(C,(0,b.sg)(J.$.POLYGON,I)),(0,ut.__)(p,C),(0,ut.g$)(d,I)};return{start:Y=>{},move:(Y,A)=>{M(A[0][0],A[0][1],Y.x,Y.y)},end:(Y,A)=>{M(A[0][0],A[0][1],Y.x,Y.y),Bt.data.node=Object.assign({id:f,type:J.$.POLYGON,name:"Polygon"},{size:I,attribute:C}),null==d||d.remove()}}}}var zt=w(4921);class Xt{constructor(){let l=(0,ut.g1)(st.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,zt.W)(Math.ceil(1e9*Math.random()));var C=(I,M,Y,A)=>{p=(0,b.bH)(I,M,Y,A),p.x=(0,y.q)(p.x),p.y=(0,y.q)(p.y),p.width=(0,y.q)(p.width),p.height=(0,y.q)(p.height),Object.assign(f,(0,b.sg)(J.$.LINE,p)),(0,ut.__)(s,f),(0,ut.g$)(l,p)};return{start:I=>{},move:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y)},end:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y),Bt.data.node=Object.assign({id:d,type:J.$.LINE,name:"Line"},{size:p,attribute:f}),null==l||l.remove()}}}}var Ht=w(8419);class Pe{constructor(){let{nodeId:l,element:d,attribute:s,size:f}=(0,Ht.G)(Math.ceil(1e9*Math.random())),C="";var I=(M,Y)=>{C+=` ${M} ${Y}`,d.setAttribute("d",C)};return{start:M=>{C=`M ${M.x} ${M.y} L ${M.x} ${M.y}`},move:(M,Y)=>{I(M.x,M.y)},end:(M,Y)=>{I(M.x,M.y),(M=>{let Y=9999,A=9999,et=-9999,Q=-9999;M.forEach(ct=>{Y=Math.min(Y,ct[0]),A=Math.min(A,ct[1]),et=Math.max(et,ct[0]),Q=Math.max(Q,ct[1])}),f=(0,b.bH)(Y,A,et,Q,{points:M}),Object.assign(s,(0,b.sg)(J.$.PATH,f)),(0,ut.__)(d,s)})(Y),Bt.data.node=Object.assign({id:l,type:J.$.PATH,name:"Path"},{size:f,attribute:s})}}}}var W=w(2875);class Kt{constructor(){let l=(0,ut.g1)(st.O.CREATE_GROUP,"g"),{nodeId:d,element:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()));var M=(Y,A,et,Q)=>{f=(0,b.bH)(Y,A,et,Q),f.x=(0,y.q)(f.x),f.y=(0,y.q)(f.y),f.width=(0,y.q)(f.width),f.height=(0,y.q)(f.height),Object.assign(p,(0,b.sg)(J.$.FOREIGNOBJECT,f)),(0,ut.__)(s,p),(0,ut.g$)(l,f)};return{start:Y=>{M(Y.x,Y.y,Y.x+f.width,Y.y+f.height)},move:(Y,A)=>{M(A[0][0],A[0][1],Y.x,Y.y)},end:(Y,A)=>{f.width>=10&&f.height>=10?Bt.data.node=Object.assign({id:d,type:J.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I}):null==s||s.remove(),null==l||l.remove()}}}}var $t=w(7210);class Ft{constructor(){var l,d;let s=(0,ut.g1)(st.O.CREATE_GROUP,"g"),{nodeId:f,element:p,size:C,attribute:I,source:M}=(0,$t.G)(Math.ceil(1e9*Math.random())),Y=1;(et=>{if(!et)return;let Q=new Image;Q.onload=()=>{Y=(0,y.q)(Q.naturalWidth/Q.naturalHeight,100)},Q.onerror=ct=>{console.error(`ImgSrc load failed -> ${et}`,ct)},Q.src=et})(null!==(l=null===(d=M.image)||void 0===d?void 0:d.url)&&void 0!==l?l:"");var A=(et,Q,ct,_t)=>{C=(0,b.bH)(et,Q,ct,_t,{ratio:Y}),C.x=(0,y.q)(C.x),C.y=(0,y.q)(C.y),C.width=(0,y.q)(C.width),C.height=(0,y.q)(C.height),Object.assign(I,(0,b.sg)(J.$.IMAGE,C)),(0,ut.__)(p,I),(0,ut.g$)(s,C)};return{start:et=>{A(et.x,et.y,et.x+C.width,et.y+C.height)},move:(et,Q)=>{A(Q[0][0],Q[0][1],et.x,et.y)},end:(et,Q)=>{C.width>=10&&C.height>=10?Bt.data.node=Object.assign({id:f,type:J.$.IMAGE,name:"Image"},{size:C,attribute:I,source:M}):null==p||p.remove(),null==s||s.remove()}}}}var Oe=w(4578),Se=w(9623);function m(U,l,d,s){return Math.sqrt(Math.pow(d-U,2)+Math.pow(s-l,2))}function at(U,l,d,s,f){return m(U,l,d,s)<f?1:0}function Lt(U,l,d,s,f,p,C){var I=[];return I.push(at(U,l,d,s,C)),I.push(at(U,l,f,p,C)),I.push(function Nt(U,l,d,s,f,p,C){var I=[f-d,p-s],M=[U-d,l-s],Y=[-I[1],I[0]],A=Math.sqrt(Math.pow(Y[0],2)+Math.pow(Y[1],2)),et=[Y[0]/A,Y[1]/A],Q=Math.sqrt(Math.pow(I[0],2)+Math.pow(I[1],2)),ct=[I[0]/Q,I[1]/Q],_t=M[0]*ct[0]+M[1]*ct[1];if(_t<=0||_t>=Q)return 0;var bt=M[0]*et[0]+M[1]*et[1];return bt>=C||bt<=-C?0:1}(U,l,d,s,f,p,C)),I}function ee(U,l,d,s,f){var p=[d-U,s-l],C=[-p[1],p[0]],I=Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2)),M=[C[0]/I,C[1]/I];return[[U+f*M[0],l+f*M[1]],[U-f*M[0],l-f*M[1]],[d-f*M[0],s-f*M[1]],[d+f*M[0],s+f*M[1]]]}function ce(U,l,d,s,f,p,C){var _t,I=[f-U,p-l],M=[d-U,s-l],Y=Math.sqrt(Math.pow(M[0],2)+Math.pow(M[1],2)),A=[M[0]/Y,M[1]/Y],et=I[0]*A[0]+I[1]*A[1],Q=[U+et*A[0],l+et*A[1]],ct=Math.sqrt(Math.pow(f-Q[0],2)+Math.pow(p-Q[1],2));_t=0===ct?C:Math.sqrt(Math.pow(C,2)-Math.pow(ct,2));var bt=[U+et*A[0]+_t*A[0],l+et*A[1]+_t*A[1]];return bt[0]===U&&bt[1]===l?null:bt}function jt(U,l,d,s,f,p,C){var I=[f-U,p-l],M=[d-U,s-l],Y=[-M[1],M[0]],A=Math.sqrt(Math.pow(Y[0],2)+Math.pow(Y[1],2)),et=[Y[0]/A,Y[1]/A],Q=I[0]*et[0]+I[1]*et[1],ct=je([U,l],[d,s],[f,p]);if(Ie([ct[0]-f,ct[1]-p])>=C)return null;var bt=Math.sqrt(Math.pow(C,2)-Math.pow(Q,2)),de=[f-Q*et[0],p-Q*et[1]],me=Math.sqrt(Math.pow(M[0],2)+Math.pow(M[1],2)),ei=[M[0]/me,M[1]/me],Je=[[de[0]-ei[0]*bt,de[1]-ei[1]*bt],[de[0]+ei[0]*bt,de[1]+ei[1]*bt]];return Je[0][0]===U&&Je[0][1]===l?null:Je}function Pt(U,l,d,s,f,p,C,I){var M,Y,A,et,Q,ct;return-(A=C-f)*(Y=s-l)+(M=d-U)*(et=I-p)==0?null:(ct=(A*(l-p)-et*(U-f))/(-A*Y+M*et),(Q=(-Y*(U-f)+M*(l-p))/(-A*Y+M*et))>=0&&Q<=1&&ct>=0&&ct<=1?[U+ct*M,l+ct*Y]:null)}function ue(U,l,d,s,f,p,C,I,M,Y){var A=ee(p,C,I,M,Y),et=[];if(d[0]&&!d[1])et.push(ce(U,l,s,f,p,C,Y)),et.push(Pt(U,l,s,f,A[0][0],A[0][1],A[3][0],A[3][1])),et.push(Pt(U,l,s,f,A[1][0],A[1][1],A[2][0],A[2][1])),(Q=jt(U,l,s,f,I,M,Y))&&et.push(Q[0],Q[1]);else if(!d[0]&&d[1])et.push(ce(U,l,s,f,I,M,Y)),et.push(Pt(U,l,s,f,A[0][0],A[0][1],A[3][0],A[3][1])),et.push(Pt(U,l,s,f,A[1][0],A[1][1],A[2][0],A[2][1])),(Q=jt(U,l,s,f,p,C,Y))&&et.push(Q[0],Q[1]);else if(d[0]&&d[1])et.push(ce(U,l,s,f,p,C,Y)),et.push(Pt(U,l,s,f,A[0][0],A[0][1],A[3][0],A[3][1])),et.push(Pt(U,l,s,f,A[1][0],A[1][1],A[2][0],A[2][1])),et.push(ce(U,l,s,f,I,M,Y));else{var Q=jt(U,l,s,f,I,M,Y),ct=jt(U,l,s,f,p,C,Y);Q&&et.push(Q[0],Q[1]),ct&&et.push(ct[0],ct[1]),et.push(Pt(U,l,s,f,A[0][0],A[0][1],A[3][0],A[3][1])),et.push(Pt(U,l,s,f,A[1][0],A[1][1],A[2][0],A[2][1]))}for(var _t=[U,l],bt=0;bt<et.length;bt++)et[bt]&&m(et[bt][0],et[bt][1],s,f)<m(_t[0],_t[1],s,f)&&(_t=et[bt]);return _t[0]===U&&_t[1]===l?null:_t}function Ke(U,l,d,s,f,p,C,I,M){var Y=ee(f,p,C,I,M),A=[],et=jt(U,l,d,s,f,p,M);et&&A.push(et[0],et[1]),(et=jt(U,l,d,s,C,I,M))&&A.push(et[0],et[1]),A.push(Pt(U,l,d,s,Y[0][0],Y[0][1],Y[3][0],Y[3][1])),A.push(Pt(U,l,d,s,Y[1][0],Y[1][1],Y[2][0],Y[2][1]));for(var Q=[d,s],ct=[U,l],_t=0;_t<A.length;_t++)A[_t]&&m(A[_t][0],A[_t][1],U,l)<m(Q[0],Q[1],U,l)&&(Q=A[_t]);for(var bt=0;bt<A.length;bt++)A[bt]&&m(A[bt][0],A[bt][1],d,s)<m(ct[0],ct[1],d,s)&&(ct=A[bt]);return Q[0]===d&&Q[1]===s||ct[0]===U&&ct[1]===l?null:[Q,ct]}var Ie=function(U){return Math.sqrt(U[0]*U[0]+U[1]*U[1])},je=function(U,l,d){var s=[l[0]-U[0],l[1]-U[1]],f=Ie(s);if(f<1e-6)return U;var p=[d[0]-U[0],d[1]-U[1]],C=(s[0]*p[0]+s[1]*p[1])/f;return C<0?U:C>f?l:[U[0]+s[0]*C/f,U[1]+s[1]*C/f]};class wt{constructor(){let{element:s,size:p}=(0,Ht.G)(Math.ceil(1e9*Math.random()));(0,ut.__)(s,{stroke:"#ddd",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"});let C="";return{start:Y=>{C=`M ${Y.x} ${Y.y} L ${Y.x} ${Y.y}`},move:(Y,A)=>{((Y,A)=>{C+=` ${Y} ${A}`,s.setAttribute("d",C)})(Y.x,Y.y)},end:(Y,A)=>{s.remove(),(Y=>{let A=9999,et=9999,Q=-9999,ct=-9999;Y.forEach(bt=>{A=Math.min(A,bt[0]),et=Math.min(et,bt[1]),Q=Math.max(Q,bt[0]),ct=Math.max(ct,bt[1])}),p=(0,b.bH)(A,et,Q,ct,{points:Y}),Bt.data.getNodeInArea(0,0,1920,1920,J.$.PATH).forEach(bt=>{let me=((U,l,d)=>{d=d||20;var s=[],f=function(A){var et=l[0][0],Q=l[0][1],ct=0,_t=0;if(1!==A.length||at(A[0][0],A[0][1],et,Q,d)){for(var bt;ct<A.length-1;){var de=A[ct],me=A[ct+1],ei=at(de[0],de[1],et,Q,d),Je=at(me[0],me[1],et,Q,d);if(ei&&Je)_t=++ct;else if(ei&&!Je)(Ze=ce(de[0],de[1],me[0],me[1],et,Q,d))?(A[ct]=Ze,_t=ct):ct++;else if(!ei&&Je){var Ze;(Ze=ce(me[0],me[1],de[0],de[1],et,Q,d))&&((bt=A.slice(_t,ct+1)).push(Ze),s.push(bt)),_t=++ct}else{var qe=jt(de[0],de[1],me[0],me[1],et,Q,d);qe?(((bt=A.slice(_t,ct+1))[bt.length-1][0]!==qe[0][0]||bt[bt.length-1][1]!==qe[0][1])&&bt.push(qe[0]),bt.length>1&&s.push(bt),A[ct]=qe[1],A[ct+1]&&A[ct+1][0]==qe[1][0]&&A[ct+1][1]==qe[1][1]&&ct++,_t=ct):ct++}}_t!==ct&&(bt=A.slice(_t,A.length))&&s.push(bt)}else s.push(A)},p=function(A,et){var me,Q=l[et],ct=l[et+1],_t=0,bt=0;if(1!==A.length||-1!==(de=Lt(A[0][0],A[0][1],Q[0],Q[1],ct[0],ct[1],d)).indexOf(1)){for(;_t<A.length-1;){var ei=A[_t],Je=A[_t+1],de=Lt(ei[0],ei[1],Q[0],Q[1],ct[0],ct[1],d),Ze=Lt(Je[0],Je[1],Q[0],Q[1],ct[0],ct[1],d);if(-1!==de.indexOf(1)&&-1!==Ze.indexOf(1))bt=++_t;else if(-1!==de.indexOf(1)&&-1===Ze.indexOf(1))(qe=ue(ei[0],ei[1],de,Je[0],Je[1],Q[0],Q[1],ct[0],ct[1],d))?(A[_t]=qe,bt=_t):_t++;else if(-1===de.indexOf(1)&&-1!==Ze.indexOf(1)){var qe;(qe=ue(Je[0],Je[1],Ze,ei[0],ei[1],Q[0],Q[1],ct[0],ct[1],d))?((me=A.slice(bt,_t+1)).push(qe),s.push(me),bt=++_t):_t++}else{var ai=Ke(ei[0],ei[1],Je[0],Je[1],Q[0],Q[1],ct[0],ct[1],d);ai?(((me=A.slice(bt,_t+1))[me.length-1][0]!==ai[0][0]||me[me.length-1][1]!==ai[0][1])&&me.push(ai[0]),me.length>1&&s.push(me),A[_t]=ai[1],A[_t+1]&&A[_t+1][0]==ai[1][0]&&A[_t+1][1]==ai[1][1]&&_t++,bt=_t):_t++}}bt!==_t&&(me=A.slice(bt,A.length))&&s.push(me)}else s.push(A)};if(l=function ft(U){var l=[];if(1===U.length)l=U;else{for(var d=0;d<U.length-1;)(U[d][0]!==U[d+1][0]||U[d][1]!==U[d+1][1])&&l.push(U[d]),d++;0!==U.length&&0===l.length&&l.push(U[0]),(U[U.length-1][0]!==U[l.length-1][0]||U[U.length-1][1]!==U[l.length-1][1])&&l.push(U[d])}return l}(l),1===l.length){for(var C=0;C<U.length;C++)f(U[C]);U=s}else for(var I=0;I<l.length-1;I++){for(C=0;C<U.length;C++)p(U[C],I);U=s,s=[]}for(var M=0;M<U.length;M++)for(var Y=0;Y<U[M].length;Y++)U[M][Y][0]=Math.round(U[M][Y][0]),U[M][Y][1]=Math.round(U[M][Y][1]);return U})(Bt.data.getNode(bt).size.points,Y,2);console.log(me)})})(A)}}}}var pt=w(1105);class Ct{constructor(){let l=(0,ut.g1)(st.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p,source:C}=(0,pt.$)(Math.ceil(1e9*Math.random())),I=(M,Y,A,et)=>{p=(0,b.bH)(M,Y,A,et),p.x=(0,y.q)(p.x),p.y=(0,y.q)(p.y),p.width=(0,y.q)(p.width),p.height=(0,y.q)(p.height),Object.assign(f,(0,b.sg)(J.$.TEXT,p)),(0,ut.__)(s,f),(0,ut.g$)(l,p)};return{start:M=>{I(M.x,M.y,M.x+p.width,M.y+p.height)},move:(M,Y)=>{I(Y[0][0],Y[0][1],M.x,M.y)},end:(M,Y)=>{p.width>=10&&p.height>=10?Bt.data.node=Object.assign({id:d,type:J.$.TEXT,name:"Text"},{size:p,attribute:f,source:C}):null==s||s.remove(),null==l||l.remove()}}}}var vt=w(4531),Dt=w(9125);var yt=w(6358);class Jt{constructor(){this._nodeName=["circle","ellipse","line","polygon","rect","text","path","foreignObject","image"],this._selected_Ids=[],this._fnChanges=[]}get nodeName(){return this._nodeName}get ids(){return this._selected_Ids}set ids(l){this._selected_Ids=l,this.change(this.ids)}get nodes(){return this._selected_Ids.map(l=>Bt.data.getNode(l)).filter(l=>!l.isfake)}set onchange(l){this._fnChanges.push(l)}change(l){var d,s,f,p,C;null===(d=window.document.getElementById(st.O.RESIZE_GROUP))||void 0===d||d.remove(),null===(s=window.document.getElementById(st.O.SELECT_GROUP))||void 0===s||s.remove(),null===(f=window.document.getElementById(st.O.SCAN_GROUP))||void 0===f||f.remove(),null===(p=window.document.getElementById(st.O.CREATE_GROUP))||void 0===p||p.remove(),null===(C=window.document.getElementById(st.O.INTERACTIVE_GROUP))||void 0===C||C.remove(),$('[id^="icdt-temp-"]').remove(),this._fnChanges.forEach(I=>I(l))}deleteNode(){for(let l of this._selected_Ids){let d=Bt.data.deleteNode(l);Bt.history.push([{type:"delete",from:{id:d},to:{id:d}}])}Bt.dataSelect.ids=[]}groupNode(){let l=[];if(Bt.dataSelect.ids.length>=2){let d=Bt.data.getNode(Bt.dataSelect.ids[0]),{nodeId:s,attribute:f,size:p}=(0,yt.m)(Math.ceil(1e9*Math.random()),void 0,d.pid);Bt.data.node=Object.assign({id:s,type:J.$.GROUP,name:"G"},{size:p,attribute:f});for(let C of Bt.dataSelect.ids)l.push(Bt.data.addGroup(C,s))}if(l.length){Bt.dataSelect.ids=l;let d=Bt.dataSelect.nodes;1==d.length?(0,O.y)(d[0]):d.length>1&&(0,K.Q)(d)}}ungroupNode(){let l=[];for(let d of Bt.dataSelect.ids)l.push(Bt.data.unGroup(d));if(l.length){Bt.dataSelect.ids=l;let d=Bt.dataSelect.nodes;1==d.length?(0,O.y)(d[0]):d.length>1&&(0,K.Q)(d)}}}var ae=w(6623);class Te{createNodeImage(l){var d,s;let{nodeId:f,element:p,size:C,attribute:I,source:M}=(0,$t.G)(Math.ceil(1e9*Math.random()),{source:{type:"image",image:(0,ae.I)(l)}}),Y=1;(Q=>{if(!Q)return;let ct=new Image;ct.onload=()=>{var _t;Y=(0,y.q)(ct.naturalHeight/ct.naturalWidth,100);let bt=(null===(_t=Bt.data.slide)||void 0===_t||null===(_t=_t.svg)||void 0===_t?void 0:_t.viewBox)||{x:0,y:0,width:100,height:100};((Q,ct,_t,bt)=>{C=(0,b.bH)(Q,ct,_t,bt,{ratio:Y}),Object.assign(I,(0,b.sg)(J.$.IMAGE,C)),(0,ut.__)(p,I)})(bt.width/2-ct.naturalWidth/2,bt.height/2-ct.naturalHeight/2,bt.width/2+ct.naturalWidth/2,bt.height/2+ct.naturalHeight/2),Bt.data.node=Object.assign({id:f,type:J.$.IMAGE,name:"Image"},{size:C,attribute:I,source:M})},ct.onerror=_t=>{console.error(`ImgSrc load failed -> ${Q}`,_t)},ct.src=Q})(null!==(d=null===(s=M.image)||void 0===s?void 0:s.url)&&void 0!==d?d:"")}createNodeIframe(l){let{nodeId:d,element:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()),{style:{},source:{type:"iframe",iframe:(0,ae.I)(l)}});(A=>{let et=(null===(A=Bt.data.slide)||void 0===A||null===(A=A.svg)||void 0===A?void 0:A.viewBox)||{x:0,y:0,width:100,height:100};((A,et,Q,ct)=>{f=(0,b.bH)(A,et,Q,ct),Object.assign(p,(0,b.sg)(J.$.IMAGE,f)),(0,ut.__)(s,p)})(et.width/2-f.width/2,et.height/2-f.height/2,et.width/2+f.width/2,et.height/2+f.height/2),Bt.data.node=Object.assign({id:d,type:J.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I})})()}createNodeEmbed(l){let{nodeId:d,element:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()),{size:{x:0,y:0,width:640,height:360},style:{},source:{type:"embed",embed:Object.assign(l,(0,ae.I)(l))}});(A=>{let et=(null===(A=Bt.data.slide)||void 0===A||null===(A=A.svg)||void 0===A?void 0:A.viewBox)||{x:0,y:0,width:100,height:100};((A,et,Q,ct)=>{f=(0,b.bH)(A,et,Q,ct),Object.assign(p,(0,b.sg)(J.$.IMAGE,f)),(0,ut.__)(s,p)})(et.width/2-f.width/2,et.height/2-f.height/2,et.width/2+f.width/2,et.height/2+f.height/2),Bt.data.node=Object.assign({id:d,type:J.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I})})()}createNodeMedia(l){var d,s;let{nodeId:f,element:p,size:C,attribute:I,source:M}=(0,$t.G)(Math.ceil(1e9*Math.random()),{source:{type:"image",image:(0,ae.I)(l.cover)}}),Y={click:{media:l.media}},A=1;(ct=>{if(!ct)return;let _t=new Image;_t.onload=()=>{var bt;A=(0,y.q)(_t.naturalHeight/_t.naturalWidth,100);let de=(null===(bt=Bt.data.slide)||void 0===bt||null===(bt=bt.svg)||void 0===bt?void 0:bt.viewBox)||{x:0,y:0,width:100,height:100};((ct,_t,bt,de)=>{C=(0,b.bH)(ct,_t,bt,de,{ratio:A}),Object.assign(I,(0,b.sg)(J.$.IMAGE,C)),(0,ut.__)(p,I)})(de.width/2-_t.naturalWidth/2,de.height/2-_t.naturalHeight/2,de.width/2+_t.naturalWidth/2,de.height/2+_t.naturalHeight/2),Bt.data.node=Object.assign({id:f,type:J.$.IMAGE,name:"Image"},{size:C,attribute:I,source:M,interactive:Y})},_t.onerror=bt=>{console.error(`ImgSrc load failed -> ${ct}`,bt)},_t.src=ct})(null!==(d=null===(s=M.image)||void 0===s?void 0:s.url)&&void 0!==d?d:"")}insert(l){var d;if(Bt.data.insertSlide(Bt.data.slideId,1),l.title){let{nodeId:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()),{size:{x:100,y:100,width:800,height:150},source:{type:"html",html:{htmlContent:`<span style="font-size: 40px;">${l.title}</span>`}}});Bt.data.node=Object.assign({id:s,type:J.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I})}if(l.description){let{nodeId:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()),{size:{x:100,y:300,width:600,height:300},source:{type:"html",html:{htmlContent:`<span style="font-size: 24px;">${l.description.replace(/\n/g,"<br/>")}</span>`}}});Bt.data.node=Object.assign({id:s,type:J.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I})}null!==(d=l.media)&&void 0!==d&&d.prompt&&((()=>{let{nodeId:s,size:f,attribute:p}=(0,B.f)(Math.ceil(1e9*Math.random()),{size:{x:775,y:275,width:350,height:350},attribute:{fill:"#FFFFFF",stroke:"#E6E6E6",strokeWidth:1,strokeDasharray:1,rx:4}});Bt.data.node=Object.assign({id:s,type:J.$.RECT,name:"Rect"},{size:f,attribute:p})})(),(s=>{let{nodeId:f,size:p,attribute:C,style:I,source:M}=(0,W.e)(Math.ceil(1e9*Math.random()),{size:{x:800,y:300,width:300,height:300},source:{type:"html",html:{htmlContent:`<span style="font-size: 18px; color: #6633cc"><i>${null===(s=l.media)||void 0===s?void 0:s.prompt}</i></span>`}}});Bt.data.node=Object.assign({id:f,type:J.$.FOREIGNOBJECT,name:"ForeignObject"},{size:p,attribute:C,style:I,source:M})})())}}var re=w(5226);class pe{get newSlideId(){return Math.ceil(1e9*Math.random())}get _defaultSlide(){return JSON.parse(JSON.stringify({id:this.newSlideId,name:"Trang m\u1edbi",svg:{viewBox:{x:0,y:0,width:Bt.screen.default_width,height:Bt.screen.default_height},nodes:[]}}))}constructor(){this._dataSource={slides:[],resources:[]},this._slideIdx=0,this._fnChangeSlides=[],this.getNodeAll=()=>{var l;let d=null===(l=this._dataSource.slides)||void 0===l?void 0:l.find((p,C)=>C==this._slideIdx),s=null==d?void 0:d.svg,f=p=>{let C=[];return p.filter(I=>!I.isdeleted).forEach(I=>{I.type==J.$.GROUP?C=C.concat(f(I.nodes||[])):C.push(I.id)}),C};return f((null==s?void 0:s.nodes)||[])}}get get(){var l;let d=s=>{var f,p;return null===(f=s)||void 0===f||f.filter(C=>C.type==J.$.GROUP).forEach(C=>{var I;C.nodes=d(null===(I=C.nodes)||void 0===I?void 0:I.filter(M=>!M.isdeleted))}),(s=null===(p=s)||void 0===p?void 0:p.filter(C=>{var I,M;return C.type!=J.$.GROUP||(null!==(I=null===(M=C.nodes)||void 0===M?void 0:M.length)&&void 0!==I?I:0)>0}))||[]};return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f;s.svg&&(s.svg.nodes=d(null===(f=s.svg)||void 0===f||null===(f=f.nodes)||void 0===f?void 0:f.filter(p=>!p.isdeleted)))}),this._dataSource}get getResource(){var l;let d=[];return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f,p,C,I,M,Y,A,et;d.push(null===(f=s.svg)||void 0===f||null===(f=f.background)||void 0===f?void 0:f.path),null===(p=s.svg)||void 0===p||p.nodes.forEach(Q=>{var ct,_t,bt,de,me,ei,Je,Ze,qe,ai;d.push(null===(ct=Q.source)||void 0===ct||null===(ct=ct.image)||void 0===ct?void 0:ct.path),d.push(null===(_t=Q.source)||void 0===_t||null===(_t=_t.audio)||void 0===_t?void 0:_t.path),d.push(null===(bt=Q.source)||void 0===bt||null===(bt=bt.video)||void 0===bt?void 0:bt.path),d.push(null===(de=Q.source)||void 0===de||null===(de=de.file)||void 0===de?void 0:de.path),d.push(null===(me=Q.source)||void 0===me||null===(me=me.iframe)||void 0===me?void 0:me.path),d.push(null===(ei=Q.source)||void 0===ei||null===(ei=ei.track)||void 0===ei?void 0:ei.path),d.push(null===(Je=Q.interactive)||void 0===Je||null===(Je=Je.show)||void 0===Je||null===(Je=Je.audio)||void 0===Je||null===(Je=Je.source)||void 0===Je?void 0:Je.path),d.push(null===(Ze=Q.interactive)||void 0===Ze||null===(Ze=Ze.click)||void 0===Ze||null===(Ze=Ze.audio)||void 0===Ze||null===(Ze=Ze.source)||void 0===Ze?void 0:Ze.path),d.push(null===(qe=Q.interactive)||void 0===qe||null===(qe=qe.click)||void 0===qe||null===(qe=qe.image)||void 0===qe||null===(qe=qe.source)||void 0===qe?void 0:qe.path),d.push(null===(ai=Q.interactive)||void 0===ai||null===(ai=ai.click)||void 0===ai||null===(ai=ai.video)||void 0===ai||null===(ai=ai.source)||void 0===ai?void 0:ai.path)}),d.push(null===(C=s.test)||void 0===C||null===(C=C.audiotrue)||void 0===C?void 0:C.path),d.push(null===(I=s.test)||void 0===I||null===(I=I.audiofalse)||void 0===I?void 0:I.path),d.push(null===(M=s.test)||void 0===M||null===(M=M.effecttrue)||void 0===M?void 0:M.path),d.push(null===(Y=s.test)||void 0===Y||null===(Y=Y.effectfalse)||void 0===Y?void 0:Y.path),d.push(null===(A=s.test)||void 0===A||null===(A=A.icontrue)||void 0===A?void 0:A.path),d.push(null===(et=s.test)||void 0===et||null===(et=et.iconfalse)||void 0===et?void 0:et.path)}),d.filter(s=>s).map(s=>s.replace(/(\?|\#)[^\?\#]+/g,"").toLowerCase()).filter((s,f,p)=>p.indexOf(s)==f)}set set(l){this._dataSource=l,this._dataSource.slides||(this._dataSource.slides=[]),this._dataSource.slides.length||(this._slideIdx=0,this._dataSource.slides.push(JSON.parse(JSON.stringify(this._defaultSlide)))),(0,ut.wM)(),this.changeSlide(this.slides,this.slideIdx,this._dataSource.slides.length,this.slide)}get dataSource(){var l;let d=s=>{var f,p;return null===(f=s)||void 0===f||f.filter(C=>C.type==J.$.GROUP).forEach(C=>{var I;C.nodes=d(null===(I=C.nodes)||void 0===I?void 0:I.filter(M=>!M.isdeleted))}),(s=null===(p=s)||void 0===p?void 0:p.filter(C=>{var I,M;return C.type!=J.$.GROUP||(null!==(I=null===(M=C.nodes)||void 0===M?void 0:M.length)&&void 0!==I?I:0)>0}))||[]};return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f;s.svg&&(s.svg.nodes=d(null===(f=s.svg)||void 0===f||null===(f=f.nodes)||void 0===f?void 0:f.filter(p=>!p.isdeleted)))}),this._dataSource.resources=this.getResource,this._dataSource}set dataSource(l){this._dataSource=l,this._dataSource.slides||(this._dataSource.slides=[]),this._dataSource.slides.length||(this._slideIdx=0,this._dataSource.slides.push(JSON.parse(JSON.stringify(this._defaultSlide)))),(0,ut.wM)(),this.changeSlide(this.slides,this.slideIdx,this._dataSource.slides.length,this.slide)}get slideId(){var l,d;return null!==(l=null===(d=this.slide)||void 0===d?void 0:d.id)&&void 0!==l?l:0}get slideIdx(){return this._slideIdx}get slide(){var l;return null===(l=this._dataSource.slides)||void 0===l?void 0:l.find((d,s)=>s==this._slideIdx)}get slides(){return this._dataSource.slides||[]}backSlide(){this._slideIdx>0&&(this._slideIdx-=1,this.openSlide(void 0,this._slideIdx))}nextSlide(){var l,d;this._slideIdx<(null!==(l=null===(d=this._dataSource.slides)||void 0===d?void 0:d.length)&&void 0!==l?l:0)-1&&(this._slideIdx+=1,this.openSlide(void 0,this._slideIdx))}openSlide(l,d){var s,f,p,C;if(l)for(let A=0,et=null!==(I=null===(M=this._dataSource.slides)||void 0===M?void 0:M.length)&&void 0!==I?I:0;A<et;A++){var I,M,Y;if((null!==(Y=this._dataSource.slides)&&void 0!==Y?Y:[])[A].id==l){this._slideIdx=A;break}}else this._slideIdx=d&&d>=0&&d<(null!==(s=null===(f=this._dataSource.slides)||void 0===f?void 0:f.length)&&void 0!==s?s:0)&&null!=d?d:0;(0,ut.wM)(),(0,re.E)(this.slide),this.changeSlide(this.slides,this.slideIdx,null!==(p=null===(C=this._dataSource.slides)||void 0===C?void 0:C.length)&&void 0!==p?p:0,this.slide)}addSlide(){var l,d,s;null===(l=this._dataSource.slides)||void 0===l||l.push(this._defaultSlide),this._slideIdx=(null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.length)&&void 0!==d?d:0)-1,this.openSlide(void 0,this._slideIdx)}insertSlide(l,d,s){var f,p,C,I,M;let Y=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.find(Q=>Q.id==l))&&void 0!==f?f:this._defaultSlide,A=(null!==(C=null===(I=this._dataSource.slides)||void 0===I?void 0:I.indexOf(Y))&&void 0!==C?C:0)+d;var et;s?(s.id=this.newSlideId,s.code=void 0,s.name="Trang m\u1edbi",null!==(et=s.svg)&&void 0!==et&&et.viewBox||s.svg&&(s.svg.viewBox={x:0,y:0,width:Bt.screen.default_width,height:Bt.screen.default_height})):s=this._defaultSlide,null===(M=this._dataSource.slides)||void 0===M||M.splice(A,0,s),this._slideIdx=A,this.openSlide(void 0,this._slideIdx)}copySlide(l){var d,s,f,p,C,I,M;let Y=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(Q=>Q.id==l))&&void 0!==d?d:this._defaultSlide,A=(null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(Y))&&void 0!==f?f:0)+1,et=Object.assign(JSON.parse(JSON.stringify(Y)),{id:this.newSlideId,code:void 0,name:`${Y.name} + (Copy)`});null===(C=this._dataSource.slides)||void 0===C||C.splice(A,0,et),this.changeSlide(this.slides,this.slideIdx,null!==(I=null===(M=this._dataSource.slides)||void 0===M?void 0:M.length)&&void 0!==I?I:0,this.slide)}moveSlide(l,d){var s,f,p,C,I,M;let Y=null!==(s=null===(f=this._dataSource.slides)||void 0===f?void 0:f.find(et=>et.id==l))&&void 0!==s?s:this._defaultSlide,A=null!==(p=null===(C=this._dataSource.slides)||void 0===C?void 0:C.indexOf(Y))&&void 0!==p?p:0;null===(I=this._dataSource.slides)||void 0===I||I.splice(A+d,0,null===(M=this._dataSource.slides)||void 0===M?void 0:M.splice(A,1)[0])}deleteSlide(l){var d,s,f,p,C,I;let M=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(Q=>Q.id==l))&&void 0!==d?d:this._defaultSlide,Y=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(M))&&void 0!==f?f:0;if(null===(C=this._dataSource.slides)||void 0===C||C.splice(Y,1),null!==(I=this._dataSource.slides)&&void 0!==I&&I.length)if(Y<this._slideIdx){var A,et;--this._slideIdx,this.changeSlide(this.slides,this.slideIdx,null!==(A=null===(et=this._dataSource.slides)||void 0===et?void 0:et.length)&&void 0!==A?A:0,this.slide)}else Y==this._slideIdx&&(--this._slideIdx,this.openSlide(void 0,this._slideIdx));else this.addSlide()}deleteSlide1(l){var d,s,f,p,C;let I=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(Y=>Y.id==l))&&void 0!==d?d:this._defaultSlide,M=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(I))&&void 0!==f?f:0;if(I.isdeleted=!0,null!==(C=this._dataSource.slides)&&void 0!==C&&null!==(C=C.filter(Y=>!Y.isdeleted))&&void 0!==C&&C.length){let Y=!0;for(;I.isdeleted;)Y?M++:M--,this._dataSource.slides[M]?I=this._dataSource.slides[M]:Y=!Y;this.openSlide(I.id)}else this.addSlide()}set onChangeSlide(l){this._fnChangeSlides.push(l)}changeSlide(l,d,s,f){this._fnChangeSlides.forEach(p=>p(l,d,s,f))}set node(l){var d,s;let f=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((C,I)=>I==this._slideIdx),p=null==f?void 0:f.svg;null!=p&&p.nodes&&(null==p||p.nodes.push(l)),Bt.history.push([{type:"add",from:{id:l.id},to:{id:l.id}}]),(0,re.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id)}findNode(l){var d;let s=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((Q,ct)=>ct==this._slideIdx),f=null==s?void 0:s.svg,p=(Q,ct)=>{let _t=null==Q?void 0:Q.find(me=>me.id==l);if(_t)return _t.pid=ct,_t;let bt=0,de=Q.length||0;for(;bt<de&&!_t&&(_t=p(Q[bt].nodes||[],Q[bt].id),!_t);)bt++;return _t},C=p((null==f?void 0:f.nodes)||[]);var I,M,Y,A,et;return C?(C.style=null!==(I=C.style)&&void 0!==I?I:{},C.source=null!==(M=C.source)&&void 0!==M?M:{},C.animate=null!==(Y=C.animate)&&void 0!==Y?Y:{},C.interactive=null!==(A=C.interactive)&&void 0!==A?A:{},C.variable=null!==(et=C.variable)&&void 0!==et?et:{},C):{id:0,size:{x:0,y:0,width:0,height:0},attribute:{},isfake:!0}}getNode(l){var d;let s=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((I,M)=>M==this._slideIdx),f=null==s?void 0:s.svg,C=I=>{let M=(null==I?void 0:I.find(_t=>_t.id==l))||(I=>{let M=null,Y=0,A=I.length||0;for(;Y<A&&!M;){if(M=C(I[Y].nodes),M){M.pid=I[Y].id;break}Y++}var et,Q,ct,_t,bt;return M&&(M.style=null!==(et=M.style)&&void 0!==et?et:{},M.source=null!==(Q=M.source)&&void 0!==Q?Q:{},M.animate=null!==(ct=M.animate)&&void 0!==ct?ct:{},M.interactive=null!==(_t=M.interactive)&&void 0!==_t?_t:{},M.variable=null!==(bt=M.variable)&&void 0!==bt?bt:{}),M})((null==I?void 0:I.filter(_t=>_t.type==J.$.GROUP))||[]);var Y,A,et,Q,ct;return M&&(M.style=null!==(Y=M.style)&&void 0!==Y?Y:{},M.source=null!==(A=M.source)&&void 0!==A?A:{},M.animate=null!==(et=M.animate)&&void 0!==et?et:{},M.interactive=null!==(Q=M.interactive)&&void 0!==Q?Q:{},M.variable=null!==(ct=M.variable)&&void 0!==ct?ct:{}),M};return C((null==f?void 0:f.nodes)||[])||{id:null,element:document.createElement("div"),size:{x:0,y:0,width:0,height:0},attribute:{},style:{},source:{},animate:{},interactive:{},variable:{},isfake:!0}}getNodeInArea(l,d,s,f,p){var C;let I=null===(C=this._dataSource.slides)||void 0===C?void 0:C.find((A,et)=>et==this._slideIdx),M=null==I?void 0:I.svg,Y=A=>{let et=[];return A.filter(Q=>!Q.isdeleted).forEach(Q=>{Q.type==J.$.GROUP?et=et.concat(Y(Q.nodes||[])):l>Q.size.x||d>Q.size.y||s<Q.size.x+Q.size.width||f<Q.size.y+Q.size.height||(p?Q.type==p&&et.push(Q.id):et.push(Q.id))}),et};return Y((null==M?void 0:M.nodes)||[])}getNodeOnArea(l,d,s,f,p){var C;let I=null===(C=this._dataSource.slides)||void 0===C?void 0:C.find((A,et)=>et==this._slideIdx),M=null==I?void 0:I.svg,Y=A=>{let et=[];return A.filter(Q=>!Q.isdeleted).forEach(Q=>{Q.type==J.$.GROUP?et=et.concat(Y(Q.nodes||[])):Q.size.x+Q.size.width<l||Q.size.y+Q.size.height<d||Q.size.x>s||Q.size.y>f||(p?Q.type==p&&et.push(Q.id):et.push(Q.id))}),et};return Y((null==M?void 0:M.nodes)||[])}deleteNode(l,d){var s;return this.getNode(l).isdeleted=null==d||d,(0,re.E)(this.slide),(0,re.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),l}unGroup(l){var d,s;let f=this.getNode(l),p=Math.ceil(1e9*Math.random());return null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.push(Object.assign(JSON.parse(JSON.stringify(f)),{id:p})),Object.assign(f,{isdeleted:!0}),(0,re.E)(this.slide),(0,re.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),p}addGroup(l,d){var s;let f=this.getNode(l),p=this.getNode(d);p.nodes=p.nodes||[];let C=Math.ceil(1e9*Math.random());return p.nodes.push(Object.assign(JSON.parse(JSON.stringify(f)),{id:C})),Object.assign(f,{isdeleted:!0}),(0,re.E)(this.slide),(0,re.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),C}setNodeP(l,d){var s;let f=null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s?void 0:s.nodes.find(p=>p.id==l);f&&(f.pid=d||null)}bringToFront(l){var d,s,f;let p=l.map(ct=>Bt.data.getNode(ct)).filter(ct=>!ct.isfake),{x1:C,y1:I,x2:M,y2:Y}=ye(p),A=this.getNodeOnArea(C,I,M,Y);null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.forEach((ct,_t)=>{ct.idx=_t+1});let et=A.map(ct=>{var _t,bt;return null!==(_t=null===(bt=this.slide)||void 0===bt||null===(bt=bt.svg)||void 0===bt||null===(bt=bt.nodes.find(de=>de.id==ct))||void 0===bt?void 0:bt.idx)&&void 0!==_t?_t:0}),Q=Math.max.apply(null,et);l.forEach((ct,_t)=>{var bt;null===(bt=this.slide)||void 0===bt||null===(bt=bt.svg)||void 0===bt||bt.nodes.filter(de=>de.id==ct).forEach(de=>{de.idx=Q+(_t+1)/100})}),null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.sort((ct,_t)=>{var bt,de;return(null!==(bt=ct.idx)&&void 0!==bt?bt:0)-(null!==(de=_t.idx)&&void 0!==de?de:0)}),(0,re.T)(this.slide),null===(f=window.document.getElementById(st.O.SELECT_GROUP))||void 0===f||f.remove(),(0,K.Q)(p)}sendToBack(l){var d,s,f;let p=l.map(ct=>Bt.data.getNode(ct)).filter(ct=>!ct.isfake),{x1:C,y1:I,x2:M,y2:Y}=ye(p),A=this.getNodeOnArea(C,I,M,Y);null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.forEach((ct,_t)=>{ct.idx=_t+1});let et=A.map(ct=>{var _t,bt;return null!==(_t=null===(bt=this.slide)||void 0===bt||null===(bt=bt.svg)||void 0===bt||null===(bt=bt.nodes.find(de=>de.id==ct))||void 0===bt?void 0:bt.idx)&&void 0!==_t?_t:0}),Q=Math.min.apply(null,et)-1;l.forEach((ct,_t)=>{var bt;null===(bt=this.slide)||void 0===bt||null===(bt=bt.svg)||void 0===bt||bt.nodes.filter(de=>de.id==ct).forEach(de=>{de.idx=Q+(_t+1)/100})}),null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.sort((ct,_t)=>{var bt,de;return(null!==(bt=ct.idx)&&void 0!==bt?bt:0)-(null!==(de=_t.idx)&&void 0!==de?de:0)}),(0,re.T)(this.slide),null===(f=window.document.getElementById(st.O.SELECT_GROUP))||void 0===f||f.remove(),(0,K.Q)(p)}}const ye=U=>{let l=999999,d=999999,s=-999999,f=-999999;return U.forEach(p=>{l=Math.min(l,p.size.x),d=Math.min(d,p.size.y),s=Math.max(s,p.size.x+p.size.width),f=Math.max(f,p.size.y+p.size.height)}),{x1:l,y1:d,x2:s,y2:f}};class Be{constructor(){this._index=-1,this._dataSource=[],this.undoExecute=l=>{l.forEach(function(d){switch(d.type){case"add":Bt.data.deleteNode(d.from.id);break;case"edit":break;case"delete":Bt.data.deleteNode(d.from.id,!1);break;case"size":{let{id:s,type:f,size:p,attribute:C}=Bt.data.getNode(d.from.id);Object.assign(p,d.from.size),Object.assign(C,(0,b.sg)(f,p)),(0,ut.__)(window.document.getElementById(s),C);break}case"attribute":{let{id:s,attribute:f}=Bt.data.getNode(d.from.id);Object.assign(f,d.from.attribute),(0,ut.__)(window.document.getElementById(s),f);break}case"style":{let{id:s,style:f}=Bt.data.getNode(d.from.id);Object.assign(null!=f?f:{},d.from.style),(0,ut.DB)(window.document.getElementById(s),f);break}case"source":{let{id:s,type:f,source:p}=Bt.data.getNode(d.from.id);Object.assign(null!=p?p:{},d.from.source),(0,ut.QI)(window.document.getElementById(s),f,null!=p?p:{});break}case"animate":{let{animate:s}=Bt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.animate);break}case"interactive":{let{interactive:s}=Bt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.interactive);break}case"variable":{let{variable:s}=Bt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.variable);break}}}),Bt.dataSelect.ids=[]},this.redoExecute=l=>{l.forEach(function(d){switch(d.type){case"add":Bt.data.deleteNode(d.to.id,!1);break;case"edit":break;case"delete":Bt.data.deleteNode(d.to.id,!0);break;case"size":{let{id:s,type:f,size:p,attribute:C}=Bt.data.getNode(d.to.id);Object.assign(p,d.to.size),Object.assign(C,(0,b.sg)(f,p)),(0,ut.__)(window.document.getElementById(s),C);break}case"attribute":{let{id:s,attribute:f}=Bt.data.getNode(d.to.id);Object.assign(f,d.to.attribute),(0,ut.__)(window.document.getElementById(s),f);break}case"style":{let{id:s,style:f}=Bt.data.getNode(d.to.id);Object.assign(null!=f?f:{},d.to.style),(0,ut.DB)(window.document.getElementById(s),f);break}case"source":{let{id:s,type:f,source:p}=Bt.data.getNode(d.to.id);Object.assign(null!=p?p:{},d.to.source),(0,ut.QI)(window.document.getElementById(s),f,null!=p?p:{});break}case"animate":{let{animate:s}=Bt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.animate);break}case"interactive":{let{interactive:s}=Bt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.interactive);break}case"variable":{let{variable:s}=Bt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.variable);break}}}),Bt.dataSelect.ids=[]},this._fnChanges=[],this._index=-1,this._dataSource=[]}get index(){return this._index}get total(){return this._dataSource.length}get dataSource(){return this._dataSource}renew(){this._index=-1,this._dataSource=[],this.change()}push(l){this._index<0?(this._index=0,this._dataSource.length=0,this._dataSource[this._index]={data:l}):(this._index<this._dataSource.length-1&&this._dataSource.splice(this._index+1,this._dataSource.length-this._index-1),this._index++,this._dataSource.push({data:l})),this.change()}undo(){this._index<0||(this.undoExecute(this._dataSource[this._index].data),this._index--,this.change())}redo(){this._index>=this._dataSource.length-1||(this._index++,this.redoExecute(this._dataSource[this._index].data),this.change())}set onchange(l){this._fnChanges.push(l)}change(){this._fnChanges.forEach(l=>l(this.index,this.total))}}var Ce=w(7797);class Ae{constructor(l){var d,s,f;this._default_width=1080,this._default_height=1080,this._scale=1,this._position={x:0,y:0},this._offset={x:0,y:0},this._actived=!1,this._fnZoomChanges=[],this._default_width=null!==(d=null==l?void 0:l.default_width)&&void 0!==d?d:this._default_width,this._default_height=null!==(s=null!==(f=null==l?void 0:l.default_height)&&void 0!==f?f:null==l?void 0:l.default_width)&&void 0!==s?s:this._default_height,this._x=0,this._y=0,this._width=this._default_width,this._height=this._default_height,this._posScale={x:Math.ceil(window.innerWidth/2),y:Math.ceil(window.innerHeight/2)}}get actived(){return this._actived}set actived(l){this._actived=l}get default_width(){return this._default_width}set default_width(l){this._default_width=l}get default_height(){return this._default_height}set default_height(l){this._default_height=l}get get(){return{x:this._x,y:this._y,w:this._default_width,h:this._default_height,width:this._default_width,height:this._default_height}}set set(l){this._default_width=l.width,this._default_height=l.height,this.zoomTo="fit"}get width(){return this._width}get height(){return this._height}get scale(){return this._scale}set position(l){this._position=l}get position(){return this._position}set offset(l){this._offset=l}get offset(){return this._offset}refScreen(){(0,ut.eb)()}scaleTo(l,d){if(!(l<.1||l>10)){var s=this._scale-l;this._posScale=d||this._posScale;var f=(0,Ce.p)(this._posScale,this._scale,this._position,this._offset),p={x:Math.max(0,Math.min((0,y.q)(f.x/this._default_width,100),1)),y:Math.max(0,Math.min((0,y.q)(f.y/this._default_height,100),1))},C={x:this._default_width*s*p.x,y:this._default_height*s*p.y};this._width=this._default_width*l,this._height=this._default_height*l,this._scale=(0,y.q)(l,1e4),this._position={x:(0,y.q)(this._position.x+C.x,1e4),y:(0,y.q)(this._position.y+C.y,1e4)},this.zoomChange(this.scale),this.refScreen()}}set positionTo(l){this._position=l,this.refScreen()}set positionToWithType(l){"center"===l.type&&(this._position={x:(l.width-this._default_width)/2,y:(l.height-this._default_height)/2}),this.refScreen()}set offsetTo(l){this._offset=l}set zoomTo(l){let d=P(Bt.container).width()||1,s=P(Bt.container).height()||1;var p;this._scale="fit"===(this._offset={x:(null==(p=P(Bt.container).offset())?void 0:p.left)||0,y:(null==p?void 0:p.top)||0},l)?Math.min((0,y.q)((d-60)/Bt.screen._default_width,1e3),(0,y.q)((s-60)/Bt.screen._default_height,1e3)):(0,y.q)(l/100,100),this._width=this._default_width*this._scale,this._height=this._default_height*this._scale,this._position={x:(0,y.q)((d-this._width)/2,1e3),y:(0,y.q)((s-this._height)/2,1e3)},this.zoomChange(this.scale),this.refScreen()}set onZoomChange(l){this._fnZoomChanges.push(l)}zoomChange(l){this._fnZoomChanges.forEach(d=>d(l))}}var Xe=w(644);class tn{constructor(){this._fill="#D9D9D9",this._stroke="#AAAAAA",this._strokeWidth=1,this._strokeLinecap="round",this._strokeLinejoin="round",this._fontFamily=null,this._fontSize=20,this._textLength=null,this._fnChangeFills=[],this._fnChangeStrokes=[],this._fnChangeStrokeWidths=[],this.loadConfig()}loadConfig(){(0,Xe.sV)({callback:l=>{this._fill=(null==l?void 0:l.fill)||this._fill,this._stroke=(null==l?void 0:l.stroke)||this._stroke,this._strokeWidth=(null==l?void 0:l.strokeWidth)||this._strokeWidth,this._strokeLinecap=(null==l?void 0:l.strokeLinecap)||this._strokeLinecap,this._strokeLinejoin=(null==l?void 0:l.strokeLinejoin)||this._strokeLinejoin,this.changeFill(this.fill),this.changeStroke(this.stroke),this.changeStrokeWidth(this.strokeWidth)}})}saveConfig(){(0,Xe.qp)({params:{fill:this._fill,stroke:this._stroke,strokeWidth:this._strokeWidth,strokeLinecap:this._strokeLinecap,strokeLinejoin:this._strokeLinejoin}})}get fill(){return this._fill}set fill(l){this._fill=l,this.changeFill(this.fill)}get stroke(){return this._stroke}set stroke(l){this._stroke=l,this.changeStroke(this.stroke)}get strokeWidth(){return this._strokeWidth}set strokeWidth(l){this._strokeWidth=l,this.changeStrokeWidth(this.strokeWidth)}get strokeLinecap(){return this._strokeLinecap}set strokeLinecap(l){this._strokeLinecap=l}get strokeLinejoin(){return this._strokeLinejoin}set strokeLinejoin(l){this._strokeLinejoin=l}get fontFamily(){return this._fontFamily}get fontSize(){return this._fontSize}get textLength(){return this._textLength}set onchangefill(l){this._fnChangeFills.push(l)}changeFill(l){this._fnChangeFills.forEach(d=>d(l)),this.saveConfig()}set onchangestroke(l){this._fnChangeStrokes.push(l)}changeStroke(l){this._fnChangeStrokes.forEach(d=>d(l)),this.saveConfig()}set onchangestrokewidth(l){this._fnChangeStrokeWidths.push(l)}changeStrokeWidth(l){this._fnChangeStrokeWidths.forEach(d=>d(l)),this.saveConfig()}}var Ei=w(1690),en=w(5973),nn=w(4787),ni=function(U){return U&&JSON.parse(JSON.stringify(U))},Ii=[{key:"FinishedTest",type:"boolean",value:!1,note:"Ho\xe0n th\xe0nh BKT",system:!0,readonly:!1},{key:"TotalTest",type:"number",value:0,note:"T\u1ed5ng s\u1ed1 BKT",system:!0,readonly:!1},{key:"TotalTestDidNotPass",type:"number",value:0,note:"S\u1ed1 BKT kh\xf4ng v\u01b0\u1ee3t qua",system:!0,readonly:!1},{key:"TotalTestPassed",type:"number",value:0,note:"S\u1ed1 BKT \u0111\xe3 v\u01b0\u1ee3t qua",system:!0,readonly:!1}],$i=[],pi={key:"BienSo",value:"0",type:"number",note:null,readonly:!1},ci={if:[{type:"variable",variable:"BienSo",variables:null,slide:null,node:null,condition:">",operator:null,valuetype:"value",value:5}],then:[{type:"variable",variable:"BienChu",variables:null,slide:null,node:null,condition:null,operator:"=",valuetype:"value",value:"BienSo > 5"}],else:[{type:"variable",variable:"BienChu",variables:null,slide:null,node:null,condition:null,operator:"=",valuetype:"value",value:"BienSo <= 5"}],id:"57623302",idx:1,variables:["BienSo"]};class Bi{constructor(){this._data_variables=ni(Ii).concat(ni($i)),this._data_conditions=[],this.GetActionExecutings=[],this.GetActionExecuteds=[],this.FuncGetExecuteds=l=>{"function"==typeof l&&this.GetActionExecuteds.push(l)},this.OnGetActionExecuted=l=>{this.GetActionExecuteds.forEach(d=>{d(l)})},this.SetActionExecutings=[],this.FuncSetExecutings=l=>{"function"==typeof l&&this.SetActionExecutings.push(l)},this.OnSetActionExecuting=l=>{this.SetActionExecutings.forEach(d=>{d(l)})},this.SetActionExecuteds=[],this.FuncSetExecuteds=l=>{"function"==typeof l&&this.SetActionExecuteds.push(l)},this.OnSetActionExecuted=l=>{for(var d of(this.SetActionExecuteds.forEach(s=>{s(l)}),this.getCondition(l.key)||[]))d.if&&d.if.length>0&&(this.checkValueConditions(d.if)?this.setValueOperators(d.then||[]):this.setValueOperators(d.else||[]))}}renew(){this._data_variables=ni(Ii).concat(ni($i)),this._data_conditions=[]}get totalVariable(){return this._data_variables.length}get totalCondition(){return this._data_conditions.length}get get(){return{variables:this._data_variables||[],conditions:this._data_conditions||[]}}set set(l){if(!l)return;let d={};"string"==typeof l?d=JSON.parse(l):"object"==typeof l&&(d=l),this._data_variables=d.variables||[],this._data_conditions=d.conditions||(s=>(this._data_variables.map(f=>f.change||[]).forEach(f=>{s=s.concat(f)}),s))([]),Ii.forEach(s=>{var f=this._data_variables.filter(p=>p.key==s.key);f.length?f.forEach(function(p,C,I){p.type=s.type,p.readonly=s.readonly,p.system=s.system}):this._data_variables.push(s)})}getVariableTemp(){return ni(pi)}getConditionTemp(){return ni(ci)}getKeys(){return this._data_variables.map(function(l){return l.key}).sort(function(l,d){return l.localeCompare(d)})}getVariableAll(){return this._data_variables.length?ni((U=this._data_variables,l="key",function(d){for(var s of U.map(function(f){return f[l]}).sort())U.filter(function(f){return f[l]==s}).forEach(function(f){d.push(f)}),U=U.filter(function(f){return f[l]!=s});return d}([]))):ni(Ii).concat(ni($i));var U,l}setVariableAll(l){l&&("string"==typeof l&&(l=JSON.parse(l)),"object"==typeof l&&(this._data_variables=l),Ii.forEach(d=>{var s=this._data_variables.filter(f=>f.key==d.key);s.length?s.forEach((f,p,C)=>{f.type=d.type,f.readonly=d.readonly,f.system=d.system}):this._data_variables.push(d)}))}getVariable(l){return l?ni(this._data_variables.filter(d=>d.key==l)[0]||{}):{}}setVariable(l,d,s){if(l){switch([null,void 0,NaN,1/0].indexOf(d)>=0&&(d=""),s||(s=(this._data_variables.filter(p=>p.key==l)[0]||{}).type||null),s){case"string":"string"!=typeof d&&(d=d.toString().trim());break;case"number":"number"!=typeof d&&(d=parseFloat(d)||0);break;case"boolean":"string"==typeof d&&(d=d.toLowerCase()),"boolean"!=typeof d&&(d="1"==d||"true"==d||"yes"==d||"dung"==d)}var f=this._data_variables.filter(p=>p.key==l);f.length?f.forEach(function(p,C,I){p.value=d,p.type=s}):this._data_variables.push({key:l,value:d,type:s})}}getValue(l,d){if(!l)return"";var s=this._data_variables.filter(function(C){return C.key==l});if(s.length){var p,f=s[0]||{};switch(this.OnGetActionExecuting(f),d||(d=f.type||null),d){case"string":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":"string"==typeof f.value?f.value||"":f.value.toString().trim();break;case"number":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?0:"number"==typeof f.value?f.value||0:parseFloat(f.value)||0;break;case"boolean":[null,void 0,NaN,1/0].indexOf(f.value)>=0?p=!1:"boolean"==typeof f.value?p=f.value:(p=(f.value+"").toLowerCase(),p="1"==f.value||"true"==f.value||"yes"==f.value||"dung"==f.value);break;case"audio-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<audio controls style="width:280px;vertical-align:middle;"><source src="${f.value}"></source></audio>`:"";break;case"video-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<video controls style="width:280px;vertical-align:middle;"><source src="${f.value}"></source></video>`:"";break;case"img-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<img style="width:100%;vertical-align:middle;" src="${f.value}"/>`:"";break;default:p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value}return this.OnGetActionExecuted(f),p}return null}setValue(l,d,s){if(l){switch([null,void 0,NaN,1/0].indexOf(d)>=0&&(d=""),s||(s=(this._data_variables.filter(function(C){return C.key==l})[0]||{}).type||null),s){case"string":"string"!=typeof d&&(d=d.toString().trim());break;case"number":"number"!=typeof d&&(d=parseFloat(d)||0);break;case"boolean":"string"==typeof d&&(d=d.toLowerCase()),"boolean"!=typeof d&&(d="1"==d||"true"==d||"yes"==d||"dung"==d)}var f=this._data_variables.filter(function(C){return C.key==l});if(f.length){var p=f[0];this.OnSetActionExecuting(p),p&&(p.value=d),this.OnSetActionExecuted(p)}}}getConditionAll(){return ni(this._data_conditions.sort(function(l,d){return l.idx-d.idx}))}setConditionAll(l){l&&("string"==typeof l&&(l=JSON.parse(l)),"object"==typeof l&&(this._data_conditions=l))}getCondition(l){return l?ni(this._data_conditions.filter(d=>d.variable==l||(d.variables||[]).indexOf(l)>=0).sort(function(d,s){return d.idx-s.idx})):{}}switchCondition(l,d,s){switch(l){case"==":return"string"==typeof s?(s=s.toLowerCase().trim(),"string"==typeof d&&(d=d.toLowerCase().trim()),s.split(";").map(function(f){return d==f.trim()?1:0}).reduce(function(f,p){return f+p})>0):d==s;case"!=":return"string"==typeof s?(s=s.toLowerCase().trim(),"string"==typeof d&&(d=d.toLowerCase().trim()),0==s.split(";").map(function(f){return d==f.trim()?1:0}).reduce(function(f,p){return f+p})):d!=s;case">=":return d>=s;case"<=":return d<=s;case">":return d>s;case"<":return d<s;case"\u2208":return s=(s+"").toLowerCase().trim(),d=(d+"").toLowerCase().trim(),s.split(";").map(function(f){return d.indexOf(f.trim())>=0?1:0}).reduce(function(f,p){return f+p})>0;case"\u2209":return s=(s+"").toLowerCase().trim(),d=(d+"").toLowerCase().trim(),0==s.split(";").map(function(f){return d.indexOf(f.trim())>=0?1:0}).reduce(function(f,p){return f+p});default:return!1}}switchOperator(l,d,s){switch(l){case"+":return d+s;case"-":return d-s;case"*":return d*s;case"/":return d/s;case"=":return s;case"=!":return!s;case"==":return d==s;case"!=":return d!=s}}switchFormula(l,d){switch(l){case"sum":return d.reduce(function(f,p){return f+p});case"sub":return d.reduce(function(f,p){return f-p});case"pro":return d.reduce(function(f,p){return f*p});case"div":return d.reduce(function(f,p){return f/p});case"avg":var s=d.reduce(function(f,p){return f+p})/(d.length||1);return Math.round(1e4*(s+Number.EPSILON))/1e4;case"min":return Math.min.apply(null,d);case"max":return Math.max.apply(null,d);case"and":return d.reduce(function(f,p){return f&&p});case"or":return d.reduce(function(f,p){return f||p});default:return 0}}switchValueType_Condition(l){switch(l.valuetype){case"value":return this.switchCondition(l.condition,this.getValue(l.variable),l.value);case"variable":return this.switchCondition(l.condition,this.getValue(l.variable),this.getValue(l.value));default:return 0}}switchValueType_Operator(l){switch(l.valuetype){case"value":return this.switchOperator(l.operator,this.getValue(l.variable),l.value);case"variable":return this.switchOperator(l.operator,this.getValue(l.variable),this.getValue(l.value));case"variables":var d=this.switchFormula(l.valueformula,l.value.map(s=>this.getValue(s)));return this.switchOperator(l.operator,this.getValue(l.variable),d)}}checkValueCondition(l){return this.switchValueType_Condition(l)}getValueOperator(l){return this.switchValueType_Operator(l)}setValueOperator(l){null!=l&&l.variable&&this.setValue(l.variable,this.getValueOperator(l))}checkValueConditions(l){return 0==l.map(d=>{switch(d.type){case"variable":return this.switchValueType_Condition(d)?0:1;case"variables":return 0==d.variables.map(s=>this.switchValueType_Condition(Object.assign(ni(d),{variable:s}))?0:1).reduce(function(s,f){return s+f})?0:1;default:return 0}}).reduce((d,s)=>(null!=d?d:0)+(null!=s?s:0))}setValueOperators(l){for(var d of l)switch(d.type){case"variable":this.setValue(d.variable,this.getValueOperator(d));break;case"variables":for(var s of d.variables)this.setValue(s,this.getValueOperator(Object.assign(ni(d),{variable:s})));break;case"slide":Ei.$.runSlide(void 0,void 0,d.slide);break;case"node":{var f;(0,nn.L5)({id:d.node,nodeStatus:Ei.$.nodeStatus,slideStatus:Ei.$.slideStatus});let p=Ei.$.findNode(d.node);null!=p&&null!==(f=p.interactive)&&void 0!==f&&f.click&&(0,en.F)(p,Ei.$.nodeStatus,Ei.$.slideStatus);break}}}FuncGetExecutings(l){"function"==typeof l&&this.GetActionExecutings.push(l)}OnGetActionExecuting(l){this.GetActionExecutings.forEach(d=>{d(l)})}}class rn{constructor(){this._fnChangePointerTypes=[],this._fnChangePointerTypeTemps=[],this._fnChangePenTypes=[],this._fnChangeShapeTypes=[],this._fnChangePolygonTypes=[],this._fnChanges=[],this._pointer_type=0,this._pointer_type_temp=0,this._pen_type=0,this._shape_type=0,this._polygon_type=0}setPointer_nochange(l,d,s){if(this._pointer_type=l,d)switch(l){case R._.PEN:this._pen_type=d;break;case R._.SHAPE:this._shape_type=d,s&&d===J.$.POLYGON&&(this._polygon_type=s)}}get pointer_type(){return this._pointer_type}set pointer_type(l){this._pointer_type=l,this.changePointerType(this.pointer_type),this.change(this.pointer_type)}get pointer_type_temp(){return this._pointer_type_temp}set pointer_type_temp(l){this._pointer_type_temp=l,this.changePointerTypeTemp(this.pointer_type),this.change(this.pointer_type_temp)}get pen_type(){return this._pen_type}set pen_type(l){this._pen_type=l,this.changePenType(this.pointer_type,this.pen_type),this.change(this.pointer_type,this.pen_type)}get shape_type(){return this._shape_type}set shape_type(l){this._shape_type=l,this.changeShapeType(this.pointer_type,this.shape_type),this.change(this.pointer_type,this.shape_type)}get polygon_type(){return this._polygon_type}set polygon_type(l){this._polygon_type=l,this.changePolygonType(this.pointer_type,this.shape_type,this.polygon_type),this.change(this.pointer_type,this.shape_type,this.polygon_type)}set onchangePointerType(l){this._fnChangePointerTypes.push(l)}changePointerType(l,d,s){this._fnChangePointerTypes.forEach(f=>f(l,d,s))}set onchangePointerTypeTemp(l){this._fnChangePointerTypeTemps.push(l)}changePointerTypeTemp(l,d,s){this._fnChangePointerTypeTemps.forEach(f=>f(l,d,s))}set onchangePenType(l){this._fnChangePenTypes.push(l)}changePenType(l,d,s){this._fnChangePenTypes.forEach(f=>f(l,d,s))}set onchangeShapeType(l){this._fnChangeShapeTypes.push(l)}changeShapeType(l,d,s){this._fnChangeShapeTypes.forEach(f=>f(l,d,s))}set onchangePolygonType(l){this._fnChangePolygonTypes.push(l)}changePolygonType(l,d,s){this._fnChangePolygonTypes.forEach(f=>f(l,d,s))}set onchange(l){this._fnChanges.push(l)}change(l,d,s){this._fnChanges.forEach(f=>f(l,d,s))}}const Bt=new class an{constructor(){this._container="",this._svg="",this._screen=Ae.prototype,this._data=pe.prototype,this._dataSelect=Jt.prototype,this._slide=Te.prototype,this._history=Be.prototype,this._attribute=tn.prototype,this._pointer=rn.prototype,this._variable=Bi.prototype,this._data=new pe,this._dataSelect=new Jt,this._slide=new Te,this._history=new Be,this._attribute=new tn,this._pointer=new rn,this._variable=new Bi,this._pointer.onchangePointerType=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])},this._pointer.onchangePointerTypeTemp=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])},this._data.onChangeSlide=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])}}get config(){return this._config}set config(l){this._config=l}get dataSource(){return{modules:"icdtV2",screen:this._screen.get,data:this._data.get,resources:this._data.getResource,variable:this._variable.get,info:{}}}set dataSource(l){this._screen.set=l.screen||{width:1280,height:720},this._data.set=l.data||{},this._variable.set=l.variable||{}}get container(){return this._container}set container(l){this._container=l}get svg(){return this._svg}set svg(l){this._svg=l}get target(){return window.document.querySelector(this._svg)}get screen(){return this._screen}get data(){return this._data}get dataSelect(){return this._dataSelect}get slide(){return this._slide}get history(){return this._history}get attribute(){return this._attribute}get pointer(){return this._pointer}get variable(){return this._variable}reloadOffset(){var l;this._screen.offsetTo={x:(null==(l=jQuery(this._container).offset())?void 0:l.left)||0,y:(null==l?void 0:l.top)||0}}init(l){this._container=l.container,this._svg=l.target,this._screen=new Ae({default_width:l.width,default_height:l.height}),(U=>{new ut.Mh(U.container,U.target),Bt.pointer.onchange=(s,f,p)=>{switch(s){case R._.POINTER:P(U.target).css({cursor:"auto"});break;case R._.HAND:P(U.target).css({cursor:"grab"});break;case R._.PEN:switch(f){case Dt.D.DRAW:P(U.target).css({cursor:"url(assets/images/svg/icon/viet.png) 12 32,default"});break;case Dt.D.HIGHTLIGH:P(U.target).css({cursor:"url(assets/images/svg/icon/highlight1.png) 12 32,default"})}break;case R._.ERASER:P(U.target).css({cursor:"url(assets/images/svg/icon/gom.png) 22 22,default"});break;case R._.SHAPE:P(U.target).css({cursor:"url(assets/images/svg/icon/point.png) 22 22,default"});break;case R._.TEXT:case R._.FOREIGNOBJECT:P(U.target).css({cursor:"url(assets/images/svg/icon/textmouse.png) 22 22,default"})}},P(U.container).off("mousedown.icdt-init-icon").on("mousedown.icdt-init-icon",s=>{Bt.pointer.pointer_type==R._.HAND&&P(U.target).css({cursor:"grabbing"})}).off("mouseup.icdt-init-icon").on("mouseup.icdt-init-icon",s=>{Bt.pointer.pointer_type==R._.HAND&&P(U.target).css({cursor:"grab"})}),P(U.container).off("mousewheel.icdt-init").on("mousewheel.icdt-init",s=>{var f;s.preventDefault();var p=Bt.screen.scale,C=(null!==(f=s.originalEvent)&&void 0!==f?f:s).deltaY>0?1:-1;Bt.screen.scaleTo(p-.04*p*C,{x:s.clientX,y:s.clientY})}),P(window).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{Bt.screen.actived=!!P(s.target).parents("app-main").length}),P(U.container).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{0==s.button&&(U.container.includes("#")&&U.container.includes(s.target.getAttribute("id"))||U.container.includes(".")&&U.container.includes(s.target.getAttribute("class"))||U.container.includes(s.target.nodeName))&&(Bt.pointer.pointer_type_temp||Bt.pointer.pointer_type)===R._.POINTER&&(Bt.dataSelect.ids=[])}),P(U.container).off("touchmove.icdt-init").on("touchmove.icdt-init",s=>{s.preventDefault()});const l=s=>{switch(Bt.pointer.pointer_type_temp||Bt.pointer.pointer_type){case R._.POINTER:lt(s);break;case R._.HAND:(U=>{(0,G.A)(U,new it,1)})(s);break;case R._.PEN:(0,Se.i)(s);break;case R._.SHAPE:(U=>{var l=null;switch(Bt.pointer.shape_type){case J.$.CIRCLE:l=new H;break;case J.$.ELLIPSE:l=new dt;break;case J.$.LINE:l=new Xt;break;case J.$.RECT:l=new Tt;break;case J.$.POLYGON:var d;l=new te(null===(d=tt.find(s=>s.type==Bt.pointer.polygon_type))||void 0===d?void 0:d.ratios);break;case J.$.FOREIGNOBJECT:l=new Kt;break;case J.$.IMAGE:l=new Ft;break;case J.$.TEXT:case J.$.PATH:l=new Pe}l&&(0,G.A)(U,l)})(s);break;case R._.FOREIGNOBJECT:(U=>{(0,G.A)(U,new Kt)})(s);break;case R._.IMAGE:(U=>{(0,G.A)(U,new Ft)})(s);break;case R._.TEXT:(U=>{(0,G.A)(U,new Ct)})(s);break;case R._.ERASER:(U=>{(0,G.A)(U,new wt)})(s);break;case R._.INDEX:(0,vt.s)(s)}};let d=!1;P(U.target).off("touchstart.icdt-init").on("touchstart.icdt-init",s=>{d=!0,l({touchEvent:s})}),P(U.target).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{if(1!=s.button){if(d)return void(d=!1);l({mouseEvent:s})}}),U.iskeyboard&&(P(window).off("keydown.icdt-init").on("keydown.icdt-init",s=>{Bt.screen.actived&&((s.ctrlKey||s.altKey)&&(s.stopPropagation(),s.preventDefault()),(0,Oe.t)(s))}),P(window).off("keyup.icdt-init").on("keyup.icdt-init",s=>{Bt.screen.actived&&((s.ctrlKey||s.altKey)&&(s.stopPropagation(),s.preventDefault()),(0,Oe.t)(s))}))})({container:l.container,target:l.target,iskeyboard:l.iskeyboard})}}},4531:(Ne,Vt,w)=>{"use strict";w.d(Vt,{s:()=>O,Q:()=>k});var P=w(1687),R=w(4981),ut=w(4318),st=w(6816),J=w(4080);const O=L=>{var lt,Ot;let it=(null===(lt=L.mouseEvent)||void 0===lt?void 0:lt.target)||(null===(Ot=L.touchEvent)||void 0===Ot?void 0:Ot.target),j=(null==it?void 0:it.getAttribute("id"))||"",tt=null==it?void 0:it.nodeName,nt=$(it).parents("g[id]").attr("id")||"";if(![P.O.INDEX_GROUP].includes(nt))if(j&&!j.match(/[^0-9]/)&&R.icdt.dataSelect.nodeName.includes(tt)){var H,ht;let dt=parseFloat(j||"0");R.icdt.dataSelect.ids=null!==(H=L.mouseEvent)&&void 0!==H&&H.shiftKey||null!==(ht=L.touchEvent)&&void 0!==ht&&ht.shiftKey?[dt].concat(R.icdt.dataSelect.ids).filter((Tt,a,te)=>te.indexOf(Tt)==a):[dt],K(R.icdt.dataSelect.nodes)}else{var y;R.icdt.dataSelect.ids.length&&(R.icdt.dataSelect.ids=[]),(0==(null===(y=L.mouseEvent)||void 0===y?void 0:y.button)||L.touchEvent)&&((L,lt)=>{let nt=(0,J.g1)(P.O.SCAN_GROUP,"g"),y=(0,ut.bH)(0,0,1,1);(0,J.vl)(nt,y),((L,lt,Ot,it)=>{(0,st.A)(L,{start:nt=>{},move:(nt,y)=>{((nt,y,H,ht)=>{lt=(0,ut.bH)(nt,y,H,ht),(0,J.vl)(Ot,lt)})(y[0][0],y[0][1],nt.x,nt.y)},end:(nt,y)=>{null==Ot||Ot.remove(),R.icdt.dataSelect.ids=R.icdt.data.getNodeInArea(Math.min(y[0][0],nt.x),Math.min(y[0][1],nt.y),Math.max(y[0][0],nt.x),Math.max(y[0][1],nt.y)),it(R.icdt.dataSelect.nodes)}})})(L,y,nt,lt)})(L,K)}},K=L=>{var lt,Ot;let it=1;var j,tt;if(L.length&&(it=Math.max.apply(null,null!==(j=null===(tt=R.icdt.data.slide)||void 0===tt||null===(tt=tt.svg)||void 0===tt?void 0:tt.nodes.map(y=>{var H;return null!==(H=y.idx)&&void 0!==H?H:0}))&&void 0!==j?j:[0])+1),1==L.length)L[0].idx||(L[0].idx=it,L[0].time=0);else if(L.length>=0){let y=L.map(ht=>{var dt;return null!==(dt=ht.idx)&&void 0!==dt?dt:0}).filter(ht=>ht>0),H=y.length?Math.min.apply(null,y):it;L.forEach(ht=>{var dt;ht.idx=H,ht.time=null!==(dt=ht.time)&&void 0!==dt?dt:0})}let nt=(0,J.g1)(P.O.INDEX_GROUP,"g");(0,J.mo)(nt,null!==(lt=null===(Ot=R.icdt.data.slide)||void 0===Ot||null===(Ot=Ot.svg)||void 0===Ot?void 0:Ot.nodes)&&void 0!==lt?lt:[])},k=L=>{var lt,Ot,it;null!=L&&null!==(lt=L.svg)&&void 0!==lt&&lt.nodes&&L.svg.nodes.forEach(tt=>{tt.idx=0});let j=(0,J.g1)(P.O.INDEX_GROUP,"g");(0,J.mo)(j,null!==(Ot=null===(it=R.icdt.data.slide)||void 0===it||null===(it=it.svg)||void 0===it?void 0:it.nodes)&&void 0!==Ot?Ot:[])}},4578:(Ne,Vt,w)=>{"use strict";w.d(Vt,{h:()=>lt,t:()=>Ot});var P=w(644),R=w(7308),ut=w(968),st=w(4981),J=w(666),b=w(2966),G=w(5226),O=w(3423),K=w(5811),k=w(3385);const lt=new class L{constructor(){this._fnChanges=[],this.onchange={type:"keydown",key:R.s.Escape,fn:()=>{st.icdt.dataSelect.ids.length&&(st.icdt.dataSelect.ids=[])}},this.onchange={type:"keydown",key:R.s.Delete,fn:()=>{st.icdt.dataSelect.deleteNode()}},this.onchange={type:"keydown",key:R.s.Space,fn:()=>{st.icdt.pointer.pointer_type_temp=ut._.HAND}},this.onchange={type:"keyup",key:R.s.Space,fn:()=>{st.icdt.pointer.pointer_type_temp=ut._.POINTER}},this.onchange={type:"keydown",key:R.s.ArrowLeft,fn:()=>{st.icdt.dataSelect.ids.length||st.icdt.data.backSlide()}},this.onchange={type:"keydown",key:R.s.ArrowRight,fn:()=>{st.icdt.dataSelect.ids.length||st.icdt.data.nextSlide()}},this.onchange={type:"keydown",key:R.s.ArrowLeft,fn:()=>{st.icdt.dataSelect.ids.length&&(st.icdt.dataSelect.nodes.forEach(j=>{(0,k.k6)(j,(0,K.q)(j.size.x-(0,O.v)(1)))}),1==st.icdt.dataSelect.ids.length?(0,J.y)(st.icdt.dataSelect.nodes[0]):(0,b.Q)(st.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:R.s.ArrowRight,fn:()=>{st.icdt.dataSelect.ids.length&&(st.icdt.dataSelect.nodes.forEach(j=>{(0,k.k6)(j,(0,K.q)(j.size.x+(0,O.v)(1)))}),1==st.icdt.dataSelect.ids.length?(0,J.y)(st.icdt.dataSelect.nodes[0]):(0,b.Q)(st.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:R.s.ArrowUp,fn:()=>{st.icdt.dataSelect.ids.length&&(st.icdt.dataSelect.nodes.forEach(j=>{(0,k.co)(j,(0,K.q)(j.size.y-(0,O.v)(1)))}),1==st.icdt.dataSelect.ids.length?(0,J.y)(st.icdt.dataSelect.nodes[0]):(0,b.Q)(st.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:R.s.ArrowDown,fn:()=>{st.icdt.dataSelect.ids.length&&(st.icdt.dataSelect.nodes.forEach(j=>{(0,k.co)(j,(0,K.q)(j.size.y+(0,O.v)(1)))}),1==st.icdt.dataSelect.ids.length?(0,J.y)(st.icdt.dataSelect.nodes[0]):(0,b.Q)(st.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:R.s.Digit1,fn:j=>{j.shiftKey&&(st.icdt.screen.zoomTo="fit")}},this.onchange={type:"keydown",key:R.s.KeyA,fn:j=>{if(j.ctrlKey){st.icdt.dataSelect.ids=st.icdt.data.getNodeAll();let tt=st.icdt.dataSelect.nodes;1==tt.length?(0,J.y)(tt[0]):tt.length>1&&(0,b.Q)(tt)}}},this.onchange={type:"keydown",key:R.s.KeyC,fn:j=>{if(j.ctrlKey){let tt=st.icdt.dataSelect.nodes;tt&&(0,P.yR)({params:{type:"nodes",nodes:tt}})}}},this.onchange={type:"keydown",key:R.s.KeyV,fn:j=>{j.ctrlKey&&(0,P.aY)({callback:tt=>{var nt,y;"nodes"==(null==tt?void 0:tt.type)&&null!=tt&&null!==(nt=tt.nodes)&&void 0!==nt&&nt.length&&(null==tt||null===(y=tt.nodes)||void 0===y||y.forEach(H=>{H.id=Math.ceil(1e9*Math.random()),st.icdt.data.node=H}),(0,G.E)(st.icdt.data.slide))}})}},this.onchange={type:"keydown",key:R.s.KeyZ,fn:j=>{j.ctrlKey&&j.shiftKey?st.icdt.history.redo():j.ctrlKey&&st.icdt.history.undo()}}}set onchange(j){let tt=this._fnChanges.find(nt=>nt.eventType==j.type&&nt.eventKey==j.key);tt?tt.fns.push(j.fn):this._fnChanges.push({eventType:j.type,eventKey:j.key,fns:[j.fn]})}change(j,tt,nt){var y;null===(y=this._fnChanges.find(H=>H.eventType==j&&H.eventKey==tt))||void 0===y||y.fns.forEach(H=>H(nt))}},Ot=it=>{lt.change(it.type,it.keyCode||it.which||it.charCode||0,it)}},410:(Ne,Vt,w)=>{"use strict";w.d(Vt,{a:()=>O});var P=w(4318),R=w(8419),ut=w(9054),st=w(4080),J=w(511),b=w(3423),G=w(1687);class O{constructor(k){var L;let lt={stroke:"#FF0000",strokeWidth:(0,b.v)(2),strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:(0,b.v)(8)},{element:it,attribute:j,size:tt}=(0,R.G)(Math.ceil(1e9*Math.random()),{size:k});window.document.getElementById(G.O.INTERACTIVE_GROUP).querySelectorAll("path").forEach(dt=>null==dt?void 0:dt.remove()),null===(L=window.document.getElementById(G.O.INTERACTIVE_GROUP))||void 0===L||L.appendChild(it),(0,st.__)(it,lt);let y="";return{start:dt=>{y=`M ${dt.x} ${dt.y} L ${dt.x} ${dt.y}`},move:(dt,B)=>{((dt,B)=>{y+=` ${dt} ${B}`,it.setAttribute("d",y)})(dt.x,dt.y)},end:(dt,B)=>{(dt=>{let Tt=J.jvg().x(a=>a[0]).y(a=>a[1]).curve(J.$0Z)(dt);it.setAttribute("d",Tt),dt.length>=2&&(window.interactivePoints=dt)})(B),(dt=>{let B=9999,Tt=9999,a=-9999,te=-9999;dt.forEach(zt=>{B=Math.min(B,zt[0]),Tt=Math.min(Tt,zt[1]),a=Math.max(a,zt[0]),te=Math.max(te,zt[1])}),tt=(0,P.bH)(B,Tt,a,te,{points:dt}),Object.assign(j,(0,P.sg)(ut.$.PATH,tt),lt)})(B)}}}}},9623:(Ne,Vt,w)=>{"use strict";w.d(Vt,{U:()=>it,i:()=>Ot});var P=w(1687),R=w(9125),ut=w(4981),st=w(6816),J=w(4080),b=w(4318),G=w(8419),O=w(9054),K=w(511);class k{constructor(){let tt={strokeLinecap:"round",strokeLinejoin:"round"},{nodeId:nt,element:y,attribute:H,size:ht}=(0,G.G)(Math.ceil(1e9*Math.random()));(0,J.__)(y,H);let B="";return{start:te=>{B=`M ${te.x} ${te.y} L ${te.x} ${te.y}`},move:(te,zt)=>{((te,zt)=>{B+=` ${te} ${zt}`,y.setAttribute("d",B)})(te.x,te.y)},end:(te,zt)=>{(te=>{let Xt=K.jvg().x(Ht=>Ht[0]).y(Ht=>Ht[1]).curve(K.$0Z)(te);y.setAttribute("d",Xt)})(zt),(te=>{let zt=9999,Xt=9999,Ht=-9999,Pe=-9999;te.forEach(W=>{zt=Math.min(zt,W[0]),Xt=Math.min(Xt,W[1]),Ht=Math.max(Ht,W[0]),Pe=Math.max(Pe,W[1])}),ht=(0,b.bH)(zt,Xt,Ht,Pe,{points:te}),Object.assign(H,(0,b.sg)(O.$.PATH,ht),tt)})(zt),ut.icdt.data.node=Object.assign({id:nt,type:O.$.PATH,name:"Path"},{size:ht,attribute:H})}}}}class L{constructor(){let tt={strokeOpacity:.4,strokeLinecap:"round",strokeLinejoin:"round"},{nodeId:nt,element:y,attribute:H,size:ht}=(0,G.G)(Math.ceil(1e9*Math.random()));(0,J.__)(y,H);let B="";var Tt=(a,te)=>{B+=` ${a} ${te}`,y.setAttribute("d",B)};return{start:a=>{B=`M ${a.x} ${a.y} L ${a.x} ${a.y}`},move:(a,te)=>{Tt(a.x,a.y)},end:(a,te)=>{Tt(a.x,a.y),(a=>{let te=9999,zt=9999,Xt=-9999,Ht=-9999;a.forEach(Pe=>{te=Math.min(te,Pe[0]),zt=Math.min(zt,Pe[1]),Xt=Math.max(Xt,Pe[0]),Ht=Math.max(Ht,Pe[1])}),ht=(0,b.bH)(te,zt,Xt,Ht,{points:a}),Object.assign(H,(0,b.sg)(O.$.PATH,ht),tt)})(te),ut.icdt.data.node=Object.assign({id:nt,type:O.$.PATH,name:"Path"},{size:ht,attribute:H})}}}}var lt=w(410);const Ot=j=>{switch(ut.icdt.pointer.pen_type){case R.D.DRAW:(0,st.A)(j,new k);break;case R.D.HIGHTLIGH:(0,st.A)(j,new L);break;case R.D.INTERACTIVE:it(j)}},it=j=>{var tt,nt;let y=(0,J.g1)(P.O.INTERACTIVE_GROUP,"g"),H=null!==(tt=null===(nt=ut.icdt.data.slide)||void 0===nt||null===(nt=nt.svg)||void 0===nt?void 0:nt.viewBox)&&void 0!==tt?tt:(()=>{let{width:ht,height:dt}=ut.icdt.screen.get;return{x:0,y:0,width:ht,height:dt}})();(0,J.XH)(y,H),j&&(0,st.A)(j,new lt.a)}},666:(Ne,Vt,w)=>{"use strict";w.d(Vt,{y:()=>G});var P=w(1687),R=w(4981),ut=w(4318),st=w(6816),J=w(4080),b=w(5811);const G=k=>{let L=(0,J.g1)(P.O.RESIZE_GROUP,"g");(0,J.hJ)(L,k).forEach(lt=>{O(lt.element,lt.posType,k,L)})},O=(k,L,lt,Ot)=>{let it=!1;null==k||k.addEventListener("touchstart",j=>{it=!0,K({touchEvent:j},L,lt,Ot)}),null==k||k.addEventListener("mousedown",j=>{if(0==j.button){if(it)return void(it=!1);K({mouseEvent:j},L,lt,Ot)}})},K=(k,L,lt,Ot)=>{let Tt,{id:it,type:j,size:tt,attribute:nt}=lt,{x:y,y:H,width:ht,height:dt}=tt,B=(ht||1)/(dt||1),te=null,Ht=!1;(0,st.A)(k,{start:W=>{te=JSON.parse(JSON.stringify({id:it,size:tt,attribute:nt}))},move:(W,Kt)=>{((W,Kt,$t,Ft)=>{switch(L){case"rect-center":var Rt,Oe;Tt=null!==(Rt=k.mouseEvent)&&void 0!==Rt&&Rt.shiftKey||null!==(Oe=k.touchEvent)&&void 0!==Oe&&Oe.shiftKey?Math.abs($t-W)>=Math.abs(Ft-Kt)?{x:y+$t-W,y:H,width:ht,height:dt}:{x:y,y:H+Ft-Kt,width:ht,height:dt}:{x:y+$t-W,y:H+Ft-Kt,width:ht,height:dt};break;case"rect-top-left":var Se,rt,ft,m,at,Nt,Lt,ee;Tt=(null!==(Se=k.mouseEvent)&&void 0!==Se&&Se.shiftKey||null!==(rt=k.touchEvent)&&void 0!==rt&&rt.shiftKey)&&(null!==(ft=k.mouseEvent)&&void 0!==ft&&ft.altKey||null!==(m=k.touchEvent)&&void 0!==m&&m.altKey)?B>=1?{x:y+($t-W),y:H+($t-W)/B,width:ht-2*($t-W),height:dt-2*($t-W)/B}:{x:y+(Ft-Kt)*B,y:H+(Ft-Kt),width:ht-2*(Ft-Kt)*B,height:dt-2*(Ft-Kt)}:null!==(at=k.mouseEvent)&&void 0!==at&&at.shiftKey||null!==(Nt=k.touchEvent)&&void 0!==Nt&&Nt.shiftKey?B>=1?{x:y+($t-W),y:H+($t-W)/B,width:ht-($t-W),height:dt-($t-W)/B}:{x:y+(Ft-Kt)*B,y:H+(Ft-Kt),width:ht-(Ft-Kt)*B,height:dt-(Ft-Kt)}:null!==(Lt=k.mouseEvent)&&void 0!==Lt&&Lt.altKey||null!==(ee=k.touchEvent)&&void 0!==ee&&ee.altKey?{x:y+($t-W),y:H+(Ft-Kt),width:ht-2*($t-W),height:dt-2*(Ft-Kt)}:{x:y+($t-W),y:H+(Ft-Kt),width:ht-($t-W),height:dt-(Ft-Kt)};break;case"rect-top-right":var ce,jt,Pt,ue,Ke,Ie,Zt,je;Tt=(null!==(ce=k.mouseEvent)&&void 0!==ce&&ce.shiftKey||null!==(jt=k.touchEvent)&&void 0!==jt&&jt.shiftKey)&&(null!==(Pt=k.mouseEvent)&&void 0!==Pt&&Pt.altKey||null!==(ue=k.touchEvent)&&void 0!==ue&&ue.altKey)?B>=1?{x:y-($t-W),y:H-($t-W)/B,width:ht+2*($t-W),height:dt+2*($t-W)/B}:{x:y+(Ft-Kt)*B,y:H+(Ft-Kt),width:ht-2*(Ft-Kt)*B,height:dt-2*(Ft-Kt)}:null!==(Ke=k.mouseEvent)&&void 0!==Ke&&Ke.shiftKey||null!==(Ie=k.touchEvent)&&void 0!==Ie&&Ie.shiftKey?B>=1?{x:y,y:H-($t-W)/B,width:ht+($t-W),height:dt+($t-W)/B}:{x:y,y:H+(Ft-Kt),width:ht-(Ft-Kt)*B,height:dt-(Ft-Kt)}:null!==(Zt=k.mouseEvent)&&void 0!==Zt&&Zt.altKey||null!==(je=k.touchEvent)&&void 0!==je&&je.altKey?{x:y-($t-W),y:H+(Ft-Kt),width:ht+2*($t-W),height:dt-2*(Ft-Kt)}:{x:y,y:H+(Ft-Kt),width:ht+($t-W),height:dt-(Ft-Kt)};break;case"rect-bottom-left":var wt,E,pt,Ct,z,ot,Z,vt;Tt=(null!==(wt=k.mouseEvent)&&void 0!==wt&&wt.shiftKey||null!==(E=k.touchEvent)&&void 0!==E&&E.shiftKey)&&(null!==(pt=k.mouseEvent)&&void 0!==pt&&pt.altKey||null!==(Ct=k.touchEvent)&&void 0!==Ct&&Ct.altKey)?B>=1?{x:y+($t-W),y:H+($t-W)/B,width:ht-2*($t-W),height:dt-2*($t-W)/B}:{x:y-(Ft-Kt)*B,y:H-(Ft-Kt),width:ht+2*(Ft-Kt)*B,height:dt+2*(Ft-Kt)}:null!==(z=k.mouseEvent)&&void 0!==z&&z.shiftKey||null!==(ot=k.touchEvent)&&void 0!==ot&&ot.shiftKey?B>=1?{x:y+($t-W),y:H,width:ht-($t-W),height:dt-($t-W)/B}:{x:y-(Ft-Kt)*B,y:H,width:ht+(Ft-Kt)*B,height:dt+(Ft-Kt)}:null!==(Z=k.mouseEvent)&&void 0!==Z&&Z.altKey||null!==(vt=k.touchEvent)&&void 0!==vt&&vt.altKey?{x:y+($t-W),y:H-(Ft-Kt),width:ht-2*($t-W),height:dt+2*(Ft-Kt)}:{x:y+($t-W),y:H,width:ht-($t-W),height:dt+(Ft-Kt)};break;case"rect-bottom-right":var Dt,Ut,yt,Jt,ae,Te,re,pe;Tt=(null!==(Dt=k.mouseEvent)&&void 0!==Dt&&Dt.shiftKey||null!==(Ut=k.touchEvent)&&void 0!==Ut&&Ut.shiftKey)&&(null!==(yt=k.mouseEvent)&&void 0!==yt&&yt.altKey||null!==(Jt=k.touchEvent)&&void 0!==Jt&&Jt.altKey)?B>=1?{x:y-($t-W),y:H-($t-W)/B,width:ht+2*($t-W),height:dt+2*($t-W)/B}:{x:y-(Ft-Kt)*B,y:H-(Ft-Kt),width:ht+2*(Ft-Kt)*B,height:dt+2*(Ft-Kt)}:null!==(ae=k.mouseEvent)&&void 0!==ae&&ae.shiftKey||null!==(Te=k.touchEvent)&&void 0!==Te&&Te.shiftKey?B>=1?{x:y,y:H,width:ht+($t-W),height:dt+($t-W)/B}:{x:y,y:H,width:ht+(Ft-Kt)*B,height:dt+(Ft-Kt)}:null!==(re=k.mouseEvent)&&void 0!==re&&re.altKey||null!==(pe=k.touchEvent)&&void 0!==pe&&pe.altKey?{x:y-($t-W),y:H-(Ft-Kt),width:ht+2*($t-W),height:dt+2*(Ft-Kt)}:{x:y,y:H,width:ht+($t-W),height:dt+(Ft-Kt)};break;default:Tt={x:y+$t-W,y:H+Ft-Kt,width:ht,height:dt}}Tt.width<0&&(Tt.width=0),Tt.height<0&&(Tt.height=0),Tt.x=(0,b.q)(Tt.x),Tt.y=(0,b.q)(Tt.y),Tt.width=(0,b.q)(Tt.width),Tt.height=(0,b.q)(Tt.height),Object.assign(tt,Tt),Object.assign(nt,(0,ut.sg)(j,tt)),(0,J.__)(window.document.getElementById(it),nt),(0,J.hJ)(Ot,lt)})(Kt[0][0],Kt[0][1],W.x,W.y),Ht=!0},end:(W,Kt)=>{Ht&&te&&R.icdt.history.push([{type:"size",from:te,to:JSON.parse(JSON.stringify({id:it,size:tt,attribute:nt}))}])}})}},2966:(Ne,Vt,w)=>{"use strict";w.d(Vt,{Q:()=>O});var P=w(1687),R=w(4981),ut=w(4318),st=w(6816),J=w(4080),b=w(3423),G=w(5811);const O=L=>{let lt=999999,Ot=999999,it=-999999,j=-999999;null==L||L.forEach(y=>{lt=Math.min(lt,y.size.x),Ot=Math.min(Ot,y.size.y),it=Math.max(it,y.size.x+y.size.width),j=Math.max(j,y.size.y+y.size.height)});let tt=(0,J.g1)(P.O.SELECT_GROUP,"g"),nt=(0,ut.bH)(lt,Ot,it,j);(0,J.yD)(tt,L,nt).forEach(y=>{K(y.element,y.posType,nt,L,tt)})},K=(L,lt,Ot,it,j)=>{let tt=!1;null==L||L.addEventListener("touchstart",nt=>{tt=!0,k({touchEvent:nt},lt,Ot,it,j)}),null==L||L.addEventListener("mousedown",nt=>{if(0==nt.button){if(tt)return void(tt=!1);k({mouseEvent:nt},lt,Ot,it,j)}})},k=(L,lt,Ot,it,j)=>{let{x:tt,y:nt,width:y,height:H}=Ot,ht=it.map(zt=>Object.assign({},zt.size)),B=[];(0,st.A)(L,{start:zt=>{it.forEach((zt,Xt)=>{let{id:Ht,size:W,attribute:Kt}=zt;B.push(JSON.parse(JSON.stringify({id:Ht,size:W,attribute:Kt})))})},move:(zt,Xt)=>{((zt,Xt,Ht,Pe)=>{(()=>{let W;W="rect-center"===lt?{x:tt+Ht-zt,y:nt+Pe-Xt,width:y,height:H}:{x:tt,y:nt,width:y,height:H},(0,b.v)(R.icdt.screen.width),(0,b.v)(R.icdt.screen.height),W.width<0&&(W.width=0),W.height<0&&(W.height=0),Object.assign(Ot,W),(0,J.yD)(j,it,Ot)})(),it.forEach((W,Kt)=>{let at,{x:$t,y:Ft,width:Rt,height:Oe}=ht[Kt],{id:Se,type:rt,size:ft,attribute:m}=W;at="rect-center"===lt?{x:$t+Ht-zt,y:Ft+Pe-Xt,width:Rt,height:Oe}:{x:$t,y:Ft,width:Rt,height:Oe},(0,b.v)(R.icdt.screen.width),(0,b.v)(R.icdt.screen.height),at.width<0&&(at.width=0),at.height<0&&(at.height=0),at.x=(0,G.q)(at.x),at.y=(0,G.q)(at.y),at.width=(0,G.q)(at.width),at.height=(0,G.q)(at.height),Object.assign(ft,at),Object.assign(m,(0,ut.sg)(rt,ft)),(0,J.__)(window.document.getElementById(Se),m)})})(Xt[0][0],Xt[0][1],zt.x,zt.y)},end:(zt,Xt)=>{B.length&&R.icdt.history.push(it.map((zt,Xt)=>{let{id:Ht,size:W,attribute:Kt}=zt;return{type:"size",from:B[Xt],to:JSON.parse(JSON.stringify({id:Ht,size:W,attribute:Kt}))}}))}})}},5226:(Ne,Vt,w)=>{"use strict";w.d(Vt,{E:()=>j,T:()=>tt});var P=w(1687),R=w(8619),ut=w(8785),st=w(2282),J=w(8054),b=w(4921),G=w(6358),O=w(9054),K=w(8419),k=w(1105),L=w(2875),lt=w(7210),Ot=w(4981),it=w(4080);const j=(nt,y)=>{var H;if("localhost"==window.location.hostname&&console.log(`icdt_RenderComponent(slide, ${y})`,nt),y&&!window.document.getElementById(y))return;if(y){let dt=window.document.getElementById(y);$(dt).find("#"+P.O.BACKGROUND_GROUP).empty();let B=(0,it.g1)(P.O.BACKGROUND_GROUP,"g",void 0,dt);(0,it.x0)(B,nt)}else{$(Ot.icdt.target).find("#"+P.O.BACKGROUND_GROUP).empty();let dt=(0,it.g1)(P.O.BACKGROUND_GROUP,"g",void 0,Ot.icdt.target);(0,it.x0)(dt,nt)}let ht=(dt,B)=>{B=B?parseFloat(`${y}0${B}`):y,null==dt||dt.forEach(Tt=>{let a=y?parseFloat(`${y}0${Tt.id}`):Tt.id;var te;if(Tt.isdeleted)null===(te=window.document.getElementById(a))||void 0===te||te.remove();else switch(Tt.type){case O.$.GROUP:(0,G.m)(a,{},B),ht(Tt.nodes,Tt.id);break;case O.$.CIRCLE:(0,R._)(a,{size:Tt.size,attribute:Tt.attribute},B?window.document.getElementById(B):null);break;case O.$.ELLIPSE:(0,ut.r)(a,{size:Tt.size,attribute:Tt.attribute},B);break;case O.$.LINE:(0,b.W)(a,{size:Tt.size,attribute:Tt.attribute},B);break;case O.$.RECT:(0,J.f)(a,{size:Tt.size,attribute:Tt.attribute},B?window.document.getElementById(B):null);break;case O.$.POLYGON:(0,st.l)(a,{size:Tt.size,attribute:Tt.attribute},B);break;case O.$.FOREIGNOBJECT:(0,L.e)(a,{size:Tt.size,attribute:Tt.attribute,style:Tt.style,source:Tt.source},B?window.document.getElementById(B):null);break;case O.$.IMAGE:(0,lt.G)(a,{size:Tt.size,attribute:Tt.attribute,source:Tt.source},B?window.document.getElementById(B):null);break;case O.$.TEXT:(0,k.$)(a,{size:Tt.size,attribute:Tt.attribute,source:Tt.source},B);break;case O.$.PATH:(0,K.G)(a,{size:Tt.size,attribute:Tt.attribute},B)}})};ht(null==nt||null===(H=nt.svg)||void 0===H?void 0:H.nodes)},tt=(nt,y)=>{var H;if(y&&!window.document.getElementById(y))return;let ht=(dt,B)=>{B=B?parseFloat(`${y}0${B}`):y,null==dt||dt.forEach(Tt=>{let a=y?parseFloat(`${y}0${Tt.id}`):Tt.id;$("#"+a).appendTo(B?window.document.getElementById(B):Ot.icdt.target),Tt.type==O.$.GROUP&&ht(Tt.nodes,Tt.id)})};ht(null==nt||null===(H=nt.svg)||void 0===H?void 0:H.nodes)}},8619:(Ne,Vt,w)=>{"use strict";w.d(Vt,{_:()=>J});var P=w(9054),R=w(4981),ut=w(4318),st=w(4080);const J=(b,G,O)=>{let K=(null==G?void 0:G.size)||{x:0,y:0,width:10,height:10},k=(null==G?void 0:G.attribute)||{fill:R.icdt.attribute.fill,stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(k,(0,ut.sg)(P.$.CIRCLE,K)),{nodeId:b,element:(0,st.it)(b,P.$.CIRCLE,"circle",{size:K,attribute:k},O),size:K,attribute:k}}},8785:(Ne,Vt,w)=>{"use strict";w.d(Vt,{r:()=>J});var P=w(9054),R=w(4981),ut=w(4318),st=w(4080);const J=(b,G,O)=>{let K=(null==G?void 0:G.size)||{x:0,y:0,width:10,height:10},k=(null==G?void 0:G.attribute)||{fill:R.icdt.attribute.fill,stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(k,(0,ut.sg)(P.$.ELLIPSE,K)),{nodeId:b,element:(0,st.it)(b,P.$.ELLIPSE,"ellipse",{size:K,attribute:k},O?window.document.getElementById(O):null),size:K,attribute:k}}},2875:(Ne,Vt,w)=>{"use strict";w.d(Vt,{e:()=>st});var P=w(9054),R=w(4318),ut=w(4080);const st=(J,b,G)=>{let O=(null==b?void 0:b.size)||{x:0,y:0,width:180,height:180},K=(null==b?void 0:b.attribute)||{};Object.assign(K,(0,R.sg)(P.$.FOREIGNOBJECT,O));let k=(null==b?void 0:b.source)||{type:"html",html:{htmlContent:'<span style="font-family: Roboto; font-size: 24px;">H\xe3y nh\u1eadp n\u1ed9i dung c\u1ee7a b\u1ea1n!</span>'}},L=(null==b?void 0:b.style)||{};return{nodeId:J,element:(0,ut.it)(J,P.$.FOREIGNOBJECT,"foreignObject",{size:O,attribute:K,style:L,source:k},G),size:O,attribute:K,style:L,source:k}}},6358:(Ne,Vt,w)=>{"use strict";w.d(Vt,{m:()=>st});var P=w(9054),R=w(4318),ut=w(4080);const st=(J,b,G)=>{let O=(null==b?void 0:b.size)||{x:0,y:0,width:10,height:10},K=(null==b?void 0:b.attribute)||{};return Object.assign(K,(0,R.sg)(P.$.GROUP,O)),{nodeId:J,element:(0,ut.it)(J,P.$.GROUP,"g",{size:O,attribute:K},G?window.document.getElementById(G):null),size:O,attribute:K}}},7210:(Ne,Vt,w)=>{"use strict";w.d(Vt,{G:()=>st});var P=w(9054),R=w(4318),ut=w(4080);const st=(J,b,G)=>{let O=(null==b?void 0:b.size)||{x:0,y:0,width:200,height:100},K=(null==b?void 0:b.attribute)||{preserveAspectRatio:"none"};Object.assign(K,(0,R.sg)(P.$.IMAGE,O));let k=(null==b?void 0:b.source)||{type:"image",image:{url:"../../assets/image-svg/logo.svg",path:"assets/image-svg/logo.svg",name:"logo.svg"}};return{nodeId:J,element:(0,ut.it)(J,P.$.IMAGE,"image",{size:O,attribute:K,source:k},G),size:O,attribute:K,source:k}}},4921:(Ne,Vt,w)=>{"use strict";w.d(Vt,{W:()=>J});var P=w(9054),R=w(4981),ut=w(4318),st=w(4080);const J=(b,G,O)=>{let K=(null==G?void 0:G.size)||{x:0,y:0,width:10,height:10},k=(null==G?void 0:G.attribute)||{stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth,strokeLinecap:R.icdt.attribute.strokeLinecap};return Object.assign(k,(0,ut.sg)(P.$.LINE,K)),{nodeId:b,element:(0,st.it)(b,P.$.LINE,"line",{size:K,attribute:k},O?window.document.getElementById(O):null),size:K,attribute:k}}},8419:(Ne,Vt,w)=>{"use strict";w.d(Vt,{G:()=>J});var P=w(9054),R=w(4981),ut=w(4318),st=w(4080);const J=(b,G,O)=>{let K=(null==G?void 0:G.size)||{x:0,y:0,width:10,height:10},k=(null==G?void 0:G.attribute)||{stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(k,(0,ut.sg)(P.$.PATH,K)),{nodeId:b,element:(0,st.it)(b,P.$.PATH,"path",{size:K,attribute:k},O?window.document.getElementById(O):null),size:K,attribute:k}}},2282:(Ne,Vt,w)=>{"use strict";w.d(Vt,{l:()=>J});var P=w(9054),R=w(4981),ut=w(4318),st=w(4080);const J=(b,G,O)=>{let K=(null==G?void 0:G.size)||{x:0,y:0,width:10,height:10},k=(null==G?void 0:G.attribute)||{fill:R.icdt.attribute.fill,stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(k,(0,ut.sg)(P.$.POLYGON,K)),{nodeId:b,element:(0,st.it)(b,P.$.POLYGON,"polygon",{size:K,attribute:k},O?window.document.getElementById(O):null),size:K,attribute:k}}},8054:(Ne,Vt,w)=>{"use strict";w.d(Vt,{f:()=>J});var P=w(9054),R=w(4981),ut=w(4318),st=w(4080);const J=(b,G,O)=>{let K=(null==G?void 0:G.size)||{x:0,y:0,width:10,height:10},k=(null==G?void 0:G.attribute)||{fill:R.icdt.attribute.fill,stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(k,(0,ut.sg)(P.$.RECT,K)),{nodeId:b,element:(0,st.it)(b,P.$.RECT,"rect",{size:K,attribute:k},O),size:K,attribute:k}}},1105:(Ne,Vt,w)=>{"use strict";w.d(Vt,{$:()=>J});var P=w(9054),R=w(4981),ut=w(4318),st=w(4080);const J=(b,G,O)=>{let K=(null==G?void 0:G.size)||{x:0,y:0,width:100,height:50},k=(null==G?void 0:G.attribute)||{fill:R.icdt.attribute.stroke,fontFamily:R.icdt.attribute.fontFamily,fontSize:R.icdt.attribute.fontSize,textLength:R.icdt.attribute.textLength};Object.assign(k,(0,ut.sg)(P.$.TEXT,K));let L=(null==G?void 0:G.source)||{type:"text",text:{textContent:"H\xe3y nh\u1eadp n\u1ed9i dung c\u1ee7a b\u1ea1n!"}};return{nodeId:b,element:(0,st.it)(b,P.$.TEXT,"text",{size:K,attribute:k,source:L},O?window.document.getElementById(O):null),size:K,attribute:k,source:L}}},4318:(Ne,Vt,w)=>{"use strict";w.d(Vt,{bH:()=>R,sg:()=>ut});var P=w(9054);const R=(J,b,G,O,K)=>{let k={x:Math.min(J,G),y:Math.min(b,O),width:Math.abs(G-J)||1,height:Math.abs(O-b)||1};return null!=K&&K.ratio&&(k.width<=k.height?k.height=k.width*(null==K?void 0:K.ratio):k.width=k.height/(null==K?void 0:K.ratio)),Object.assign(k,{ratios:(null==K?void 0:K.ratios)||[[(J-k.x)/(k.width||1),(b-k.y)/(k.height||1)],[(G-k.x)/(k.width||1),(O-k.y)/(k.height||1)]]}),null!=K&&K.points&&(k.points=null==K?void 0:K.points),k},ut=(J,b,G)=>{var O=(()=>{switch(J){case P.$.CIRCLE:return{cx:b.x+b.width/2,cy:b.y+b.height/2,r:Math.min(b.width/2,b.height/2)};case P.$.ELLIPSE:return{cx:b.x+b.width/2,cy:b.y+b.height/2,rx:b.width/2,ry:b.height/2};case P.$.LINE:{var K;let Ot={};return null===(K=b.ratios)||void 0===K||K.forEach((it,j)=>{Ot[`x${j+1}`]=b.x+b.width*it[0],Ot[`y${j+1}`]=b.y+b.height*it[1]}),Ot}case P.$.RECT:return{x:b.x,y:b.y,width:b.width,height:b.height,rx:b.rx,ry:b.ry};case P.$.POLYGON:var k;return{points:((null===(k=b.ratios)||void 0===k?void 0:k.map(Ot=>[b.x+b.width*Ot[0],b.y+b.height*Ot[1]]))||[]).map(Ot=>Ot.join(" ")).join(",")};case P.$.FOREIGNOBJECT:case P.$.IMAGE:return{x:b.x,y:b.y,width:b.width,height:b.height};case P.$.TEXT:var L;return{x:b.x,y:b.y+(null!==(L=null==G?void 0:G.fontSize)&&void 0!==L?L:20)-4};case P.$.PATH:{var lt;let Ot=null!==(lt=b.points)&&void 0!==lt?lt:[];return Ot.length?{d:`M ${Ot[0][0]} ${Ot[0][1]} L `+(Ot.map(it=>[it[0],it[1]])||[]).map(it=>it.join(" ")).join(" ")}:{d:""}}}return{}})();return b.rotate?(O.transform=`rotate(${b.rotate})`,O.transformOrigin=`${b.x+b.width/2} ${b.y+b.height/2}`):(O.transform=null,O.transformOrigin=null),O}},5811:(Ne,Vt,w)=>{"use strict";w.d(Vt,{q:()=>P});const P=(R,ut)=>{var st;return ut=null!==(st=ut)&&void 0!==st?st:100,Math.round((R+Number.EPSILON)*ut)/ut}},3423:(Ne,Vt,w)=>{"use strict";w.d(Vt,{v:()=>ut});var P=w(4981),R=w(5811);const ut=st=>(0,R.q)(st/P.icdt.screen.scale)},3385:(Ne,Vt,w)=>{"use strict";w.d(Vt,{NC:()=>k,SM:()=>K,VW:()=>L,Vs:()=>O,co:()=>b,k6:()=>J,lO:()=>G,mr:()=>lt});var P=w(4981),R=w(4080),ut=w(4318),st=w(5811);const J=(Ot,it)=>{let{id:j,type:tt,size:nt,attribute:y}=Ot,H=JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}));nt.x=(0,st.q)(it),Object.assign(y,(0,ut.sg)(tt,nt)),(0,R.__)(window.document.getElementById(j),y),P.icdt.history.push([{type:"size",from:H,to:JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}))}])},b=(Ot,it)=>{let{id:j,type:tt,size:nt,attribute:y}=Ot,H=JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}));nt.y=(0,st.q)(it),Object.assign(y,(0,ut.sg)(tt,nt)),(0,R.__)(window.document.getElementById(j),y),P.icdt.history.push([{type:"size",from:H,to:JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}))}])},G=(Ot,it,j)=>{let{id:tt,type:nt,size:y,attribute:H}=Ot,ht=JSON.parse(JSON.stringify({id:tt,size:y,attribute:H}));j&&(y.height=(0,st.q)(it*y.height/y.width)),y.width=(0,st.q)(it),Object.assign(H,(0,ut.sg)(nt,y)),(0,R.__)(window.document.getElementById(tt),H),P.icdt.history.push([{type:"size",from:ht,to:JSON.parse(JSON.stringify({id:tt,size:y,attribute:H}))}])},O=(Ot,it,j)=>{let{id:tt,type:nt,size:y,attribute:H}=Ot,ht=JSON.parse(JSON.stringify({id:tt,size:y,attribute:H}));j&&(y.width=(0,st.q)(it*y.width/y.height)),y.height=(0,st.q)(it),Object.assign(H,(0,ut.sg)(nt,y)),(0,R.__)(window.document.getElementById(tt),H),P.icdt.history.push([{type:"size",from:ht,to:JSON.parse(JSON.stringify({id:tt,size:y,attribute:H}))}])},K=(Ot,it)=>{let{id:j,type:tt,size:nt,attribute:y}=Ot,H=JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}));nt.r=(0,st.q)(it),Object.assign(y,(0,ut.sg)(tt,nt)),(0,R.__)(window.document.getElementById(j),y),P.icdt.history.push([{type:"size",from:H,to:JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}))}])},k=(Ot,it)=>{let{id:j,type:tt,size:nt,attribute:y}=Ot,H=JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}));nt.rx=(0,st.q)(it),Object.assign(y,(0,ut.sg)(tt,nt)),(0,R.__)(window.document.getElementById(j),y),P.icdt.history.push([{type:"size",from:H,to:JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}))}])},L=(Ot,it)=>{let{id:j,type:tt,size:nt,attribute:y}=Ot,H=JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}));nt.ry=(0,st.q)(it),Object.assign(y,(0,ut.sg)(tt,nt)),(0,R.__)(window.document.getElementById(j),y),P.icdt.history.push([{type:"size",from:H,to:JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}))}])},lt=(Ot,it)=>{let{id:j,type:tt,size:nt,attribute:y}=Ot,H=JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}));nt.rotate=(0,st.q)(it),Object.assign(y,(0,ut.sg)(tt,nt)),(0,R.__)(window.document.getElementById(j),y),P.icdt.history.push([{type:"size",from:H,to:JSON.parse(JSON.stringify({id:j,size:nt,attribute:y}))}])}},6816:(Ne,Vt,w)=>{"use strict";w.d(Vt,{A:()=>b});var P=w(968),R=w(4981);class ut{constructor(O){this._points=[],this._options=O}start(O){this._points.length=0,this._points.push([O.x,O.y]),this._options.start(O)}move(O){this._points.push([O.x,O.y]),this._options.move(O,this._points)}end(){this._options.end(this.offsetLast,this._points)}get offsetFirst(){return this._points.length>=1?{x:(O=this._points[0])[0],y:O[1]}:{x:0,y:0};var O}get offsetLast(){return this._points.length>=1?{x:(O=this._points[this._points.length-1])[0],y:O[1]}:{x:0,y:0};var O}}var st=w(7797);const b=(G,O,K,k,L)=>{var lt,Ot,it;let j=null,tt=0,nt=0;G.mouseEvent?(j=G.mouseEvent.target,tt=G.mouseEvent.offsetX,nt=G.mouseEvent.offsetY):G.touchEvent&&(j=G.touchEvent.target,G.touchEvent.touches.length&&(tt=G.touchEvent.touches[0].clientX,nt=G.touchEvent.touches[0].clientY));let y=null!=K?K:R.icdt.screen.scale,H=null!=k?k:R.icdt.screen.position,ht=null!=L?L:R.icdt.screen.offset,dt=()=>{};var B=new ut({start:null!==(lt=null==O?void 0:O.start)&&void 0!==lt?lt:dt,move:null!==(Ot=null==O?void 0:O.move)&&void 0!==Ot?Ot:dt,end:null!==(it=null==O?void 0:O.end)&&void 0!==it?it:dt});G.mouseEvent?B.start((0,st.p)({x:tt,y:nt},y,{x:0,y:0},{x:0,y:0})):G.touchEvent&&B.start((0,st.p)({x:tt,y:nt},y,H,ht));let Tt=W=>{B.move((0,st.p)({x:W.clientX,y:W.clientY},y,H,ht))},a=W=>{B.end(),[P._.SHAPE,P._.FOREIGNOBJECT,P._.IMAGE,P._.TEXT].includes(R.icdt.pointer.pointer_type)&&(W.shiftKey||(R.icdt.pointer.pointer_type=P._.POINTER))},te=W=>{W.touches.length&&Tt({clientX:W.touches[0].clientX,clientY:W.touches[0].clientY})},zt=W=>{a({shiftKey:W.shiftKey,ctrlKey:W.ctrlKey,altKey:W.altKey}),window.removeEventListener("touchmove",te,!1),window.removeEventListener("touchend",zt,!1)},Xt=W=>{0==W.button&&Tt({clientX:W.clientX,clientY:W.clientY})},Ht=W=>{0==W.button&&(a({shiftKey:W.shiftKey,ctrlKey:W.ctrlKey,altKey:W.altKey}),window.removeEventListener("mousemove",Xt,!1),window.removeEventListener("mouseup",Ht,!1))};if(G.mouseEvent)window.addEventListener("mousemove",Xt,!1),window.addEventListener("mouseup",Ht,!1);else if(G.touchEvent){var Pe;window.addEventListener("touchmove",te,!1),window.addEventListener("touchend",zt,!1),null===(Pe=j)||void 0===Pe||Pe.addEventListener("touchmove",function(W){W.preventDefault()})}}},7797:(Ne,Vt,w)=>{"use strict";w.d(Vt,{p:()=>R});var P=w(5811);const R=(ut,st,J,b)=>(ut.x-=b.x,ut.y-=b.y,ut.x-=J.x,ut.y-=J.y,ut.x/=st,ut.y/=st,ut.x=(0,P.q)(ut.x),ut.y=(0,P.q)(ut.y),ut)},1690:(Ne,Vt,w)=>{"use strict";w.d(Vt,{$:()=>Zt});var P=w(4981),R=w(9054),ut=w(2276),st=w(5973),J=w(2336),b=w(861),G=w(157),O=w(4787),k=w(1105),L=w(6358);const y=function(wt){var E,pt,Ct=$("#"+wt),z=null===(E=Ct.attr("class"))||void 0===E?void 0:E.match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm),ot=null===(pt=Ct.attr("class"))||void 0===pt?void 0:pt.match(/animate((__[a-zA-Z0-9]+)+)?(\s+||\")/gm);z&&z.forEach(function(vt){$(Ct).removeClass(vt)}),ot&&ot.forEach(function(vt){$(Ct).removeClass(vt)});let Z=Ct.attr("data-class");Z&&(Ct.attr("class",Z),Ct.removeAttr("data-class")),$(Ct).data("animation-running",!1)};var H=w(6623),ht=w(7210),dt=w(5811);const B=(wt,E,pt)=>{var Ct,z,ot,Z;let vt=1,Dt=new Image;Dt.onload=()=>{var Ut,yt,Jt,ae;vt=(0,dt.q)(Dt.naturalWidth/Dt.naturalHeight,100);let Te=0,re=0,pe=0,ye=0;var Be,Ce,Ae,Xe;vt>=1?(pe=Math.min(Dt.naturalWidth,null!==(Be=null===(Ce=Zt.slide.svg)||void 0===Ce||null===(Ce=Ce.viewBox)||void 0===Ce?void 0:Ce.width)&&void 0!==Be?Be:0),ye=pe/vt):(ye=Math.min(Dt.naturalHeight,null!==(Ae=null===(Xe=Zt.slide.svg)||void 0===Xe||null===(Xe=Xe.viewBox)||void 0===Xe?void 0:Xe.height)&&void 0!==Ae?Ae:0),pe=ye/vt),Te=((null!==(Ut=null===(yt=Zt.slide.svg)||void 0===yt||null===(yt=yt.viewBox)||void 0===yt?void 0:yt.width)&&void 0!==Ut?Ut:0)-pe)/2,re=((null!==(Jt=null===(ae=Zt.slide.svg)||void 0===ae||null===(ae=ae.viewBox)||void 0===ae?void 0:ae.height)&&void 0!==Jt?Jt:0)-ye)/2,E.size={x:Te,y:re,width:pe,height:ye},Tt(E,pt)},Dt.onerror=Ut=>{console.error(`ImgSrc load failed -> ${JSON.stringify(E.source)}`,Ut)},Dt.src=null!==(Ct=null!==(z=null===(ot=E.source)||void 0===ot?void 0:ot.url)&&void 0!==z?z:null===(Z=E.source)||void 0===Z?void 0:Z.path)&&void 0!==Ct?Ct:""},Tt=(wt,E)=>{if(wt.slideStatus!=Zt.slideStatus)return void E();let{element:pt}=(0,ht.G)(Math.ceil(1e9*Math.random()),{size:wt.size,source:{type:"image",image:null==wt?void 0:wt.source}});setTimeout(()=>{null==pt||pt.remove(),E()},3e3)},a=(wt,E,pt)=>{var Ct,z,ot,Z;let vt=new Image;vt.onload=()=>{te(wt,{width:vt.naturalWidth,height:vt.naturalHeight},E,pt)},vt.onerror=Dt=>{console.error(`ImgSrc load failed -> ${JSON.stringify(E.source)}`,Dt),pt()},vt.src=null!==(Ct=null!==(z=null===(ot=E.source)||void 0===ot?void 0:ot.url)&&void 0!==z?z:null===(Z=E.source)||void 0===Z?void 0:Z.path)&&void 0!==Ct?Ct:""},te=(wt,E,pt,Ct)=>{if(pt.slideStatus!=Zt.slideStatus)return void Ct();let z=(0,dt.q)(E.width/E.height,100),ot=0,Z=0,vt=0,Dt=0;z>=1?(vt=E.width,vt=Math.max(vt,40),vt=Math.min(vt,100),Dt=vt/z):(Dt=E.height,Dt=Math.max(Dt,40),Dt=Math.min(Dt,100),vt=Dt/z);let{size:Ut}=wt;ot=Ut.x+Ut.width/2-vt/2,Z=Ut.y+Ut.height/2-Dt/2;let{element:yt}=(0,ht.G)(Math.ceil(1e9*Math.random()),{size:{x:ot,y:Z,width:vt,height:Dt},source:{type:"image",image:null==pt?void 0:pt.source}});setTimeout(()=>{null==yt||yt.remove(),Ct()},3e3)};var zt=w(1687),Xt=w(4080);const Ht=(wt,E,pt)=>{var Ct,z,ot;if(E.slideStatus!=Zt.slideStatus)return void pt();if(null===(Ct=E.source)||void 0===Ct||!Ct.url)return console.warn(`${wt.id} -> audio no source!`),void pt();var Z=$("#"+wt.id);let vt=null!==(z=E.iteration)&&void 0!==z?z:0;if(vt<0&&(pt(),pt=function(){}),!(Z.data("audio-running")&&vt<0)){Z.data("audio-running",!0);var Dt=new Audio;return Dt.autoplay=!0,Dt.loop=0!=vt,Dt.preload="auto",Dt.controls=!0,Dt.setAttributeNode(document.createAttribute("playsinline")),Dt.addEventListener("canplay",function(){var Ut=Dt.play();Ut&&Ut.then(function(yt){Z.data("audio-running",!0)}).catch(function(yt){Z.data("audio-running",!1),E.slideStatus===Zt.slideStatus&&pt()})}),Dt.addEventListener("timeupdate",function(){var yt;E.slideStatus!==Zt.slideStatus&&((yt=this).pause(),yt.remove(),Z.data("audio-running",!1))}),Dt.addEventListener("canplaythrough",function(){this.loop&&(vt>0?vt--:0==vt&&(this.loop=!1))}),Dt.addEventListener("play",function(){}),Dt.addEventListener("pause",function(){}),Dt.addEventListener("ended",function(){this.remove(),Z.data("audio-running",!1),E.slideStatus===Zt.slideStatus&&pt()}),Dt.onerror=function(){this.remove(),Z.data("audio-running",!1),E.slideStatus===Zt.slideStatus&&pt()},Dt.src=(null===(ot=E.source)||void 0===ot?void 0:ot.url)||"",Dt}},Rt=(wt,E,pt)=>{var Ct;null===(Ct=E.test)||void 0===Ct||null===(Ct=Ct.answer)||void 0===Ct||null===(Ct=Ct.matching)||void 0===Ct||Ct.filter(z=>z.value==pt.key).forEach(z=>z.value="")},Se=(wt,E,pt,Ct,z,ot)=>{var Z,vt,Dt,Ut,yt,Jt,ae,Te,re,pe,ye,Be;z.iscorrect?(null!==(Z=E.test)&&void 0!==Z&&null!==(Z=Z.audiotrue)&&void 0!==Z&&Z.path&&Ht(wt,{source:(0,H.I)(null===(Ut=E.test)||void 0===Ut?void 0:Ut.audiotrue),iteration:0,nodeStatus:pt,slideStatus:Ct},ot),null!==(vt=E.test)&&void 0!==vt&&null!==(vt=vt.icontrue)&&void 0!==vt&&vt.path&&a(wt,{source:(0,H.I)(null===(yt=E.test)||void 0===yt?void 0:yt.icontrue),iteration:0,nodeStatus:pt,slideStatus:Ct},ot),null!==(Dt=E.test)&&void 0!==Dt&&null!==(Dt=Dt.effecttrue)&&void 0!==Dt&&Dt.path&&B(0,{source:(0,H.I)(null===(Jt=E.test)||void 0===Jt?void 0:Jt.effecttrue),iteration:0,nodeStatus:pt,slideStatus:Ct},ot)):(null!==(ae=E.test)&&void 0!==ae&&null!==(ae=ae.audiofalse)&&void 0!==ae&&ae.path&&Ht(wt,{source:(0,H.I)(null===(pe=E.test)||void 0===pe?void 0:pe.audiofalse),iteration:0,nodeStatus:pt,slideStatus:Ct},ot),null!==(Te=E.test)&&void 0!==Te&&null!==(Te=Te.iconfalse)&&void 0!==Te&&Te.path&&a(wt,{source:(0,H.I)(null===(ye=E.test)||void 0===ye?void 0:ye.iconfalse),iteration:0,nodeStatus:pt,slideStatus:Ct},ot),null!==(re=E.test)&&void 0!==re&&null!==(re=re.effectfalse)&&void 0!==re&&re.path&&B(0,{source:(0,H.I)(null===(Be=E.test)||void 0===Be?void 0:Be.effectfalse),iteration:0,nodeStatus:pt,slideStatus:Ct},ot))},rt=(wt,E,pt,Ct)=>{var z,ot,Z,vt,Dt;E.animate&&((wt,E,pt)=>{var Ct;let{value:ot}=null!==(Ct=wt.animate)&&void 0!==Ct?Ct:{};((wt,E,pt)=>{var Ct;let z=$("#"+wt),ot="",Z=null!==(Ct=E.iteration)&&void 0!==Ct?Ct:0,vt=[];(E.value||"").match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm)?vt.push(E.value):E.value?["top-left","top","top-right","left","right","bottom-left","bottom","bottom-right"].includes(E.value)?(vt.push("animation"),vt.push(`animation-${E.value}`)):(vt.push("animate__animated"),vt.push(`animate__${E.value}`)):(vt.push("animation"),vt.push("animation-fadein")),Z<0?(vt.push("animation-iteration-infinite"),pt(),pt=function(){}):Z>0&&vt.push("animation-iteration-"+(Z+1)),ot=vt.join(" "),function(Ut){let yt=function(){z.data("animate-running")?z.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){z.data("animate-running",!1),setTimeout(function(){Ut()},100)}):Ut()};z.hasClass("animation")?setTimeout(function(){yt()}):yt()}(function(){var Ut;y(wt),(Z>0||Z<0)&&z.one("animationiteration",function(){E.slideStatus===Zt.slideStatus||(z.data("animate-running",!1),y(wt),E.slideStatus===Zt.slideStatus&&pt())}),z.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){switch(z.data("animate-running",!1),y(wt),E.finish){default:case 0:case 1:break;case 2:z.addClass("hide")}E.slideStatus===Zt.slideStatus&&pt()}),z.attr("data-class",null!==(Ut=z.attr("class"))&&void 0!==Ut?Ut:""),z.addClass(ot),z.data("animate-running",!0)})})(wt.id,{value:ot,nodeStatus:E,slideStatus:pt},()=>{})})(E,pt.nodeStatus,pt.slideStatus),null!==(z=E.interactive)&&void 0!==z&&z.show?((wt,E,pt,Ct)=>{var z,ot,Z;console.log("icdt_Run_Interactive_NodeShow",wt,E,pt);let vt={total:0,counter:0},{triggershow:Dt,triggerrun:Ut,triggerhide:yt,action:Jt,audio:ae}=null!==(z=null===(ot=wt.interactive)||void 0===ot?void 0:ot.show)&&void 0!==z?z:{};if(Dt){let{id:re,ids:pe,time:ye,async:Be}=Dt;"asynctrue"==Be?(0,O.L5)({id:re,ids:pe,nodeStatus:E,slideStatus:pt}):"time"==Be&&setTimeout(()=>{(0,O.L5)({id:re,ids:pe,nodeStatus:E,slideStatus:pt})},1e3*(null!=ye?ye:0))}if(Ut){let{id:re,ids:pe,time:ye,async:Be}=Ut;"asynctrue"==Be?(0,O.Ar)({id:re,ids:pe,nodeStatus:E,slideStatus:pt}):"time"==Be&&setTimeout(()=>{(0,O.Ar)({id:re,ids:pe,nodeStatus:E,slideStatus:pt})},1e3*(null!=ye?ye:0))}if(yt){let{id:re,ids:pe,time:ye,async:Be}=yt;"asynctrue"==Be?(0,O.WT)({id:re,ids:pe,nodeStatus:E,slideStatus:pt}):"time"==Be&&setTimeout(()=>{(0,O.WT)({id:re,ids:pe,nodeStatus:E,slideStatus:pt})},1e3*(null!=ye?ye:0))}let Te=()=>{setTimeout(()=>{if(vt.counter>=vt.total){if(Ct&&Ct(),Dt){let{id:re,ids:pe,async:ye}=Dt;"asyncfalse"==ye&&(0,O.L5)({id:re,ids:pe,nodeStatus:E,slideStatus:pt})}if(Ut){let{id:re,ids:pe,async:ye}=Ut;"asyncfalse"==ye&&(0,O.Ar)({id:re,ids:pe,nodeStatus:E,slideStatus:pt})}if(yt){let{id:re,ids:pe,async:ye}=yt;"asyncfalse"==ye&&(0,O.WT)({id:re,ids:pe,nodeStatus:E,slideStatus:pt})}}})};if(Jt&&null!=Jt&&Jt.value){vt.total+=1;let re=()=>{vt.counter+=1,Te()};switch(null==Jt?void 0:Jt.value){case"hide":$("#"+wt.id).addClass("hide"),re();break;case"points":{let{points:pe,time:ye,iteration:Be,finish:Ce}=Jt;(0,b.G)(wt.id,{points:pe,time:ye,iteration:Be,finish:Ce,nodeStatus:E,slideStatus:pt},re);break}default:{let{value:pe,time:ye,iteration:Be,finish:Ce}=Jt;(0,J.Q)(wt.id,{value:pe,time:ye,iteration:Be,finish:Ce,nodeStatus:E,slideStatus:pt},re);break}}}if(ae&&null!==(Z=ae.source)&&void 0!==Z&&Z.path){vt.total+=1;let re=()=>{vt.counter+=1,Te()};(0,G.R)(wt.id,ae,vt,{nodeStatus:E,slideStatus:pt},re)}vt.total||Te()})(E,pt.nodeStatus,pt.slideStatus,Ct):Ct&&Ct(),null!==(ot=E.interactive)&&void 0!==ot&&ot.click&&ut("#"+E.id).click(Ut=>{var yt;Ut.preventDefault(),null!==(yt=E.interactive)&&void 0!==yt&&null!==(yt=yt.click)&&void 0!==yt&&yt.action&&ut("#"+E.id).addClass("interactive-click"),pt.nodeStatus=Zt.refreshNodeStatus(),(0,st.F)(E,pt.nodeStatus,pt.slideStatus)}),null!==(Z=E.variable)&&void 0!==Z&&Z.input&&ut("#"+E.id).on("change","input,textarea",Ut=>{Ut.preventDefault(),((wt,E,pt)=>{var Ct,z;P.icdt.variable.setValue(null!==(Ct=null===(z=E.variable)||void 0===z||null===(z=z.input)||void 0===z?void 0:z.variable)&&void 0!==Ct?Ct:"",wt),(wt=>{var E;let pt=(Ct,z)=>{null==Ct||Ct.forEach(ot=>{switch(ot.type){case R.$.GROUP:(0,L.m)(ot.id,{},z),pt(ot.nodes,ot.id);break;case R.$.POLYGON:break;case R.$.TEXT:(0,k.$)(ot.id,{size:ot.size,attribute:ot.attribute,source:ot.source},z)}})};pt(null===(E=wt.svg)||void 0===E?void 0:E.nodes)})(pt)})(Ut.target.value,E,wt)}),null!==(vt=E.variable)&&void 0!==vt&&vt.click&&ut("#"+E.id).click(Ut=>{var yt;Ut.preventDefault(),null!==(yt=E.variable)&&void 0!==yt&&null!==(yt=yt.click)&&void 0!==yt&&yt.variable&&ut("#"+E.id).addClass("variable-click"),((wt,E)=>{var pt;P.icdt.variable.setValueOperator(null===(pt=wt.variable)||void 0===pt?void 0:pt.click),(wt=>{var E;let pt=(Ct,z)=>{null==Ct||Ct.forEach(ot=>{switch(ot.type){case R.$.GROUP:(0,L.m)(ot.id,{},z),pt(ot.nodes,ot.id);break;case R.$.POLYGON:break;case R.$.TEXT:(0,k.$)(ot.id,{size:ot.size,attribute:ot.attribute,source:ot.source},z)}})};pt(null===(E=wt.svg)||void 0===E?void 0:E.nodes)})(E)})(E,wt)}),"test"==(null===(Dt=E.source)||void 0===Dt?void 0:Dt.type)&&((wt,E)=>{var pt;let Ct=()=>{};switch(null===(pt=wt.source)||void 0===pt||null===(pt=pt.test)||void 0===pt?void 0:pt.type){case"singlechoice":jQuery("#"+wt.id).click(z=>{z.preventDefault(),((wt,E,pt,Ct,z)=>{var ot,Z;let vt=null===(ot=wt.source)||void 0===ot||null===(ot=ot.test)||void 0===ot||null===(ot=ot.singlechoice)||void 0===ot?void 0:ot.iscorrect;null!==(Z=E.svg)&&void 0!==Z&&Z.nodes.find(Ut=>{var yt;return"submit"==(null===(yt=Ut.source)||void 0===yt||null===(yt=yt.test)||void 0===yt?void 0:yt.type)})||Se(wt,E,pt,Ct,{iscorrect:vt},z),E.test?E.test.answer?E.test.answer.singlechoice={value:wt.id,iscorrect:vt}:E.test.answer={singlechoice:{value:wt.id,iscorrect:vt}}:E.test={answer:{singlechoice:{value:wt.id,iscorrect:vt}}};let Dt=(0,Xt.g1)(zt.O.TEST_GROUP,"g",void 0,P.icdt.target);(0,Xt.Yw)(Dt,E),console.log("node source ->",wt.source),console.log("slide test ->",E.test)})(wt,E,Zt.nodeStatus,Zt.slideStatus,Ct)});break;case"multichoice":jQuery("#"+wt.id).click(z=>{z.preventDefault(),((wt,E,pt,Ct,z)=>{var ot,Z;let Dt,vt=null===(ot=wt.source)||void 0===ot||null===(ot=ot.test)||void 0===ot||null===(ot=ot.multichoice)||void 0===ot?void 0:ot.iscorrect;null!==(Z=E.svg)&&void 0!==Z&&Z.nodes.find(yt=>{var Jt;return"submit"==(null===(Jt=yt.source)||void 0===Jt||null===(Jt=Jt.test)||void 0===Jt?void 0:Jt.type)})||Se(wt,E,pt,Ct,{iscorrect:vt},z),E.test?E.test.answer?E.test.answer.multichoice?E.test.answer.multichoice.find(yt=>yt.value==wt.id)?(E.test.answer.multichoice=E.test.answer.multichoice.filter(yt=>yt.value!=wt.id),Dt=!0):E.test.answer.multichoice.push({value:wt.id,iscorrect:vt}):E.test.answer.multichoice=[{value:wt.id,iscorrect:vt}]:E.test.answer={multichoice:[{value:wt.id,iscorrect:vt}]}:E.test={answer:{multichoice:[{value:wt.id,iscorrect:vt}]}};let Ut=(0,Xt.g1)(zt.O.TEST_GROUP,"g",void 0,P.icdt.target);(0,Xt.Yw)(Ut,E),console.log("node source ->",wt.source),console.log("slide test ->",E.test)})(wt,E,Zt.nodeStatus,Zt.slideStatus,Ct)});break;case"fill":jQuery("#"+wt.id).on("keyup",'input[type="text"]',z=>{var ot;let Z=$("<div/>").css({"font-size":$(z.target).css("font-size"),visibility:"hidden",float:"left"}).text(z.target.value).appendTo(window.document.body);$(z.target).css({width:(null!==(ot=Z.width())&&void 0!==ot?ot:0)+30})}).on("keypress",'input[type="text"]',z=>{13===(z.keyCode||z.charCode||z.which)&&(z.preventDefault(),z.stopPropagation(),$(z.target).blur())}).on("change",'input[type="text"]',z=>{var ot,Z;let vt=Zt.nodeStatus,Dt=Zt.slideStatus,Ut=null===(ot=z.target)||void 0===ot?void 0:ot.getAttribute("data-key"),yt=null===(Z=z.target)||void 0===Z||null===(Z=Z.value)||void 0===Z||null===(Z=Z.toLowerCase())||void 0===Z?void 0:Z.trim();((wt,E,pt,Ct,z,ot)=>{var Z,vt,Dt;let{value:Ut}=null!==(Z=null===(vt=wt.source)||void 0===vt||null===(vt=vt.test)||void 0===vt||null===(vt=vt.fill)||void 0===vt?void 0:vt.find(Jt=>Jt.key==`[[${z.key}]]`))&&void 0!==Z?Z:{},yt=Ut&&Ut.includes(z.value);null!==(Dt=E.svg)&&void 0!==Dt&&Dt.nodes.find(Jt=>{var ae;return"submit"==(null===(ae=Jt.source)||void 0===ae||null===(ae=ae.test)||void 0===ae?void 0:ae.type)})||Se(wt,E,pt,Ct,{iscorrect:yt},ot),z.iscorrect=yt,E.test?E.test.answer?E.test.answer.fill?E.test.answer.fill.find(Jt=>Jt.key==z.key)?E.test.answer.fill.filter(Jt=>Jt.key==z.key).forEach(Jt=>{Jt.value=z.value,Jt.iscorrect=z.iscorrect}):E.test.answer.fill.push(z):E.test.answer.fill=[z]:E.test.answer={fill:[z]}:E.test={answer:{fill:[z]}},console.log("node source ->",wt.source),console.log("slide test ->",E.test)})(wt,E,vt,Dt,{key:Ut,value:yt},Ct),jQuery("#"+wt.id).find(`input[type="text"][data-key="${Ut}"]`).val(yt)});break;case"matching-empty":jQuery("#"+wt.id).on("touchmove",".ondrag-item",function(z){z.preventDefault()}).kendoDraggable({filter:".ondrag-item",hint:function(z){return`<div style="width:64px;height:${wt.size.height/wt.size.width*64}px;border-radius:8px;border:1px dashed #DADADA;padding:8px;box-sizing:content-box;background-color:rgba(255,255,255,0.4);">${z.prop("outerHTML")}</div>`.replace(/\s+/g," ")},dragstart:function(z){$('svg foreignObject .ondrop-here[data-type="matching"]:empty').addClass("actived")},drag:function(z){},dragend:function(z){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")},dragcancel:function(){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")}}),jQuery(`#${wt.id} .ondrop-here`).kendoDropTarget({dragenter:function(z){z.dropTarget.hasClass("actived")&&z.dropTarget.addClass("focused")},dragleave:function(z){z.dropTarget.hasClass("actived")&&z.dropTarget.removeClass("focused")},drop:function(z){if(!z.dropTarget.hasClass("actived"))return;z.dropTarget.removeClass("focused");let Z=z.draggable.currentTarget;Z.appendTo(z.dropTarget),((wt,E,pt,Ct,z,ot)=>{var Z,vt,Dt;let{key:Ut}=null!==(Z=null===(vt=wt.source)||void 0===vt||null===(vt=vt.test)||void 0===vt?void 0:vt.matching)&&void 0!==Z?Z:{key:"KIEN"},yt=z.key==Ut;null!==(Dt=E.svg)&&void 0!==Dt&&Dt.nodes.find(ae=>{var Te;return"submit"==(null===(Te=ae.source)||void 0===Te||null===(Te=Te.test)||void 0===Te?void 0:Te.type)})||Se(wt,E,pt,Ct,{iscorrect:yt},ot),Rt(wt,E,z);let Jt={key:null!=Ut?Ut:"",value:z.key};E.test?E.test.answer?E.test.answer.matching?E.test.answer.matching.find(ae=>ae.key==Ut)?E.test.answer.matching.filter(ae=>ae.key==Ut).forEach(ae=>ae.value=Jt.value):E.test.answer.matching.push(Jt):E.test.answer.matching=[Jt]:E.test.answer={matching:[Jt]}:E.test={answer:{matching:[Jt]}},console.log("node source ->",wt.source),console.log("slide test ->",E.test)})(wt,E,Zt.nodeStatus,Zt.slideStatus,{key:Z.data("key")},Ct)}});break;case"matching-content":jQuery("#"+wt.id).on("touchmove",".ondrag-item",function(z){z.preventDefault()}).kendoDraggable({filter:".ondrag-item",hint:function(z){return`<div style="width:64px;height:${wt.size.height/wt.size.width*64}px;border-radius:8px;border:1px dashed #DADADA;padding:8px;box-sizing:content-box;background-color:rgba(255,255,255,0.4);">${z.prop("outerHTML")}</div>`.replace(/\s+/g," ")},dragstart:function(z){$('svg foreignObject .ondrop-here[data-type="matching"]:empty').addClass("actived")},drag:function(z){},dragend:function(z){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")},dragcancel:function(){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")}}),jQuery(`#${wt.id} .ondrop-here`).kendoDropTarget({dragenter:function(z){z.dropTarget.hasClass("actived")&&z.dropTarget.addClass("focused")},dragleave:function(z){z.dropTarget.hasClass("actived")&&z.dropTarget.removeClass("focused")},drop:function(z){if(!z.dropTarget.hasClass("actived"))return;z.dropTarget.removeClass("focused");let Z=z.draggable.currentTarget;Z.appendTo(z.dropTarget),Rt(wt,E,{key:Z.data("key")})}});break;case"speech":break;case"submit":jQuery("#"+wt.id).click(z=>{z.preventDefault(),((wt,E,pt,Ct,z)=>{var ot,Z,vt,Dt;let Ut;var yt;if(null!=E&&null!==(ot=E.test)&&void 0!==ot&&null!==(ot=ot.answer)&&void 0!==ot&&ot.singlechoice)Ut=null==E||null===(yt=E.test)||void 0===yt||null===(yt=yt.answer)||void 0===yt||null===(yt=yt.singlechoice)||void 0===yt?void 0:yt.iscorrect;else if(null!=E&&null!==(Z=E.test)&&void 0!==Z&&null!==(Z=Z.answer)&&void 0!==Z&&Z.multichoice){var Jt,ae,Te;Ut=1==[null==E||null===(Jt=E.test)||void 0===Jt||null===(Jt=Jt.answer)||void 0===Jt||null===(Jt=Jt.multichoice)||void 0===Jt?void 0:Jt.length,null==E||null===(ae=E.test)||void 0===ae||null===(ae=ae.answer)||void 0===ae||null===(ae=ae.multichoice)||void 0===ae||null===(ae=ae.map(Ce=>Ce.iscorrect?1:0))||void 0===ae?void 0:ae.reduce((Ce,Ae)=>Ce+Ae),null==E||null===(Te=E.svg)||void 0===Te||null===(Te=Te.nodes)||void 0===Te||null===(Te=Te.filter(Ce=>{var Ae,Xe;return"multichoice"==(null===(Ae=Ce.source)||void 0===Ae||null===(Ae=Ae.test)||void 0===Ae?void 0:Ae.type)&&(null===(Xe=Ce.source)||void 0===Xe||null===(Xe=Xe.test)||void 0===Xe||null===(Xe=Xe.multichoice)||void 0===Xe?void 0:Xe.iscorrect)}))||void 0===Te?void 0:Te.length].filter((Ce,Ae,Xe)=>Xe.indexOf(Ce)==Ae).length}else if(null!=E&&null!==(vt=E.test)&&void 0!==vt&&null!==(vt=vt.answer)&&void 0!==vt&&vt.fill){var re,pe;Ut=(null==E||null===(re=E.test)||void 0===re||null===(re=re.answer)||void 0===re||null===(re=re.fill)||void 0===re||null===(re=re.map(Ce=>Ce.iscorrect?1:0))||void 0===re?void 0:re.reduce((Ce,Ae)=>Ce+Ae))==(null===(pe=E.svg)||void 0===pe||null===(pe=pe.nodes)||void 0===pe||null===(pe=pe.filter(Ce=>{var Ae;return"fill"==(null===(Ae=Ce.source)||void 0===Ae||null===(Ae=Ae.test)||void 0===Ae?void 0:Ae.type)}))||void 0===pe?void 0:pe.length)}else if(null!=E&&null!==(Dt=E.test)&&void 0!==Dt&&null!==(Dt=Dt.answer)&&void 0!==Dt&&Dt.matching){var ye,Be;Ut=(null===(ye=E.svg)||void 0===ye||null===(ye=ye.nodes)||void 0===ye||null===(ye=ye.filter(Ce=>{var Ae;return"matching-empty"==(null===(Ae=Ce.source)||void 0===Ae||null===(Ae=Ae.test)||void 0===Ae?void 0:Ae.type)}))||void 0===ye?void 0:ye.length)==((null==E||null===(Be=E.test)||void 0===Be||null===(Be=Be.answer)||void 0===Be?void 0:Be.matching)||[]).map(Ce=>Ce.key==Ce.value?1:0).reduce((Ce,Ae)=>Ce+Ae)}Se(wt,E,pt,Ct,{iscorrect:Ut},z),console.log("node source ->",wt.source),console.log("slide test ->",E.test)})(wt,E,Zt.nodeStatus,Zt.slideStatus,Ct)})}})(E,wt)};var ft=w(8619),m=w(8785),at=w(4921),Nt=w(8054),Lt=w(2282),ee=w(2875),ce=w(8419);const ue=(wt,E,pt)=>{if(pt.slideStatus!=Zt.slideStatus||!E.length)return;let Ct=E.shift(),z=wt.filter(Dt=>Dt.idx==Ct);if(!z.length)return;let ot=Math.max.apply(null,z.map(Dt=>{var Ut;return null!==(Ut=Dt.time)&&void 0!==Ut?Ut:0})),Z=!1,vt=ot<.5?0:setTimeout(()=>{Z||(Z=!0,ue(wt,E,pt))},1e3*ot);Ke(wt,E,z,0,pt,{idx:Ct,total:z.length,counter:0,isRecursive:Z,timeoutRecursive:vt,maxTimeCoundown:ot,uid:Math.floor(1e9*Math.random())})},Ke=(wt,E,pt,Ct,z,ot)=>{if(z.slideStatus!=Zt.slideStatus)return;let Z=pt[Ct];if(Z){switch(Z.type){case R.$.GROUP:break;case R.$.CIRCLE:(0,ft._)(Z.id,{size:Z.size,attribute:Z.attribute},z.pId?window.document.getElementById(z.pId):null);break;case R.$.ELLIPSE:(0,m.r)(Z.id,{size:Z.size,attribute:Z.attribute},z.pId);break;case R.$.LINE:(0,at.W)(Z.id,{size:Z.size,attribute:Z.attribute},z.pId);break;case R.$.RECT:(0,Nt.f)(Z.id,{size:Z.size,attribute:Z.attribute},z.pId?window.document.getElementById(z.pId):null);break;case R.$.POLYGON:(0,Lt.l)(Z.id,{size:Z.size,attribute:Z.attribute},z.pId);break;case R.$.FOREIGNOBJECT:(0,ee.e)(Z.id,{size:Z.size,attribute:Z.attribute,style:Z.style,source:Z.source},z.pId?window.document.getElementById(z.pId):null);break;case R.$.IMAGE:(0,ht.G)(Z.id,{size:Z.size,attribute:Z.attribute,source:Z.source},z.pId?window.document.getElementById(z.pId):null);break;case R.$.TEXT:(0,k.$)(Z.id,{size:Z.size,attribute:Z.attribute,source:Z.source},z.pId);break;case R.$.PATH:(0,ce.G)(Z.id,{size:Z.size,attribute:Z.attribute},z.pId)}rt(z.slide,Z,z,()=>{ot.counter+=1,ot.maxTimeCoundown<.5&&ot.counter>=ot.total&&(ot.total=ot.counter=0,ot.isRecursive||(clearTimeout(ot.timeoutRecursive),ot.isRecursive=!0,setTimeout(()=>{ue(wt,E,z)},250)))}),Ke(wt,E,pt,++Ct,z,ot)}},Zt=new class Ie{constructor(){this._nodeStatus=0,this._slideStatus=0,this._slideIdx=0,this._fnChangeSlides=[]}set data(E){this._dataSource=E.data||{},P.icdt.variable.set=E.variable||{}}get nodeStatus(){return this._nodeStatus}refreshNodeStatus(){return this._nodeStatus=Math.floor(999999999*Math.random()),this._nodeStatus}get slideStatus(){return this._slideStatus}refreshSlideStatus(){return this._slideStatus=Math.floor(999999999*Math.random()),this._slideStatus}get slideIdx(){return this._slideIdx}get slideTotal(){var E,pt;return null!==(E=null===(pt=this._dataSource)||void 0===pt||null===(pt=pt.slides)||void 0===pt?void 0:pt.length)&&void 0!==E?E:0}get slides(){var E;return(null===(E=this._dataSource)||void 0===E?void 0:E.slides)||[]}get slide(){var E;return((null===(E=this._dataSource)||void 0===E?void 0:E.slides)||[])[this._slideIdx]||{}}findNode(E){var pt;let Ct=null===(pt=this._dataSource)||void 0===pt||null===(pt=pt.slides)||void 0===pt?void 0:pt.find((ae,Te)=>Te==this._slideIdx),z=null==Ct?void 0:Ct.svg,ot=(ae,Te)=>{let re=null==ae?void 0:ae.find(Be=>Be.id==E);if(re)return re.pid=Te,re;let pe=0,ye=ae.length||0;for(;pe<ye&&!re&&(re=ot(ae[pe].nodes||[],ae[pe].id),!re);)pe++;return re},Z=ot((null==z?void 0:z.nodes)||[]);var vt,Dt,Ut,yt,Jt;return Z?(Z.style=null!==(vt=Z.style)&&void 0!==vt?vt:{},Z.source=null!==(Dt=Z.source)&&void 0!==Dt?Dt:{},Z.animate=null!==(Ut=Z.animate)&&void 0!==Ut?Ut:{},Z.interactive=null!==(yt=Z.interactive)&&void 0!==yt?yt:{},Z.variable=null!==(Jt=Z.variable)&&void 0!==Jt?Jt:{},Z):{id:0,size:{x:0,y:0,width:0,height:0},attribute:{},isfake:!0}}runSlide(E,pt,Ct){var z;let ot;var Z,vt;if(this.refreshNodeStatus(),this.refreshSlideStatus(),Ct)ot=null===(Z=this._dataSource)||void 0===Z||null===(Z=Z.slides)||void 0===Z?void 0:Z.find(Jt=>Jt.code==Ct||Jt.id==Ct),ot&&(this._slideIdx=(null===(vt=this._dataSource)||void 0===vt||null===(vt=vt.slides)||void 0===vt?void 0:vt.indexOf(ot))||0);else if(pt){var Dt,Ut;ot=null===(Dt=this._dataSource)||void 0===Dt||null===(Dt=Dt.slides)||void 0===Dt?void 0:Dt.find(Jt=>Jt.id==pt),ot&&(this._slideIdx=(null===(Ut=this._dataSource)||void 0===Ut||null===(Ut=Ut.slides)||void 0===Ut?void 0:Ut.indexOf(ot))||0)}else this._slideIdx=Math.min(Math.max(E||0,0),this.slideTotal-1),ot=this.slide;if(ot){var yt;je(P.icdt.container,P.icdt.svg,ot),null===(yt=$(P.icdt.svg).find("#"+zt.O.BACKGROUND_GROUP))||void 0===yt||yt.empty();let Jt=(0,Xt.g1)(zt.O.BACKGROUND_GROUP,"g",void 0,P.icdt.svg);(0,Xt.x0)(Jt,ot),(wt=>{var E,pt,Ct;let z=Zt.nodeStatus,ot=Zt.slideStatus,Z=null===(E=wt.svg)||void 0===E||null===(E=E.nodes)||void 0===E?void 0:E.map(vt=>vt.idx).filter((vt,Dt,Ut)=>Ut.indexOf(vt)==Dt).sort((vt,Dt)=>(null!=vt?vt:0)-(null!=Dt?Dt:0));ue(null!==(pt=null===(Ct=wt.svg)||void 0===Ct?void 0:Ct.nodes)&&void 0!==pt?pt:[],null!=Z?Z:[],{slide:wt,nodeStatus:z,slideStatus:ot})})(ot)}this.changeSlide(this.slides,null===(z=this.slide)||void 0===z?void 0:z.id,this.slideIdx,this.slides.length)}set onChangeSlide(E){this._fnChangeSlides.push(E)}changeSlide(E,pt,Ct,z){this._fnChangeSlides.forEach(ot=>ot(E,pt,Ct,z))}},je=(wt,E,pt)=>{var Ct,z,ot,Z;let vt=window.document.querySelector(E);var Dt;vt||(vt=document.createElementNS("http://www.w3.org/2000/svg","svg"),null===(Dt=window.document.querySelector(wt))||void 0===Dt||Dt.appendChild(vt)),vt.textContent=null;let{x:Ut,y:yt,width:Jt,height:ae}=null!==(Ct=null==pt||null===(z=pt.svg)||void 0===z?void 0:z.viewBox)&&void 0!==Ct?Ct:{x:0,y:0,width:null!==(ot=P.icdt.screen.default_width)&&void 0!==ot?ot:1080,height:null!==(Z=P.icdt.screen.default_height)&&void 0!==Z?Z:1080};vt.setAttributeNS(null,"viewBox",Ut+" "+yt+" "+Jt+" "+ae),vt.setAttribute("id",E.replace("#",""))}},2336:(Ne,Vt,w)=>{"use strict";w.d(Vt,{Q:()=>R});var P=w(1690);const R=(st,J,b)=>{var G;if(!J.value)return void b();let O=$("#"+st),K="",k=null!==(G=J.iteration)&&void 0!==G?G:0,L=[];(J.value||"").match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm)?L.push(J.value):(L.push("animation"),L.push(J.value?"animation-"+J.value:"animation-fadein")),k<0?(L.push("animation-iteration-infinite"),b(),b=function(){}):k>0&&L.push("animation-iteration-"+(k+1)),K=L.join(" "),function(Ot){let it=function(){O.data("animate-running")?O.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){O.data("animate-running",!1),setTimeout(function(){Ot()},100)}):Ot()};O.hasClass("animation")?setTimeout(function(){it()}):it()}(function(){var Ot;ut(st),(k>0||k<0)&&O.one("animationiteration",function(){J.slideStatus===P.$.slideStatus||(O.data("animate-running",!1),ut(st),J.slideStatus===P.$.slideStatus&&b())}),O.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){switch(O.data("animate-running",!1),ut(st),J.finish){default:case 0:case 1:break;case 2:O.addClass("hide")}J.slideStatus===P.$.slideStatus&&b()}),O.attr("data-class",null!==(Ot=O.attr("class"))&&void 0!==Ot?Ot:""),O.addClass(K),O.data("animate-running",!0)})},ut=function(st){var J,b=$("#"+st),G=null===(J=b.attr("class"))||void 0===J?void 0:J.match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm);G&&G.forEach(function(K){$(b).removeClass(K)});let O=b.attr("data-class");O&&(b.attr("class",O),b.removeAttr("data-class")),$(b).data("animation-running",!1)}},861:(Ne,Vt,w)=>{"use strict";w.d(Vt,{G:()=>st});var P=w(4318),R=w(1690),ut=w(4080);const st=(b,G,O)=>{var K;if(!G.points||!G.points.length)return void O();let k=$("#"+b),L=function J(b){let G=[];2===b.length&&b.splice(1,0,[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]);let lt,Ot,it,O=1,K=b.length;for(;O<K;){if(lt=b[O-1],Ot=b[O],it=b[O+1],(Math.abs(lt[0]-Ot[0])>=15||Math.abs(lt[1]-Ot[1])>=15)&&Math.pow(lt[0]-Ot[0],2)+Math.pow(lt[1]-Ot[1],2)>=Math.pow(15,2)&&it&&(Math.abs(lt[0]-it[0])<=20||Math.abs(lt[1]-it[1])<=20)&&Math.pow(lt[0]-it[0],2)+Math.pow(lt[1]-it[1],2)<=Math.pow(20,2))G.push(Ot);else{let tt=Ot[0]-lt[0],nt=Ot[1]-lt[1],y=Math.max(Math.abs(tt),Math.abs(nt));for(var j=0;j<y;j+=15)G.push([lt[0]+tt*j/y,lt[1]+nt*j/y])}O++}return K>0&&(G.splice(0,0,b[0]),G.push(b[K-1])),G}(G.points||[]),lt=null!==(K=G.iteration)&&void 0!==K?K:0;if(lt<0&&(O(),O=function(){}),k.data("work-running")&&lt<0)return;k.data("work-running",!0);let H,Ot=L.length,it=Math.max(20,1e3*(G.time||3)/Ot),{id:j,type:tt,size:nt,attribute:y}=R.$.findNode(b),ht=function(dt){if(G.slideStatus!==R.$.slideStatus)return k.data("work-running",!1),void(G.slideStatus===R.$.slideStatus&&O());if(dt<Ot){let B=L[dt];B&&(H=Object.assign({},nt,{x:B[0]-nt.width/2,y:B[1]-nt.height/2}),Object.assign(y,(0,P.sg)(tt,H)),(0,ut.__)(window.document.getElementById(j),y),setTimeout(function(){ht(++dt)},it))}else if(lt>0)lt--,ht(1);else if(lt<0)ht(1);else switch(k.data("work-running",!1),G.slideStatus===R.$.slideStatus&&O(),G.finish){default:case 0:break;case 1:Object.assign(y,(0,P.sg)(tt,nt)),(0,ut.__)(window.document.getElementById(j),y);break;case 2:k.addClass("hide")}};ht(1)}},157:(Ne,Vt,w)=>{"use strict";w.d(Vt,{R:()=>R});var P=w(1690);const R=(st,J,b,G,O)=>{var K,k,L;if(G.slideStatus!=P.$.slideStatus)return J.async&&"change-slide"!=J.async?void 0:void O();if(G.nodeStatus!=P.$.nodeStatus&&(!J.async||"change-node"==J.async))return void O();if(null===(K=J.source)||void 0===K||!K.url)return console.warn(`${st} -> audio no source!`),O(),void(O=()=>{});var lt=$("#"+st);let Ot=null!==(k=J.iteration)&&void 0!==k?k:0;if(Ot<0&&(O(),O=function(){}),!(lt.data("audio-running")&&Ot<0)){lt.data("audio-running",!0);var it=function(tt){tt.pause(),tt.remove(),lt.data("audio-running",!1)},j=new Audio;return j.autoplay=!0,j.loop=0!=Ot,j.preload="auto",j.controls=!0,j.setAttributeNode(document.createAttribute("playsinline")),j.addEventListener("canplay",function(){var tt=j.play();tt&&tt.then(function(nt){var y;lt.data("audio-running",!0),"time"==J.async?setTimeout(()=>{it(j),O(),O=()=>{}},1e3*(null!==(y=J.time)&&void 0!==y?y:1)):"non-stop"==J.async&&(O(),O=()=>{})}).catch(function(nt){lt.data("audio-running",!1),G.slideStatus===P.$.slideStatus&&(O(),O=()=>{})})}),j.addEventListener("timeupdate",function(){switch(J.async){case"time":case"non-stop":break;case"finish-action":b.total>=2&&b.total-b.counter==1&&(it(this),O(),O=()=>{});break;default:case"change-node":G.nodeStatus!==P.$.nodeStatus&&(it(this),O(),O=()=>{});break;case"change-slide":G.slideStatus!==P.$.slideStatus&&(it(this),O(),O=()=>{})}}),j.addEventListener("canplaythrough",function(){this.loop&&(Ot>0?Ot--:0==Ot&&(this.loop=!1))}),j.addEventListener("play",function(){}),j.addEventListener("pause",function(){}),j.addEventListener("ended",function(){this.remove(),lt.data("audio-running",!1),G.slideStatus===P.$.slideStatus&&(O(),O=()=>{})}),j.onerror=function(){this.remove(),lt.data("audio-running",!1),G.slideStatus===P.$.slideStatus&&(O(),O=()=>{})},j.src=(null===(L=J.source)||void 0===L?void 0:L.url)||"",j}}},5973:(Ne,Vt,w)=>{"use strict";w.d(Vt,{F:()=>O});var P=w(3217),R=w(1690),ut=w(2336),st=w(861),J=w(157),b=w(4787),G=w(4981);const O=(K,k,L,lt)=>{var Ot,it,j;let tt={total:0,counter:0},{triggershow:nt,triggerrun:y,triggerhide:H,action:ht,audio:dt,slide:B,media:Tt}=null!==(Ot=null===(it=K.interactive)||void 0===it?void 0:it.click)&&void 0!==Ot?Ot:{};if(nt){let{id:zt,ids:Xt,time:Ht,async:Pe}=nt;"asynctrue"==Pe?(0,b.L5)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L}):"time"==Pe&&setTimeout(()=>{(0,b.L5)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L})},1e3*(null!=Ht?Ht:0))}if(y){let{id:zt,ids:Xt,time:Ht,async:Pe}=y;"asynctrue"==Pe?(0,b.Ar)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L}):"time"==Pe&&setTimeout(()=>{(0,b.Ar)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L})},1e3*(null!=Ht?Ht:0))}if(H){let{id:zt,ids:Xt,time:Ht,async:Pe}=H;"asynctrue"==Pe?(0,b.WT)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L}):"time"==Pe&&setTimeout(()=>{(0,b.WT)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L})},1e3*(null!=Ht?Ht:0))}let a=()=>{setTimeout(()=>{if(tt.counter>=tt.total){if(lt&&lt(),nt){let{id:zt,ids:Xt,async:Ht}=nt;"asyncfalse"==Ht&&(0,b.L5)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L})}if(y){let{id:zt,ids:Xt,async:Ht}=y;"asyncfalse"==Ht&&(0,b.Ar)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L})}if(H){let{id:zt,ids:Xt,async:Ht}=H;"asyncfalse"==Ht&&(0,b.WT)({id:zt,ids:Xt,nodeStatus:k,slideStatus:L})}}})};if(ht&&ht.value){tt.total+=1;let zt=()=>{tt.counter+=1,a()};switch(ht.value){case"hide":$("#"+K.id).addClass("hide"),zt();break;case"points":{let{points:Xt,time:Ht,iteration:Pe,finish:W}=ht;Xt&&(0,st.G)(K.id,{points:Xt,time:Ht,iteration:Pe,finish:W,nodeStatus:k,slideStatus:L},zt);break}default:{let{value:Xt,time:Ht,iteration:Pe,finish:W}=ht;(0,ut.Q)(K.id,{value:Xt,time:Ht,iteration:Pe,finish:W,nodeStatus:k,slideStatus:L},zt);break}}}if(dt&&null!==(j=dt.source)&&void 0!==j&&j.path){tt.total+=1;let zt=()=>{tt.counter+=1,a()};(0,J.R)(K.id,dt,tt,{nodeStatus:k,slideStatus:L},zt)}if(tt.total||a(),B&&B.id)switch(console.log(`InteractiveNode #${K.id} slide(undefined,${B.id},${B.code}) success!`),B.id){case-1:R.$.runSlide(R.$.slideIdx-1);break;case-2:R.$.runSlide(R.$.slideIdx+1);break;default:R.$.runSlide(void 0,B.id,`${B.code}`)}if(Tt&&Tt.type){var te;let Xt=`<div class="popup-media-viewer"><iframe src="${(0,P.ei)({readfileuploadurl:null===(te=G.icdt.config)||void 0===te?void 0:te.readfileuploadurl,type:null==Tt?void 0:Tt.type,oss:null==Tt?void 0:Tt.oss,path:null==Tt?void 0:Tt.path,pathExtract:null==Tt?void 0:Tt.pathExtract,url:null==Tt?void 0:Tt.url})}" frameborder="0" allowfullscreen\n        webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen"></iframe><div class="btn-close"><img src="assets/icon-svg/close-outline.svg"/></div></div>`,Ht=$(Xt).appendTo(window.document.body);Ht.find(".btn-close").click(function(Pe){Pe.preventDefault(),Ht.remove()})}}},4787:(Ne,Vt,w)=>{"use strict";w.d(Vt,{Ar:()=>st,L5:()=>ut,WT:()=>J});var P=w(1690),R=w(5973);const ut=b=>{console.log("icdt_Run_Interactive_TriggerShow",b),b.id?$("#"+b.id).removeClass("hide"):b.ids&&b.ids.forEach(G=>{$("#"+G).removeClass("hide")})},st=b=>{console.log("icdt_Run_Interactive_TriggerRun",b),b.id?($("#"+b.id).removeClass("hide"),(0,R.F)(P.$.findNode(b.id),b.nodeStatus,b.slideStatus)):b.ids&&b.ids.forEach(G=>{$("#"+G).removeClass("hide"),(0,R.F)(P.$.findNode(G),b.nodeStatus,b.slideStatus)})},J=b=>{console.log("icdt_Run_Interactive_TriggerHide",b),b.id?$("#"+b.id).addClass("hide"):b.ids&&b.ids.forEach(G=>{$("#"+G).addClass("hide")})}},4080:(Ne,Vt,w)=>{"use strict";w.d(Vt,{Mh:()=>H,wM:()=>B,x_:()=>ht,it:()=>Tt,g1:()=>Ht,__:()=>a,QI:()=>zt,DB:()=>te,eb:()=>dt,x0:()=>Oe,g$:()=>Pe,mo:()=>Rt,XH:()=>Ft,hJ:()=>W,vl:()=>$t,yD:()=>Kt,Yw:()=>Se});var P=w(2276),R=w(9054),J=/^#?[a-fA-F0-9]+$/;const O=(rt,ft)=>{var m;if("none"==(rt=null!==(m=rt)&&void 0!==m?m:""))return"none";if("transparent"==rt)return"rgba(0,0,0,0)";if(rt.includes("rgba("))return rt;if(rt.includes("rgb(")&&(rt=((rt,ft)=>{if(!rt)return"";let m=rt.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),at=(m&&m[4]||"").trim(),Nt=m?(256|m[1]).toString(16).slice(1)+(256|m[2]).toString(16).slice(1)+(256|m[3]).toString(16).slice(1):rt;return"0"==at?"transparent":`#${Nt}`})(rt)),!(rt=rt.replace(/[^0-9a-fA-F]/g,"")))return"";if(!J.test(rt))return console.error(`hex2rgba -> ${rt}: first argument has invalid hexadecimal characters`),"";if("#"===rt[0]&&(rt=rt.slice(1)),3===rt.length){let Nt=rt.split("");Nt.splice(2,0,rt[2]),Nt.splice(1,0,rt[1]),Nt.splice(0,0,rt[0]),rt=Nt.join("")}if(6!==rt.length)return console.error("hex2rgba: first argument has invalid hexadecimal length"),"";var at=[parseInt(rt.slice(0,2),16),parseInt(rt.slice(2,4),16),parseInt(rt.slice(4,6),16)];return ft="number"==typeof ft?ft:parseFloat(ft),at.push(ft>=0&&ft<=1?ft:1),"rgba("+at.join(",")+")"};var K=w(1814),k=w(4981),L=w(3423),lt=w(8054),Ot=w(7210),it=w(8619),j=w(1690),tt=w(2875),nt=w(1687),y=w(3217);class H{constructor(ft,m){let at=window.document.querySelector(m);var Nt;at||(at=window.document.createElementNS("http://www.w3.org/2000/svg","svg"),null===(Nt=window.document.querySelector(ft))||void 0===Nt||Nt.appendChild(at));let{width:Lt,height:ee}=k.icdt.screen.get;at.setAttributeNS(null,"viewBox","0 0 "+Lt+" "+ee),at.setAttributeNS(null,"width",Lt.toString()),at.setAttributeNS(null,"height",ee.toString()),at.setAttribute("id",m.replace("#","")),at.style.display="block",at.style.position="absolute",at.style.top="0px",at.style.left="0px",at.style.backgroundColor="#fafafa",at.style.cursor="default"}}const ht=rt=>{var ft,m,at,Nt,Lt,ee;k.icdt.target.setAttributeNS(null,"viewBox",`${null!==(ft=null==rt||null===(m=rt.svg)||void 0===m?void 0:m.viewBox.x)&&void 0!==ft?ft:0} ${null!==(at=null==rt||null===(Nt=rt.svg)||void 0===Nt?void 0:Nt.viewBox.y)&&void 0!==at?at:0} ${null==rt||null===(Lt=rt.svg)||void 0===Lt?void 0:Lt.viewBox.width} ${null==rt||null===(ee=rt.svg)||void 0===ee?void 0:ee.viewBox.height}`),$(k.icdt.target).find("#"+nt.O.BACKGROUND_GROUP).empty();let ce=Ht(nt.O.BACKGROUND_GROUP,"g",void 0,k.icdt.target);Oe(ce,rt),(()=>{let jt=window.document.getElementById(null==rt?void 0:rt.id);$(jt).find("#"+nt.O.BACKGROUND_GROUP).empty();let Pt=Ht(nt.O.BACKGROUND_GROUP,"g",void 0,jt);Oe(Pt,rt)})()},dt=()=>{let rt=k.icdt.screen.position;P(k.icdt.target).css({left:rt.x,top:rt.y,width:k.icdt.screen.width,height:k.icdt.screen.height})},B=()=>{P(k.icdt.target).find(">*:not(defs)").remove();let{width:rt,height:ft}=k.icdt.screen.get;k.icdt.target.setAttributeNS(null,"viewBox",`0 0 ${rt} ${ft}`)},Tt=(rt,ft,m,at,Nt)=>{let Lt;return rt?(Lt=P(Nt||k.icdt.target).find("#"+rt).get(0),Lt||(Lt=window.document.createElementNS("http://www.w3.org/2000/svg",m),Lt.setAttribute("id",rt),P(Lt).appendTo(Nt||k.icdt.target))):(Lt=window.document.createElementNS("http://www.w3.org/2000/svg",m),P(Lt).appendTo(Nt||k.icdt.target)),null!=at&&at.attribute&&a(Lt,null==at?void 0:at.attribute),null!=at&&at.style&&te(Lt,null==at?void 0:at.style),null!=at&&at.source&&zt(Lt,ft,null==at?void 0:at.source),Lt},a=(rt,ft)=>{return P(rt).attr((m=Object.assign({},ft||{}),null===(at=Object.keys(m))||void 0===at||at.forEach(ee=>{switch(ee){case"fill":break;case"stroke":var ce;Object.assign(m,{"stroke-width":null!==(ce=m.strokeWidth)&&void 0!==ce?ce:null,strokeWidth:null});break;case"strokeLinecap":var jt;Object.assign(m,{"stroke-linecap":null!==(jt=m.strokeLinecap)&&void 0!==jt?jt:null,strokeLinecap:null});break;case"strokeLinejoin":var Pt;Object.assign(m,{"stroke-linejoin":null!==(Pt=m.strokeLinejoin)&&void 0!==Pt?Pt:null,strokeLinejoin:null});break;case"strokeDasharray":var ue;Object.assign(m,{"stroke-dasharray":null!==(ue=m.strokeDasharray)&&void 0!==ue?ue:null,strokeDasharray:null});break;case"strokeDasharrays":var Ke,Ie;Object.assign(m,{"stroke-dasharray":null!==(Ke=null===(Ie=m.strokeDasharrays)||void 0===Ie?void 0:Ie.join(" "))&&void 0!==Ke?Ke:null,strokeDasharrays:null});break;case"fontFamily":var Zt;Object.assign(m,{"font-family":null!==(Zt=m.fontFamily)&&void 0!==Zt?Zt:null,fontFamily:null});break;case"fontSize":var je;Object.assign(m,{"font-size":null!==(je=m.fontSize)&&void 0!==je?je:null,fontSize:null});break;case"textLength":Object.assign(m,{textLength:m.textLength?`${m.textLength}px`:null});break;case"transformOrigin":var wt;Object.assign(m,{"transform-origin":null!==(wt=m.transformOrigin)&&void 0!==wt?wt:null,transformOrigin:null})}}),Object.assign({},null!=m?m:{},{fill:null!=m&&m.fill?O(m.fill,null!==(Nt=null==m?void 0:m.fillOpacity)&&void 0!==Nt?Nt:1):"rgba(0,0,0,0)",fillOpacity:null,stroke:null!=m&&m.stroke?O(m.stroke,null!==(Lt=null==m?void 0:m.strokeOpacity)&&void 0!==Lt?Lt:1):"rgba(0,0,0,0)",strokeOpacity:null}))),rt;var m,at,Nt,Lt},te=(rt,ft)=>{return P(rt).css((m=Object.assign({},ft||{}),null===(at=Object.keys(m))||void 0===at||at.forEach(Nt=>{switch(Nt){case"padding":Object.assign(m,{padding:m.padding?`${m.padding}px`:null});break;case"borderWidth":var Lt;Object.assign(m,m.borderWidth&&m.borderStyle&&m.borderColor?{"border-width":`${m.borderWidth}px`,"border-style":m.borderStyle,"border-color":O(m.borderColor,null!==(Lt=m.borderOpacity)&&void 0!==Lt?Lt:1)}:{"border-width":"","border-style":"","border-color":""}),Object.assign(m,{borderWidth:null,borderStyle:null,borderColor:null,borderOpacity:null});break;case"borderRadius":Object.assign(m,{"border-radius":m.borderRadius?`${m.borderRadius}px`:null,borderRadius:null});break;case"backgroundColor":var ee;m.backgroundColor&&Object.assign(m,{"background-color":O(m.backgroundColor,null!==(ee=m.backgroundOpacity)&&void 0!==ee?ee:1)}),Object.assign(m,{backgroundColor:null,backgroundOpacity:null})}}),m)),rt;var m,at},zt=(rt,ft,m)=>{switch(ft){case R.$.TEXT:var at,Nt;P(rt).text(null!==(at=null==m||null===(Nt=m.text)||void 0===Nt?void 0:Nt.textContent)&&void 0!==at?at:"");break;case R.$.IMAGE:var Lt,ee,ce,jt,Pt,ue,Ke;P(rt).attr("href",(null==m||null===(Lt=m.image)||void 0===Lt?void 0:Lt.base64)||(null!=m&&null!==(ee=m.image)&&void 0!==ee&&ee.path?`${null!==(ce=null===(jt=k.icdt.config)||void 0===jt?void 0:jt.readfileuploadurl)&&void 0!==ce?ce:""}${null!==(Pt=null==m||null===(ue=m.image)||void 0===ue?void 0:ue.path)&&void 0!==Pt?Pt:""}`:"")||(null==m||null===(Ke=m.image)||void 0===Ke?void 0:Ke.url)||"");break;case R.$.FOREIGNOBJECT:switch(null==m?void 0:m.type){case"text":var Ie,Zt;if(null!==(Ie=m.text)&&void 0!==Ie&&Ie.variableKeywords&&null!==(Zt=m.text)&&void 0!==Zt&&Zt.variableKeywords.length){var je;let A=k.icdt.variable.getKeys(),et=(null===(je=m.text)||void 0===je?void 0:je.textContent)||"";m.text.variableKeywords.forEach(Q=>{var ct=Q.replace(/[^a-zA-Z0-9_]/gm,"");if(A.indexOf(ct)>=0){var _t=k.icdt.variable.getValue(ct);et=et.replace(Q,_t)}}),P(rt).text(et)}else{var wt;P(rt).text((null===(wt=m.text)||void 0===wt?void 0:wt.textContent)||"")}break;case"html":{var E,pt,Ct;let A=(null==m||null===(E=m.html)||void 0===E?void 0:E.htmlContent)||"";if(null!==(pt=m.html)&&void 0!==pt&&pt.variableKeywords&&null!==(Ct=m.html)&&void 0!==Ct&&Ct.variableKeywords.length){let et=k.icdt.variable.getKeys();m.html.variableKeywords.forEach(Q=>{var ct=Q.replace(/[^a-zA-Z0-9_]/gm,"");if(et.indexOf(ct)>=0){var _t=k.icdt.variable.getValue(ct);A=A.replace(Q,_t)}})}P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;">${A}</div>`).find("img[path],video[path],iframe[path]").each((et,Q)=>{var ct,_t,bt;Q.setAttribute("src",(null!==(ct=null===(_t=k.icdt.config)||void 0===_t?void 0:_t.readfileuploadurl)&&void 0!==ct?ct:"")+(null!==(bt=Q.getAttribute("path"))&&void 0!==bt?bt:"")),Q.removeAttribute("path")});break}case"input":var z,ot,Z,vt;if(null!==(z=m.input)&&void 0!==z&&z.input)P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><input type="text" placeholder="${null!==(Z=null===(vt=m.input)||void 0===vt?void 0:vt.placeholder)&&void 0!==Z?Z:""}" maxlength="100" /></div>`);else if(null!==(ot=m.input)&&void 0!==ot&&ot.textarea){var Dt,Ut;P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><textarea placeholder="${null!==(Dt=null===(Ut=m.input)||void 0===Ut?void 0:Ut.placeholder)&&void 0!==Dt?Dt:""}" maxlength="1000"></textarea></div>`)}break;case"image":var yt,Jt,ae,Te,re,pe,ye;P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><img src="${(null===(yt=m.image)||void 0===yt?void 0:yt.base64)||(null!==(Jt=m.image)&&void 0!==Jt&&Jt.path?`${null!==(ae=null===(Te=k.icdt.config)||void 0===Te?void 0:Te.readfileuploadurl)&&void 0!==ae?ae:""}${null!==(re=null===(pe=m.image)||void 0===pe?void 0:pe.path)&&void 0!==re?re:""}`:"")||(null===(ye=m.image)||void 0===ye?void 0:ye.url)||""}" style="width:100%;height:100%;display:block;"/></div>`);break;case"iframe":var Be,Ce,Ae,Xe,tn,Ei,en;P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><iframe src="${null!==(Be=m.iframe)&&void 0!==Be&&Be.path?`${null!==(Ce=null===(Ae=k.icdt.config)||void 0===Ae?void 0:Ae.readfileuploadurl)&&void 0!==Ce?Ce:""}${null!==(Xe=null===(tn=m.iframe)||void 0===tn?void 0:tn.path)&&void 0!==Xe?Xe:""}`:null!==(Ei=null===(en=m.iframe)||void 0===en?void 0:en.url)&&void 0!==Ei?Ei:""}" frameborder="0" allowfullscreen\n                    webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="width:100%;height:100%;display:block;"></iframe></div>`);break;case"embed":{var nn,En,ni,ji,Ii,$i;let A=(0,y.ei)({readfileuploadurl:null===(nn=k.icdt.config)||void 0===nn?void 0:nn.readfileuploadurl,type:null===(En=m.embed)||void 0===En?void 0:En.type,oss:null===(ni=m.embed)||void 0===ni?void 0:ni.oss,path:null===(ji=m.embed)||void 0===ji?void 0:ji.path,pathExtract:null===(Ii=m.embed)||void 0===Ii?void 0:Ii.pathExtract,url:null===($i=m.embed)||void 0===$i?void 0:$i.url});P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><iframe src="${A}" frameborder="0" allowfullscreen\n                    webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="width:100%;height:100%;display:block;"></iframe></div>`);break}case"svg":var pi,ci;P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;">${null!==(pi=null===(ci=m.svg)||void 0===ci?void 0:ci.svgContent)&&void 0!==pi?pi:""}</div>`);break;case"test":{var Bi,rn,an,Bt;let A=(null==m||null===(Bi=m.html)||void 0===Bi?void 0:Bi.htmlContent)||"";if(null!==(rn=m.html)&&void 0!==rn&&rn.variableKeywords&&null!==(an=m.html)&&void 0!==an&&an.variableKeywords.length){let et=k.icdt.variable.getKeys();m.html.variableKeywords.forEach(Q=>{var ct=Q.replace(/[^a-zA-Z0-9_]/gm,"");if(et.indexOf(ct)>=0){var _t=k.icdt.variable.getValue(ct);A=A.replace(Q,_t)}})}switch(null==m||null===(Bt=m.test)||void 0===Bt?void 0:Bt.type){case"matching-empty":P(rt).html('<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" class="ondrop-here" data-node="test" data-type="matching"></div>');break;case"matching-content":var U,l;P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" class="ondrop-here" data-node="test" data-type="matching"><div class="ondrag-item" data-key="${null!==(U=null==m||null===(l=m.test)||void 0===l||null===(l=l.matching)||void 0===l?void 0:l.key)&&void 0!==U?U:"KIEN"}" style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;">${A}</div></div>`);break;case"singlechoice":case"multichoice":P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;">${A}</div></div>`);break;case"fill":var d;((null===(d=m.html)||void 0===d?void 0:d.fillKeywords)||[]).forEach(et=>{var Q=`<input type="text" maxlength="128" style="display:inline-block;width:80px;min-width:100px;max-width:100%;padding:0px 10px;margin:0px;box-sizing:content-box;outline:none;box-shadow:none;border-width:0px 0px 1px;border-top-style:initial;border-right-style:initial;border-left-style:initial;border-top-color:initial;border-right-color:initial;border-left-color:initial;border-image:initial;border-bottom-style:dashed;border-bottom-color:rgb(123,146,254);background:transparent;animation:0.3s ease-in-out 0s 1 normal none running width;text-align:left;" data-key="${et.replace(/[^a-zA-Z0-9]+/gm,"")}"/>`;A=A.replace(new RegExp(et.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),"g"),Q)}),P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:start;align-items:center;width:100%;height:100%;">${A}</div></div>`);break;case"speech":P(rt).html('<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;"><img src="images/svg/component/microphone4.svg" width="60" height="60"/></div></div>');break;case"submit":var s,f,p,C,I,M,Y;P(rt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><img src="${null!==(s=null!==(f=null===(p=m.image)||void 0===p?void 0:p.url)&&void 0!==f?f:`${null!==(C=null===(I=k.icdt.config)||void 0===I?void 0:I.readfileuploadurl)&&void 0!==C?C:""}${null!==(M=null===(Y=m.image)||void 0===Y?void 0:Y.path)&&void 0!==M?M:""}`)&&void 0!==s?s:""}" style="width:100%;height:100%;display:block;"/></div>`)}P(rt).find("img[path],video[path],iframe[path]").each((et,Q)=>{var ct,_t,bt;Q.setAttribute("src",(null!==(ct=null===(_t=k.icdt.config)||void 0===_t?void 0:_t.readfileuploadurl)&&void 0!==ct?ct:"")+(null!==(bt=Q.getAttribute("path"))&&void 0!==bt?bt:"")),Q.removeAttribute("path")})}}}},Ht=(rt,ft,m,at)=>{let Nt=P(at||k.icdt.target).find("#"+rt).get(0);return Nt||(Nt=window.document.createElementNS("http://www.w3.org/2000/svg",ft),Nt.setAttribute("id",rt),P(Nt).appendTo(at||k.icdt.target)),P(Nt).attr((null==m?void 0:m.attribute)||{}),P(Nt).css((null==m?void 0:m.style)||{}),Nt},Pe=(rt,ft)=>{let m=(0,L.v)(2),at={fill:K.S3.fill,stroke:K.S3.stroke,"stroke-width":(0,L.v)(K.S3.strokeWidth)};return[{element:Ht("icdt-temp-create-rect-center","rect",{attribute:Object.assign({x:ft.x-m,y:ft.y-m,width:ft.width+2*m,height:ft.height+2*m},at)},rt),posType:"rect-center"}]},W=(rt,ft)=>{let{size:m}=ft,at=(0,L.v)(1),Nt=(0,L.v)(2),Lt=(0,L.v)(5),ee={stroke:K.NV.stroke,"stroke-width":(0,L.v)(K.NV.strokeWidth),"stroke-linecap":K.NV.strokeLinecap},ce={fill:K.Mo.fill,stroke:K.Mo.stroke,"stroke-width":(0,L.v)(K.Mo.strokeWidth)},jt={fill:K.In.fill,stroke:K.In.stroke,"stroke-width":(0,L.v)(K.In.strokeWidth),width:(0,L.v)(K.In.width),height:(0,L.v)(K.In.height)};return Ht("icdt-temp-resize-line-left","line",{attribute:Object.assign({x1:m.x-at,y1:m.y,x2:m.x-at,y2:m.y+m.height},ee)},rt),Ht("icdt-temp-resize-line-top","line",{attribute:Object.assign({x1:m.x,y1:m.y-at,x2:m.x+m.width,y2:m.y-at},ee)},rt),Ht("icdt-temp-resize-line-right","line",{attribute:Object.assign({x1:m.x+m.width+at,y1:m.y,x2:m.x+m.width+at,y2:m.y+m.height},ee)},rt),Ht("icdt-temp-resize-line-bottom","line",{attribute:Object.assign({x1:m.x,y1:m.y+m.height+at,x2:m.x+m.width,y2:m.y+m.height+at},ee)},rt),[{element:Ht("icdt-temp-resize-rect-center","rect",{attribute:Object.assign({x:m.x,y:m.y,width:m.width,height:m.height},ce),style:{cursor:"move"}},rt),posType:"rect-center"},{element:Ht("icdt-temp-resize-rect-top-left","rect",{attribute:Object.assign({x:m.x-Lt,y:m.y-Lt},jt),style:{cursor:"nw-resize"}},rt),posType:"rect-top-left"},{element:Ht("icdt-temp-resize-rect-top-right","rect",{attribute:Object.assign({x:m.x+m.width-Nt,y:m.y-Lt},jt),style:{cursor:"ne-resize"}},rt),posType:"rect-top-right"},{element:Ht("icdt-temp-resize-rect-bottom-left","rect",{attribute:Object.assign({x:m.x-Lt,y:m.y+m.height-Nt},jt),style:{cursor:"sw-resize"}},rt),posType:"rect-bottom-left"},{element:Ht("icdt-temp-resize-rect-bottom-right","rect",{attribute:Object.assign({x:m.x+m.width-Nt,y:m.y+m.height-Nt},jt),style:{cursor:"se-resize"}},rt),posType:"rect-bottom-right"}]},Kt=(rt,ft,m)=>{let at=(0,L.v)(1),Nt={stroke:K.NV.stroke,"stroke-width":(0,L.v)(K.NV.strokeWidth),"stroke-linecap":K.NV.strokeLinecap},Lt={fill:K.Mo.fill,stroke:K.Mo.stroke,"stroke-width":(0,L.v)(K.Mo.strokeWidth)},ee={fill:K.dt.fill,stroke:K.dt.stroke,"stroke-width":(0,L.v)(K.dt.strokeWidth)},Ke=(Ht("icdt-temp-select-line-left","line",{attribute:Object.assign({x1:m.x-at,y1:m.y,x2:m.x-at,y2:m.y+m.height},Nt)},rt),Ht("icdt-temp-select-line-top","line",{attribute:Object.assign({x1:m.x,y1:m.y-at,x2:m.x+m.width,y2:m.y-at},Nt)},rt),Ht("icdt-temp-select-line-right","line",{attribute:Object.assign({x1:m.x+m.width+at,y1:m.y,x2:m.x+m.width+at,y2:m.y+m.height},Nt)},rt),Ht("icdt-temp-select-line-bottom","line",{attribute:Object.assign({x1:m.x,y1:m.y+m.height+at,x2:m.x+m.width,y2:m.y+m.height+at},Nt)},rt),Ht("icdt-temp-select-rect-center","rect",{attribute:Object.assign({x:m.x,y:m.y,width:m.width,height:m.height},Lt)},rt));return ft.forEach(Ie=>{let{size:Zt}=Ie;Ht("icdt-temp-select-rect-node-"+Ie.id,"rect",{attribute:Object.assign({x:Zt.x,y:Zt.y,width:Zt.width,height:Zt.height},ee)},rt)}),[{element:Ke,posType:"rect-center"}]},$t=(rt,ft)=>{let m=(0,L.v)(1),at={stroke:K.NV.stroke,"stroke-width":(0,L.v)(K.NV.strokeWidth),"stroke-linecap":K.NV.strokeLinecap},Nt={fill:K.Mo.fill,stroke:K.Mo.stroke,"stroke-width":(0,L.v)(K.Mo.strokeWidth)};return Ht("icdt-temp-scan-line-left","line",{attribute:Object.assign({x1:ft.x-m,y1:ft.y,x2:ft.x-m,y2:ft.y+ft.height},at)},rt),Ht("icdt-temp-scan-line-top","line",{attribute:Object.assign({x1:ft.x,y1:ft.y-m,x2:ft.x+ft.width,y2:ft.y-m},at)},rt),Ht("icdt-temp-scan-line-right","line",{attribute:Object.assign({x1:ft.x+ft.width+m,y1:ft.y,x2:ft.x+ft.width+m,y2:ft.y+ft.height},at)},rt),Ht("icdt-temp-scan-line-bottom","line",{attribute:Object.assign({x1:ft.x,y1:ft.y+ft.height+m,x2:ft.x+ft.width,y2:ft.y+ft.height+m},at)},rt),[{element:Ht("icdt-temp-scan-rect-center","rect",{attribute:Object.assign({x:ft.x,y:ft.y,width:ft.width,height:ft.height},Nt)},rt),posType:"rect-center"}]},Ft=(rt,ft)=>{let m=(0,L.v)(-1),at={stroke:K.h8.stroke,"stroke-width":(0,L.v)(K.h8.strokeWidth),"stroke-linecap":K.h8.strokeLinecap,"stroke-dasharray":(0,L.v)(K.h8.strokeDasharray)},Nt={fill:K.MA.fill};return Ht("icdt-temp-interactive-line-left","line",{attribute:Object.assign({x1:ft.x-m,y1:ft.y,x2:ft.x-m,y2:ft.y+ft.height},at)},rt),Ht("icdt-temp-interactive-line-top","line",{attribute:Object.assign({x1:ft.x,y1:ft.y-m,x2:ft.x+ft.width,y2:ft.y-m},at)},rt),Ht("icdt-temp-interactive-line-right","line",{attribute:Object.assign({x1:ft.x+ft.width+m,y1:ft.y,x2:ft.x+ft.width+m,y2:ft.y+ft.height},at)},rt),Ht("icdt-temp-interactive-line-bottom","line",{attribute:Object.assign({x1:ft.x,y1:ft.y+ft.height+m,x2:ft.x+ft.width,y2:ft.y+ft.height+m},at)},rt),Ht("icdt-temp-interactive-rect-center","rect",{attribute:Object.assign({x:ft.x,y:ft.y,width:ft.width,height:ft.height},Nt)},rt),[]},Rt=(rt,ft)=>{let m={fill:K.k0.fill,stroke:K.k0.stroke,"stroke-width":(0,L.v)(K.k0.strokeWidth),"stroke-dasharray":(0,L.v)(K.k0.strokeDasharray)};$(rt).empty(),ft.forEach(at=>{var Nt,Lt;let{size:ee}=at;if(!at.idx)return;Ht("icdt-temp-index-rect-node-"+at.id,"rect",{attribute:Object.assign({x:ee.x-5,y:ee.y-5,width:ee.width+10,height:ee.height+10},m)},rt);let{element:ce}=(0,tt.e)(Math.ceil(1e9*Math.random()),{size:{x:ee.x-76,y:ee.y-6,width:70,height:80},attribute:{},style:{},source:{type:"html",html:{htmlContent:`<div class="position-slide" style="position:relative;width:100%;height:100%;">\n                  <div style="position:absolute;top:0;right:0;line-height:22px;">\n                    <div title="Th\u1ee9 t\u1ef1 xu\u1ea5t hi\u1ec7n">\n                        <div style="float:right;">\n                          <span style="display:block;width:18px;float:left;text-align:center;">\n                            <i class="fa fa-play" style="margin:6px 0;color:#7da7d9;font-size:12px;"></i>\n                          </span>\n                          <span style="display:block;width:50px;float:left;">\n                            <input type="number" name="idx" value="${null!==(Nt=at.idx)&&void 0!==Nt?Nt:0}" min="0" max="999" step="1" style="box-sizing:border-box;width:100%;padding:0;border:1px solid #ddd;outline:0;text-align:center;background:#eee;background: radial-gradient(#fff, #eee);font-size:12px;">\n                          </span>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                    <div title="Th\u1eddi gian \u0111\u1ee3i(s), n\u1ebfu gi\xe1 tr\u1ecb = 0 s\u1ebd chuy\u1ec3n sang \u0111\u1ee3i ho\xe0n t\u1ea5t ho\u1ea1t \u0111\u1ed9ng v\xe0 \xe2m thanh" style="margin-top:2px;">\n                        <div style="float:right;">\n                          <span style="display:block;width:18px;float:left;text-align:center;">\n                            <i class="fa fa-clock-o" style="margin:5px 0;color:#7da7d9;font-size:14px;"></i>\n                          </span>\n                          <span style="display:block;width:50px;float:left;">\n                            <input type="number" name="time" value="${null!==(Lt=at.time)&&void 0!==Lt?Lt:0}" min="0" max="999" step="0.5" style="box-sizing:border-box;width:100%;padding:0;border:1px solid #ddd;outline:0;text-align:center;background:#eee;background: radial-gradient(#fff, #eee);font-size:12px;">\n                          </span>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                    <div title="H\u1ee7y thi\u1ebft l\u1eadp" style="margin-top:2px;">\n                        <div style="float:right;">\n                          <button name="remove" style="box-sizing:border-box;width:24px;height:24px;padding:0;border:1px solid #ddd;line-height: 0;outline:none;background:#eee;background: radial-gradient(#fff, #eee);">\n                            <img src="assets/icon-png/xoa2.png" height="18">\n                          </button>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                  </div>\n              </div>`}}},rt);ce.classList.add("node-input"),$(ce).on("change",'input[name="idx"]',jt=>{var Pt;at.idx=parseInt(null!==(Pt=jt.target.value)&&void 0!==Pt?Pt:"0")}).on("change",'input[name="time"]',jt=>{var Pt;at.time=parseFloat(null!==(Pt=jt.target.value)&&void 0!==Pt?Pt:"0")}).on("click",'button[name="remove"]',jt=>{at.idx=0,at.time=null,Rt(rt,ft)})})},Oe=(rt,ft)=>{var m,at,Nt,Lt;let{color:ee,opacity:ce,path:jt,url:Pt,base64:ue}=null!==(m=null==ft||null===(at=ft.svg)||void 0===at?void 0:at.background)&&void 0!==m?m:{},{x:Ke,y:Ie,width:Zt,height:je}=null!==(Nt=null==ft||null===(Lt=ft.svg)||void 0===Lt?void 0:Lt.viewBox)&&void 0!==Nt?Nt:{x:0,y:0,width:0,height:0};ee&&(0,lt.f)(void 0,{size:{x:Ke,y:Ie,width:Zt,height:je},attribute:{fill:ee,fillOpacity:ce}},rt),jt&&(0,Ot.G)(void 0,{size:{x:Ke,y:Ie,width:Zt,height:je},source:{type:"image",image:{path:jt,url:Pt,base64:ue}}},rt)},Se=(rt,ft)=>{var m,at,ce;if($(rt).empty(),null!=ft&&null!==(m=ft.test)&&void 0!==m&&null!==(m=m.answer)&&void 0!==m&&m.singlechoice){var Lt,ee;let jt=j.$.findNode(null==ft||null===(Lt=ft.test)||void 0===Lt||null===(Lt=Lt.answer)||void 0===Lt||null===(Lt=Lt.singlechoice)||void 0===Lt?void 0:Lt.value),{x:Pt,y:ue,width:Ke,height:Ie}=null!==(ee=null==jt?void 0:jt.size)&&void 0!==ee?ee:{x:0,y:0,width:0,height:0};(0,it._)(Math.ceil(1e9*Math.random()),{size:{x:Pt-2,y:ue-2,width:Ke+4,height:Ie+4},attribute:{fill:"none",stroke:"#5F6CE1",strokeWidth:4,strokeDasharray:4}},rt)}null!=ft&&null!==(at=ft.test)&&void 0!==at&&null!==(at=at.answer)&&void 0!==at&&at.multichoice&&(null==ft||null===(ce=ft.test)||void 0===ce||null===(ce=ce.answer)||void 0===ce||ce.multichoice.forEach(jt=>{var Pt;let ue=j.$.findNode(jt.value),{x:Ke,y:Ie,width:Zt,height:je}=null!==(Pt=null==ue?void 0:ue.size)&&void 0!==Pt?Pt:{x:0,y:0,width:0,height:0};(0,lt.f)(Math.ceil(1e9*Math.random()),{size:{x:Ke-2,y:Ie-2,width:Zt+4,height:je+4},attribute:{fill:"none",stroke:"#5F6CE1",strokeWidth:4,strokeDasharray:4}},rt)}))}},1862:(Ne,Vt,w)=>{"use strict";w.d(Vt,{D5:()=>k,II:()=>G,VJ:()=>O,Yj:()=>tt,d4:()=>lt,eu:()=>b,ly:()=>Ot,vQ:()=>nt,yB:()=>K});const ut=Array(256);for(let y=0;y<256;++y){let H=y;for(let ht=0;ht<8;++ht)H=1&H?3988292384^H>>>1:H>>>1;ut[y]=H}const J=y=>{let H=null==y?void 0:y.match(/(?:.+?)?(?:\/v\/|watch\/|\?v\=|\&v\=|youtu\.be\/|\/v\=|^youtu\.be\/|embed\/)([a-zA-Z0-9_-]{11})+/);return H&&H.length>=2?H[1]:null},b=y=>{let H=J(y);return H?"https://www.youtube.com/embed/"+H+"?"+$.param({wmode:"opaque",border:0,hd:1,autoplay:!1,autohide:1,enablejsapi:1,modestbranding:1,version:3,hl:"vi_VN",rel:0,showinfo:0,iv_load_policy:3}):null},G=y=>!!J(y),O=y=>!(null==y||!y.match(/^http(s)?\:\/\/phet.colorado.edu\//)),K=y=>{var H;let ht=null==y||null===(H=y.toLocaleLowerCase())||void 0===H?void 0:H.split("."),dt=null==ht?void 0:ht.pop();return{fileName:null==ht?void 0:ht.join("."),fileExtension:"."+dt}},k=y=>!(!y||"none"==y||"transparent"==y||"rgba(0,0,0,0)"==y),lt=(y,H,ht,dt)=>{fetch(y,{cache:"no-cache"}).then(B=>{if(404!=(null==B?void 0:B.status))return null==B?void 0:B.arrayBuffer()}).then(function(B){if(B)return new File([B],H,{type:ht})}).then(function(B){dt(B)}).catch(B=>{console.error("fetchUrlToFile",B),dt()})},Ot=(y,H,ht,dt)=>{lt(y,H,ht,B=>{if(B){let Tt=new FileReader;Tt.onload=()=>{dt(JSON.parse(Tt.result))},Tt.onerror=a=>{console.error("fetchUrlToDataJSON",a),dt()},Tt.readAsText(B)}else dt()})},tt=function(y,H){var ht=new XMLHttpRequest;ht.onload=function(){!function(y,H){let ht=new FileReader;ht.onload=function(){H(ht.result)},ht.onerror=function(){H()},ht.readAsDataURL(y)}(ht.response,function(dt){H(dt)})},ht.onerror=function(){H()},ht.open("GET",y),ht.responseType="blob",ht.send()},nt=y=>{if(!y)return!1;try{return navigator.clipboard.writeText(y),!0}catch(H){console.error(H)}return!1}},6623:(Ne,Vt,w)=>{"use strict";w.d(Vt,{w:()=>Ot,I:()=>L});var P=w(5811),R=/^#[a-fA-F0-9]+$/i,ut=/^rgba\((\d+),(\d+),(\d+),(\d+)\)$/i,st=/^rgb\((\d+),(\d+),(\d+)\)$/i;const J=it=>{let j=null,tt=null;if(it)if("transparent"==it)j="#000000",tt=0;else if(it.match(R))j=it;else{let nt=(it=it.replace(/\s+/g,"")).match(ut);if(nt)j="#"+(256|nt[1]).toString(16).slice(1)+(256|nt[2]).toString(16).slice(1)+(256|nt[3]).toString(16).slice(1),tt=(0,P.q)(parseFloat(nt[4]),100);else{let y=it.match(st);y&&(j="#"+(256|y[1]).toString(16).slice(1)+(256|y[2]).toString(16).slice(1)+(256|y[3]).toString(16).slice(1))}}return{hex:j,alpha:tt}};var b=w(9054),G=w(4981);const L=it=>lt(null==it?void 0:it.url,null==it?void 0:it.path,null==it?void 0:it.src);var lt=(it,j,tt)=>{var nt,y;let H,ht,dt,B;var Tt,a;return it&&(H=it.replace(/\\/g,"/")),j&&(ht=j.replace(/\\/g,"/")),tt&&(dt=tt.replace(/\\/g,"/")),ht&&!H&&(H=(null===(Tt=G.icdt.config)||void 0===Tt?void 0:Tt.readfileuploadurl)+ht),!dt||ht||H||(ht=dt.replace(/^[a-zA-Z0-9\-\_\/\\\:\.]+(upload|FileUpload|files|readfileupload|filereader|readfile)\//g,""),H=(null===(a=G.icdt.config)||void 0===a?void 0:a.readfileuploadurl)+ht),B=(null!==(nt=H)&&void 0!==nt?nt:"").split("/").pop()||(null!==(y=ht)&&void 0!==y?y:"").split("/").pop()||"",{url:H,path:ht,name:B}};const Ot=it=>{let j={x:0,y:0,width:it.screen.w,height:it.screen.h},tt=[];return it.data.forEach((nt,y)=>{var H;let ht={id:G.icdt.data.newSlideId,code:`${nt.id}`||void 0,name:"string"==typeof nt.id?nt.id:`Trang ${y+1}`,svg:{viewBox:j,nodes:[]},test:(dt=nt.test2,dt?(dt.audiotrue&&(dt.audiotrue=L({path:dt.audiotrue.path})),dt.audiofalse&&(dt.audiofalse=L({path:dt.audiofalse.path})),dt.effecttrue&&(dt.effecttrue=L({path:dt.effecttrue.path})),dt.effectfalse&&(dt.effectfalse=L({path:dt.effectfalse.path})),dt.icontrue&&(dt.icontrue=L({path:dt.icontrue.path})),dt.iconfalse&&(dt.iconfalse=L({path:dt.iconfalse.path})),dt):{})};var dt;nt.background&&ht.svg&&(ht.svg.background=function(it){return it&&(null!==it.match(/#([a-zA-Z0-9]+)/)||null!==it.match(/rgb\([0-9]+,[0-9]+,[0-9]+\)/)||null!==it.match(/rgba\([0-9]+,[0-9]+,[0-9]+,[0-9]+\)/))}(nt.background)?{color:nt.background}:function(it){return it&&null!==it.match(/data:[^;]+;base64,/)}(nt.background)?{base64:nt.background}:function(it){return it&&null!==it.match(/http(s)?:\/\//)}(nt.background)?lt(nt.background):lt(void 0,nt.background)),$(null!==(H=nt.svg)&&void 0!==H?H:"").find(".svg-node").each((dt,B)=>{var Tt,a;let te=$(B).parents(".indexs"),zt=te.attr("data-index"),Xt=te.attr("data-time"),Ht=null!==(Tt=B.getAttribute("id"))&&void 0!==Tt?Tt:"0",Pe={id:parseInt(Ht),code:`${B.nodeName}-${B.getAttribute("id")}`,name:B.nodeName,idx:zt?parseInt(zt):0,time:Xt?parseFloat(Xt):0,type:(()=>{switch(B.nodeName){case"polygon":return b.$.POLYGON;case"circle":return b.$.CIRCLE;case"ellipse":return b.$.ELLIPSE;case"line":return b.$.LINE;case"rect":return b.$.RECT;case"foreignObject":return b.$.FOREIGNOBJECT}return 0})(),size:(W=>{let Kt=0,$t=0,Ft=0,Rt=0,Oe=null,Se=null,rt=parseFloat((null===(W=B.getAttribute("transform"))||void 0===W?void 0:W.replace("rotate(","").replace(")",""))||"0")||null;switch(B.nodeName){case"polygon":{var ft,m;let at=[],Nt=[],Lt=999999999,ee=999999999,ce=0,jt=0;Oe=JSON.parse(B.getAttribute("ratios")||"[]"),Se=null!==(ft=null===(m=B.getAttribute("points"))||void 0===m?void 0:m.split(",").map(function(Pt){return Pt.split(" ").map(function(ue){return parseFloat(ue)})}))&&void 0!==ft?ft:[],Se.forEach(function(Pt){at.push(Pt[0]),Nt.push(Pt[1])}),Lt=Math.min.apply(null,at),ee=Math.min.apply(null,Nt),ce=Math.max.apply(null,at),jt=Math.max.apply(null,Nt),Kt=Lt,$t=ee,Ft=ce-Kt,Rt=jt-$t;break}case"circle":{let at=parseFloat(B.getAttribute("cx")||"0"),Nt=parseFloat(B.getAttribute("cy")||"0"),Lt=parseFloat(B.getAttribute("r")||"0");Kt=at-Lt,$t=Nt-Lt,Ft=2*Lt,Rt=2*Lt;break}case"ellipse":{let at=parseFloat(B.getAttribute("cx")||"0"),Nt=parseFloat(B.getAttribute("cy")||"0"),Lt=parseFloat(B.getAttribute("rx")||"0"),ee=parseFloat(B.getAttribute("ry")||"0");Kt=at-Lt,$t=Nt-ee,Ft=2*Lt,Rt=2*ee;break}case"line":{let at=parseFloat(B.getAttribute("x1")||"0"),Nt=parseFloat(B.getAttribute("y1")||"0"),Lt=parseFloat(B.getAttribute("x2")||"0"),ee=parseFloat(B.getAttribute("y2")||"0"),ce=999999999,jt=999999999,Pt=0,ue=0;ce=Math.min(at,Lt),jt=Math.min(Nt,ee),Pt=Math.max(at,Lt),ue=Math.max(Nt,ee),Kt=ce,$t=jt,Ft=Pt-Kt,Rt=ue-$t,Oe=[[(at-Kt)/(Ft||1),(Nt-$t)/(Rt||1)],[(Lt-Kt)/(Ft||1),(ee-$t)/(Rt||1)]];break}case"rect":case"foreignObject":Kt=parseFloat(B.getAttribute("x")||"0"),$t=parseFloat(B.getAttribute("y")||"0"),Ft=parseFloat(B.getAttribute("width")||"0"),Rt=parseFloat(B.getAttribute("height")||"0")}return Object.assign({},{x:Kt,y:$t,width:Ft,height:Rt,ratios:Oe,points:Se,rotate:rt})})(),attribute:(()=>{let W={};switch(B.nodeName){case"polygon":case"circle":case"ellipse":case"line":case"rect":{var Kt,$t,Ft,Rt,Oe,Se;let rt=null!==(Kt=B.getAttribute("fill"))&&void 0!==Kt?Kt:null,ft=null!==($t=B.getAttribute("stroke"))&&void 0!==$t?$t:null,m=null!==(Ft=parseFloat(B.getAttribute("stroke-width")||"0"))&&void 0!==Ft?Ft:null,at=null!==(Rt=B.getAttribute("stroke-linecap"))&&void 0!==Rt?Rt:null,Nt=null!==(Oe=B.getAttribute("stroke-linejoin"))&&void 0!==Oe?Oe:null,Lt=null!==(Se=parseFloat(B.getAttribute("stroke-dasharray")||"0"))&&void 0!==Se?Se:null;Object.assign(W,{fill:rt,stroke:ft,strokeWidth:m,strokeLinecap:at,strokeLinejoin:Nt,strokeDasharray:Lt});break}}return W})(),style:(()=>{let W={};switch(B.nodeName){case"polygon":case"circle":case"ellipse":case"line":case"rect":break;case"foreignObject":{let Oe=$(B).find(".svg-container");if(Oe.length){var Kt,$t;let rt=null!==(Kt=parseFloat(Oe.css("border-width")||"0"))&&void 0!==Kt?Kt:null,ft=null!==($t=Oe.css("border-style"))&&void 0!==$t?$t:null,m=Oe.css("border-color")||null,at=null,Nt=Oe.css("background-color")||null,Lt=null;(()=>{let{hex:ee,alpha:ce}=J(m);m=ee,at=ce})(),(()=>{let{hex:ee,alpha:ce}=J(Nt);Nt=ee,Lt=ce})(),Object.assign(W,{borderWidth:rt,borderStyle:ft,borderColor:m,borderOpacity:at,backgroundColor:Nt,backgroundOpacity:Lt})}let Se=$(B).find(".svg-editor-content");if(Se.length){var Ft,Rt;let rt=JSON.parse((Se.attr("data-style")||"{}").replace(/\&quot\;/gm,'"')),{hex:ft,alpha:m}=J(rt.TextColor);Object.assign(W,{fontFamily:null!==(Ft=rt.FontFamily)&&void 0!==Ft?Ft:null,fontSize:null!==(Rt=rt.FontSize)&&void 0!==Rt?Rt:null,color:ft,opacity:m})}break}}return W})(),source:(()=>{let W={};switch(B.nodeName){case"polygon":case"circle":case"ellipse":case"line":case"rect":break;case"foreignObject":if(te.hasClass("editors")){let jt=$(B).find(".svg-editor-content");if(jt.length){var Kt;let Pt=jt.html(),ue=null!==(Kt=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==Kt?Kt:[];Object.assign(W,{type:"html",html:{htmlContent:Pt,variableKeywords:ue}})}}else if(te.hasClass("inputs")||te.hasClass("textareas"))Object.assign(W,{type:"input",input:{input:!!$(B).find("input").length,textarea:!!$(B).find("textarea").length}});else if(te.hasClass("tests")){let jt=$(B).find(".svg-test");if(te.hasClass("tests-truefalse")){var $t,Ft;let Pt=jt.find(".svg-editor-content").html(),ue=null!==($t=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==$t?$t:[];Object.assign(W,{type:"test",test:{type:"singlechoice",singlechoice:{iscorrect:null===(Ft=nt.test2.truefalse)||void 0===Ft?void 0:Ft.includes(Ht)}},html:{htmlContent:Pt,variableKeywords:ue}})}else if(te.hasClass("tests-singlechoice")){var Rt,Oe;let Pt=jt.find(".svg-editor-content").html(),ue=null!==(Rt=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==Rt?Rt:[];Object.assign(W,{type:"test",test:{type:"singlechoice",singlechoice:{iscorrect:null===(Oe=nt.test2.singlechoice)||void 0===Oe?void 0:Oe.includes(Ht)}},html:{htmlContent:Pt,variableKeywords:ue}})}else if(te.hasClass("tests-multichoice")){var Se,rt;let Pt=jt.find(".svg-editor-content").html(),ue=null!==(Se=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==Se?Se:[];Object.assign(W,{type:"test",test:{type:"multichoice",multichoice:{iscorrect:null===(rt=nt.test2.multichoice)||void 0===rt?void 0:rt.includes(Ht)}},html:{htmlContent:Pt,variableKeywords:ue}})}else if(te.hasClass("tests-fill")){var ft,m;let Pt=jt.find(".svg-editor-content").html(),ue=null!==(ft=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==ft?ft:[],Ke=null!==(m=(null!=Pt?Pt:"").match(/\[\[[a-zA-Z0-9]+\]\]/gm))&&void 0!==m?m:[];Ke=Ke.filter((Ie,Zt,je)=>je.indexOf(Ie)==Zt),Object.assign(W,{type:"test",test:{type:"fill",fill:Ke.map(Ie=>{var Zt;return{key:Ie,value:null===(Zt=nt.test2.fill)||void 0===Zt||null===(Zt=Zt.find(je=>je.id==Ht))||void 0===Zt||null===(Zt=Zt.vals)||void 0===Zt?void 0:Zt.map(je=>je.text).filter(je=>!["",null,void 0,NaN].includes(je))}})},html:{htmlContent:Pt,variableKeywords:ue,fillKeywords:Ke}})}else if(te.hasClass("tests-matching")){if(jt.hasClass("svg-test-empty"))Object.assign(W,{type:"test",test:{type:"matching-empty",matching:{key:jt.attr("data-name")||null}}});else if(jt.hasClass("svg-test-content")){var at;let Pt=jt.find(".svg-editor-content").html(),ue=null!==(at=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==at?at:[];Object.assign(W,{type:"test",test:{type:"matching-content",matching:{key:jt.attr("data-name")||null}},html:{htmlContent:Pt,variableKeywords:ue}})}}else if(te.hasClass("tests-speech")){var Nt;Object.assign(W,{type:"speech",speech:{value:null===(Nt=nt.test2.speech)||void 0===Nt||null===(Nt=Nt.find(Pt=>Pt.id==Ht))||void 0===Nt||null===(Nt=Nt.vals)||void 0===Nt?void 0:Nt.map(Pt=>Pt.text).filter(Pt=>!["",null,void 0,NaN].includes(Pt))}})}else if(te.hasClass("tests-submit")){let Pt=$(B).find(".svg-container img");Object.assign(W,{type:"test",test:{type:"submit"},image:lt(Pt.attr("url"),Pt.attr("path"),Pt.attr("src"))})}}else if(te.hasClass("images")){let jt=$(B).find(".svg-editor-content img");if(jt.length)Object.assign(W,{type:"image",image:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))});else{let Pt=$(B).find("iframe");Object.assign(W,{type:"iframe",iframe:lt(Pt.attr("url"),Pt.attr("path"),Pt.attr("src"))})}}else if(te.hasClass("sounds")){let jt=$(B).find(".svg-editor-content img");jt.length&&Object.assign(W,{type:"image",image:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))})}else if(te.hasClass("htmls")){let jt=$(B).find("iframe");jt.length&&Object.assign(W,{type:"iframe",iframe:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))})}else if(te.hasClass("svgs")){let jt=$(B).find("svg");var Lt,ee;jt.length&&Object.assign(W,{type:"svg",svg:Object.assign(lt(jt.attr("url"),jt.attr("path"),jt.attr("src")),{svgContent:null!==(Lt=null===(ee=jt.get(0))||void 0===ee?void 0:ee.outerHTML)&&void 0!==Lt?Lt:null})})}else if(te.hasClass("medias")){let jt=$(B).find(".media-item");if(jt.length)switch(jt.attr("type")){case"audio":Object.assign(W,{type:"audio",audio:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))});break;case"video":Object.assign(W,{type:"video",video:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))});break;case"file":Object.assign(W,{type:"file",file:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))});break;default:var ce;Object.assign(W,{type:"link",link:{url:null!==(ce=jt.attr("url"))&&void 0!==ce?ce:null}})}let Pt=$(B).find("img");Pt.length&&(Object.assign(W,{image:lt(Pt.attr("url"),Pt.attr("path"),Pt.attr("src"))}),W.type||Object.assign(W,{type:"image"}))}}return W})(),animate:(W=>{let Kt={},$t=null===(W=nt.animates)||void 0===W?void 0:W.find(Ft=>Ft.elementId==Ht);return $t&&Object.assign(Kt,{value:$t.value}),Kt})(),interactive:(()=>{let W={},Kt=nt.actions.show.filter(Ft=>Ft.elementId==Ht&&Ft.active);Kt.length&&(W.show={},Kt.forEach(Ft=>{let{source:Rt}=Ft;switch(null==Rt?void 0:Rt.type){case"work":var Oe,Se,rt,ft,m;W.show.action={},Object.assign(W.show.action,{value:null!==(Oe=Rt.value)&&void 0!==Oe?Oe:null,iteration:null!==(Se=Rt.iteration)&&void 0!==Se?Se:null,finish:null!==(rt=Rt.end)&&void 0!==rt?rt:null,time:null!==(ft=Rt.time)&&void 0!==ft?ft:null,points:null!==(m=Rt.points)&&void 0!==m?m:null});break;case"audio":var at,Nt,Lt;W.show.audio={},Object.assign(W.show.audio,{source:lt(null,null,Rt.url),iteration:null!==(at=Rt.iteration)&&void 0!==at?at:null,finish:null!==(Nt=Rt.end)&&void 0!==Nt?Nt:null,time:null!==(Lt=Rt.time)&&void 0!==Lt?Lt:null,async:-1==Rt.iteration?"change-slide":"change-node"});break;case"node":case"node2":var ee,ce,jt,Pt,ue,Ke,Ie,Zt,je,wt,E,pt,Ct,z,ot;Rt.options.includes("show")&&(W.show.triggershow={},Object.assign(W.show.triggershow,{id:null!==(ee=parseInt(null!==(ce=Rt.id)&&void 0!==ce?ce:"0"))&&void 0!==ee?ee:null,ids:null===(jt=Rt.ids)||void 0===jt?void 0:jt.map(Z=>parseInt(Z)),async:null!==(Pt=Rt.async)&&void 0!==Pt?Pt:null,time:null!==(ue=Rt.time)&&void 0!==ue?ue:null})),Rt.options.includes("run")&&(W.show.triggerrun={},Object.assign(W.show.triggerrun,{id:null!==(Ke=parseInt(null!==(Ie=Rt.id)&&void 0!==Ie?Ie:"0"))&&void 0!==Ke?Ke:null,ids:null===(Zt=Rt.ids)||void 0===Zt?void 0:Zt.map(Z=>parseInt(Z)),async:null!==(je=Rt.async)&&void 0!==je?je:null,time:null!==(wt=Rt.time)&&void 0!==wt?wt:null})),Rt.options.includes("hide")&&(W.show.triggerhide={},Object.assign(W.show.triggerhide,{id:null!==(E=parseInt(null!==(pt=Rt.id)&&void 0!==pt?pt:"0"))&&void 0!==E?E:null,ids:null===(Ct=Rt.ids)||void 0===Ct?void 0:Ct.map(Z=>parseInt(Z)),async:null!==(z=Rt.async)&&void 0!==z?z:null,time:null!==(ot=Rt.time)&&void 0!==ot?ot:null}))}}));let $t=nt.actions.click.filter(Ft=>Ft.elementId==Ht&&Ft.active);return $t&&(W.click={},$t.forEach(Ft=>{let{source:Rt}=Ft;switch(null==Rt?void 0:Rt.type){case"work":var Oe,Se,rt,ft,m;W.click.action={},Object.assign(W.click.action,{value:null!==(Oe=Rt.value)&&void 0!==Oe?Oe:null,iteration:null!==(Se=Rt.iteration)&&void 0!==Se?Se:null,finish:null!==(rt=Rt.end)&&void 0!==rt?rt:null,time:null!==(ft=Rt.time)&&void 0!==ft?ft:null,points:null!==(m=Rt.points)&&void 0!==m?m:null});break;case"audio":var at,Nt,Lt;W.click.audio={},Object.assign(W.click.audio,{source:lt(null,null,Rt.url),iteration:null!==(at=Rt.iteration)&&void 0!==at?at:null,finish:null!==(Nt=Rt.end)&&void 0!==Nt?Nt:null,time:null!==(Lt=Rt.time)&&void 0!==Lt?Lt:null,async:-1==Rt.iteration?"change-slide":"change-node"});break;case"node":case"node2":var ee,ce,jt,Pt,ue,Ke,Ie,Zt,je,wt,E,pt,Ct,z,ot;Rt.options.includes("show")&&(W.click.triggershow={},Object.assign(W.click.triggershow,{id:null!==(ee=parseInt(null!==(ce=Rt.id)&&void 0!==ce?ce:"0"))&&void 0!==ee?ee:null,ids:null===(jt=Rt.ids)||void 0===jt?void 0:jt.map(vt=>parseInt(vt)),async:null!==(Pt=Rt.async)&&void 0!==Pt?Pt:null,time:null!==(ue=Rt.time)&&void 0!==ue?ue:null})),Rt.options.includes("run")&&(W.click.triggerrun={},Object.assign(W.click.triggerrun,{id:null!==(Ke=parseInt(null!==(Ie=Rt.id)&&void 0!==Ie?Ie:"0"))&&void 0!==Ke?Ke:null,ids:null===(Zt=Rt.ids)||void 0===Zt?void 0:Zt.map(vt=>parseInt(vt)),async:null!==(je=Rt.async)&&void 0!==je?je:null,time:null!==(wt=Rt.time)&&void 0!==wt?wt:null})),Rt.options.includes("hide")&&(W.click.triggerhide={},Object.assign(W.click.triggerhide,{id:null!==(E=parseInt(null!==(pt=Rt.id)&&void 0!==pt?pt:"0"))&&void 0!==E?E:null,ids:null===(Ct=Rt.ids)||void 0===Ct?void 0:Ct.map(vt=>parseInt(vt)),async:null!==(z=Rt.async)&&void 0!==z?z:null,time:null!==(ot=Rt.time)&&void 0!==ot?ot:null}));break;case"slide":var Z;W.click.slide={},Object.assign(W.click.slide,{id:parseInt(null!==(Z=Rt.id)&&void 0!==Z?Z:"0")||Rt.num||null,code:Rt.id})}})),W})(),variable:(W=>{let Kt={};var $t;B.getAttribute("data-variable")&&(Kt.input={},Object.assign(Kt.input,{variable:null!==($t=B.getAttribute("data-variable"))&&void 0!==$t?$t:null}));let Ft=null===(W=nt.nodes)||void 0===W||null===(W=W.find(ft=>ft.id==Ht))||void 0===W?void 0:W.variable;var Rt,Oe,Se,rt;return Ft&&(Kt.click={},Object.assign(Kt.click,{variable:null!==(Rt=Ft.variable)&&void 0!==Rt?Rt:null,operator:null!==(Oe=Ft.operator)&&void 0!==Oe?Oe:null,valuetype:null!==(Se=Ft.valuetype)&&void 0!==Se?Se:null,value:null!==(rt=Ft.value)&&void 0!==rt?rt:null})),Kt})()};null===(a=ht.svg)||void 0===a||a.nodes.push(Pe)}),tt.push(ht)}),console.log(tt),{screen:{width:it.screen.w,height:it.screen.h},data:{slides:tt},variable:it.variable}}},3217:(Ne,Vt,w)=>{"use strict";w.d(Vt,{HB:()=>b,bw:()=>J,c_:()=>st,ei:()=>G});var P=w(422),R=w(3130),ut=w(1862);const st=(O,K)=>{J("#body-slide",`#li${O}`,K)},J=(O,K,k)=>{var L,lt,Ot,it,j,tt;if(!$(O).length||!$(K).length)return;let nt=null!==(L=null===(lt=window.document.getElementById(K.replace(/\#/,"")))||void 0===lt?void 0:lt.offsetTop)&&void 0!==L?L:0,y=null!==(Ot=null===(it=window.document.getElementById(K.replace(/\#/,"")))||void 0===it?void 0:it.offsetHeight)&&void 0!==Ot?Ot:0,H=null!==(j=null===(tt=window.document.getElementById(O.replace(/\#/,"")))||void 0===tt?void 0:tt.offsetHeight)&&void 0!==j?j:0,ht=Math.max(nt+y-H/2,0);k?$(O).animate({scrollTop:ht}):$(O).scrollTop(ht)},b=O=>{switch(O.v_mediatype){case P.t.IMAGE:return"assets/image/media/image.svg";case P.t.AUDIO:return"assets/image/media/audio.svg";case P.t.VIDEO:return"assets/image/media/video.svg";case P.t.OFFICE:switch(O.extension){case"doc":case"docx":return"assets/image/media/word.svg";case"xls":case"xlsx":return"assets/image/media/excel.svg";case"ppt":case"pptx":return"assets/image/media/powerpoint.svg";default:return"assets/image/media/file.svg"}case P.t.PDF:return"assets/image/media/pdf.svg";case P.t.HTML:return"assets/image/media/html.svg";case P.t.IMAGE_ANIMATION:return"assets/image/media/html-animation-2.svg";case P.t.PHET:return"assets/image/media/phet.svg";case P.t.ZIP:case P.t.TRACK:case P.t.TEXT:return"assets/image/media/file.svg";case P.t.LINK:switch(O.v_osstype){case R.e.YOUTUBE:return"assets/image/media/youtube.svg";case R.e.PHET:return"assets/image/media/phet.svg";default:return"assets/image/media/link.svg"}default:return"assets/image/media/file.svg"}},G=O=>{switch(null==O?void 0:O.type){case P.t.IMAGE:return"assets/iframe/lib/mk-image-viewer/viewer.html?url="+O.readfileuploadurl+O.path;case P.t.AUDIO:return"assets/iframe/lib/mk-audio-player/player.html?url="+O.readfileuploadurl+O.path;case P.t.VIDEO:return"assets/iframe/lib/mk-video-player/player.html?url="+O.readfileuploadurl+O.path;case P.t.OFFICE:return"https://view.officeapps.live.com/op/view.aspx?src="+O.readfileuploadurl+O.path;case P.t.PDF:return"assets/iframe/lib/PDFReader/web/viewer.html?file="+O.readfileuploadurl+O.path;case P.t.HTML:case P.t.IMAGE_ANIMATION:case P.t.PHET:return""+O.readfileuploadurl+O.path;case P.t.ZIP:var K;return"imsmanifest.xml"==(null===(K=O.pathExtract)||void 0===K||null===(K=K.split("/"))||void 0===K?void 0:K.pop())?"assets/iframe/lib/ScormPool_Player/player.html?url="+O.readfileuploadurl+O.pathExtract:""+O.readfileuploadurl+O.path;case P.t.TRACK:case P.t.TEXT:return""+O.readfileuploadurl+O.path;case P.t.LINK:switch(O.oss){case R.e.SCORM:return"assets/iframe/lib/ScormPool_Player/player.html?url="+O.url;case R.e.YOUTUBE:var k;return null!==(k=(0,ut.eu)(O.url))&&void 0!==k?k:"";case R.e.PHET:var L;return null!==(L=O.url)&&void 0!==L?L:"";default:var lt;return null!==(lt=O.url)&&void 0!==lt?lt:""}default:return""+O.readfileuploadurl+O.path}}},422:(Ne,Vt,w)=>{"use strict";w.d(Vt,{t:()=>P});const P={TEXT:900,IMAGE:901,AUDIO:902,VIDEO:903,LINK:904,ZIP:905,HTML:906,TRACK:907,OFFICE:908,PDF:909,PHET:910,IMAGE_ANIMATION:911,SCORM:912}},3130:(Ne,Vt,w)=>{"use strict";w.d(Vt,{e:()=>P});const P={ONEDRIVE:1e3,GOOGLEDRIVE:1001,YOUTUBE:1002,SCORM:1003,PHET:1005,OTHER:1004}},2276:function(Ne,Vt){var P;!function(R,ut){"use strict";"object"==typeof Ne.exports?Ne.exports=R.document?ut(R,!0):function(st){if(!st.document)throw new Error("jQuery requires a window with a document");return ut(st)}:ut(R)}(typeof window<"u"?window:this,function(R,ut){"use strict";var st=[],J=Object.getPrototypeOf,b=st.slice,G=st.flat?function(t){return st.flat.call(t)}:function(t){return st.concat.apply([],t)},O=st.push,K=st.indexOf,k={},L=k.toString,lt=k.hasOwnProperty,Ot=lt.toString,it=Ot.call(Object),j={},tt=function(i){return"function"==typeof i&&"number"!=typeof i.nodeType&&"function"!=typeof i.item},nt=function(i){return null!=i&&i===i.window},y=R.document,H={type:!0,src:!0,nonce:!0,noModule:!0};function ht(t,i,n){var o,c,h=(n=n||y).createElement("script");if(h.text=t,i)for(o in H)(c=i[o]||i.getAttribute&&i.getAttribute(o))&&h.setAttribute(o,c);n.head.appendChild(h).parentNode.removeChild(h)}function dt(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?k[L.call(t)]||"object":typeof t}var B="3.7.1",Tt=/HTML$/i,a=function(t,i){return new a.fn.init(t,i)};function te(t){var i=!!t&&"length"in t&&t.length,n=dt(t);return!tt(t)&&!nt(t)&&("array"===n||0===i||"number"==typeof i&&i>0&&i-1 in t)}function zt(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}a.fn=a.prototype={jquery:B,constructor:a,length:0,toArray:function(){return b.call(this)},get:function(t){return null==t?b.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var i=a.merge(this.constructor(),t);return i.prevObject=this,i},each:function(t){return a.each(this,t)},map:function(t){return this.pushStack(a.map(this,function(i,n){return t.call(i,n,i)}))},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(a.grep(this,function(t,i){return(i+1)%2}))},odd:function(){return this.pushStack(a.grep(this,function(t,i){return i%2}))},eq:function(t){var i=this.length,n=+t+(t<0?i:0);return this.pushStack(n>=0&&n<i?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:O,sort:st.sort,splice:st.splice},a.extend=a.fn.extend=function(){var t,i,n,o,c,h,v=arguments[0]||{},D=1,S=arguments.length,V=!1;for("boolean"==typeof v&&(V=v,v=arguments[D]||{},D++),"object"!=typeof v&&!tt(v)&&(v={}),D===S&&(v=this,D--);D<S;D++)if(null!=(t=arguments[D]))for(i in t)o=t[i],"__proto__"!==i&&v!==o&&(V&&o&&(a.isPlainObject(o)||(c=Array.isArray(o)))?(n=v[i],h=c&&!Array.isArray(n)?[]:c||a.isPlainObject(n)?n:{},c=!1,v[i]=a.extend(V,h,o)):void 0!==o&&(v[i]=o));return v},a.extend({expando:"jQuery"+(B+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var i,n;return!(!t||"[object Object]"!==L.call(t)||(i=J(t))&&("function"!=typeof(n=lt.call(i,"constructor")&&i.constructor)||Ot.call(n)!==it))},isEmptyObject:function(t){var i;for(i in t)return!1;return!0},globalEval:function(t,i,n){ht(t,{nonce:i&&i.nonce},n)},each:function(t,i){var n,o=0;if(te(t))for(n=t.length;o<n&&!1!==i.call(t[o],o,t[o]);o++);else for(o in t)if(!1===i.call(t[o],o,t[o]))break;return t},text:function(t){var i,n="",o=0,c=t.nodeType;if(!c)for(;i=t[o++];)n+=a.text(i);return 1===c||11===c?t.textContent:9===c?t.documentElement.textContent:3===c||4===c?t.nodeValue:n},makeArray:function(t,i){var n=i||[];return null!=t&&(te(Object(t))?a.merge(n,"string"==typeof t?[t]:t):O.call(n,t)),n},inArray:function(t,i,n){return null==i?-1:K.call(i,t,n)},isXMLDoc:function(t){var n=t&&(t.ownerDocument||t).documentElement;return!Tt.test(t&&t.namespaceURI||n&&n.nodeName||"HTML")},merge:function(t,i){for(var n=+i.length,o=0,c=t.length;o<n;o++)t[c++]=i[o];return t.length=c,t},grep:function(t,i,n){for(var c=[],h=0,v=t.length,D=!n;h<v;h++)!i(t[h],h)!==D&&c.push(t[h]);return c},map:function(t,i,n){var o,c,h=0,v=[];if(te(t))for(o=t.length;h<o;h++)null!=(c=i(t[h],h,n))&&v.push(c);else for(h in t)null!=(c=i(t[h],h,n))&&v.push(c);return G(v)},guid:1,support:j}),"function"==typeof Symbol&&(a.fn[Symbol.iterator]=st[Symbol.iterator]),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,i){k["[object "+i+"]"]=i.toLowerCase()});var Xt=st.pop,Ht=st.sort,Pe=st.splice,W="[\\x20\\t\\r\\n\\f]",Kt=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g");a.contains=function(t,i){var n=i&&i.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var $t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Ft(t,i){return i?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}a.escapeSelector=function(t){return(t+"").replace($t,Ft)};var Rt=y,Oe=O;!function(){var t,i,n,o,c,v,D,S,V,kt,h=Oe,It=a.expando,mt=0,Gt=0,xe=Zn(),Ve=Zn(),Le=Zn(),mi=Zn(),ui=function(x,F){return x===F&&(c=!0),0},li="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Wi="(?:\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ge="\\["+W+"*("+Wi+")(?:"+W+"*([*^$|!~]?=)"+W+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Wi+"))|)"+W+"*\\]",sn=":("+Wi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ge+")*)|.*)\\)|)",$e=new RegExp(W+"+","g"),Ye=new RegExp("^"+W+"*,"+W+"*"),zi=new RegExp("^"+W+"*([>+~]|"+W+")"+W+"*"),Qn=new RegExp(W+"|>"),Hi=new RegExp(sn),Ln=new RegExp("^"+Wi+"$"),hi={ID:new RegExp("^#("+Wi+")"),CLASS:new RegExp("^\\.("+Wi+")"),TAG:new RegExp("^("+Wi+"|[*])"),ATTR:new RegExp("^"+Ge),PSEUDO:new RegExp("^"+sn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),bool:new RegExp("^(?:"+li+")$","i"),needsContext:new RegExp("^"+W+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)","i")},Xi=/^(?:input|select|textarea|button)$/i,Fi=/^h\d$/i,Si=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xn=/[+~]/,Zi=new RegExp("\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\([^\\r\\n\\f])","g"),qi=function(x,F){var gt="0x"+x.slice(1)-65536;return F||(gt<0?String.fromCharCode(gt+65536):String.fromCharCode(gt>>10|55296,1023&gt|56320))},Dr=function(){un()},Rr=qn(function(x){return!0===x.disabled&&zt(x,"fieldset")},{dir:"parentNode",next:"legend"});try{h.apply(st=b.call(Rt.childNodes),Rt.childNodes)}catch{h={apply:function(F,gt){Oe.apply(F,b.call(gt))},call:function(F){Oe.apply(F,b.call(arguments,1))}}}function ti(x,F,gt,xt){var Mt,qt,oe,fe,le,Fe,ke,De=F&&F.ownerDocument,Ue=F?F.nodeType:9;if(gt=gt||[],"string"!=typeof x||!x||1!==Ue&&9!==Ue&&11!==Ue)return gt;if(!xt&&(un(F),F=F||v,S)){if(11!==Ue&&(le=Si.exec(x)))if(Mt=le[1]){if(9===Ue){if(!(oe=F.getElementById(Mt)))return gt;if(oe.id===Mt)return h.call(gt,oe),gt}else if(De&&(oe=De.getElementById(Mt))&&ti.contains(F,oe)&&oe.id===Mt)return h.call(gt,oe),gt}else{if(le[2])return h.apply(gt,F.getElementsByTagName(x)),gt;if((Mt=le[3])&&F.getElementsByClassName)return h.apply(gt,F.getElementsByClassName(Mt)),gt}if(!(mi[x+" "]||V&&V.test(x))){if(ke=x,De=F,1===Ue&&(Qn.test(x)||zi.test(x))){for(((De=Xn.test(x)&&jn(F.parentNode)||F)!=F||!j.scope)&&((fe=F.getAttribute("id"))?fe=a.escapeSelector(fe):F.setAttribute("id",fe=It)),qt=(Fe=Bn(x)).length;qt--;)Fe[qt]=(fe?"#"+fe:":scope")+" "+Kn(Fe[qt]);ke=Fe.join(",")}try{return h.apply(gt,De.querySelectorAll(ke)),gt}catch{mi(x,!0)}finally{fe===It&&F.removeAttribute("id")}}}return Br(x.replace(Kt,"$1"),F,gt,xt)}function Zn(){var x=[];return function F(gt,xt){return x.push(gt+" ")>i.cacheLength&&delete F[x.shift()],F[gt+" "]=xt}}function Pi(x){return x[It]=!0,x}function _n(x){var F=v.createElement("fieldset");try{return!!x(F)}catch{return!1}finally{F.parentNode&&F.parentNode.removeChild(F),F=null}}function Lr(x){return function(F){return zt(F,"input")&&F.type===x}}function oa(x){return function(F){return(zt(F,"input")||zt(F,"button"))&&F.type===x}}function Zr(x){return function(F){return"form"in F?F.parentNode&&!1===F.disabled?"label"in F?"label"in F.parentNode?F.parentNode.disabled===x:F.disabled===x:F.isDisabled===x||F.isDisabled!==!x&&Rr(F)===x:F.disabled===x:"label"in F&&F.disabled===x}}function Yi(x){return Pi(function(F){return F=+F,Pi(function(gt,xt){for(var Mt,qt=x([],gt.length,F),oe=qt.length;oe--;)gt[Mt=qt[oe]]&&(gt[Mt]=!(xt[Mt]=gt[Mt]))})})}function jn(x){return x&&typeof x.getElementsByTagName<"u"&&x}function un(x){var F,gt=x?x.ownerDocument||x:Rt;return gt==v||9!==gt.nodeType||!gt.documentElement||(D=(v=gt).documentElement,S=!a.isXMLDoc(v),kt=D.matches||D.webkitMatchesSelector||D.msMatchesSelector,D.msMatchesSelector&&Rt!=v&&(F=v.defaultView)&&F.top!==F&&F.addEventListener("unload",Dr),j.getById=_n(function(xt){return D.appendChild(xt).id=a.expando,!v.getElementsByName||!v.getElementsByName(a.expando).length}),j.disconnectedMatch=_n(function(xt){return kt.call(xt,"*")}),j.scope=_n(function(){return v.querySelectorAll(":scope")}),j.cssHas=_n(function(){try{return v.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),j.getById?(i.filter.ID=function(xt){var Mt=xt.replace(Zi,qi);return function(qt){return qt.getAttribute("id")===Mt}},i.find.ID=function(xt,Mt){if(typeof Mt.getElementById<"u"&&S){var qt=Mt.getElementById(xt);return qt?[qt]:[]}}):(i.filter.ID=function(xt){var Mt=xt.replace(Zi,qi);return function(qt){var oe=typeof qt.getAttributeNode<"u"&&qt.getAttributeNode("id");return oe&&oe.value===Mt}},i.find.ID=function(xt,Mt){if(typeof Mt.getElementById<"u"&&S){var qt,oe,fe,le=Mt.getElementById(xt);if(le){if((qt=le.getAttributeNode("id"))&&qt.value===xt)return[le];for(fe=Mt.getElementsByName(xt),oe=0;le=fe[oe++];)if((qt=le.getAttributeNode("id"))&&qt.value===xt)return[le]}return[]}}),i.find.TAG=function(xt,Mt){return typeof Mt.getElementsByTagName<"u"?Mt.getElementsByTagName(xt):Mt.querySelectorAll(xt)},i.find.CLASS=function(xt,Mt){if(typeof Mt.getElementsByClassName<"u"&&S)return Mt.getElementsByClassName(xt)},V=[],_n(function(xt){var Mt;D.appendChild(xt).innerHTML="<a id='"+It+"' href='' disabled='disabled'></a><select id='"+It+"-\r\\' disabled='disabled'><option selected=''></option></select>",xt.querySelectorAll("[selected]").length||V.push("\\["+W+"*(?:value|"+li+")"),xt.querySelectorAll("[id~="+It+"-]").length||V.push("~="),xt.querySelectorAll("a#"+It+"+*").length||V.push(".#.+[+~]"),xt.querySelectorAll(":checked").length||V.push(":checked"),(Mt=v.createElement("input")).setAttribute("type","hidden"),xt.appendChild(Mt).setAttribute("name","D"),D.appendChild(xt).disabled=!0,2!==xt.querySelectorAll(":disabled").length&&V.push(":enabled",":disabled"),(Mt=v.createElement("input")).setAttribute("name",""),xt.appendChild(Mt),xt.querySelectorAll("[name='']").length||V.push("\\["+W+"*name"+W+"*="+W+"*(?:''|\"\")")}),j.cssHas||V.push(":has"),V=V.length&&new RegExp(V.join("|")),ui=function(xt,Mt){if(xt===Mt)return c=!0,0;var qt=!xt.compareDocumentPosition-!Mt.compareDocumentPosition;return qt||(1&(qt=(xt.ownerDocument||xt)==(Mt.ownerDocument||Mt)?xt.compareDocumentPosition(Mt):1)||!j.sortDetached&&Mt.compareDocumentPosition(xt)===qt?xt===v||xt.ownerDocument==Rt&&ti.contains(Rt,xt)?-1:Mt===v||Mt.ownerDocument==Rt&&ti.contains(Rt,Mt)?1:o?K.call(o,xt)-K.call(o,Mt):0:4&qt?-1:1)}),v}for(t in ti.matches=function(x,F){return ti(x,null,null,F)},ti.matchesSelector=function(x,F){if(un(x),S&&!mi[F+" "]&&(!V||!V.test(F)))try{var gt=kt.call(x,F);if(gt||j.disconnectedMatch||x.document&&11!==x.document.nodeType)return gt}catch{mi(F,!0)}return ti(F,v,null,[x]).length>0},ti.contains=function(x,F){return(x.ownerDocument||x)!=v&&un(x),a.contains(x,F)},ti.attr=function(x,F){(x.ownerDocument||x)!=v&&un(x);var gt=i.attrHandle[F.toLowerCase()],xt=gt&&lt.call(i.attrHandle,F.toLowerCase())?gt(x,F,!S):void 0;return void 0!==xt?xt:x.getAttribute(F)},ti.error=function(x){throw new Error("Syntax error, unrecognized expression: "+x)},a.uniqueSort=function(x){var F,gt=[],xt=0,Mt=0;if(c=!j.sortStable,o=!j.sortStable&&b.call(x,0),Ht.call(x,ui),c){for(;F=x[Mt++];)F===x[Mt]&&(xt=gt.push(Mt));for(;xt--;)Pe.call(x,gt[xt],1)}return o=null,x},a.fn.uniqueSort=function(){return this.pushStack(a.uniqueSort(b.apply(this)))},(i=a.expr={cacheLength:50,createPseudo:Pi,match:hi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(x){return x[1]=x[1].replace(Zi,qi),x[3]=(x[3]||x[4]||x[5]||"").replace(Zi,qi),"~="===x[2]&&(x[3]=" "+x[3]+" "),x.slice(0,4)},CHILD:function(x){return x[1]=x[1].toLowerCase(),"nth"===x[1].slice(0,3)?(x[3]||ti.error(x[0]),x[4]=+(x[4]?x[5]+(x[6]||1):2*("even"===x[3]||"odd"===x[3])),x[5]=+(x[7]+x[8]||"odd"===x[3])):x[3]&&ti.error(x[0]),x},PSEUDO:function(x){var F,gt=!x[6]&&x[2];return hi.CHILD.test(x[0])?null:(x[3]?x[2]=x[4]||x[5]||"":gt&&Hi.test(gt)&&(F=Bn(gt,!0))&&(F=gt.indexOf(")",gt.length-F)-gt.length)&&(x[0]=x[0].slice(0,F),x[2]=gt.slice(0,F)),x.slice(0,3))}},filter:{TAG:function(x){var F=x.replace(Zi,qi).toLowerCase();return"*"===x?function(){return!0}:function(gt){return zt(gt,F)}},CLASS:function(x){var F=xe[x+" "];return F||(F=new RegExp("(^|"+W+")"+x+"("+W+"|$)"))&&xe(x,function(gt){return F.test("string"==typeof gt.className&&gt.className||typeof gt.getAttribute<"u"&&gt.getAttribute("class")||"")})},ATTR:function(x,F,gt){return function(xt){var Mt=ti.attr(xt,x);return null==Mt?"!="===F:!F||(Mt+="","="===F?Mt===gt:"!="===F?Mt!==gt:"^="===F?gt&&0===Mt.indexOf(gt):"*="===F?gt&&Mt.indexOf(gt)>-1:"$="===F?gt&&Mt.slice(-gt.length)===gt:"~="===F?(" "+Mt.replace($e," ")+" ").indexOf(gt)>-1:"|="===F&&(Mt===gt||Mt.slice(0,gt.length+1)===gt+"-"))}},CHILD:function(x,F,gt,xt,Mt){var qt="nth"!==x.slice(0,3),oe="last"!==x.slice(-4),fe="of-type"===F;return 1===xt&&0===Mt?function(le){return!!le.parentNode}:function(le,Fe,ke){var De,Ue,_e,ii,Ti,xi=qt!==oe?"nextSibling":"previousSibling",Di=le.parentNode,Qi=fe&&le.nodeName.toLowerCase(),An=!ke&&!fe,Oi=!1;if(Di){if(qt){for(;xi;){for(_e=le;_e=_e[xi];)if(fe?zt(_e,Qi):1===_e.nodeType)return!1;Ti=xi="only"===x&&!Ti&&"nextSibling"}return!0}if(Ti=[oe?Di.firstChild:Di.lastChild],oe&&An){for(Oi=(ii=(De=(Ue=Di[It]||(Di[It]={}))[x]||[])[0]===mt&&De[1])&&De[2],_e=ii&&Di.childNodes[ii];_e=++ii&&_e&&_e[xi]||(Oi=ii=0)||Ti.pop();)if(1===_e.nodeType&&++Oi&&_e===le){Ue[x]=[mt,ii,Oi];break}}else if(An&&(Oi=ii=(De=(Ue=le[It]||(le[It]={}))[x]||[])[0]===mt&&De[1]),!1===Oi)for(;(_e=++ii&&_e&&_e[xi]||(Oi=ii=0)||Ti.pop())&&(!(fe?zt(_e,Qi):1===_e.nodeType)||!++Oi||(An&&((Ue=_e[It]||(_e[It]={}))[x]=[mt,Oi]),_e!==le)););return(Oi-=Mt)===xt||Oi%xt==0&&Oi/xt>=0}}},PSEUDO:function(x,F){var gt,xt=i.pseudos[x]||i.setFilters[x.toLowerCase()]||ti.error("unsupported pseudo: "+x);return xt[It]?xt(F):xt.length>1?(gt=[x,x,"",F],i.setFilters.hasOwnProperty(x.toLowerCase())?Pi(function(Mt,qt){for(var oe,fe=xt(Mt,F),le=fe.length;le--;)Mt[oe=K.call(Mt,fe[le])]=!(qt[oe]=fe[le])}):function(Mt){return xt(Mt,0,gt)}):xt}},pseudos:{not:Pi(function(x){var F=[],gt=[],xt=wr(x.replace(Kt,"$1"));return xt[It]?Pi(function(Mt,qt,oe,fe){for(var le,Fe=xt(Mt,null,fe,[]),ke=Mt.length;ke--;)(le=Fe[ke])&&(Mt[ke]=!(qt[ke]=le))}):function(Mt,qt,oe){return F[0]=Mt,xt(F,null,oe,gt),F[0]=null,!gt.pop()}}),has:Pi(function(x){return function(F){return ti(x,F).length>0}}),contains:Pi(function(x){return x=x.replace(Zi,qi),function(F){return(F.textContent||a.text(F)).indexOf(x)>-1}}),lang:Pi(function(x){return Ln.test(x||"")||ti.error("unsupported lang: "+x),x=x.replace(Zi,qi).toLowerCase(),function(F){var gt;do{if(gt=S?F.lang:F.getAttribute("xml:lang")||F.getAttribute("lang"))return(gt=gt.toLowerCase())===x||0===gt.indexOf(x+"-")}while((F=F.parentNode)&&1===F.nodeType);return!1}}),target:function(x){var F=R.location&&R.location.hash;return F&&F.slice(1)===x.id},root:function(x){return x===D},focus:function(x){return x===function Xr(){try{return v.activeElement}catch{}}()&&v.hasFocus()&&!!(x.type||x.href||~x.tabIndex)},enabled:Zr(!1),disabled:Zr(!0),checked:function(x){return zt(x,"input")&&!!x.checked||zt(x,"option")&&!!x.selected},selected:function(x){return!0===x.selected},empty:function(x){for(x=x.firstChild;x;x=x.nextSibling)if(x.nodeType<6)return!1;return!0},parent:function(x){return!i.pseudos.empty(x)},header:function(x){return Fi.test(x.nodeName)},input:function(x){return Xi.test(x.nodeName)},button:function(x){return zt(x,"input")&&"button"===x.type||zt(x,"button")},text:function(x){var F;return zt(x,"input")&&"text"===x.type&&(null==(F=x.getAttribute("type"))||"text"===F.toLowerCase())},first:Yi(function(){return[0]}),last:Yi(function(x,F){return[F-1]}),eq:Yi(function(x,F,gt){return[gt<0?gt+F:gt]}),even:Yi(function(x,F){for(var gt=0;gt<F;gt+=2)x.push(gt);return x}),odd:Yi(function(x,F){for(var gt=1;gt<F;gt+=2)x.push(gt);return x}),lt:Yi(function(x,F,gt){var xt;for(xt=gt<0?gt+F:gt>F?F:gt;--xt>=0;)x.push(xt);return x}),gt:Yi(function(x,F,gt){for(var xt=gt<0?gt+F:gt;++xt<F;)x.push(xt);return x})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=Lr(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=oa(t);function jr(){}function Bn(x,F){var gt,xt,Mt,qt,oe,fe,le,Fe=Ve[x+" "];if(Fe)return F?0:Fe.slice(0);for(oe=x,fe=[],le=i.preFilter;oe;){for(qt in(!gt||(xt=Ye.exec(oe)))&&(xt&&(oe=oe.slice(xt[0].length)||oe),fe.push(Mt=[])),gt=!1,(xt=zi.exec(oe))&&(gt=xt.shift(),Mt.push({value:gt,type:xt[0].replace(Kt," ")}),oe=oe.slice(gt.length)),i.filter)(xt=hi[qt].exec(oe))&&(!le[qt]||(xt=le[qt](xt)))&&(gt=xt.shift(),Mt.push({value:gt,type:qt,matches:xt}),oe=oe.slice(gt.length));if(!gt)break}return F?oe.length:oe?ti.error(x):Ve(x,fe).slice(0)}function Kn(x){for(var F=0,gt=x.length,xt="";F<gt;F++)xt+=x[F].value;return xt}function qn(x,F,gt){var xt=F.dir,Mt=F.next,qt=Mt||xt,oe=gt&&"parentNode"===qt,fe=Gt++;return F.first?function(le,Fe,ke){for(;le=le[xt];)if(1===le.nodeType||oe)return x(le,Fe,ke);return!1}:function(le,Fe,ke){var De,Ue,_e=[mt,fe];if(ke){for(;le=le[xt];)if((1===le.nodeType||oe)&&x(le,Fe,ke))return!0}else for(;le=le[xt];)if(1===le.nodeType||oe)if(Ue=le[It]||(le[It]={}),Mt&&zt(le,Mt))le=le[xt]||le;else{if((De=Ue[qt])&&De[0]===mt&&De[1]===fe)return _e[2]=De[2];if(Ue[qt]=_e,_e[2]=x(le,Fe,ke))return!0}return!1}}function mr(x){return x.length>1?function(F,gt,xt){for(var Mt=x.length;Mt--;)if(!x[Mt](F,gt,xt))return!1;return!0}:x[0]}function Yn(x,F,gt,xt,Mt){for(var qt,oe=[],fe=0,le=x.length,Fe=null!=F;fe<le;fe++)(qt=x[fe])&&(!gt||gt(qt,xt,Mt))&&(oe.push(qt),Fe&&F.push(fe));return oe}function _r(x,F,gt,xt,Mt,qt){return xt&&!xt[It]&&(xt=_r(xt)),Mt&&!Mt[It]&&(Mt=_r(Mt,qt)),Pi(function(oe,fe,le,Fe){var ke,De,Ue,_e,ii=[],Ti=[],xi=fe.length,Di=oe||function qr(x,F,gt){for(var xt=0,Mt=F.length;xt<Mt;xt++)ti(x,F[xt],gt);return gt}(F||"*",le.nodeType?[le]:le,[]),Qi=!x||!oe&&F?Di:Yn(Di,ii,x,le,Fe);if(gt?gt(Qi,_e=Mt||(oe?x:xi||xt)?[]:fe,le,Fe):_e=Qi,xt)for(ke=Yn(_e,Ti),xt(ke,[],le,Fe),De=ke.length;De--;)(Ue=ke[De])&&(_e[Ti[De]]=!(Qi[Ti[De]]=Ue));if(oe){if(Mt||x){if(Mt){for(ke=[],De=_e.length;De--;)(Ue=_e[De])&&ke.push(Qi[De]=Ue);Mt(null,_e=[],ke,Fe)}for(De=_e.length;De--;)(Ue=_e[De])&&(ke=Mt?K.call(oe,Ue):ii[De])>-1&&(oe[ke]=!(fe[ke]=Ue))}}else _e=Yn(_e===fe?_e.splice(xi,_e.length):_e),Mt?Mt(null,fe,_e,Fe):h.apply(fe,_e)})}function br(x){for(var F,gt,xt,Mt=x.length,qt=i.relative[x[0].type],oe=qt||i.relative[" "],fe=qt?1:0,le=qn(function(De){return De===F},oe,!0),Fe=qn(function(De){return K.call(F,De)>-1},oe,!0),ke=[function(De,Ue,_e){var ii=!qt&&(_e||Ue!=n)||((F=Ue).nodeType?le(De,Ue,_e):Fe(De,Ue,_e));return F=null,ii}];fe<Mt;fe++)if(gt=i.relative[x[fe].type])ke=[qn(mr(ke),gt)];else{if((gt=i.filter[x[fe].type].apply(null,x[fe].matches))[It]){for(xt=++fe;xt<Mt&&!i.relative[x[xt].type];xt++);return _r(fe>1&&mr(ke),fe>1&&Kn(x.slice(0,fe-1).concat({value:" "===x[fe-2].type?"*":""})).replace(Kt,"$1"),gt,fe<xt&&br(x.slice(fe,xt)),xt<Mt&&br(x=x.slice(xt)),xt<Mt&&Kn(x))}ke.push(gt)}return mr(ke)}function wr(x,F){var gt,xt=[],Mt=[],qt=Le[x+" "];if(!qt){for(F||(F=Bn(x)),gt=F.length;gt--;)(qt=br(F[gt]))[It]?xt.push(qt):Mt.push(qt);qt=Le(x,function Yr(x,F){var gt=F.length>0,xt=x.length>0,Mt=function(qt,oe,fe,le,Fe){var ke,De,Ue,_e=0,ii="0",Ti=qt&&[],xi=[],Di=n,Qi=qt||xt&&i.find.TAG("*",Fe),An=mt+=null==Di?1:Math.random()||.1,Oi=Qi.length;for(Fe&&(n=oe==v||oe||Fe);ii!==Oi&&null!=(ke=Qi[ii]);ii++){if(xt&&ke){for(De=0,!oe&&ke.ownerDocument!=v&&(un(ke),fe=!S);Ue=x[De++];)if(Ue(ke,oe||v,fe)){h.call(le,ke);break}Fe&&(mt=An)}gt&&((ke=!Ue&&ke)&&_e--,qt&&Ti.push(ke))}if(_e+=ii,gt&&ii!==_e){for(De=0;Ue=F[De++];)Ue(Ti,xi,oe,fe);if(qt){if(_e>0)for(;ii--;)Ti[ii]||xi[ii]||(xi[ii]=Xt.call(le));xi=Yn(xi)}h.apply(le,xi),Fe&&!qt&&xi.length>0&&_e+F.length>1&&a.uniqueSort(le)}return Fe&&(mt=An,n=Di),Ti};return gt?Pi(Mt):Mt}(Mt,xt)),qt.selector=x}return qt}function Br(x,F,gt,xt){var Mt,qt,oe,fe,le,Fe="function"==typeof x&&x,ke=!xt&&Bn(x=Fe.selector||x);if(gt=gt||[],1===ke.length){if((qt=ke[0]=ke[0].slice(0)).length>2&&"ID"===(oe=qt[0]).type&&9===F.nodeType&&S&&i.relative[qt[1].type]){if(!(F=(i.find.ID(oe.matches[0].replace(Zi,qi),F)||[])[0]))return gt;Fe&&(F=F.parentNode),x=x.slice(qt.shift().value.length)}for(Mt=hi.needsContext.test(x)?0:qt.length;Mt--&&!i.relative[fe=(oe=qt[Mt]).type];)if((le=i.find[fe])&&(xt=le(oe.matches[0].replace(Zi,qi),Xn.test(qt[0].type)&&jn(F.parentNode)||F))){if(qt.splice(Mt,1),!(x=xt.length&&Kn(qt)))return h.apply(gt,xt),gt;break}}return(Fe||wr(x,ke))(xt,F,!S,gt,!F||Xn.test(x)&&jn(F.parentNode)||F),gt}jr.prototype=i.filters=i.pseudos,i.setFilters=new jr,j.sortStable=It.split("").sort(ui).join("")===It,un(),j.sortDetached=_n(function(x){return 1&x.compareDocumentPosition(v.createElement("fieldset"))}),a.find=ti,a.expr[":"]=a.expr.pseudos,a.unique=a.uniqueSort,ti.compile=wr,ti.select=Br,ti.setDocument=un,ti.tokenize=Bn,ti.escape=a.escapeSelector,ti.getText=a.text,ti.isXML=a.isXMLDoc,ti.selectors=a.expr,ti.support=a.support,ti.uniqueSort=a.uniqueSort}();var Se=function(t,i,n){for(var o=[],c=void 0!==n;(t=t[i])&&9!==t.nodeType;)if(1===t.nodeType){if(c&&a(t).is(n))break;o.push(t)}return o},rt=function(t,i){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==i&&n.push(t);return n},ft=a.expr.match.needsContext,m=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function at(t,i,n){return tt(i)?a.grep(t,function(o,c){return!!i.call(o,c,o)!==n}):i.nodeType?a.grep(t,function(o){return o===i!==n}):"string"!=typeof i?a.grep(t,function(o){return K.call(i,o)>-1!==n}):a.filter(i,t,n)}a.filter=function(t,i,n){var o=i[0];return n&&(t=":not("+t+")"),1===i.length&&1===o.nodeType?a.find.matchesSelector(o,t)?[o]:[]:a.find.matches(t,a.grep(i,function(c){return 1===c.nodeType}))},a.fn.extend({find:function(t){var i,n,o=this.length,c=this;if("string"!=typeof t)return this.pushStack(a(t).filter(function(){for(i=0;i<o;i++)if(a.contains(c[i],this))return!0}));for(n=this.pushStack([]),i=0;i<o;i++)a.find(t,c[i],n);return o>1?a.uniqueSort(n):n},filter:function(t){return this.pushStack(at(this,t||[],!1))},not:function(t){return this.pushStack(at(this,t||[],!0))},is:function(t){return!!at(this,"string"==typeof t&&ft.test(t)?a(t):t||[],!1).length}});var Nt,Lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ee=a.fn.init=function(t,i,n){var o,c;if(!t)return this;if(n=n||Nt,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Lt.exec(t))||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(a.merge(this,a.parseHTML(o[1],(i=i instanceof a?i[0]:i)&&i.nodeType?i.ownerDocument||i:y,!0)),m.test(o[1])&&a.isPlainObject(i))for(o in i)tt(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}return(c=y.getElementById(o[2]))&&(this[0]=c,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):tt(t)?void 0!==n.ready?n.ready(t):t(a):a.makeArray(t,this)};ee.prototype=a.fn,Nt=a(y);var ce=/^(?:parents|prev(?:Until|All))/,jt={children:!0,contents:!0,next:!0,prev:!0};function Pt(t,i){for(;(t=t[i])&&1!==t.nodeType;);return t}a.fn.extend({has:function(t){var i=a(t,this),n=i.length;return this.filter(function(){for(var o=0;o<n;o++)if(a.contains(this,i[o]))return!0})},closest:function(t,i){var n,o=0,c=this.length,h=[],v="string"!=typeof t&&a(t);if(!ft.test(t))for(;o<c;o++)for(n=this[o];n&&n!==i;n=n.parentNode)if(n.nodeType<11&&(v?v.index(n)>-1:1===n.nodeType&&a.find.matchesSelector(n,t))){h.push(n);break}return this.pushStack(h.length>1?a.uniqueSort(h):h)},index:function(t){return t?"string"==typeof t?K.call(a(t),this[0]):K.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,i){return this.pushStack(a.uniqueSort(a.merge(this.get(),a(t,i))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),a.each({parent:function(t){var i=t.parentNode;return i&&11!==i.nodeType?i:null},parents:function(t){return Se(t,"parentNode")},parentsUntil:function(t,i,n){return Se(t,"parentNode",n)},next:function(t){return Pt(t,"nextSibling")},prev:function(t){return Pt(t,"previousSibling")},nextAll:function(t){return Se(t,"nextSibling")},prevAll:function(t){return Se(t,"previousSibling")},nextUntil:function(t,i,n){return Se(t,"nextSibling",n)},prevUntil:function(t,i,n){return Se(t,"previousSibling",n)},siblings:function(t){return rt((t.parentNode||{}).firstChild,t)},children:function(t){return rt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&J(t.contentDocument)?t.contentDocument:(zt(t,"template")&&(t=t.content||t),a.merge([],t.childNodes))}},function(t,i){a.fn[t]=function(n,o){var c=a.map(this,i,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(c=a.filter(o,c)),this.length>1&&(jt[t]||a.uniqueSort(c),ce.test(t)&&c.reverse()),this.pushStack(c)}});var ue=/[^\x20\t\r\n\f]+/g;function Ie(t){return t}function Zt(t){throw t}function je(t,i,n,o){var c;try{t&&tt(c=t.promise)?c.call(t).done(i).fail(n):t&&tt(c=t.then)?c.call(t,i,n):i.apply(void 0,[t].slice(o))}catch(h){n.apply(void 0,[h])}}a.Callbacks=function(t){t="string"==typeof t?function Ke(t){var i={};return a.each(t.match(ue)||[],function(n,o){i[o]=!0}),i}(t):a.extend({},t);var i,n,o,c,h=[],v=[],D=-1,S=function(){for(c=c||t.once,o=i=!0;v.length;D=-1)for(n=v.shift();++D<h.length;)!1===h[D].apply(n[0],n[1])&&t.stopOnFalse&&(D=h.length,n=!1);t.memory||(n=!1),i=!1,c&&(h=n?[]:"")},V={add:function(){return h&&(n&&!i&&(D=h.length-1,v.push(n)),function kt(It){a.each(It,function(mt,Gt){tt(Gt)?(!t.unique||!V.has(Gt))&&h.push(Gt):Gt&&Gt.length&&"string"!==dt(Gt)&&kt(Gt)})}(arguments),n&&!i&&S()),this},remove:function(){return a.each(arguments,function(kt,It){for(var mt;(mt=a.inArray(It,h,mt))>-1;)h.splice(mt,1),mt<=D&&D--}),this},has:function(kt){return kt?a.inArray(kt,h)>-1:h.length>0},empty:function(){return h&&(h=[]),this},disable:function(){return c=v=[],h=n="",this},disabled:function(){return!h},lock:function(){return c=v=[],!n&&!i&&(h=n=""),this},locked:function(){return!!c},fireWith:function(kt,It){return c||(It=[kt,(It=It||[]).slice?It.slice():It],v.push(It),i||S()),this},fire:function(){return V.fireWith(this,arguments),this},fired:function(){return!!o}};return V},a.extend({Deferred:function(t){var i=[["notify","progress",a.Callbacks("memory"),a.Callbacks("memory"),2],["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),0,"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return c.done(arguments).fail(arguments),this},catch:function(h){return o.then(null,h)},pipe:function(){var h=arguments;return a.Deferred(function(v){a.each(i,function(D,S){var V=tt(h[S[4]])&&h[S[4]];c[S[1]](function(){var kt=V&&V.apply(this,arguments);kt&&tt(kt.promise)?kt.promise().progress(v.notify).done(v.resolve).fail(v.reject):v[S[0]+"With"](this,V?[kt]:arguments)})}),h=null}).promise()},then:function(h,v,D){var S=0;function V(kt,It,mt,Gt){return function(){var xe=this,Ve=arguments,Le=function(){var ui,li;if(!(kt<S)){if((ui=mt.apply(xe,Ve))===It.promise())throw new TypeError("Thenable self-resolution");tt(li=ui&&("object"==typeof ui||"function"==typeof ui)&&ui.then)?Gt?li.call(ui,V(S,It,Ie,Gt),V(S,It,Zt,Gt)):(S++,li.call(ui,V(S,It,Ie,Gt),V(S,It,Zt,Gt),V(S,It,Ie,It.notifyWith))):(mt!==Ie&&(xe=void 0,Ve=[ui]),(Gt||It.resolveWith)(xe,Ve))}},mi=Gt?Le:function(){try{Le()}catch(ui){a.Deferred.exceptionHook&&a.Deferred.exceptionHook(ui,mi.error),kt+1>=S&&(mt!==Zt&&(xe=void 0,Ve=[ui]),It.rejectWith(xe,Ve))}};kt?mi():(a.Deferred.getErrorHook?mi.error=a.Deferred.getErrorHook():a.Deferred.getStackHook&&(mi.error=a.Deferred.getStackHook()),R.setTimeout(mi))}}return a.Deferred(function(kt){i[0][3].add(V(0,kt,tt(D)?D:Ie,kt.notifyWith)),i[1][3].add(V(0,kt,tt(h)?h:Ie)),i[2][3].add(V(0,kt,tt(v)?v:Zt))}).promise()},promise:function(h){return null!=h?a.extend(h,o):o}},c={};return a.each(i,function(h,v){var D=v[2],S=v[5];o[v[1]]=D.add,S&&D.add(function(){n=S},i[3-h][2].disable,i[3-h][3].disable,i[0][2].lock,i[0][3].lock),D.add(v[3].fire),c[v[0]]=function(){return c[v[0]+"With"](this===c?void 0:this,arguments),this},c[v[0]+"With"]=D.fireWith}),o.promise(c),t&&t.call(c,c),c},when:function(t){var i=arguments.length,n=i,o=Array(n),c=b.call(arguments),h=a.Deferred(),v=function(D){return function(S){o[D]=this,c[D]=arguments.length>1?b.call(arguments):S,--i||h.resolveWith(o,c)}};if(i<=1&&(je(t,h.done(v(n)).resolve,h.reject,!i),"pending"===h.state()||tt(c[n]&&c[n].then)))return h.then();for(;n--;)je(c[n],v(n),h.reject);return h.promise()}});var wt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;a.Deferred.exceptionHook=function(t,i){R.console&&R.console.warn&&t&&wt.test(t.name)&&R.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},a.readyException=function(t){R.setTimeout(function(){throw t})};var E=a.Deferred();function pt(){y.removeEventListener("DOMContentLoaded",pt),R.removeEventListener("load",pt),a.ready()}a.fn.ready=function(t){return E.then(t).catch(function(i){a.readyException(i)}),this},a.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--a.readyWait:a.isReady)||(a.isReady=!0,!(!0!==t&&--a.readyWait>0)&&E.resolveWith(y,[a]))}}),a.ready.then=E.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?R.setTimeout(a.ready):(y.addEventListener("DOMContentLoaded",pt),R.addEventListener("load",pt));var Ct=function(t,i,n,o,c,h,v){var D=0,S=t.length,V=null==n;if("object"===dt(n))for(D in c=!0,n)Ct(t,i,D,n[D],!0,h,v);else if(void 0!==o&&(c=!0,tt(o)||(v=!0),V&&(v?(i.call(t,o),i=null):(V=i,i=function(kt,It,mt){return V.call(a(kt),mt)})),i))for(;D<S;D++)i(t[D],n,v?o:o.call(t[D],D,i(t[D],n)));return c?t:V?i.call(t):S?i(t[0],n):h},z=/^-ms-/,ot=/-([a-z])/g;function Z(t,i){return i.toUpperCase()}function vt(t){return t.replace(z,"ms-").replace(ot,Z)}var Dt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Ut(){this.expando=a.expando+Ut.uid++}Ut.uid=1,Ut.prototype={cache:function(t){var i=t[this.expando];return i||(i={},Dt(t)&&(t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,configurable:!0}))),i},set:function(t,i,n){var o,c=this.cache(t);if("string"==typeof i)c[vt(i)]=n;else for(o in i)c[vt(o)]=i[o];return c},get:function(t,i){return void 0===i?this.cache(t):t[this.expando]&&t[this.expando][vt(i)]},access:function(t,i,n){return void 0===i||i&&"string"==typeof i&&void 0===n?this.get(t,i):(this.set(t,i,n),void 0!==n?n:i)},remove:function(t,i){var n,o=t[this.expando];if(void 0!==o){if(void 0!==i)for((n=(i=Array.isArray(i)?i.map(vt):(i=vt(i))in o?[i]:i.match(ue)||[]).length);n--;)delete o[i[n]];(void 0===i||a.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var i=t[this.expando];return void 0!==i&&!a.isEmptyObject(i)}};var yt=new Ut,Jt=new Ut,ae=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Te=/[A-Z]/g;function pe(t,i,n){var o;if(void 0===n&&1===t.nodeType)if(o="data-"+i.replace(Te,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(o))){try{n=function re(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:ae.test(t)?JSON.parse(t):t)}(n)}catch{}Jt.set(t,i,n)}else n=void 0;return n}a.extend({hasData:function(t){return Jt.hasData(t)||yt.hasData(t)},data:function(t,i,n){return Jt.access(t,i,n)},removeData:function(t,i){Jt.remove(t,i)},_data:function(t,i,n){return yt.access(t,i,n)},_removeData:function(t,i){yt.remove(t,i)}}),a.fn.extend({data:function(t,i){var n,o,c,h=this[0],v=h&&h.attributes;if(void 0===t){if(this.length&&(c=Jt.get(h),1===h.nodeType&&!yt.get(h,"hasDataAttrs"))){for(n=v.length;n--;)v[n]&&0===(o=v[n].name).indexOf("data-")&&(o=vt(o.slice(5)),pe(h,o,c[o]));yt.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof t?this.each(function(){Jt.set(this,t)}):Ct(this,function(D){var S;if(h&&void 0===D)return void 0!==(S=Jt.get(h,t))||void 0!==(S=pe(h,t))?S:void 0;this.each(function(){Jt.set(this,t,D)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Jt.remove(this,t)})}}),a.extend({queue:function(t,i,n){var o;if(t)return o=yt.get(t,i=(i||"fx")+"queue"),n&&(!o||Array.isArray(n)?o=yt.access(t,i,a.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,i){var n=a.queue(t,i=i||"fx"),o=n.length,c=n.shift(),h=a._queueHooks(t,i);"inprogress"===c&&(c=n.shift(),o--),c&&("fx"===i&&n.unshift("inprogress"),delete h.stop,c.call(t,function(){a.dequeue(t,i)},h)),!o&&h&&h.empty.fire()},_queueHooks:function(t,i){var n=i+"queueHooks";return yt.get(t,n)||yt.access(t,n,{empty:a.Callbacks("once memory").add(function(){yt.remove(t,[i+"queue",n])})})}}),a.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?a.queue(this[0],t):void 0===i?this:this.each(function(){var o=a.queue(this,t,i);a._queueHooks(this,t),"fx"===t&&"inprogress"!==o[0]&&a.dequeue(this,t)})},dequeue:function(t){return this.each(function(){a.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,c=a.Deferred(),h=this,v=this.length,D=function(){--o||c.resolveWith(h,[h])};for("string"!=typeof t&&(i=t,t=void 0),t=t||"fx";v--;)(n=yt.get(h[v],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(D));return D(),c.promise(i)}});var ye=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+ye+")([a-z%]*)$","i"),Ce=["Top","Right","Bottom","Left"],Ae=y.documentElement,Xe=function(t){return a.contains(t.ownerDocument,t)},tn={composed:!0};Ae.getRootNode&&(Xe=function(t){return a.contains(t.ownerDocument,t)||t.getRootNode(tn)===t.ownerDocument});var Ei=function(t,i){return"none"===(t=i||t).style.display||""===t.style.display&&Xe(t)&&"none"===a.css(t,"display")};function en(t,i,n,o){var c,h,v=20,D=o?function(){return o.cur()}:function(){return a.css(t,i,"")},S=D(),V=n&&n[3]||(a.cssNumber[i]?"":"px"),kt=t.nodeType&&(a.cssNumber[i]||"px"!==V&&+S)&&Be.exec(a.css(t,i));if(kt&&kt[3]!==V){for(V=V||kt[3],kt=+(S/=2)||1;v--;)a.style(t,i,kt+V),(1-h)*(1-(h=D()/S||.5))<=0&&(v=0),kt/=h;a.style(t,i,(kt*=2)+V),n=n||[]}return n&&(kt=+kt||+S||0,c=n[1]?kt+(n[1]+1)*n[2]:+n[2],o&&(o.unit=V,o.start=kt,o.end=c)),c}var nn={};function En(t){var i,n=t.ownerDocument,o=t.nodeName,c=nn[o];return c||(i=n.body.appendChild(n.createElement(o)),c=a.css(i,"display"),i.parentNode.removeChild(i),"none"===c&&(c="block"),nn[o]=c,c)}function ni(t,i){for(var n,o,c=[],h=0,v=t.length;h<v;h++)(o=t[h]).style&&(n=o.style.display,i?("none"===n&&(c[h]=yt.get(o,"display")||null,c[h]||(o.style.display="")),""===o.style.display&&Ei(o)&&(c[h]=En(o))):"none"!==n&&(c[h]="none",yt.set(o,"display",n)));for(h=0;h<v;h++)null!=c[h]&&(t[h].style.display=c[h]);return t}a.fn.extend({show:function(){return ni(this,!0)},hide:function(){return ni(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ei(this)?a(this).show():a(this).hide()})}});var i,n,ji=/^(?:checkbox|radio)$/i,Ii=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,$i=/^$|^module$|\/(?:java|ecma)script/i;i=y.createDocumentFragment().appendChild(y.createElement("div")),(n=y.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),i.appendChild(n),j.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",j.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,i.innerHTML="<option></option>",j.option=!!i.lastChild;var pi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ci(t,i){var n;return n=typeof t.getElementsByTagName<"u"?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?t.querySelectorAll(i||"*"):[],void 0===i||i&&zt(t,i)?a.merge([t],n):n}function Bi(t,i){for(var n=0,o=t.length;n<o;n++)yt.set(t[n],"globalEval",!i||yt.get(i[n],"globalEval"))}pi.tbody=pi.tfoot=pi.colgroup=pi.caption=pi.thead,pi.th=pi.td,j.option||(pi.optgroup=pi.option=[1,"<select multiple='multiple'>","</select>"]);var rn=/<|&#?\w+;/;function an(t,i,n,o,c){for(var h,v,D,S,V,kt,It=i.createDocumentFragment(),mt=[],Gt=0,xe=t.length;Gt<xe;Gt++)if((h=t[Gt])||0===h)if("object"===dt(h))a.merge(mt,h.nodeType?[h]:h);else if(rn.test(h)){for(v=v||It.appendChild(i.createElement("div")),D=(Ii.exec(h)||["",""])[1].toLowerCase(),v.innerHTML=(S=pi[D]||pi._default)[1]+a.htmlPrefilter(h)+S[2],kt=S[0];kt--;)v=v.lastChild;a.merge(mt,v.childNodes),(v=It.firstChild).textContent=""}else mt.push(i.createTextNode(h));for(It.textContent="",Gt=0;h=mt[Gt++];)if(o&&a.inArray(h,o)>-1)c&&c.push(h);else if(V=Xe(h),v=ci(It.appendChild(h),"script"),V&&Bi(v),n)for(kt=0;h=v[kt++];)$i.test(h.type||"")&&n.push(h);return It}var Bt=/^([^.]*)(?:\.(.+)|)/;function U(){return!0}function l(){return!1}function d(t,i,n,o,c,h){var v,D;if("object"==typeof i){for(D in"string"!=typeof n&&(o=o||n,n=void 0),i)d(t,D,n,o,i[D],h);return t}if(null==o&&null==c?(c=n,o=n=void 0):null==c&&("string"==typeof n?(c=o,o=void 0):(c=o,o=n,n=void 0)),!1===c)c=l;else if(!c)return t;return 1===h&&(v=c,c=function(S){return a().off(S),v.apply(this,arguments)},c.guid=v.guid||(v.guid=a.guid++)),t.each(function(){a.event.add(this,i,c,o,n)})}function s(t,i,n){n?(yt.set(t,i,!1),a.event.add(t,i,{namespace:!1,handler:function(o){var c,h=yt.get(this,i);if(1&o.isTrigger&&this[i]){if(h)(a.event.special[i]||{}).delegateType&&o.stopPropagation();else if(h=b.call(arguments),yt.set(this,i,h),this[i](),c=yt.get(this,i),yt.set(this,i,!1),h!==c)return o.stopImmediatePropagation(),o.preventDefault(),c}else h&&(yt.set(this,i,a.event.trigger(h[0],h.slice(1),this)),o.stopPropagation(),o.isImmediatePropagationStopped=U)}})):void 0===yt.get(t,i)&&a.event.add(t,i,U)}a.event={global:{},add:function(t,i,n,o,c){var h,v,D,S,V,kt,It,mt,Gt,xe,Ve,Le=yt.get(t);if(Dt(t))for(n.handler&&(n=(h=n).handler,c=h.selector),c&&a.find.matchesSelector(Ae,c),n.guid||(n.guid=a.guid++),(S=Le.events)||(S=Le.events=Object.create(null)),(v=Le.handle)||(v=Le.handle=function(mi){return typeof a<"u"&&a.event.triggered!==mi.type?a.event.dispatch.apply(t,arguments):void 0}),V=(i=(i||"").match(ue)||[""]).length;V--;)Gt=Ve=(D=Bt.exec(i[V])||[])[1],xe=(D[2]||"").split(".").sort(),Gt&&(It=a.event.special[Gt]||{},It=a.event.special[Gt=(c?It.delegateType:It.bindType)||Gt]||{},kt=a.extend({type:Gt,origType:Ve,data:o,handler:n,guid:n.guid,selector:c,needsContext:c&&a.expr.match.needsContext.test(c),namespace:xe.join(".")},h),(mt=S[Gt])||((mt=S[Gt]=[]).delegateCount=0,(!It.setup||!1===It.setup.call(t,o,xe,v))&&t.addEventListener&&t.addEventListener(Gt,v)),It.add&&(It.add.call(t,kt),kt.handler.guid||(kt.handler.guid=n.guid)),c?mt.splice(mt.delegateCount++,0,kt):mt.push(kt),a.event.global[Gt]=!0)},remove:function(t,i,n,o,c){var h,v,D,S,V,kt,It,mt,Gt,xe,Ve,Le=yt.hasData(t)&&yt.get(t);if(Le&&(S=Le.events)){for(V=(i=(i||"").match(ue)||[""]).length;V--;)if(Gt=Ve=(D=Bt.exec(i[V])||[])[1],xe=(D[2]||"").split(".").sort(),Gt){for(It=a.event.special[Gt]||{},mt=S[Gt=(o?It.delegateType:It.bindType)||Gt]||[],D=D[2]&&new RegExp("(^|\\.)"+xe.join("\\.(?:.*\\.|)")+"(\\.|$)"),v=h=mt.length;h--;)kt=mt[h],(c||Ve===kt.origType)&&(!n||n.guid===kt.guid)&&(!D||D.test(kt.namespace))&&(!o||o===kt.selector||"**"===o&&kt.selector)&&(mt.splice(h,1),kt.selector&&mt.delegateCount--,It.remove&&It.remove.call(t,kt));v&&!mt.length&&((!It.teardown||!1===It.teardown.call(t,xe,Le.handle))&&a.removeEvent(t,Gt,Le.handle),delete S[Gt])}else for(Gt in S)a.event.remove(t,Gt+i[V],n,o,!0);a.isEmptyObject(S)&&yt.remove(t,"handle events")}},dispatch:function(t){var i,n,o,c,h,v,D=new Array(arguments.length),S=a.event.fix(t),V=(yt.get(this,"events")||Object.create(null))[S.type]||[],kt=a.event.special[S.type]||{};for(D[0]=S,i=1;i<arguments.length;i++)D[i]=arguments[i];if(S.delegateTarget=this,!kt.preDispatch||!1!==kt.preDispatch.call(this,S)){for(v=a.event.handlers.call(this,S,V),i=0;(c=v[i++])&&!S.isPropagationStopped();)for(S.currentTarget=c.elem,n=0;(h=c.handlers[n++])&&!S.isImmediatePropagationStopped();)(!S.rnamespace||!1===h.namespace||S.rnamespace.test(h.namespace))&&(S.handleObj=h,S.data=h.data,void 0!==(o=((a.event.special[h.origType]||{}).handle||h.handler).apply(c.elem,D))&&!1===(S.result=o)&&(S.preventDefault(),S.stopPropagation()));return kt.postDispatch&&kt.postDispatch.call(this,S),S.result}},handlers:function(t,i){var n,o,c,h,v,D=[],S=i.delegateCount,V=t.target;if(S&&V.nodeType&&!("click"===t.type&&t.button>=1))for(;V!==this;V=V.parentNode||this)if(1===V.nodeType&&("click"!==t.type||!0!==V.disabled)){for(h=[],v={},n=0;n<S;n++)void 0===v[c=(o=i[n]).selector+" "]&&(v[c]=o.needsContext?a(c,this).index(V)>-1:a.find(c,this,null,[V]).length),v[c]&&h.push(o);h.length&&D.push({elem:V,handlers:h})}return V=this,S<i.length&&D.push({elem:V,handlers:i.slice(S)}),D},addProp:function(t,i){Object.defineProperty(a.Event.prototype,t,{enumerable:!0,configurable:!0,get:tt(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(t){return t[a.expando]?t:new a.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var i=this||t;return ji.test(i.type)&&i.click&&zt(i,"input")&&s(i,"click",!0),!1},trigger:function(t){var i=this||t;return ji.test(i.type)&&i.click&&zt(i,"input")&&s(i,"click"),!0},_default:function(t){var i=t.target;return ji.test(i.type)&&i.click&&zt(i,"input")&&yt.get(i,"click")||zt(i,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},a.removeEvent=function(t,i,n){t.removeEventListener&&t.removeEventListener(i,n)},a.Event=function(t,i){if(!(this instanceof a.Event))return new a.Event(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?U:l,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,i&&a.extend(this,i),this.timeStamp=t&&t.timeStamp||Date.now(),this[a.expando]=!0},a.Event.prototype={constructor:a.Event,isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=U,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=U,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=U,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},a.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},a.event.addProp),a.each({focus:"focusin",blur:"focusout"},function(t,i){function n(o){if(y.documentMode){var c=yt.get(this,"handle"),h=a.event.fix(o);h.type="focusin"===o.type?"focus":"blur",h.isSimulated=!0,c(o),h.target===h.currentTarget&&c(h)}else a.event.simulate(i,o.target,a.event.fix(o))}a.event.special[t]={setup:function(){var o;if(s(this,t,!0),!y.documentMode)return!1;(o=yt.get(this,i))||this.addEventListener(i,n),yt.set(this,i,(o||0)+1)},trigger:function(){return s(this,t),!0},teardown:function(){var o;if(!y.documentMode)return!1;(o=yt.get(this,i)-1)?yt.set(this,i,o):(this.removeEventListener(i,n),yt.remove(this,i))},_default:function(o){return yt.get(o.target,t)},delegateType:i},a.event.special[i]={setup:function(){var o=this.ownerDocument||this.document||this,c=y.documentMode?this:o,h=yt.get(c,i);h||(y.documentMode?this.addEventListener(i,n):o.addEventListener(t,n,!0)),yt.set(c,i,(h||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,c=y.documentMode?this:o,h=yt.get(c,i)-1;h?yt.set(c,i,h):(y.documentMode?this.removeEventListener(i,n):o.removeEventListener(t,n,!0),yt.remove(c,i))}}}),a.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){a.event.special[t]={delegateType:i,bindType:i,handle:function(n){var o,h=n.relatedTarget,v=n.handleObj;return(!h||h!==this&&!a.contains(this,h))&&(n.type=v.origType,o=v.handler.apply(this,arguments),n.type=i),o}}}),a.fn.extend({on:function(t,i,n,o){return d(this,t,i,n,o)},one:function(t,i,n,o){return d(this,t,i,n,o,1)},off:function(t,i,n){var o,c;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,a(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(c in t)this.off(c,i,t[c]);return this}return(!1===i||"function"==typeof i)&&(n=i,i=void 0),!1===n&&(n=l),this.each(function(){a.event.remove(this,t,n,i)})}});var f=/<script|<style|<link/i,p=/checked\s*(?:[^=]|=\s*.checked.)/i,C=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function I(t,i){return zt(t,"table")&&zt(11!==i.nodeType?i:i.firstChild,"tr")&&a(t).children("tbody")[0]||t}function M(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Y(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function A(t,i){var n,o,c,v,D,S;if(1===i.nodeType){if(yt.hasData(t)&&(S=yt.get(t).events))for(c in yt.remove(i,"handle events"),S)for(n=0,o=S[c].length;n<o;n++)a.event.add(i,c,S[c][n]);Jt.hasData(t)&&(v=Jt.access(t),D=a.extend({},v),Jt.set(i,D))}}function et(t,i){var n=i.nodeName.toLowerCase();"input"===n&&ji.test(t.type)?i.checked=t.checked:("input"===n||"textarea"===n)&&(i.defaultValue=t.defaultValue)}function Q(t,i,n,o){i=G(i);var c,h,v,D,S,V,kt=0,It=t.length,mt=It-1,Gt=i[0],xe=tt(Gt);if(xe||It>1&&"string"==typeof Gt&&!j.checkClone&&p.test(Gt))return t.each(function(Ve){var Le=t.eq(Ve);xe&&(i[0]=Gt.call(this,Ve,Le.html())),Q(Le,i,n,o)});if(It&&(h=(c=an(i,t[0].ownerDocument,!1,t,o)).firstChild,1===c.childNodes.length&&(c=h),h||o)){for(D=(v=a.map(ci(c,"script"),M)).length;kt<It;kt++)S=c,kt!==mt&&(S=a.clone(S,!0,!0),D&&a.merge(v,ci(S,"script"))),n.call(t[kt],S,kt);if(D)for(V=v[v.length-1].ownerDocument,a.map(v,Y),kt=0;kt<D;kt++)$i.test((S=v[kt]).type||"")&&!yt.access(S,"globalEval")&&a.contains(V,S)&&(S.src&&"module"!==(S.type||"").toLowerCase()?a._evalUrl&&!S.noModule&&a._evalUrl(S.src,{nonce:S.nonce||S.getAttribute("nonce")},V):ht(S.textContent.replace(C,""),S,V))}return t}function ct(t,i,n){for(var o,c=i?a.filter(i,t):t,h=0;null!=(o=c[h]);h++)!n&&1===o.nodeType&&a.cleanData(ci(o)),o.parentNode&&(n&&Xe(o)&&Bi(ci(o,"script")),o.parentNode.removeChild(o));return t}a.extend({htmlPrefilter:function(t){return t},clone:function(t,i,n){var o,c,h,v,D=t.cloneNode(!0),S=Xe(t);if(!(j.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||a.isXMLDoc(t)))for(v=ci(D),o=0,c=(h=ci(t)).length;o<c;o++)et(h[o],v[o]);if(i)if(n)for(h=h||ci(t),v=v||ci(D),o=0,c=h.length;o<c;o++)A(h[o],v[o]);else A(t,D);return(v=ci(D,"script")).length>0&&Bi(v,!S&&ci(t,"script")),D},cleanData:function(t){for(var i,n,o,c=a.event.special,h=0;void 0!==(n=t[h]);h++)if(Dt(n)){if(i=n[yt.expando]){if(i.events)for(o in i.events)c[o]?a.event.remove(n,o):a.removeEvent(n,o,i.handle);n[yt.expando]=void 0}n[Jt.expando]&&(n[Jt.expando]=void 0)}}}),a.fn.extend({detach:function(t){return ct(this,t,!0)},remove:function(t){return ct(this,t)},text:function(t){return Ct(this,function(i){return void 0===i?a.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=i)})},null,t,arguments.length)},append:function(){return Q(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,t).appendChild(t)})},prepend:function(){return Q(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var i=I(this,t);i.insertBefore(t,i.firstChild)}})},before:function(){return Q(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Q(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,i=0;null!=(t=this[i]);i++)1===t.nodeType&&(a.cleanData(ci(t,!1)),t.textContent="");return this},clone:function(t,i){return t=null!=t&&t,i=null==i?t:i,this.map(function(){return a.clone(this,t,i)})},html:function(t){return Ct(this,function(i){var n=this[0]||{},o=0,c=this.length;if(void 0===i&&1===n.nodeType)return n.innerHTML;if("string"==typeof i&&!f.test(i)&&!pi[(Ii.exec(i)||["",""])[1].toLowerCase()]){i=a.htmlPrefilter(i);try{for(;o<c;o++)1===(n=this[o]||{}).nodeType&&(a.cleanData(ci(n,!1)),n.innerHTML=i);n=0}catch{}}n&&this.empty().append(i)},null,t,arguments.length)},replaceWith:function(){var t=[];return Q(this,arguments,function(i){var n=this.parentNode;a.inArray(this,t)<0&&(a.cleanData(ci(this)),n&&n.replaceChild(i,this))},t)}}),a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){a.fn[t]=function(n){for(var o,c=[],h=a(n),v=h.length-1,D=0;D<=v;D++)o=D===v?this:this.clone(!0),a(h[D])[i](o),O.apply(c,o.get());return this.pushStack(c)}});var _t=new RegExp("^("+ye+")(?!px)[a-z%]+$","i"),bt=/^--/,de=function(t){var i=t.ownerDocument.defaultView;return(!i||!i.opener)&&(i=R),i.getComputedStyle(t)},me=function(t,i,n){var o,c,h={};for(c in i)h[c]=t.style[c],t.style[c]=i[c];for(c in o=n.call(t),i)t.style[c]=h[c];return o},ei=new RegExp(Ce.join("|"),"i");function Je(t,i,n){var o,c,h,v,D=bt.test(i),S=t.style;return(n=n||de(t))&&(v=n.getPropertyValue(i)||n[i],D&&v&&(v=v.replace(Kt,"$1")||void 0),""===v&&!Xe(t)&&(v=a.style(t,i)),!j.pixelBoxStyles()&&_t.test(v)&&ei.test(i)&&(o=S.width,c=S.minWidth,h=S.maxWidth,S.minWidth=S.maxWidth=S.width=v,v=n.width,S.width=o,S.minWidth=c,S.maxWidth=h)),void 0!==v?v+"":v}function Ze(t,i){return{get:function(){if(!t())return(this.get=i).apply(this,arguments);delete this.get}}}!function(){function t(){if(V){S.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",V.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ae.appendChild(S).appendChild(V);var kt=R.getComputedStyle(V);n="1%"!==kt.top,D=12===i(kt.marginLeft),V.style.right="60%",h=36===i(kt.right),o=36===i(kt.width),V.style.position="absolute",c=12===i(V.offsetWidth/3),Ae.removeChild(S),V=null}}function i(kt){return Math.round(parseFloat(kt))}var n,o,c,h,v,D,S=y.createElement("div"),V=y.createElement("div");V.style&&(V.style.backgroundClip="content-box",V.cloneNode(!0).style.backgroundClip="",j.clearCloneStyle="content-box"===V.style.backgroundClip,a.extend(j,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),h},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),D},scrollboxSize:function(){return t(),c},reliableTrDimensions:function(){var kt,It,mt,Gt;return null==v&&(kt=y.createElement("table"),It=y.createElement("tr"),mt=y.createElement("div"),kt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",It.style.cssText="box-sizing:content-box;border:1px solid",It.style.height="1px",mt.style.height="9px",mt.style.display="block",Ae.appendChild(kt).appendChild(It).appendChild(mt),Gt=R.getComputedStyle(It),v=parseInt(Gt.height,10)+parseInt(Gt.borderTopWidth,10)+parseInt(Gt.borderBottomWidth,10)===It.offsetHeight,Ae.removeChild(kt)),v}}))}();var qe=["Webkit","Moz","ms"],ai=y.createElement("div").style,Nn={};function ar(t){return a.cssProps[t]||Nn[t]||(t in ai?t:Nn[t]=function Hr(t){for(var i=t[0].toUpperCase()+t.slice(1),n=qe.length;n--;)if((t=qe[n]+i)in ai)return t}(t)||t)}var Sr=/^(none|table(?!-c[ea]).+)/,Fr={position:"absolute",visibility:"hidden",display:"block"},cn={letterSpacing:"0",fontWeight:"400"};function On(t,i,n){var o=Be.exec(i);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):i}function hn(t,i,n,o,c,h){var v="width"===i?1:0,D=0,S=0,V=0;if(n===(o?"border":"content"))return 0;for(;v<4;v+=2)"margin"===n&&(V+=a.css(t,n+Ce[v],!0,c)),o?("content"===n&&(S-=a.css(t,"padding"+Ce[v],!0,c)),"margin"!==n&&(S-=a.css(t,"border"+Ce[v]+"Width",!0,c))):(S+=a.css(t,"padding"+Ce[v],!0,c),"padding"!==n?S+=a.css(t,"border"+Ce[v]+"Width",!0,c):D+=a.css(t,"border"+Ce[v]+"Width",!0,c));return!o&&h>=0&&(S+=Math.max(0,Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-h-S-D-.5))||0),S+V}function or(t,i,n){var o=de(t),h=(!j.boxSizingReliable()||n)&&"border-box"===a.css(t,"boxSizing",!1,o),v=h,D=Je(t,i,o),S="offset"+i[0].toUpperCase()+i.slice(1);if(_t.test(D)){if(!n)return D;D="auto"}return(!j.boxSizingReliable()&&h||!j.reliableTrDimensions()&&zt(t,"tr")||"auto"===D||!parseFloat(D)&&"inline"===a.css(t,"display",!1,o))&&t.getClientRects().length&&(h="border-box"===a.css(t,"boxSizing",!1,o),(v=S in t)&&(D=t[S])),(D=parseFloat(D)||0)+hn(t,i,n||(h?"border":"content"),v,o,D)+"px"}function yi(t,i,n,o,c){return new yi.prototype.init(t,i,n,o,c)}a.extend({cssHooks:{opacity:{get:function(t,i){if(i){var n=Je(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var c,h,v,D=vt(i),S=bt.test(i),V=t.style;if(S||(i=ar(D)),v=a.cssHooks[i]||a.cssHooks[D],void 0===n)return v&&"get"in v&&void 0!==(c=v.get(t,!1,o))?c:V[i];if("string"==(h=typeof n)&&(c=Be.exec(n))&&c[1]&&(n=en(t,i,c),h="number"),null==n||n!=n)return;"number"===h&&!S&&(n+=c&&c[3]||(a.cssNumber[D]?"":"px")),!j.clearCloneStyle&&""===n&&0===i.indexOf("background")&&(V[i]="inherit"),(!v||!("set"in v)||void 0!==(n=v.set(t,n,o)))&&(S?V.setProperty(i,n):V[i]=n)}},css:function(t,i,n,o){var c,h,v,D=vt(i);return bt.test(i)||(i=ar(D)),(v=a.cssHooks[i]||a.cssHooks[D])&&"get"in v&&(c=v.get(t,!0,n)),void 0===c&&(c=Je(t,i,o)),"normal"===c&&i in cn&&(c=cn[i]),""===n||n?(h=parseFloat(c),!0===n||isFinite(h)?h||0:c):c}}),a.each(["height","width"],function(t,i){a.cssHooks[i]={get:function(n,o,c){if(o)return!Sr.test(a.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?or(n,i,c):me(n,Fr,function(){return or(n,i,c)})},set:function(n,o,c){var h,v=de(n),D=!j.scrollboxSize()&&"absolute"===v.position,V=(D||c)&&"border-box"===a.css(n,"boxSizing",!1,v),kt=c?hn(n,i,c,V,v):0;return V&&D&&(kt-=Math.ceil(n["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(v[i])-hn(n,i,"border",!1,v)-.5)),kt&&(h=Be.exec(o))&&"px"!==(h[3]||"px")&&(n.style[i]=o,o=a.css(n,i)),On(0,o,kt)}}}),a.cssHooks.marginLeft=Ze(j.reliableMarginLeft,function(t,i){if(i)return(parseFloat(Je(t,"marginLeft"))||t.getBoundingClientRect().left-me(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),a.each({margin:"",padding:"",border:"Width"},function(t,i){a.cssHooks[t+i]={expand:function(n){for(var o=0,c={},h="string"==typeof n?n.split(" "):[n];o<4;o++)c[t+Ce[o]+i]=h[o]||h[o-2]||h[0];return c}},"margin"!==t&&(a.cssHooks[t+i].set=On)}),a.fn.extend({css:function(t,i){return Ct(this,function(n,o,c){var h,v,D={},S=0;if(Array.isArray(o)){for(h=de(n),v=o.length;S<v;S++)D[o[S]]=a.css(n,o[S],!1,h);return D}return void 0!==c?a.style(n,o,c):a.css(n,o)},t,i,arguments.length>1)}}),a.Tween=yi,yi.prototype={constructor:yi,init:function(t,i,n,o,c,h){this.elem=t,this.prop=n,this.easing=c||a.easing._default,this.options=i,this.start=this.now=this.cur(),this.end=o,this.unit=h||(a.cssNumber[n]?"":"px")},cur:function(){var t=yi.propHooks[this.prop];return t&&t.get?t.get(this):yi.propHooks._default.get(this)},run:function(t){var i,n=yi.propHooks[this.prop];return this.pos=i=this.options.duration?a.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):yi.propHooks._default.set(this),this}},yi.prototype.init.prototype=yi.prototype,yi.propHooks={_default:{get:function(t){var i;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(i=a.css(t.elem,t.prop,""))&&"auto"!==i?i:0},set:function(t){a.fx.step[t.prop]?a.fx.step[t.prop](t):1!==t.elem.nodeType||!a.cssHooks[t.prop]&&null==t.elem.style[ar(t.prop)]?t.elem[t.prop]=t.now:a.style(t.elem,t.prop,t.now+t.unit)}}},yi.propHooks.scrollTop=yi.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},a.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},a.fx=yi.prototype.init,a.fx.step={};var Ji,fn,vn=/^(?:toggle|show|hide)$/,Hn=/queueHooks$/;function gn(){fn&&(!1===y.hidden&&R.requestAnimationFrame?R.requestAnimationFrame(gn):R.setTimeout(gn,a.fx.interval),a.fx.tick())}function lr(){return R.setTimeout(function(){Ji=void 0}),Ji=Date.now()}function Sn(t,i){var n,o=0,c={height:t};for(i=i?1:0;o<4;o+=2-i)c["margin"+(n=Ce[o])]=c["padding"+n]=t;return i&&(c.opacity=c.width=t),c}function Tr(t,i,n){for(var o,c=(Ki.tweeners[i]||[]).concat(Ki.tweeners["*"]),h=0,v=c.length;h<v;h++)if(o=c[h].call(n,i,t))return o}function Ki(t,i,n){var o,c,h=0,v=Ki.prefilters.length,D=a.Deferred().always(function(){delete S.elem}),S=function(){if(c)return!1;for(var It=Ji||lr(),mt=Math.max(0,V.startTime+V.duration-It),xe=1-(mt/V.duration||0),Ve=0,Le=V.tweens.length;Ve<Le;Ve++)V.tweens[Ve].run(xe);return D.notifyWith(t,[V,xe,mt]),xe<1&&Le?mt:(Le||D.notifyWith(t,[V,1,0]),D.resolveWith(t,[V]),!1)},V=D.promise({elem:t,props:a.extend({},i),opts:a.extend(!0,{specialEasing:{},easing:a.easing._default},n),originalProperties:i,originalOptions:n,startTime:Ji||lr(),duration:n.duration,tweens:[],createTween:function(It,mt){var Gt=a.Tween(t,V.opts,It,mt,V.opts.specialEasing[It]||V.opts.easing);return V.tweens.push(Gt),Gt},stop:function(It){var mt=0,Gt=It?V.tweens.length:0;if(c)return this;for(c=!0;mt<Gt;mt++)V.tweens[mt].run(1);return It?(D.notifyWith(t,[V,1,0]),D.resolveWith(t,[V,It])):D.rejectWith(t,[V,It]),this}}),kt=V.props;for(function Cr(t,i){var n,o,c,h,v;for(n in t)if(c=i[o=vt(n)],h=t[n],Array.isArray(h)&&(c=h[1],h=t[n]=h[0]),n!==o&&(t[o]=h,delete t[n]),(v=a.cssHooks[o])&&"expand"in v)for(n in h=v.expand(h),delete t[o],h)n in t||(t[n]=h[n],i[n]=c);else i[o]=c}(kt,V.opts.specialEasing);h<v;h++)if(o=Ki.prefilters[h].call(V,t,kt,V.opts))return tt(o.stop)&&(a._queueHooks(V.elem,V.opts.queue).stop=o.stop.bind(o)),o;return a.map(kt,Tr,V),tt(V.opts.start)&&V.opts.start.call(t,V),V.progress(V.opts.progress).done(V.opts.done,V.opts.complete).fail(V.opts.fail).always(V.opts.always),a.fx.timer(a.extend(S,{elem:t,anim:V,queue:V.opts.queue})),V}a.Animation=a.extend(Ki,{tweeners:{"*":[function(t,i){var n=this.createTween(t,i);return en(n.elem,t,Be.exec(i),n),n}]},tweener:function(t,i){tt(t)?(i=t,t=["*"]):t=t.match(ue);for(var n,o=0,c=t.length;o<c;o++)(Ki.tweeners[n=t[o]]=Ki.tweeners[n]||[]).unshift(i)},prefilters:[function Fn(t,i,n){var o,c,h,v,D,S,V,kt,It="width"in i||"height"in i,mt=this,Gt={},xe=t.style,Ve=t.nodeType&&Ei(t),Le=yt.get(t,"fxshow");for(o in n.queue||(null==(v=a._queueHooks(t,"fx")).unqueued&&(v.unqueued=0,D=v.empty.fire,v.empty.fire=function(){v.unqueued||D()}),v.unqueued++,mt.always(function(){mt.always(function(){v.unqueued--,a.queue(t,"fx").length||v.empty.fire()})})),i)if(vn.test(c=i[o])){if(delete i[o],h=h||"toggle"===c,c===(Ve?"hide":"show")){if("show"!==c||!Le||void 0===Le[o])continue;Ve=!0}Gt[o]=Le&&Le[o]||a.style(t,o)}if((S=!a.isEmptyObject(i))||!a.isEmptyObject(Gt))for(o in It&&1===t.nodeType&&(n.overflow=[xe.overflow,xe.overflowX,xe.overflowY],null==(V=Le&&Le.display)&&(V=yt.get(t,"display")),"none"===(kt=a.css(t,"display"))&&(V?kt=V:(ni([t],!0),V=t.style.display||V,kt=a.css(t,"display"),ni([t]))),("inline"===kt||"inline-block"===kt&&null!=V)&&"none"===a.css(t,"float")&&(S||(mt.done(function(){xe.display=V}),null==V&&(V="none"===(kt=xe.display)?"":kt)),xe.display="inline-block")),n.overflow&&(xe.overflow="hidden",mt.always(function(){xe.overflow=n.overflow[0],xe.overflowX=n.overflow[1],xe.overflowY=n.overflow[2]})),S=!1,Gt)S||(Le?"hidden"in Le&&(Ve=Le.hidden):Le=yt.access(t,"fxshow",{display:V}),h&&(Le.hidden=!Ve),Ve&&ni([t],!0),mt.done(function(){for(o in Ve||ni([t]),yt.remove(t,"fxshow"),Gt)a.style(t,o,Gt[o])})),S=Tr(Ve?Le[o]:0,o,mt),o in Le||(Le[o]=S.start,Ve&&(S.end=S.start,S.start=0))}],prefilter:function(t,i){i?Ki.prefilters.unshift(t):Ki.prefilters.push(t)}}),a.speed=function(t,i,n){var o=t&&"object"==typeof t?a.extend({},t):{complete:n||!n&&i||tt(t)&&t,duration:t,easing:n&&i||i&&!tt(i)&&i};return a.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration=o.duration in a.fx.speeds?a.fx.speeds[o.duration]:a.fx.speeds._default),(null==o.queue||!0===o.queue)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){tt(o.old)&&o.old.call(this),o.queue&&a.dequeue(this,o.queue)},o},a.fn.extend({fadeTo:function(t,i,n,o){return this.filter(Ei).css("opacity",0).show().end().animate({opacity:i},t,n,o)},animate:function(t,i,n,o){var c=a.isEmptyObject(t),h=a.speed(i,n,o),v=function(){var D=Ki(this,a.extend({},t),h);(c||yt.get(this,"finish"))&&D.stop(!0)};return v.finish=v,c||!1===h.queue?this.each(v):this.queue(h.queue,v)},stop:function(t,i,n){var o=function(c){var h=c.stop;delete c.stop,h(n)};return"string"!=typeof t&&(n=i,i=t,t=void 0),i&&this.queue(t||"fx",[]),this.each(function(){var c=!0,h=null!=t&&t+"queueHooks",v=a.timers,D=yt.get(this);if(h)D[h]&&D[h].stop&&o(D[h]);else for(h in D)D[h]&&D[h].stop&&Hn.test(h)&&o(D[h]);for(h=v.length;h--;)v[h].elem===this&&(null==t||v[h].queue===t)&&(v[h].anim.stop(n),c=!1,v.splice(h,1));(c||!n)&&a.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var i,n=yt.get(this),o=n[t+"queue"],c=n[t+"queueHooks"],h=a.timers,v=o?o.length:0;for(n.finish=!0,a.queue(this,t,[]),c&&c.stop&&c.stop.call(this,!0),i=h.length;i--;)h[i].elem===this&&h[i].queue===t&&(h[i].anim.stop(!0),h.splice(i,1));for(i=0;i<v;i++)o[i]&&o[i].finish&&o[i].finish.call(this);delete n.finish})}}),a.each(["toggle","show","hide"],function(t,i){var n=a.fn[i];a.fn[i]=function(o,c,h){return null==o||"boolean"==typeof o?n.apply(this,arguments):this.animate(Sn(i,!0),o,c,h)}}),a.each({slideDown:Sn("show"),slideUp:Sn("hide"),slideToggle:Sn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){a.fn[t]=function(n,o,c){return this.animate(i,n,o,c)}}),a.timers=[],a.fx.tick=function(){var t,i=0,n=a.timers;for(Ji=Date.now();i<n.length;i++)!(t=n[i])()&&n[i]===t&&n.splice(i--,1);n.length||a.fx.stop(),Ji=void 0},a.fx.timer=function(t){a.timers.push(t),a.fx.start()},a.fx.interval=13,a.fx.start=function(){fn||(fn=!0,gn())},a.fx.stop=function(){fn=null},a.fx.speeds={slow:600,fast:200,_default:400},a.fn.delay=function(t,i){return t=a.fx&&a.fx.speeds[t]||t,this.queue(i=i||"fx",function(n,o){var c=R.setTimeout(n,t);o.stop=function(){R.clearTimeout(c)}})},function(){var t=y.createElement("input"),n=y.createElement("select").appendChild(y.createElement("option"));t.type="checkbox",j.checkOn=""!==t.value,j.optSelected=n.selected,(t=y.createElement("input")).value="t",t.type="radio",j.radioValue="t"===t.value}();var sr,In=a.expr.attrHandle;a.fn.extend({attr:function(t,i){return Ct(this,a.attr,t,i,arguments.length>1)},removeAttr:function(t){return this.each(function(){a.removeAttr(this,t)})}}),a.extend({attr:function(t,i,n){var o,c,h=t.nodeType;if(3!==h&&8!==h&&2!==h)return typeof t.getAttribute>"u"?a.prop(t,i,n):((1!==h||!a.isXMLDoc(t))&&(c=a.attrHooks[i.toLowerCase()]||(a.expr.match.bool.test(i)?sr:void 0)),void 0!==n?null===n?void a.removeAttr(t,i):c&&"set"in c&&void 0!==(o=c.set(t,n,i))?o:(t.setAttribute(i,n+""),n):c&&"get"in c&&null!==(o=c.get(t,i))?o:null==(o=a.find.attr(t,i))?void 0:o)},attrHooks:{type:{set:function(t,i){if(!j.radioValue&&"radio"===i&&zt(t,"input")){var n=t.value;return t.setAttribute("type",i),n&&(t.value=n),i}}}},removeAttr:function(t,i){var n,o=0,c=i&&i.match(ue);if(c&&1===t.nodeType)for(;n=c[o++];)t.removeAttribute(n)}}),sr={set:function(t,i,n){return!1===i?a.removeAttr(t,n):t.setAttribute(n,n),n}},a.each(a.expr.match.bool.source.match(/\w+/g),function(t,i){var n=In[i]||a.find.attr;In[i]=function(o,c,h){var v,D,S=c.toLowerCase();return h||(D=In[S],In[S]=v,v=null!=n(o,c,h)?S:null,In[S]=D),v}});var Ur=/^(?:input|select|textarea|button)$/i,ur=/^(?:a|area)$/i;function on(t){return(t.match(ue)||[]).join(" ")}function pn(t){return t.getAttribute&&t.getAttribute("class")||""}function dr(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(ue)||[]}a.fn.extend({prop:function(t,i){return Ct(this,a.prop,t,i,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[a.propFix[t]||t]})}}),a.extend({prop:function(t,i,n){var o,c,h=t.nodeType;if(3!==h&&8!==h&&2!==h)return(1!==h||!a.isXMLDoc(t))&&(c=a.propHooks[i=a.propFix[i]||i]),void 0!==n?c&&"set"in c&&void 0!==(o=c.set(t,n,i))?o:t[i]=n:c&&"get"in c&&null!==(o=c.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var i=a.find.attr(t,"tabindex");return i?parseInt(i,10):Ur.test(t.nodeName)||ur.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),j.optSelected||(a.propHooks.selected={get:function(t){return null},set:function(t){}}),a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){a.propFix[this.toLowerCase()]=this}),a.fn.extend({addClass:function(t){var i,n,o,c,h,v;return tt(t)?this.each(function(D){a(this).addClass(t.call(this,D,pn(this)))}):(i=dr(t)).length?this.each(function(){if(o=pn(this),n=1===this.nodeType&&" "+on(o)+" "){for(h=0;h<i.length;h++)n.indexOf(" "+(c=i[h])+" ")<0&&(n+=c+" ");v=on(n),o!==v&&this.setAttribute("class",v)}}):this},removeClass:function(t){var i,n,o,c,h,v;return tt(t)?this.each(function(D){a(this).removeClass(t.call(this,D,pn(this)))}):arguments.length?(i=dr(t)).length?this.each(function(){if(o=pn(this),n=1===this.nodeType&&" "+on(o)+" "){for(h=0;h<i.length;h++)for(c=i[h];n.indexOf(" "+c+" ")>-1;)n=n.replace(" "+c+" "," ");v=on(n),o!==v&&this.setAttribute("class",v)}}):this:this.attr("class","")},toggleClass:function(t,i){var n,o,c,h,v=typeof t,D="string"===v||Array.isArray(t);return tt(t)?this.each(function(S){a(this).toggleClass(t.call(this,S,pn(this),i),i)}):"boolean"==typeof i&&D?i?this.addClass(t):this.removeClass(t):(n=dr(t),this.each(function(){if(D)for(h=a(this),c=0;c<n.length;c++)h.hasClass(o=n[c])?h.removeClass(o):h.addClass(o);else(void 0===t||"boolean"===v)&&((o=pn(this))&&yt.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===t?"":yt.get(this,"__className__")||""))}))},hasClass:function(t){var i,n,o=0;for(i=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+on(pn(n))+" ").indexOf(i)>-1)return!0;return!1}});var kr=/\r/g;a.fn.extend({val:function(t){var i,n,o,c=this[0];return arguments.length?(o=tt(t),this.each(function(h){var v;1===this.nodeType&&(null==(v=o?t.call(this,h,a(this).val()):t)?v="":"number"==typeof v?v+="":Array.isArray(v)&&(v=a.map(v,function(D){return null==D?"":D+""})),(!(i=a.valHooks[this.type]||a.valHooks[this.nodeName.toLowerCase()])||!("set"in i)||void 0===i.set(this,v,"value"))&&(this.value=v))})):c?(i=a.valHooks[c.type]||a.valHooks[c.nodeName.toLowerCase()])&&"get"in i&&void 0!==(n=i.get(c,"value"))?n:"string"==typeof(n=c.value)?n.replace(kr,""):null==n?"":n:void 0}}),a.extend({valHooks:{option:{get:function(t){var i=a.find.attr(t,"value");return null!=i?i:on(a.text(t))}},select:{get:function(t){var i,n,o,c=t.options,h=t.selectedIndex,v="select-one"===t.type,D=v?null:[],S=v?h+1:c.length;for(o=h<0?S:v?h:0;o<S;o++)if(((n=c[o]).selected||o===h)&&!n.disabled&&(!n.parentNode.disabled||!zt(n.parentNode,"optgroup"))){if(i=a(n).val(),v)return i;D.push(i)}return D},set:function(t,i){for(var n,o,c=t.options,h=a.makeArray(i),v=c.length;v--;)((o=c[v]).selected=a.inArray(a.valHooks.option.get(o),h)>-1)&&(n=!0);return n||(t.selectedIndex=-1),h}}}}),a.each(["radio","checkbox"],function(){a.valHooks[this]={set:function(t,i){if(Array.isArray(i))return t.checked=a.inArray(a(t).val(),i)>-1}},j.checkOn||(a.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Tn=R.location,Un={guid:Date.now()},Cn=/\?/;a.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{i=(new R.DOMParser).parseFromString(t,"text/xml")}catch{}return n=i&&i.getElementsByTagName("parsererror")[0],(!i||n)&&a.error("Invalid XML: "+(n?a.map(n.childNodes,function(o){return o.textContent}).join("\n"):t)),i};var cr=/^(?:focusinfocus|focusoutblur)$/,Gn=function(t){t.stopPropagation()};a.extend(a.event,{trigger:function(t,i,n,o){var c,h,v,D,S,V,kt,It,mt=[n||y],Gt=lt.call(t,"type")?t.type:t,xe=lt.call(t,"namespace")?t.namespace.split("."):[];if(h=It=v=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!cr.test(Gt+a.event.triggered)&&(Gt.indexOf(".")>-1&&(xe=Gt.split("."),Gt=xe.shift(),xe.sort()),S=Gt.indexOf(":")<0&&"on"+Gt,(t=t[a.expando]?t:new a.Event(Gt,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=xe.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+xe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:a.makeArray(i,[t]),kt=a.event.special[Gt]||{},o||!kt.trigger||!1!==kt.trigger.apply(n,i))){if(!o&&!kt.noBubble&&!nt(n)){for(cr.test((D=kt.delegateType||Gt)+Gt)||(h=h.parentNode);h;h=h.parentNode)mt.push(h),v=h;v===(n.ownerDocument||y)&&mt.push(v.defaultView||v.parentWindow||R)}for(c=0;(h=mt[c++])&&!t.isPropagationStopped();)It=h,t.type=c>1?D:kt.bindType||Gt,(V=(yt.get(h,"events")||Object.create(null))[t.type]&&yt.get(h,"handle"))&&V.apply(h,i),(V=S&&h[S])&&V.apply&&Dt(h)&&(t.result=V.apply(h,i),!1===t.result&&t.preventDefault());return t.type=Gt,!o&&!t.isDefaultPrevented()&&(!kt._default||!1===kt._default.apply(mt.pop(),i))&&Dt(n)&&S&&tt(n[Gt])&&!nt(n)&&((v=n[S])&&(n[S]=null),a.event.triggered=Gt,t.isPropagationStopped()&&It.addEventListener(Gt,Gn),n[Gt](),t.isPropagationStopped()&&It.removeEventListener(Gt,Gn),a.event.triggered=void 0,v&&(n[S]=v)),t.result}},simulate:function(t,i,n){var o=a.extend(new a.Event,n,{type:t,isSimulated:!0});a.event.trigger(o,null,i)}}),a.fn.extend({trigger:function(t,i){return this.each(function(){a.event.trigger(t,i,this)})},triggerHandler:function(t,i){var n=this[0];if(n)return a.event.trigger(t,i,n,!0)}});var $n=/\[\]$/,Pn=/\r?\n/g,hr=/^(?:submit|button|image|reset|file)$/i,Vi=/^(?:input|select|textarea|keygen)/i;function Mi(t,i,n,o){var c;if(Array.isArray(i))a.each(i,function(h,v){n||$n.test(t)?o(t,v):Mi(t+"["+("object"==typeof v&&null!=v?h:"")+"]",v,n,o)});else if(n||"object"!==dt(i))o(t,i);else for(c in i)Mi(t+"["+c+"]",i[c],n,o)}a.param=function(t,i){var n,o=[],c=function(h,v){var D=tt(v)?v():v;o[o.length]=encodeURIComponent(h)+"="+encodeURIComponent(null==D?"":D)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!a.isPlainObject(t))a.each(t,function(){c(this.name,this.value)});else for(n in t)Mi(n,t[n],i,c);return o.join("&")},a.fn.extend({serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=a.prop(this,"elements");return t?a.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!a(this).is(":disabled")&&Vi.test(this.nodeName)&&!hr.test(t)&&(this.checked||!ji.test(t))}).map(function(t,i){var n=a(this).val();return null==n?null:Array.isArray(n)?a.map(n,function(o){return{name:i.name,value:o.replace(Pn,"\r\n")}}):{name:i.name,value:n.replace(Pn,"\r\n")}}).get()}});var Gr=/%20/g,$r=/#.*$/,Jr=/([?&])_=[^&]*/,ln=/^(.*?):[ \t]*([^\r\n]*)$/gm,fr=/^(?:GET|HEAD)$/,Mr=/^\/\//,Dn={},vr={},Nr="*/".concat("*"),Jn=y.createElement("a");function Ir(t){return function(i,n){"string"!=typeof i&&(n=i,i="*");var o,c=0,h=i.toLowerCase().match(ue)||[];if(tt(n))for(;o=h[c++];)"+"===o[0]?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function Pr(t,i,n,o){var c={},h=t===vr;function v(D){var S;return c[D]=!0,a.each(t[D]||[],function(V,kt){var It=kt(i,n,o);return"string"!=typeof It||h||c[It]?h?!(S=It):void 0:(i.dataTypes.unshift(It),v(It),!1)}),S}return v(i.dataTypes[0])||!c["*"]&&v("*")}function gr(t,i){var n,o,c=a.ajaxSettings.flatOptions||{};for(n in i)void 0!==i[n]&&((c[n]?t:o||(o={}))[n]=i[n]);return o&&a.extend(!0,t,o),t}Jn.href=Tn.href,a.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":a.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,i){return i?gr(gr(t,a.ajaxSettings),i):gr(a.ajaxSettings,t)},ajaxPrefilter:Ir(Dn),ajaxTransport:Ir(vr),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0);var n,o,c,h,v,D,S,V,kt,It,mt=a.ajaxSetup({},i=i||{}),Gt=mt.context||mt,xe=mt.context&&(Gt.nodeType||Gt.jquery)?a(Gt):a.event,Ve=a.Deferred(),Le=a.Callbacks("once memory"),mi=mt.statusCode||{},ui={},li={},Wi="canceled",Ge={readyState:0,getResponseHeader:function($e){var Ye;if(S){if(!h)for(h={};Ye=ln.exec(c);)h[Ye[1].toLowerCase()+" "]=(h[Ye[1].toLowerCase()+" "]||[]).concat(Ye[2]);Ye=h[$e.toLowerCase()+" "]}return null==Ye?null:Ye.join(", ")},getAllResponseHeaders:function(){return S?c:null},setRequestHeader:function($e,Ye){return null==S&&($e=li[$e.toLowerCase()]=li[$e.toLowerCase()]||$e,ui[$e]=Ye),this},overrideMimeType:function($e){return null==S&&(mt.mimeType=$e),this},statusCode:function($e){var Ye;if($e)if(S)Ge.always($e[Ge.status]);else for(Ye in $e)mi[Ye]=[mi[Ye],$e[Ye]];return this},abort:function($e){var Ye=$e||Wi;return n&&n.abort(Ye),sn(0,Ye),this}};if(Ve.promise(Ge),mt.url=((t||mt.url||Tn.href)+"").replace(Mr,Tn.protocol+"//"),mt.type=i.method||i.type||mt.method||mt.type,mt.dataTypes=(mt.dataType||"*").toLowerCase().match(ue)||[""],null==mt.crossDomain){D=y.createElement("a");try{D.href=mt.url,D.href=D.href,mt.crossDomain=Jn.protocol+"//"+Jn.host!=D.protocol+"//"+D.host}catch{mt.crossDomain=!0}}if(mt.data&&mt.processData&&"string"!=typeof mt.data&&(mt.data=a.param(mt.data,mt.traditional)),Pr(Dn,mt,i,Ge),S)return Ge;for(kt in(V=a.event&&mt.global)&&0==a.active++&&a.event.trigger("ajaxStart"),mt.type=mt.type.toUpperCase(),mt.hasContent=!fr.test(mt.type),o=mt.url.replace($r,""),mt.hasContent?mt.data&&mt.processData&&0===(mt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(mt.data=mt.data.replace(Gr,"+")):(It=mt.url.slice(o.length),mt.data&&(mt.processData||"string"==typeof mt.data)&&(o+=(Cn.test(o)?"&":"?")+mt.data,delete mt.data),!1===mt.cache&&(o=o.replace(Jr,"$1"),It=(Cn.test(o)?"&":"?")+"_="+Un.guid+++It),mt.url=o+It),mt.ifModified&&(a.lastModified[o]&&Ge.setRequestHeader("If-Modified-Since",a.lastModified[o]),a.etag[o]&&Ge.setRequestHeader("If-None-Match",a.etag[o])),(mt.data&&mt.hasContent&&!1!==mt.contentType||i.contentType)&&Ge.setRequestHeader("Content-Type",mt.contentType),Ge.setRequestHeader("Accept",mt.dataTypes[0]&&mt.accepts[mt.dataTypes[0]]?mt.accepts[mt.dataTypes[0]]+("*"!==mt.dataTypes[0]?", "+Nr+"; q=0.01":""):mt.accepts["*"]),mt.headers)Ge.setRequestHeader(kt,mt.headers[kt]);if(mt.beforeSend&&(!1===mt.beforeSend.call(Gt,Ge,mt)||S))return Ge.abort();if(Wi="abort",Le.add(mt.complete),Ge.done(mt.success),Ge.fail(mt.error),n=Pr(vr,mt,i,Ge)){if(Ge.readyState=1,V&&xe.trigger("ajaxSend",[Ge,mt]),S)return Ge;mt.async&&mt.timeout>0&&(v=R.setTimeout(function(){Ge.abort("timeout")},mt.timeout));try{S=!1,n.send(ui,sn)}catch($e){if(S)throw $e;sn(-1,$e)}}else sn(-1,"No Transport");function sn($e,Ye,zi,Qn){var Hi,Ln,hi,Xi,Fi,Si=Ye;S||(S=!0,v&&R.clearTimeout(v),n=void 0,c=Qn||"",Ge.readyState=$e>0?4:0,Hi=$e>=200&&$e<300||304===$e,zi&&(Xi=function Vr(t,i,n){for(var o,c,h,v,D=t.contents,S=t.dataTypes;"*"===S[0];)S.shift(),void 0===o&&(o=t.mimeType||i.getResponseHeader("Content-Type"));if(o)for(c in D)if(D[c]&&D[c].test(o)){S.unshift(c);break}if(S[0]in n)h=S[0];else{for(c in n){if(!S[0]||t.converters[c+" "+S[0]]){h=c;break}v||(v=c)}h=h||v}if(h)return h!==S[0]&&S.unshift(h),n[h]}(mt,Ge,zi)),!Hi&&a.inArray("script",mt.dataTypes)>-1&&a.inArray("json",mt.dataTypes)<0&&(mt.converters["text script"]=function(){}),Xi=function Qr(t,i,n,o){var c,h,v,D,S,V={},kt=t.dataTypes.slice();if(kt[1])for(v in t.converters)V[v.toLowerCase()]=t.converters[v];for(h=kt.shift();h;)if(t.responseFields[h]&&(n[t.responseFields[h]]=i),!S&&o&&t.dataFilter&&(i=t.dataFilter(i,t.dataType)),S=h,h=kt.shift())if("*"===h)h=S;else if("*"!==S&&S!==h){if(!(v=V[S+" "+h]||V["* "+h]))for(c in V)if((D=c.split(" "))[1]===h&&(v=V[S+" "+D[0]]||V["* "+D[0]])){!0===v?v=V[c]:!0!==V[c]&&(h=D[0],kt.unshift(D[1]));break}if(!0!==v)if(v&&t.throws)i=v(i);else try{i=v(i)}catch(It){return{state:"parsererror",error:v?It:"No conversion from "+S+" to "+h}}}return{state:"success",data:i}}(mt,Xi,Ge,Hi),Hi?(mt.ifModified&&((Fi=Ge.getResponseHeader("Last-Modified"))&&(a.lastModified[o]=Fi),(Fi=Ge.getResponseHeader("etag"))&&(a.etag[o]=Fi)),204===$e||"HEAD"===mt.type?Si="nocontent":304===$e?Si="notmodified":(Si=Xi.state,Ln=Xi.data,Hi=!(hi=Xi.error))):(hi=Si,($e||!Si)&&(Si="error",$e<0&&($e=0))),Ge.status=$e,Ge.statusText=(Ye||Si)+"",Hi?Ve.resolveWith(Gt,[Ln,Si,Ge]):Ve.rejectWith(Gt,[Ge,Si,hi]),Ge.statusCode(mi),mi=void 0,V&&xe.trigger(Hi?"ajaxSuccess":"ajaxError",[Ge,mt,Hi?Ln:hi]),Le.fireWith(Gt,[Ge,Si]),V&&(xe.trigger("ajaxComplete",[Ge,mt]),--a.active||a.event.trigger("ajaxStop")))}return Ge},getJSON:function(t,i,n){return a.get(t,i,n,"json")},getScript:function(t,i){return a.get(t,void 0,i,"script")}}),a.each(["get","post"],function(t,i){a[i]=function(n,o,c,h){return tt(o)&&(h=h||c,c=o,o=void 0),a.ajax(a.extend({url:n,type:i,dataType:h,data:o,success:c},a.isPlainObject(n)&&n))}}),a.ajaxPrefilter(function(t){var i;for(i in t.headers)"content-type"===i.toLowerCase()&&(t.contentType=t.headers[i]||"")}),a._evalUrl=function(t,i,n){return a.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(o){a.globalEval(o,i,n)}})},a.fn.extend({wrapAll:function(t){var i;return this[0]&&(tt(t)&&(t=t.call(this[0])),i=a(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(t){return tt(t)?this.each(function(i){a(this).wrapInner(t.call(this,i))}):this.each(function(){var i=a(this),n=i.contents();n.length?n.wrapAll(t):i.append(t)})},wrap:function(t){var i=tt(t);return this.each(function(n){a(this).wrapAll(i?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){a(this).replaceWith(this.childNodes)}),this}}),a.expr.pseudos.hidden=function(t){return!a.expr.pseudos.visible(t)},a.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},a.ajaxSettings.xhr=function(){try{return new R.XMLHttpRequest}catch{}};var pr={0:200,1223:204},yn=a.ajaxSettings.xhr();j.cors=!!yn&&"withCredentials"in yn,j.ajax=yn=!!yn,a.ajaxTransport(function(t){var i,n;if(j.cors||yn&&!t.crossDomain)return{send:function(o,c){var h,v=t.xhr();if(v.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(h in t.xhrFields)v[h]=t.xhrFields[h];for(h in t.mimeType&&v.overrideMimeType&&v.overrideMimeType(t.mimeType),!t.crossDomain&&!o["X-Requested-With"]&&(o["X-Requested-With"]="XMLHttpRequest"),o)v.setRequestHeader(h,o[h]);i=function(D){return function(){i&&(i=n=v.onload=v.onerror=v.onabort=v.ontimeout=v.onreadystatechange=null,"abort"===D?v.abort():"error"===D?"number"!=typeof v.status?c(0,"error"):c(v.status,v.statusText):c(pr[v.status]||v.status,v.statusText,"text"!==(v.responseType||"text")||"string"!=typeof v.responseText?{binary:v.response}:{text:v.responseText},v.getAllResponseHeaders()))}},v.onload=i(),n=v.onerror=v.ontimeout=i("error"),void 0!==v.onabort?v.onabort=n:v.onreadystatechange=function(){4===v.readyState&&R.setTimeout(function(){i&&n()})},i=i("abort");try{v.send(t.hasContent&&t.data||null)}catch(D){if(i)throw D}},abort:function(){i&&i()}}}),a.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return a.globalEval(t),t}}}),a.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),a.ajaxTransport("script",function(t){var i,n;if(t.crossDomain||t.scriptAttrs)return{send:function(o,c){i=a("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(h){i.remove(),n=null,h&&c("error"===h.type?404:200,h.type)}),y.head.appendChild(i[0])},abort:function(){n&&n()}}});var t,yr=[],mn=/(=)\?(?=&|$)|\?\?/;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yr.pop()||a.expando+"_"+Un.guid++;return this[t]=!0,t}}),a.ajaxPrefilter("json jsonp",function(t,i,n){var o,c,h,v=!1!==t.jsonp&&(mn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&mn.test(t.data)&&"data");if(v||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=tt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,v?t[v]=t[v].replace(mn,"$1"+o):!1!==t.jsonp&&(t.url+=(Cn.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return h||a.error(o+" was not called"),h[0]},t.dataTypes[0]="json",c=R[o],R[o]=function(){h=arguments},n.always(function(){void 0===c?a(R).removeProp(o):R[o]=c,t[o]&&(t.jsonpCallback=i.jsonpCallback,yr.push(o)),h&&tt(c)&&c(h[0]),h=c=void 0}),"script"}),j.createHTMLDocument=((t=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),a.parseHTML=function(t,i,n){return"string"!=typeof t?[]:("boolean"==typeof i&&(n=i,i=!1),i||(j.createHTMLDocument?((o=(i=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,i.head.appendChild(o)):i=y),h=!n&&[],(c=m.exec(t))?[i.createElement(c[1])]:(c=an([t],i,h),h&&h.length&&a(h).remove(),a.merge([],c.childNodes)));var o,c,h},a.fn.load=function(t,i,n){var o,c,h,v=this,D=t.indexOf(" ");return D>-1&&(o=on(t.slice(D)),t=t.slice(0,D)),tt(i)?(n=i,i=void 0):i&&"object"==typeof i&&(c="POST"),v.length>0&&a.ajax({url:t,type:c||"GET",dataType:"html",data:i}).done(function(S){h=arguments,v.html(o?a("<div>").append(a.parseHTML(S)).find(o):S)}).always(n&&function(S,V){v.each(function(){n.apply(this,h||[S.responseText,V,S])})}),this},a.expr.pseudos.animated=function(t){return a.grep(a.timers,function(i){return t===i.elem}).length},a.offset={setOffset:function(t,i,n){var o,c,h,v,D,S,kt=a.css(t,"position"),It=a(t),mt={};"static"===kt&&(t.style.position="relative"),D=It.offset(),h=a.css(t,"top"),S=a.css(t,"left"),("absolute"===kt||"fixed"===kt)&&(h+S).indexOf("auto")>-1?(v=(o=It.position()).top,c=o.left):(v=parseFloat(h)||0,c=parseFloat(S)||0),tt(i)&&(i=i.call(t,n,a.extend({},D))),null!=i.top&&(mt.top=i.top-D.top+v),null!=i.left&&(mt.left=i.left-D.left+c),"using"in i?i.using.call(t,mt):It.css(mt)}},a.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(c){a.offset.setOffset(this,t,c)});var i,n,o=this[0];return o?o.getClientRects().length?{top:(i=o.getBoundingClientRect()).top+(n=o.ownerDocument.defaultView).pageYOffset,left:i.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,i,n,o=this[0],c={top:0,left:0};if("fixed"===a.css(o,"position"))i=o.getBoundingClientRect();else{for(i=this.offset(),n=o.ownerDocument,t=o.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===a.css(t,"position");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((c=a(t).offset()).top+=a.css(t,"borderTopWidth",!0),c.left+=a.css(t,"borderLeftWidth",!0))}return{top:i.top-c.top-a.css(o,"marginTop",!0),left:i.left-c.left-a.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===a.css(t,"position");)t=t.offsetParent;return t||Ae})}}),a.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;a.fn[t]=function(o){return Ct(this,function(c,h,v){var D;if(nt(c)?D=c:9===c.nodeType&&(D=c.defaultView),void 0===v)return D?D[i]:c[h];D?D.scrollTo(n?D.pageXOffset:v,n?v:D.pageYOffset):c[h]=v},t,o,arguments.length)}}),a.each(["top","left"],function(t,i){a.cssHooks[i]=Ze(j.pixelPosition,function(n,o){if(o)return o=Je(n,i),_t.test(o)?a(n).position()[i]+"px":o})}),a.each({Height:"height",Width:"width"},function(t,i){a.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){a.fn[o]=function(c,h){var v=arguments.length&&(n||"boolean"!=typeof c),D=n||(!0===c||!0===h?"margin":"border");return Ct(this,function(S,V,kt){var It;return nt(S)?0===o.indexOf("outer")?S["inner"+t]:S.document.documentElement["client"+t]:9===S.nodeType?(It=S.documentElement,Math.max(S.body["scroll"+t],It["scroll"+t],S.body["offset"+t],It["offset"+t],It["client"+t])):void 0===kt?a.css(S,V,D):a.style(S,V,kt,D)},i,v?c:void 0,v)}})}),a.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,i){a.fn[i]=function(n){return this.on(i,n)}}),a.fn.extend({bind:function(t,i,n){return this.on(t,null,i,n)},unbind:function(t,i){return this.off(t,null,i)},delegate:function(t,i,n,o){return this.on(i,t,n,o)},undelegate:function(t,i,n){return 1===arguments.length?this.off(t,"**"):this.off(i,t||"**",n)},hover:function(t,i){return this.on("mouseenter",t).on("mouseleave",i||t)}}),a.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){a.fn[i]=function(n,o){return arguments.length>0?this.on(i,null,n,o):this.trigger(i)}});var Rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;a.proxy=function(t,i){var n,o,c;if("string"==typeof i&&(n=t[i],i=t,t=n),tt(t))return o=b.call(arguments,2),c=function(){return t.apply(i||this,o.concat(b.call(arguments)))},c.guid=t.guid=t.guid||a.guid++,c},a.holdReady=function(t){t?a.readyWait++:a.ready(!0)},a.isArray=Array.isArray,a.parseJSON=JSON.parse,a.nodeName=zt,a.isFunction=tt,a.isWindow=nt,a.camelCase=vt,a.type=dt,a.now=Date.now,a.isNumeric=function(t){var i=a.type(t);return("number"===i||"string"===i)&&!isNaN(t-parseFloat(t))},a.trim=function(t){return null==t?"":(t+"").replace(Rn,"$1")},void 0!==(P=function(){return a}.apply(Vt,[]))&&(Ne.exports=P);var Vn=R.jQuery,kn=R.$;return a.noConflict=function(t){return R.$===a&&(R.$=kn),t&&R.jQuery===a&&(R.jQuery=Vn),a},typeof ut>"u"&&(R.jQuery=R.$=a),a})},511:(Ne,Vt,w)=>{"use strict";function P(){}function R(e){return null==e?P:function(){return this.querySelector(e)}}function J(){return[]}function b(e){return null==e?J:function(){return this.querySelectorAll(e)}}function K(e){return function(){return this.matches(e)}}function k(e){return function(r){return r.matches(e)}}w.d(Vt,{$0Z:()=>uo,jvg:()=>so});var L=Array.prototype.find;function Ot(){return this.firstElementChild}var j=Array.prototype.filter;function tt(){return Array.from(this.children)}function ht(e){return new Array(e.length)}function B(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}function a(e,r,u,g,_,T){for(var X,N=0,q=r.length,St=T.length;N<St;++N)(X=r[N])?(X.__data__=T[N],g[N]=X):u[N]=new B(e,T[N]);for(;N<q;++N)(X=r[N])&&(_[N]=X)}function te(e,r,u,g,_,T,N){var X,q,ve,St=new Map,At=r.length,ie=T.length,ne=new Array(At);for(X=0;X<At;++X)(q=r[X])&&(ne[X]=ve=N.call(q,q.__data__,X,r)+"",St.has(ve)?_[X]=q:St.set(ve,q));for(X=0;X<ie;++X)ve=N.call(e,T[X],X,T)+"",(q=St.get(ve))?(g[X]=q,q.__data__=T[X],St.delete(ve)):u[X]=new B(e,T[X]);for(X=0;X<At;++X)(q=r[X])&&St.get(ne[X])===q&&(_[X]=q)}function zt(e){return e.__data__}function Ht(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Rt(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}B.prototype={constructor:B,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Nt="http://www.w3.org/1999/xhtml";const Lt={svg:"http://www.w3.org/2000/svg",xhtml:Nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ee(e){var r=e+="",u=r.indexOf(":");return u>=0&&"xmlns"!==(r=e.slice(0,u))&&(e=e.slice(u+1)),Lt.hasOwnProperty(r)?{space:Lt[r],local:e}:e}function ce(e){return function(){this.removeAttribute(e)}}function jt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pt(e,r){return function(){this.setAttribute(e,r)}}function ue(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Ke(e,r){return function(){var u=r.apply(this,arguments);null==u?this.removeAttribute(e):this.setAttribute(e,u)}}function Ie(e,r){return function(){var u=r.apply(this,arguments);null==u?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,u)}}function je(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wt(e){return function(){this.style.removeProperty(e)}}function E(e,r,u){return function(){this.style.setProperty(e,r,u)}}function pt(e,r,u){return function(){var g=r.apply(this,arguments);null==g?this.style.removeProperty(e):this.style.setProperty(e,g,u)}}function z(e,r){return e.style.getPropertyValue(r)||je(e).getComputedStyle(e,null).getPropertyValue(r)}function ot(e){return function(){delete this[e]}}function Z(e,r){return function(){this[e]=r}}function vt(e,r){return function(){var u=r.apply(this,arguments);null==u?delete this[e]:this[e]=u}}function Ut(e){return e.trim().split(/^|\s+/)}function yt(e){return e.classList||new Jt(e)}function Jt(e){this._node=e,this._names=Ut(e.getAttribute("class")||"")}function ae(e,r){for(var u=yt(e),g=-1,_=r.length;++g<_;)u.add(r[g])}function Te(e,r){for(var u=yt(e),g=-1,_=r.length;++g<_;)u.remove(r[g])}function re(e){return function(){ae(this,e)}}function pe(e){return function(){Te(this,e)}}function ye(e,r){return function(){(r.apply(this,arguments)?ae:Te)(this,e)}}function Ce(){this.textContent=""}function Ae(e){return function(){this.textContent=e}}function Xe(e){return function(){var r=e.apply(this,arguments);this.textContent=null==r?"":r}}function Ei(){this.innerHTML=""}function en(e){return function(){this.innerHTML=e}}function nn(e){return function(){var r=e.apply(this,arguments);this.innerHTML=null==r?"":r}}function ni(){this.nextSibling&&this.parentNode.appendChild(this)}function Ii(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pi(e){return function(){var r=this.ownerDocument,u=this.namespaceURI;return u===Nt&&r.documentElement.namespaceURI===Nt?r.createElement(e):r.createElementNS(u,e)}}function ci(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bi(e){var r=ee(e);return(r.local?ci:pi)(r)}function an(){return null}function U(){var e=this.parentNode;e&&e.removeChild(this)}function d(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function s(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function M(e){return function(){var r=this.__on;if(r){for(var T,u=0,g=-1,_=r.length;u<_;++u)T=r[u],e.type&&T.type!==e.type||T.name!==e.name?r[++g]=T:this.removeEventListener(T.type,T.listener,T.options);++g?r.length=g:delete this.__on}}}function Y(e,r,u){return function(){var _,g=this.__on,T=function C(e){return function(r){e.call(this,r,this.__data__)}}(r);if(g)for(var N=0,X=g.length;N<X;++N)if((_=g[N]).type===e.type&&_.name===e.name)return this.removeEventListener(_.type,_.listener,_.options),this.addEventListener(_.type,_.listener=T,_.options=u),void(_.value=r);this.addEventListener(e.type,T,u),_={type:e.type,name:e.name,value:r,listener:T,options:u},g?g.push(_):this.__on=[_]}}function et(e,r,u){var g=je(e),_=g.CustomEvent;"function"==typeof _?_=new _(r,u):(_=g.document.createEvent("Event"),u?(_.initEvent(r,u.bubbles,u.cancelable),_.detail=u.detail):_.initEvent(r,!1,!1)),e.dispatchEvent(_)}function Q(e,r){return function(){return et(this,e,r)}}function ct(e,r){return function(){return et(this,e,r.apply(this,arguments))}}Jt.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var de=[null];function me(e,r){this._groups=e,this._parents=r}function ei(){return new me([[document.documentElement]],de)}me.prototype=ei.prototype={constructor:me,select:function ut(e){"function"!=typeof e&&(e=R(e));for(var r=this._groups,u=r.length,g=new Array(u),_=0;_<u;++_)for(var q,St,T=r[_],N=T.length,X=g[_]=new Array(N),At=0;At<N;++At)(q=T[At])&&(St=e.call(q,q.__data__,At,T))&&("__data__"in q&&(St.__data__=q.__data__),X[At]=St);return new me(g,this._parents)},selectAll:function O(e){e="function"==typeof e?function G(e){return function(){return function st(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):b(e);for(var r=this._groups,u=r.length,g=[],_=[],T=0;T<u;++T)for(var q,N=r[T],X=N.length,St=0;St<X;++St)(q=N[St])&&(g.push(e.call(q,q.__data__,St,N)),_.push(q));return new me(g,_)},selectChild:function it(e){return this.select(null==e?Ot:function lt(e){return function(){return L.call(this.children,e)}}("function"==typeof e?e:k(e)))},selectChildren:function y(e){return this.selectAll(null==e?tt:function nt(e){return function(){return j.call(this.children,e)}}("function"==typeof e?e:k(e)))},filter:function H(e){"function"!=typeof e&&(e=K(e));for(var r=this._groups,u=r.length,g=new Array(u),_=0;_<u;++_)for(var q,T=r[_],N=T.length,X=g[_]=[],St=0;St<N;++St)(q=T[St])&&e.call(q,q.__data__,St,T)&&X.push(q);return new me(g,this._parents)},data:function Xt(e,r){if(!arguments.length)return Array.from(this,zt);var u=r?te:a,g=this._parents,_=this._groups;"function"!=typeof e&&(e=function Tt(e){return function(){return e}}(e));for(var T=_.length,N=new Array(T),X=new Array(T),q=new Array(T),St=0;St<T;++St){var At=g[St],ie=_[St],ne=ie.length,ve=Ht(e.call(At,At&&At.__data__,St,g)),ri=ve.length,di=X[St]=new Array(ri),Yt=N[St]=new Array(ri);u(At,ie,di,Yt,q[St]=new Array(ne),ve,r);for(var We,Qe,Ee=0,ge=0;Ee<ri;++Ee)if(We=di[Ee]){for(Ee>=ge&&(ge=Ee+1);!(Qe=Yt[ge])&&++ge<ri;);We._next=Qe||null}}return(N=new me(N,g))._enter=X,N._exit=q,N},enter:function dt(){return new me(this._enter||this._groups.map(ht),this._parents)},exit:function Pe(){return new me(this._exit||this._groups.map(ht),this._parents)},join:function W(e,r,u){var g=this.enter(),_=this,T=this.exit();return"function"==typeof e?(g=e(g))&&(g=g.selection()):g=g.append(e+""),null!=r&&(_=r(_))&&(_=_.selection()),null==u?T.remove():u(T),g&&_?g.merge(_).order():_},merge:function Kt(e){for(var r=e.selection?e.selection():e,u=this._groups,g=r._groups,_=u.length,N=Math.min(_,g.length),X=new Array(_),q=0;q<N;++q)for(var ve,St=u[q],At=g[q],ie=St.length,ne=X[q]=new Array(ie),ri=0;ri<ie;++ri)(ve=St[ri]||At[ri])&&(ne[ri]=ve);for(;q<_;++q)X[q]=u[q];return new me(X,this._parents)},selection:function Je(){return this},order:function $t(){for(var e=this._groups,r=-1,u=e.length;++r<u;)for(var N,g=e[r],_=g.length-1,T=g[_];--_>=0;)(N=g[_])&&(T&&4^N.compareDocumentPosition(T)&&T.parentNode.insertBefore(N,T),T=N);return this},sort:function Ft(e){function r(ie,ne){return ie&&ne?e(ie.__data__,ne.__data__):!ie-!ne}e||(e=Rt);for(var u=this._groups,g=u.length,_=new Array(g),T=0;T<g;++T){for(var St,N=u[T],X=N.length,q=_[T]=new Array(X),At=0;At<X;++At)(St=N[At])&&(q[At]=St);q.sort(r)}return new me(_,this._parents).order()},call:function Oe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function Se(){return Array.from(this)},node:function rt(){for(var e=this._groups,r=0,u=e.length;r<u;++r)for(var g=e[r],_=0,T=g.length;_<T;++_){var N=g[_];if(N)return N}return null},size:function ft(){let e=0;for(const r of this)++e;return e},empty:function m(){return!this.node()},each:function at(e){for(var r=this._groups,u=0,g=r.length;u<g;++u)for(var X,_=r[u],T=0,N=_.length;T<N;++T)(X=_[T])&&e.call(X,X.__data__,T,_);return this},attr:function Zt(e,r){var u=ee(e);if(arguments.length<2){var g=this.node();return u.local?g.getAttributeNS(u.space,u.local):g.getAttribute(u)}return this.each((null==r?u.local?jt:ce:"function"==typeof r?u.local?Ie:Ke:u.local?ue:Pt)(u,r))},style:function Ct(e,r,u){return arguments.length>1?this.each((null==r?wt:"function"==typeof r?pt:E)(e,r,null==u?"":u)):z(this.node(),e)},property:function Dt(e,r){return arguments.length>1?this.each((null==r?ot:"function"==typeof r?vt:Z)(e,r)):this.node()[e]},classed:function Be(e,r){var u=Ut(e+"");if(arguments.length<2){for(var g=yt(this.node()),_=-1,T=u.length;++_<T;)if(!g.contains(u[_]))return!1;return!0}return this.each(("function"==typeof r?ye:r?re:pe)(u,r))},text:function tn(e){return arguments.length?this.each(null==e?Ce:("function"==typeof e?Xe:Ae)(e)):this.node().textContent},html:function En(e){return arguments.length?this.each(null==e?Ei:("function"==typeof e?nn:en)(e)):this.node().innerHTML},raise:function ji(){return this.each(ni)},lower:function $i(){return this.each(Ii)},append:function rn(e){var r="function"==typeof e?e:Bi(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function Bt(e,r){var u="function"==typeof e?e:Bi(e),g=null==r?an:"function"==typeof r?r:R(r);return this.select(function(){return this.insertBefore(u.apply(this,arguments),g.apply(this,arguments)||null)})},remove:function l(){return this.each(U)},clone:function f(e){return this.select(e?s:d)},datum:function p(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function A(e,r,u){var _,N,g=function I(e){return e.trim().split(/^|\s+/).map(function(r){var u="",g=r.indexOf(".");return g>=0&&(u=r.slice(g+1),r=r.slice(0,g)),{type:r,name:u}})}(e+""),T=g.length;if(!(arguments.length<2)){for(X=r?Y:M,_=0;_<T;++_)this.each(X(g[_],r,u));return this}var X=this.node().__on;if(X)for(var At,q=0,St=X.length;q<St;++q)for(_=0,At=X[q];_<T;++_)if((N=g[_]).type===At.type&&N.name===At.name)return At.value},dispatch:function _t(e,r){return this.each(("function"==typeof r?ct:Q)(e,r))},[Symbol.iterator]:function*bt(){for(var e=this._groups,r=0,u=e.length;r<u;++r)for(var N,g=e[r],_=0,T=g.length;_<T;++_)(N=g[_])&&(yield N)}};const Ze=ei;var qe={value:()=>{}};function ai(){for(var g,e=0,r=arguments.length,u={};e<r;++e){if(!(g=arguments[e]+"")||g in u||/[\s.]/.test(g))throw new Error("illegal type: "+g);u[g]=[]}return new Nn(u)}function Nn(e){this._=e}function ar(e,r){for(var _,u=0,g=e.length;u<g;++u)if((_=e[u]).name===r)return _.value}function Sr(e,r,u){for(var g=0,_=e.length;g<_;++g)if(e[g].name===r){e[g]=qe,e=e.slice(0,g).concat(e.slice(g+1));break}return null!=u&&e.push({name:r,value:u}),e}Nn.prototype=ai.prototype={constructor:Nn,on:function(e,r){var _,u=this._,g=function Hr(e,r){return e.trim().split(/^|\s+/).map(function(u){var g="",_=u.indexOf(".");if(_>=0&&(g=u.slice(_+1),u=u.slice(0,_)),u&&!r.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:g}})}(e+"",u),T=-1,N=g.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++T<N;)if(_=(e=g[T]).type)u[_]=Sr(u[_],e.name,r);else if(null==r)for(_ in u)u[_]=Sr(u[_],e.name,null);return this}for(;++T<N;)if((_=(e=g[T]).type)&&(_=ar(u[_],e.name)))return _},copy:function(){var e={},r=this._;for(var u in r)e[u]=r[u].slice();return new Nn(e)},call:function(e,r){if((_=arguments.length-2)>0)for(var _,T,u=new Array(_),g=0;g<_;++g)u[g]=arguments[g+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(g=0,_=(T=this._[e]).length;g<_;++g)T[g].value.apply(r,u)},apply:function(e,r,u){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var g=this._[e],_=0,T=g.length;_<T;++_)g[_].value.apply(r,u)}};const Fr=ai;var yi,Ji,cn=0,On=0,hn=0,or=1e3,fn=0,vn=0,Hn=0,gn="object"==typeof performance&&performance.now?performance:Date,lr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sn(){return vn||(lr(Tr),vn=gn.now()+Hn)}function Tr(){vn=0}function Fn(){this._call=this._time=this._next=null}function Cr(e,r,u){var g=new Fn;return g.restart(e,r,u),g}function sr(){vn=(fn=gn.now())+Hn,cn=On=0;try{!function Ki(){Sn(),++cn;for(var r,e=yi;e;)(r=vn-e._time)>=0&&e._call.call(void 0,r),e=e._next;--cn}()}finally{cn=0,function Ur(){for(var e,u,r=yi,g=1/0;r;)r._call?(g>r._time&&(g=r._time),e=r,r=r._next):(u=r._next,r._next=null,r=e?e._next=u:yi=u);Ji=e,ur(g)}(),vn=0}}function In(){var e=gn.now(),r=e-fn;r>or&&(Hn-=r,fn=e)}function ur(e){cn||(On&&(On=clearTimeout(On)),e-vn>24?(e<1/0&&(On=setTimeout(sr,e-gn.now()-Hn)),hn&&(hn=clearInterval(hn))):(hn||(fn=gn.now(),hn=setInterval(In,or)),cn=1,lr(sr)))}function on(e,r,u){var g=new Fn;return g.restart(_=>{g.stop(),e(_+r)},r=null==r?0:+r,u),g}Fn.prototype=Cr.prototype={constructor:Fn,restart:function(e,r,u){if("function"!=typeof e)throw new TypeError("callback is not a function");u=(null==u?Sn():+u)+(null==r?0:+r),!this._next&&Ji!==this&&(Ji?Ji._next=this:yi=this,Ji=this),this._call=e,this._time=u,ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,ur())}};var pn=Fr("start","end","cancel","interrupt"),dr=[],kr=0,Cn=3;function Pn(e,r,u,g,_,T){var N=e.__transition;if(N){if(u in N)return}else e.__transition={};!function Gr(e,r,u){var _,g=e.__transition;function N(St){var At,ie,ne,ve;if(1!==u.state)return q();for(At in g)if((ve=g[At]).name===u.name){if(ve.state===Cn)return on(N);4===ve.state?(ve.state=6,ve.timer.stop(),ve.on.call("interrupt",e,e.__data__,ve.index,ve.group),delete g[At]):+At<r&&(ve.state=6,ve.timer.stop(),ve.on.call("cancel",e,e.__data__,ve.index,ve.group),delete g[At])}if(on(function(){u.state===Cn&&(u.state=4,u.timer.restart(X,u.delay,u.time),X(St))}),u.state=2,u.on.call("start",e,e.__data__,u.index,u.group),2===u.state){for(u.state=Cn,_=new Array(ne=u.tween.length),At=0,ie=-1;At<ne;++At)(ve=u.tween[At].value.call(e,e.__data__,u.index,u.group))&&(_[++ie]=ve);_.length=ie+1}}function X(St){for(var At=St<u.duration?u.ease.call(null,St/u.duration):(u.timer.restart(q),u.state=5,1),ie=-1,ne=_.length;++ie<ne;)_[ie].call(e,At);5===u.state&&(u.on.call("end",e,e.__data__,u.index,u.group),q())}function q(){for(var St in u.state=6,u.timer.stop(),delete g[r],g)return;delete e.__transition}g[r]=u,u.timer=Cr(function T(St){u.state=1,u.timer.restart(N,u.delay,u.time),u.delay<=St&&N(St-u.delay)},0,u.time)}(e,u,{name:r,index:g,group:_,on:pn,tween:dr,time:T.time,delay:T.delay,duration:T.duration,ease:T.ease,timer:null,state:kr})}function hr(e,r){var u=Mi(e,r);if(u.state>kr)throw new Error("too late; already scheduled");return u}function Vi(e,r){var u=Mi(e,r);if(u.state>Cn)throw new Error("too late; already running");return u}function Mi(e,r){var u=e.__transition;if(!u||!(u=u[r]))throw new Error("transition not found");return u}function ln(e,r){return e=+e,r=+r,function(u){return e*(1-u)+r*u}}var Dn,Ar=180/Math.PI,fr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mr(e,r,u,g,_,T){var N,X,q;return(N=Math.sqrt(e*e+r*r))&&(e/=N,r/=N),(q=e*u+r*g)&&(u-=e*q,g-=r*q),(X=Math.sqrt(u*u+g*g))&&(u/=X,g/=X,q/=X),e*g<r*u&&(e=-e,r=-r,q=-q,N=-N),{translateX:_,translateY:T,rotate:Math.atan2(r,e)*Ar,skewX:Math.atan(q)*Ar,scaleX:N,scaleY:X}}function Jn(e,r,u,g){function _(St){return St.length?St.pop()+" ":""}return function(St,At){var ie=[],ne=[];return St=e(St),At=e(At),function T(St,At,ie,ne,ve,ri){if(St!==ie||At!==ne){var di=ve.push("translate(",null,r,null,u);ri.push({i:di-4,x:ln(St,ie)},{i:di-2,x:ln(At,ne)})}else(ie||ne)&&ve.push("translate("+ie+r+ne+u)}(St.translateX,St.translateY,At.translateX,At.translateY,ie,ne),function N(St,At,ie,ne){St!==At?(St-At>180?At+=360:At-St>180&&(St+=360),ne.push({i:ie.push(_(ie)+"rotate(",null,g)-2,x:ln(St,At)})):At&&ie.push(_(ie)+"rotate("+At+g)}(St.rotate,At.rotate,ie,ne),function X(St,At,ie,ne){St!==At?ne.push({i:ie.push(_(ie)+"skewX(",null,g)-2,x:ln(St,At)}):At&&ie.push(_(ie)+"skewX("+At+g)}(St.skewX,At.skewX,ie,ne),function q(St,At,ie,ne,ve,ri){if(St!==ie||At!==ne){var di=ve.push(_(ve)+"scale(",null,",",null,")");ri.push({i:di-4,x:ln(St,ie)},{i:di-2,x:ln(At,ne)})}else(1!==ie||1!==ne)&&ve.push(_(ve)+"scale("+ie+","+ne+")")}(St.scaleX,St.scaleY,At.scaleX,At.scaleY,ie,ne),St=At=null,function(ve){for(var Yt,ri=-1,di=ne.length;++ri<di;)ie[(Yt=ne[ri]).i]=Yt.x(ve);return ie.join("")}}}var Ir=Jn(function vr(e){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?fr:Mr(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Pr=Jn(function Nr(e){return null!=e&&(Dn||(Dn=document.createElementNS("http://www.w3.org/2000/svg","g")),Dn.setAttribute("transform",e),e=Dn.transform.baseVal.consolidate())?Mr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):fr},", ",")",")");function gr(e,r){var u,g;return function(){var _=Vi(this,e),T=_.tween;if(T!==u)for(var N=0,X=(g=u=T).length;N<X;++N)if(g[N].name===r){(g=g.slice()).splice(N,1);break}_.tween=g}}function Vr(e,r,u){var g,_;if("function"!=typeof u)throw new Error;return function(){var T=Vi(this,e),N=T.tween;if(N!==g){_=(g=N).slice();for(var X={name:r,value:u},q=0,St=_.length;q<St;++q)if(_[q].name===r){_[q]=X;break}q===St&&_.push(X)}T.tween=_}}function pr(e,r,u){var g=e._id;return e.each(function(){var _=Vi(this,g);(_.value||(_.value={}))[r]=u.apply(this,arguments)}),function(_){return Mi(_,g).value[r]}}function yn(e,r,u){e.prototype=r.prototype=u,u.constructor=e}function yr(e,r){var u=Object.create(e.prototype);for(var g in r)u[g]=r[g];return u}function mn(){}var Vn=1/.7,kn="\\s*([+-]?\\d+)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n=/^#([0-9a-f]{3,8})$/,o=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),c=new RegExp(`^rgb\\(${i},${i},${i}\\)$`),h=new RegExp(`^rgba\\(${kn},${kn},${kn},${t}\\)$`),v=new RegExp(`^rgba\\(${i},${i},${i},${t}\\)$`),D=new RegExp(`^hsl\\(${t},${i},${i}\\)$`),S=new RegExp(`^hsla\\(${t},${i},${i},${t}\\)$`),V={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kt(){return this.rgb().formatHex()}function Gt(){return this.rgb().formatRgb()}function xe(e){var r,u;return e=(e+"").trim().toLowerCase(),(r=n.exec(e))?(u=r[1].length,r=parseInt(r[1],16),6===u?Ve(r):3===u?new li(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===u?Le(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===u?Le(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=o.exec(e))?new li(r[1],r[2],r[3],1):(r=c.exec(e))?new li(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=h.exec(e))?Le(r[1],r[2],r[3],r[4]):(r=v.exec(e))?Le(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=D.exec(e))?Qn(r[1],r[2]/100,r[3]/100,1):(r=S.exec(e))?Qn(r[1],r[2]/100,r[3]/100,r[4]):V.hasOwnProperty(e)?Ve(V[e]):"transparent"===e?new li(NaN,NaN,NaN,0):null}function Ve(e){return new li(e>>16&255,e>>8&255,255&e,1)}function Le(e,r,u,g){return g<=0&&(e=r=u=NaN),new li(e,r,u,g)}function ui(e,r,u,g){return 1===arguments.length?function mi(e){return e instanceof mn||(e=xe(e)),e?new li((e=e.rgb()).r,e.g,e.b,e.opacity):new li}(e):new li(e,r,u,null==g?1:g)}function li(e,r,u,g){this.r=+e,this.g=+r,this.b=+u,this.opacity=+g}function Wi(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}`}function sn(){const e=$e(this.opacity);return`${1===e?"rgb(":"rgba("}${Ye(this.r)}, ${Ye(this.g)}, ${Ye(this.b)}${1===e?")":`, ${e})`}`}function $e(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ye(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zi(e){return((e=Ye(e))<16?"0":"")+e.toString(16)}function Qn(e,r,u,g){return g<=0?e=r=u=NaN:u<=0||u>=1?e=r=NaN:r<=0&&(e=NaN),new hi(e,r,u,g)}function Hi(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof mn||(e=xe(e)),!e)return new hi;if(e instanceof hi)return e;var r=(e=e.rgb()).r/255,u=e.g/255,g=e.b/255,_=Math.min(r,u,g),T=Math.max(r,u,g),N=NaN,X=T-_,q=(T+_)/2;return X?(N=r===T?(u-g)/X+6*(u<g):u===T?(g-r)/X+2:(r-u)/X+4,X/=q<.5?T+_:2-T-_,N*=60):X=q>0&&q<1?0:N,new hi(N,X,q,e.opacity)}function hi(e,r,u,g){this.h=+e,this.s=+r,this.l=+u,this.opacity=+g}function Xi(e){return(e=(e||0)%360)<0?e+360:e}function Fi(e){return Math.max(0,Math.min(1,e||0))}function Si(e,r,u){return 255*(e<60?r+(u-r)*e/60:e<180?u:e<240?r+(u-r)*(240-e)/60:r)}function Xn(e,r,u,g,_){var T=e*e,N=T*e;return((1-3*e+3*T-N)*r+(4-6*T+3*N)*u+(1+3*e+3*T-3*N)*g+N*_)/6}yn(mn,xe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kt,formatHex:kt,formatHex8:function It(){return this.rgb().formatHex8()},formatHsl:function mt(){return Hi(this).formatHsl()},formatRgb:Gt,toString:Gt}),yn(li,ui,yr(mn,{brighter(e){return e=null==e?Vn:Math.pow(Vn,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new li(Ye(this.r),Ye(this.g),Ye(this.b),$e(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wi,formatHex:Wi,formatHex8:function Ge(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}${zi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:sn,toString:sn})),yn(hi,function Ln(e,r,u,g){return 1===arguments.length?Hi(e):new hi(e,r,u,null==g?1:g)},yr(mn,{brighter(e){return e=null==e?Vn:Math.pow(Vn,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),r=isNaN(e)||isNaN(this.s)?0:this.s,u=this.l,g=u+(u<.5?u:1-u)*r,_=2*u-g;return new li(Si(e>=240?e-240:e+120,_,g),Si(e,_,g),Si(e<120?e+240:e-120,_,g),this.opacity)},clamp(){return new hi(Xi(this.h),Fi(this.s),Fi(this.l),$e(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$e(this.opacity);return`${1===e?"hsl(":"hsla("}${Xi(this.h)}, ${100*Fi(this.s)}%, ${100*Fi(this.l)}%${1===e?")":`, ${e})`}`}}));const Dr=e=>()=>e;function Pi(e,r){var u=r-e;return u?function Rr(e,r){return function(u){return e+u*r}}(e,u):Dr(isNaN(e)?r:e)}const _n=function e(r){var u=function Zn(e){return 1==(e=+e)?Pi:function(r,u){return u-r?function Xr(e,r,u){return e=Math.pow(e,u),r=Math.pow(r,u)-e,u=1/u,function(g){return Math.pow(e+g*r,u)}}(r,u,e):Dr(isNaN(r)?u:r)}}(r);function g(_,T){var N=u((_=ui(_)).r,(T=ui(T)).r),X=u(_.g,T.g),q=u(_.b,T.b),St=Pi(_.opacity,T.opacity);return function(At){return _.r=N(At),_.g=X(At),_.b=q(At),_.opacity=St(At),_+""}}return g.gamma=e,g}(1);function Lr(e){return function(r){var N,X,u=r.length,g=new Array(u),_=new Array(u),T=new Array(u);for(N=0;N<u;++N)X=ui(r[N]),g[N]=X.r||0,_[N]=X.g||0,T[N]=X.b||0;return g=e(g),_=e(_),T=e(T),X.opacity=1,function(q){return X.r=g(q),X.g=_(q),X.b=T(q),X+""}}}Lr(function Zi(e){var r=e.length-1;return function(u){var g=u<=0?u=0:u>=1?(u=1,r-1):Math.floor(u*r),_=e[g],T=e[g+1];return Xn((u-g/r)*r,g>0?e[g-1]:2*_-T,_,T,g<r-1?e[g+2]:2*T-_)}}),Lr(function qi(e){var r=e.length;return function(u){var g=Math.floor(((u%=1)<0?++u:u)*r);return Xn((u-g/r)*r,e[(g+r-1)%r],e[g%r],e[(g+1)%r],e[(g+2)%r])}});var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jn=new RegExp(Yi.source,"g");function Bn(e,r){var g,_,T,u=Yi.lastIndex=jn.lastIndex=0,N=-1,X=[],q=[];for(e+="",r+="";(g=Yi.exec(e))&&(_=jn.exec(r));)(T=_.index)>u&&(T=r.slice(u,T),X[N]?X[N]+=T:X[++N]=T),(g=g[0])===(_=_[0])?X[N]?X[N]+=_:X[++N]=_:(X[++N]=null,q.push({i:N,x:ln(g,_)})),u=jn.lastIndex;return u<r.length&&(T=r.slice(u),X[N]?X[N]+=T:X[++N]=T),X.length<2?q[0]?function jr(e){return function(r){return e(r)+""}}(q[0].x):function un(e){return function(){return e}}(r):(r=q.length,function(St){for(var ie,At=0;At<r;++At)X[(ie=q[At]).i]=ie.x(St);return X.join("")})}function Kn(e,r){var u;return("number"==typeof r?ln:r instanceof xe?_n:(u=xe(r))?(r=u,_n):Bn)(e,r)}function qn(e){return function(){this.removeAttribute(e)}}function mr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qr(e,r,u){var g,T,_=u+"";return function(){var N=this.getAttribute(e);return N===_?null:N===g?T:T=r(g=N,u)}}function Yn(e,r,u){var g,T,_=u+"";return function(){var N=this.getAttributeNS(e.space,e.local);return N===_?null:N===g?T:T=r(g=N,u)}}function _r(e,r,u){var g,_,T;return function(){var N,q,X=u(this);return null==X?void this.removeAttribute(e):(N=this.getAttribute(e))===(q=X+"")?null:N===g&&q===_?T:(_=q,T=r(g=N,X))}}function br(e,r,u){var g,_,T;return function(){var N,q,X=u(this);return null==X?void this.removeAttributeNS(e.space,e.local):(N=this.getAttributeNS(e.space,e.local))===(q=X+"")?null:N===g&&q===_?T:(_=q,T=r(g=N,X))}}function x(e,r){var u,g;function _(){var T=r.apply(this,arguments);return T!==g&&(u=(g=T)&&function Br(e,r){return function(u){this.setAttributeNS(e.space,e.local,r.call(this,u))}}(e,T)),u}return _._value=r,_}function F(e,r){var u,g;function _(){var T=r.apply(this,arguments);return T!==g&&(u=(g=T)&&function wr(e,r){return function(u){this.setAttribute(e,r.call(this,u))}}(e,T)),u}return _._value=r,_}function xt(e,r){return function(){hr(this,e).delay=+r.apply(this,arguments)}}function Mt(e,r){return r=+r,function(){hr(this,e).delay=r}}function oe(e,r){return function(){Vi(this,e).duration=+r.apply(this,arguments)}}function fe(e,r){return r=+r,function(){Vi(this,e).duration=r}}var Ea=Ze.prototype.constructor;function la(e){return function(){this.style.removeProperty(e)}}var za=0;function bn(e,r,u,g){this._groups=e,this._parents=r,this._name=u,this._id=g}function sa(){return++za}var wn=Ze.prototype;bn.prototype=function Ha(e){return Ze().transition(e)}.prototype={constructor:bn,select:function Oi(e){var r=this._name,u=this._id;"function"!=typeof e&&(e=R(e));for(var g=this._groups,_=g.length,T=new Array(_),N=0;N<_;++N)for(var At,ie,X=g[N],q=X.length,St=T[N]=new Array(q),ne=0;ne<q;++ne)(At=X[ne])&&(ie=e.call(At,At.__data__,ne,X))&&("__data__"in At&&(ie.__data__=At.__data__),St[ne]=ie,Pn(St[ne],r,u,ne,St,Mi(At,u)));return new bn(T,this._parents,r,u)},selectAll:function xa(e){var r=this._name,u=this._id;"function"!=typeof e&&(e=b(e));for(var g=this._groups,_=g.length,T=[],N=[],X=0;X<_;++X)for(var At,q=g[X],St=q.length,ie=0;ie<St;++ie)if(At=q[ie]){for(var ve,ne=e.call(At,At.__data__,ie,q),ri=Mi(At,u),di=0,Yt=ne.length;di<Yt;++di)(ve=ne[di])&&Pn(ve,r,u,di,ne,ri);T.push(ne),N.push(At)}return new bn(T,N,r,u)},selectChild:wn.selectChild,selectChildren:wn.selectChildren,filter:function _e(e){"function"!=typeof e&&(e=K(e));for(var r=this._groups,u=r.length,g=new Array(u),_=0;_<u;++_)for(var q,T=r[_],N=T.length,X=g[_]=[],St=0;St<N;++St)(q=T[St])&&e.call(q,q.__data__,St,T)&&X.push(q);return new bn(g,this._parents,this._name,this._id)},merge:function ii(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,u=e._groups,g=r.length,T=Math.min(g,u.length),N=new Array(g),X=0;X<T;++X)for(var ne,q=r[X],St=u[X],At=q.length,ie=N[X]=new Array(At),ve=0;ve<At;++ve)(ne=q[ve]||St[ve])&&(ie[ve]=ne);for(;X<g;++X)N[X]=r[X];return new bn(N,this._parents,this._name,this._id)},selection:function Oa(){return new Ea(this._groups,this._parents)},transition:function Ka(){for(var e=this._name,r=this._id,u=sa(),g=this._groups,_=g.length,T=0;T<_;++T)for(var q,N=g[T],X=N.length,St=0;St<X;++St)if(q=N[St]){var At=Mi(q,r);Pn(q,e,u,St,N,{time:At.time+At.delay+At.duration,delay:0,duration:At.duration,ease:At.ease})}return new bn(g,this._parents,e,u)},call:wn.call,nodes:wn.nodes,node:wn.node,size:wn.size,empty:wn.empty,each:wn.each,on:function Di(e,r){var u=this._id;return arguments.length<2?Mi(this.node(),u).on.on(e):this.each(function xi(e,r,u){var g,_,T=function Ti(e){return(e+"").trim().split(/^|\s+/).every(function(r){var u=r.indexOf(".");return u>=0&&(r=r.slice(0,u)),!r||"start"===r})}(r)?hr:Vi;return function(){var N=T(this,e),X=N.on;X!==g&&(_=(g=X).copy()).on(r,u),N.on=_}}(u,e,r))},attr:function Yr(e,r){var u=ee(e),g="transform"===u?Pr:Kn;return this.attrTween(e,"function"==typeof r?(u.local?br:_r)(u,g,pr(this,"attr."+e,r)):null==r?(u.local?mr:qn)(u):(u.local?Yn:qr)(u,g,r))},attrTween:function gt(e,r){var u="attr."+e;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==r)return this.tween(u,null);if("function"!=typeof r)throw new Error;var g=ee(e);return this.tween(u,(g.local?x:F)(g,r))},style:function Aa(e,r,u){var g="transform"==(e+="")?Ir:Kn;return null==r?this.styleTween(e,function Sa(e,r){var u,g,_;return function(){var T=z(this,e),N=(this.style.removeProperty(e),z(this,e));return T===N?null:T===u&&N===g?_:_=r(u=T,g=N)}}(e,g)).on("end.style."+e,la(e)):"function"==typeof r?this.styleTween(e,function Ca(e,r,u){var g,_,T;return function(){var N=z(this,e),X=u(this),q=X+"";return null==X&&(this.style.removeProperty(e),q=X=z(this,e)),N===q?null:N===g&&q===_?T:(_=q,T=r(g=N,X))}}(e,g,pr(this,"style."+e,r))).each(function ka(e,r){var u,g,_,X,T="style."+r,N="end."+T;return function(){var q=Vi(this,e),St=q.on,At=null==q.value[T]?X||(X=la(r)):void 0;(St!==u||_!==At)&&(g=(u=St).copy()).on(N,_=At),q.on=g}}(this._id,e)):this.styleTween(e,function Ta(e,r,u){var g,T,_=u+"";return function(){var N=z(this,e);return N===_?null:N===g?T:T=r(g=N,u)}}(e,g,r),u).on("end.style."+e,null)},styleTween:function Ia(e,r,u){var g="style."+(e+="");if(arguments.length<2)return(g=this.tween(g))&&g._value;if(null==r)return this.tween(g,null);if("function"!=typeof r)throw new Error;return this.tween(g,function Na(e,r,u){var g,_;function T(){var N=r.apply(this,arguments);return N!==_&&(g=(_=N)&&function Ma(e,r,u){return function(g){this.style.setProperty(e,r.call(this,g),u)}}(e,N,u)),g}return T._value=r,T}(e,r,null==u?"":u))},text:function Ra(e){return this.tween("text","function"==typeof e?function Da(e){return function(){var r=e(this);this.textContent=null==r?"":r}}(pr(this,"text",e)):function Pa(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Ba(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function ja(e){var r,u;function g(){var _=e.apply(this,arguments);return _!==u&&(r=(u=_)&&function La(e){return function(r){this.textContent=e.call(this,r)}}(_)),r}return g._value=e,g}(e))},remove:function An(){return this.on("end.remove",function Qi(e){return function(){var r=this.parentNode;for(var u in this.__transition)if(+u!==e)return;r&&r.removeChild(this)}}(this._id))},tween:function Qr(e,r){var u=this._id;if(e+="",arguments.length<2){for(var N,g=Mi(this.node(),u).tween,_=0,T=g.length;_<T;++_)if((N=g[_]).name===e)return N.value;return null}return this.each((null==r?gr:Vr)(u,e,r))},delay:function qt(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?xt:Mt)(r,e)):Mi(this.node(),r).delay},duration:function le(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?oe:fe)(r,e)):Mi(this.node(),r).duration},ease:function ke(e){var r=this._id;return arguments.length?this.each(function Fe(e,r){if("function"!=typeof r)throw new Error;return function(){Vi(this,e).ease=r}}(r,e)):Mi(this.node(),r).ease},easeVarying:function Ue(e){if("function"!=typeof e)throw new Error;return this.each(function De(e,r){return function(){var u=r.apply(this,arguments);if("function"!=typeof u)throw new Error;Vi(this,e).ease=u}}(this._id,e))},end:function Wa(){var e,r,u=this,g=u._id,_=u.size();return new Promise(function(T,N){var X={value:N},q={value:function(){0==--_&&T()}};u.each(function(){var St=Vi(this,g),At=St.on;At!==e&&((r=(e=At).copy())._.cancel.push(X),r._.interrupt.push(X),r._.end.push(q)),St.on=r}),0===_&&T()})},[Symbol.iterator]:wn[Symbol.iterator]};var Ua={time:null,delay:0,duration:250,ease:function Fa(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ga(e,r){for(var u;!(u=e.__transition)||!(u=u[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return u}Ze.prototype.interrupt=function Jr(e){return this.each(function(){!function $r(e,r){var g,_,N,u=e.__transition,T=!0;if(u){for(N in r=null==r?null:r+"",u)(g=u[N]).name===r?(_=g.state>2&&g.state<5,g.state=6,g.timer.stop(),g.on.call(_?"interrupt":"cancel",e,e.__data__,g.index,g.group),delete u[N]):T=!1;T&&delete e.__transition}}(this,e)})},Ze.prototype.transition=function $a(e){var r,u;e instanceof bn?(r=e._id,e=e._name):(r=sa(),(u=Ua).time=Sn(),e=null==e?null:e+"");for(var g=this._groups,_=g.length,T=0;T<_;++T)for(var q,N=g[T],X=N.length,St=0;St<X;++St)(q=N[St])&&Pn(q,e,r,St,N,u||Ga(q,r));return new bn(g,this._parents,e,r)};Math;function xr(e){return{type:e}}function ir(e){return function(){return e}}function va(e){this._context=e}function eo(e){return new va(e)}["w","e"].map(xr),["n","s"].map(xr),["n","w","e","s","nw","ne","sw","se"].map(xr),va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r)}}};const ra=Math.PI,aa=2*ra,Wn=1e-6,io=aa-Wn;function ga(e){this._+=e[0];for(let r=1,u=e.length;r<u;++r)this._+=arguments[r]+e[r]}class zr{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==r?ga:function no(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return ga;const u=10**r;return function(g){this._+=g[0];for(let _=1,T=g.length;_<T;++_)this._+=Math.round(arguments[_]*u)/u+g[_]}}(r)}moveTo(r,u){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+u}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,u){this._append`L${this._x1=+r},${this._y1=+u}`}quadraticCurveTo(r,u,g,_){this._append`Q${+r},${+u},${this._x1=+g},${this._y1=+_}`}bezierCurveTo(r,u,g,_,T,N){this._append`C${+r},${+u},${+g},${+_},${this._x1=+T},${this._y1=+N}`}arcTo(r,u,g,_,T){if(r=+r,u=+u,g=+g,_=+_,(T=+T)<0)throw new Error(`negative radius: ${T}`);let N=this._x1,X=this._y1,q=g-r,St=_-u,At=N-r,ie=X-u,ne=At*At+ie*ie;if(null===this._x1)this._append`M${this._x1=r},${this._y1=u}`;else if(ne>Wn)if(Math.abs(ie*q-St*At)>Wn&&T){let ve=g-N,ri=_-X,di=q*q+St*St,Yt=ve*ve+ri*ri,Qt=Math.sqrt(di),Ee=Math.sqrt(ne),ge=T*Math.tan((ra-Math.acos((di+ne-Yt)/(2*Qt*Ee)))/2),We=ge/Ee,Qe=ge/Qt;Math.abs(We-1)>Wn&&this._append`L${r+We*At},${u+We*ie}`,this._append`A${T},${T},0,0,${+(ie*ve>At*ri)},${this._x1=r+Qe*q},${this._y1=u+Qe*St}`}else this._append`L${this._x1=r},${this._y1=u}`}arc(r,u,g,_,T,N){if(r=+r,u=+u,N=!!N,(g=+g)<0)throw new Error(`negative radius: ${g}`);let X=g*Math.cos(_),q=g*Math.sin(_),St=r+X,At=u+q,ie=1^N,ne=N?_-T:T-_;null===this._x1?this._append`M${St},${At}`:(Math.abs(this._x1-St)>Wn||Math.abs(this._y1-At)>Wn)&&this._append`L${St},${At}`,g&&(ne<0&&(ne=ne%aa+aa),ne>io?this._append`A${g},${g},0,1,${ie},${r-X},${u-q}A${g},${g},0,1,${ie},${this._x1=St},${this._y1=At}`:ne>Wn&&this._append`A${g},${g},0,${+(ne>=ra)},${ie},${this._x1=r+g*Math.cos(T)},${this._y1=u+g*Math.sin(T)}`)}rect(r,u,g,_){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+u}h${g=+g}v${+_}h${-g}Z`}toString(){return this._}}function oo(e){return e[0]}function lo(e){return e[1]}function so(e,r){var u=ir(!0),g=null,_=eo,T=null,N=function ao(e){let r=3;return e.digits=function(u){if(!arguments.length)return r;if(null==u)r=null;else{const g=Math.floor(u);if(!(g>=0))throw new RangeError(`invalid digits: ${u}`);r=g}return e},()=>new zr(r)}(X);function X(q){var St,ie,ve,At=(q=function to(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(q)).length,ne=!1;for(null==g&&(T=_(ve=N())),St=0;St<=At;++St)!(St<At&&u(ie=q[St],St,q))===ne&&((ne=!ne)?T.lineStart():T.lineEnd()),ne&&T.point(+e(ie,St,q),+r(ie,St,q));if(ve)return T=null,ve+""||null}return e="function"==typeof e?e:void 0===e?oo:ir(e),r="function"==typeof r?r:void 0===r?lo:ir(r),X.x=function(q){return arguments.length?(e="function"==typeof q?q:ir(+q),X):e},X.y=function(q){return arguments.length?(r="function"==typeof q?q:ir(+q),X):r},X.defined=function(q){return arguments.length?(u="function"==typeof q?q:ir(!!q),X):u},X.curve=function(q){return arguments.length?(_=q,null!=g&&(T=_(g)),X):_},X.context=function(q){return arguments.length?(null==q?g=T=null:T=_(g=q),X):g},X}function pa(e,r,u){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+u)/6)}function ya(e){this._context=e}function uo(e){return new ya(e)}function nr(e,r,u){this.k=e,this.x=r,this.y=u}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pa(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},nr.prototype={constructor:nr,scale:function(e){return 1===e?this:new nr(this.k*e,this.x,this.y)},translate:function(e,r){return 0===e&0===r?this:new nr(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new nr(1,0,0)}}]);