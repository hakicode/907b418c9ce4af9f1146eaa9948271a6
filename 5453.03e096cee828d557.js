(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5453],{1814:(Re,qt,x)=>{"use strict";x.d(qt,{In:()=>ot,MA:()=>j,Mo:()=>et,NV:()=>R,S3:()=>B,dt:()=>q,h8:()=>y,k0:()=>L});const B={fill:"transparent",stroke:"#129bff",strokeWidth:1},R={stroke:"#5F6CE1",strokeWidth:1,strokeLinecap:"round",strokeDasharrays:[4,2,1,2]},ot={fill:"#FFFFFF",stroke:"#5F6CE1",strokeWidth:1,width:7,height:7},et={fill:"transparent",stroke:"transparent",strokeWidth:1},q={fill:"none",stroke:"#5F6CE1",strokeWidth:1},y={stroke:"#129bff",strokeWidth:1,strokeLinecap:"round",strokeDasharray:8},j={fill:"transparent"},L={fill:"none",stroke:"#999",strokeWidth:1,strokeDasharray:2}},4447:(Re,qt,x)=>{"use strict";x.d(qt,{I:()=>y});var B=x(4981);x(9054);const y=A=>j(null==A?void 0:A.url,null==A?void 0:A.path,null==A?void 0:A.src);var j=(A,P,Q)=>{var W,ut;let yt,D,G,F;var b,Mt;return A&&(yt=A.replace(/\\/g,"/")),P&&(D=P.replace(/\\/g,"/")),Q&&(G=Q.replace(/\\/g,"/")),D&&!yt&&(yt=(null===(b=B.icdt.config)||void 0===b?void 0:b.readfileuploadurl)+D),!G||D||yt||(D=G.replace(/^[a-zA-Z0-9\-\_\/\\\:\.]+(upload|FileUpload|files|readfileupload|filereader|readfile)\//g,""),yt=(null===(Mt=B.icdt.config)||void 0===Mt?void 0:Mt.readfileuploadurl)+D),F=(null!==(W=yt)&&void 0!==W?W:"").split("/").pop()||(null!==(ut=D)&&void 0!==ut?ut:"").split("/").pop()||"",{url:yt,path:D,name:F}}},644:(Re,qt,x)=>{"use strict";x.d(qt,{Dx:()=>y,aY:()=>A,qp:()=>L,qz:()=>q,sV:()=>j,yR:()=>P});var B=x(5861),R=x(9422),ot=x.n(R);ot().config({driver:[ot().INDEXEDDB,ot().LOCALSTORAGE,ot().WEBSQL],name:"_localDataDB",version:1});const et={create:(Q=(0,B.Z)(function*(){return ot()}),function(){return Q.apply(this,arguments)}),get:function(){var Q=(0,B.Z)(function*(W){return ot().getItem(W)});return function(ut){return Q.apply(this,arguments)}}(),set:function(){var Q=(0,B.Z)(function*(W,ut){return ot().setItem(W,ut)});return function(ut,yt){return Q.apply(this,arguments)}}()},q=function(){var Q=(0,B.Z)(function*(W){yield et.create();var ut=(yield et.get("icdt-data"))||[];"function"==typeof W.callback&&W.callback(ut)});return function(ut){return Q.apply(this,arguments)}}(),y=function(){var Q=(0,B.Z)(function*(W){yield et.create(),W.params=W.params||{};try{yield et.set("icdt-data",W.params),"function"==typeof W.callback&&W.callback(W.params)}catch(ut){"function"==typeof W.callback&&W.callback(null),console.error(ut)}});return function(ut){return Q.apply(this,arguments)}}(),j=function(){var Q=(0,B.Z)(function*(W){yield et.create();try{var ut=(yield et.get("icdt-config"))||{};"function"==typeof W.callback&&W.callback(ut)}catch(yt){"function"==typeof W.callback&&W.callback(null),console.error(yt)}});return function(ut){return Q.apply(this,arguments)}}(),L=function(){var Q=(0,B.Z)(function*(W){yield et.create(),W.params=W.params||{};try{yield et.set("icdt-config",W.params),"function"==typeof W.callback&&W.callback(W.params)}catch(ut){"function"==typeof W.callback&&W.callback(null),console.error(ut)}});return function(ut){return Q.apply(this,arguments)}}(),A=function(){var Q=(0,B.Z)(function*(W){yield et.create();try{var ut=(yield et.get("icdt-clipboard"))||{};"function"==typeof W.callback&&W.callback(ut)}catch(yt){"function"==typeof W.callback&&W.callback(null),console.error(yt)}});return function(ut){return Q.apply(this,arguments)}}(),P=function(){var Q=(0,B.Z)(function*(W){yield et.create(),W.params=W.params||{};try{yield et.set("icdt-clipboard",W.params),"function"==typeof W.callback&&W.callback(W.params)}catch(ut){"function"==typeof W.callback&&W.callback(null),console.error(ut)}});return function(ut){return Q.apply(this,arguments)}}();var Q},1687:(Re,qt,x)=>{"use strict";x.d(qt,{O:()=>B});const B={RESIZE_GROUP:"icdt-resize-g",SELECT_GROUP:"icdt-select-g",SCAN_GROUP:"icdt-scan-g",CREATE_GROUP:"icdt-create-g",INTERACTIVE_GROUP:"icdt-interactive-g",INDEX_GROUP:"icdt-index-g",BACKGROUND_GROUP:"icdt-background-g",TEST_GROUP:"icdt-test-g"}},9125:(Re,qt,x)=>{"use strict";x.d(qt,{D:()=>B});const B={DRAW:1,HIGHTLIGH:2,INTERACTIVE:3}},968:(Re,qt,x)=>{"use strict";x.d(qt,{_:()=>B});const B={POINTER:0,HAND:1,PEN:2,SHAPE:3,FOREIGNOBJECT:6,IMAGE:7,TEXT:4,ERASER:5,INDEX:8}},4714:(Re,qt,x)=>{"use strict";x.d(qt,{D:()=>B});const B={TRIANGLE_ISOSCELES:3,TRIANGLE_EQUILATERAL:31,RECTANGLE:4,PENTAGON:5,HEXAGON:6,BOOKMARK:101,COMMENT:102,CROSS:104,ARROW_ONEWAY:201,ARROW_TWOWAY:202,STAR_FOUR:304,STAR_FIVE:305,STAR_SIX:306}},9054:(Re,qt,x)=>{"use strict";x.d(qt,{$:()=>B});const B={GROUP:0,CIRCLE:1,ELLIPSE:2,LINE:5,RECT:3,POLYGON:4,FOREIGNOBJECT:6,IMAGE:9,TEXT:7,PATH:8}},4981:(Re,qt,x)=>{"use strict";x.d(qt,{icdt:()=>Wt});var B=x(2276),R=x(968),ot=x(4080),et=x(1687),q=x(9054),y=x(4318),j=x(6816),L=x(666),A=x(2966);const W=H=>{var l,d,s;let f=(null===(l=H.mouseEvent)||void 0===l?void 0:l.target)||(null===(d=H.touchEvent)||void 0===d?void 0:d.target),p=(null==f?void 0:f.getAttribute("id"))||"",T=null==f?void 0:f.nodeName,N=(null==f||null===(s=f.parentNode)||void 0===s?void 0:s.getAttribute("id"))||"";var k,Y;if([et.O.RESIZE_GROUP,et.O.SELECT_GROUP].includes(N))return null===(k=H.mouseEvent)||void 0===k||k.stopPropagation(),void(null===(Y=H.mouseEvent)||void 0===Y||Y.preventDefault());if(p&&!p.match(/[^0-9]/)&&Wt.dataSelect.nodeName.includes(T)){var tt,V;let lt=parseFloat(p||"0");Wt.dataSelect.ids=null!==(tt=H.mouseEvent)&&void 0!==tt&&tt.shiftKey||null!==(V=H.touchEvent)&&void 0!==V&&V.shiftKey?[lt].concat(Wt.dataSelect.ids).filter((mt,ue,me)=>me.indexOf(mt)==ue):[lt];let pt=Wt.dataSelect.nodes;pt.length>1||1==pt.length&&pt[0].type==q.$.PATH?(0,A.Q)(pt):1==pt.length&&(0,L.y)(pt[0])}else{var C;Wt.dataSelect.ids.length&&(Wt.dataSelect.ids=[]),(0==(null===(C=H.mouseEvent)||void 0===C?void 0:C.button)||H.touchEvent)&&(H=>{let p=(0,ot.g1)(et.O.SCAN_GROUP,"g"),T=(0,y.bH)(0,0,1,1);(0,ot.vl)(p,T),((H,l,d)=>{(0,j.A)(H,{start:p=>{},move:(p,T)=>{((p,T,N,k)=>{l=(0,y.bH)(p,T,N,k),(0,ot.vl)(d,l)})(T[0][0],T[0][1],p.x,p.y)},end:(p,T)=>{null==d||d.remove(),Wt.dataSelect.ids=Wt.data.getNodeInArea(Math.min(T[0][0],p.x),Math.min(T[0][1],p.y),Math.max(T[0][0],p.x),Math.max(T[0][1],p.y));let N=Wt.dataSelect.nodes;1==N.length?(0,L.y)(N[0]):N.length>1&&(0,A.Q)(N)}})})(H,T,p)})(H)}};class yt{constructor(){var l=Wt.screen.position,d=(s,f,p,T)=>{Wt.screen.positionTo={x:l.x+(p-s),y:l.y+(T-f)}};return{start:s=>{},move:(s,f)=>{d(f[0][0],f[0][1],s.x,s.y)},end:(s,f)=>{d(f[0][0],f[0][1],s.x,s.y)}}}}var D=x(4714);const G=[{name:"tam gi\xe1c vu\xf4ng",type:D.D.TRIANGLE_ISOSCELES,ratios:[[0,0],[1,1],[0,1]]},{name:"tam gi\xe1c c\xe2n",type:D.D.TRIANGLE_EQUILATERAL,ratios:[[.5,0],[0,1],[1,1]]},{name:"h\xecnh ch\u1eef nh\u1eadt",type:D.D.RECTANGLE,ratios:[[0,0],[1,0],[1,1],[0,1]]},{name:"h\xecnh ng\u0169 gi\xe1c \u0111\u1ec1u",type:D.D.PENTAGON,ratios:[[.5,0],[1,.4],[.8,1],[.2,1],[0,.4]]},{name:"h\xecnh l\u1ee5c gi\xe1c \u0111\u1ec1u",type:D.D.HEXAGON,ratios:[[.5,0],[1,.25],[1,.75],[.5,1],[0,.75],[0,.25]]},{name:"khung \u0111\xe1nh d\u1ea5u v\u1ecb tr\xed",type:D.D.BOOKMARK,ratios:[[0,0],[1,0],[1,.8],[.5,1],[0,.8]]},{name:"khung \u0111\xe1nh tr\xf2 chuy\u1ec7n",type:D.D.COMMENT,ratios:[[0,0],[1,0],[1,.9],[.3,.9],[.2,1],[.1,.9],[0,.9]]},{name:"h\xecnh ch\u1eef th\u1eadp",type:D.D.CROSS,ratios:[[0,.3],[.3,.3],[.3,0],[.7,0],[.7,.3],[1,.3],[1,.7],[.7,.7],[.7,1],[.3,1],[.3,.7],[0,.7]]},{name:"h\xecnh m\u0169i t\xean 1 chi\u1ec1u",type:D.D.ARROW_ONEWAY,ratios:[[0,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[0,.8]]},{name:"h\xecnh m\u0169i t\xean 2 chi\u1ec1u",type:D.D.ARROW_TWOWAY,ratios:[[.2,0],[.2,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[.2,.8],[.2,1],[0,.5]]},{name:"h\xecnh ng\xf4i sao 4 c\xe1nh",type:D.D.STAR_FOUR,ratios:[[.5,0],[.65,.35],[1,.5],[.65,.65],[.5,1],[.35,.65],[0,.5],[.35,.35]]},{name:"h\xecnh ng\xf4i sao 5 c\xe1nh",type:D.D.STAR_FIVE,ratios:[[.5,0],[.625,.4],[1,.4],[.675,.625],[.8,1],[.5,.775],[.2,1],[.325,.625],[0,.4],[.375,.4]]},{name:"h\xecnh ng\xf4i sao 6 c\xe1nh",type:D.D.STAR_SIX,ratios:[[.5,0],[.667,.25],[1,.25],[.5+.334,.5],[1,.75],[.667,.75],[.5,1],[.334,.75],[0,.75],[.167,.5],[0,.25],[.334,.25]]}];var F=x(8619),b=x(5811);class Mt{constructor(){let l=(0,ot.g1)(et.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,F._)(Math.ceil(1e9*Math.random())),T=(N,k,Y,C)=>{p=(0,y.bH)(N,k,Y,C,{ratio:1}),p.x=(0,b.q)(p.x),p.y=(0,b.q)(p.y),p.width=(0,b.q)(p.width),p.height=(0,b.q)(p.height),Object.assign(f,(0,y.sg)(q.$.CIRCLE,p)),(0,ot.__)(s,f),(0,ot.g$)(l,p)};return{start:N=>{s.setAttribute("cx",N.x.toString()),s.setAttribute("cy",N.y.toString()),s.setAttribute("r","1")},move:(N,k)=>{T(k[0][0],k[0][1],N.x,N.y)},end:(N,k)=>{T(k[0][0],k[0][1],N.x,N.y),Wt.data.node=Object.assign({id:d,type:q.$.CIRCLE,name:"Circle"},{size:p,attribute:f}),null==l||l.remove()}}}}var Lt=x(8785);class jt{constructor(){let l=(0,ot.g1)(et.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,Lt.r)(Math.ceil(1e9*Math.random()));var T=(N,k,Y,C)=>{p=(0,y.bH)(N,k,Y,C),p.x=(0,b.q)(p.x),p.y=(0,b.q)(p.y),p.width=(0,b.q)(p.width),p.height=(0,b.q)(p.height),Object.assign(f,(0,y.sg)(q.$.ELLIPSE,p)),(0,ot.__)(s,f),(0,ot.g$)(l,p)};return{start:N=>{s.setAttribute("cx",N.x.toString()),s.setAttribute("cy",N.y.toString()),s.setAttribute("rx","1"),s.setAttribute("ry","1")},move:(N,k)=>{T(k[0][0],k[0][1],N.x,N.y)},end:(N,k)=>{T(k[0][0],k[0][1],N.x,N.y),Wt.data.node=Object.assign({id:d,type:q.$.ELLIPSE,name:"Ellipse"},{size:p,attribute:f}),null==l||l.remove()}}}}var It=x(8054);class St{constructor(){let l=(0,ot.g1)(et.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,It.f)(Math.ceil(1e9*Math.random()));var T=(N,k,Y,C)=>{p=(0,y.bH)(N,k,Y,C),p.x=(0,b.q)(p.x),p.y=(0,b.q)(p.y),p.width=(0,b.q)(p.width),p.height=(0,b.q)(p.height),Object.assign(f,(0,y.sg)(q.$.RECT,p)),(0,ot.__)(s,f),(0,ot.g$)(l,p)};return{start:N=>{T(N.x,N.y,N.x+p.width,N.y+p.height)},move:(N,k)=>{T(k[0][0],k[0][1],N.x,N.y)},end:(N,k)=>{p.width>=10&&p.height>=10?Wt.data.node=Object.assign({id:d,type:q.$.RECT,name:"Rect"},{size:p,attribute:f}):null==s||s.remove(),null==l||l.remove()}}}}var a=x(2282);class Et{constructor(l){let d=(0,ot.g1)(et.O.CREATE_GROUP,"g"),s=l||[[0,0],[1,1],[0,1]],{nodeId:f,element:p,attribute:T,size:N}=(0,a.l)(Math.ceil(1e9*Math.random()));N.ratios=s;var k=(Y,C,tt,V)=>{N=(0,y.bH)(Y,C,tt,V,{ratios:s}),N.x=(0,b.q)(N.x),N.y=(0,b.q)(N.y),N.width=(0,b.q)(N.width),N.height=(0,b.q)(N.height),Object.assign(T,(0,y.sg)(q.$.POLYGON,N)),(0,ot.__)(p,T),(0,ot.g$)(d,N)};return{start:Y=>{},move:(Y,C)=>{k(C[0][0],C[0][1],Y.x,Y.y)},end:(Y,C)=>{k(C[0][0],C[0][1],Y.x,Y.y),Wt.data.node=Object.assign({id:f,type:q.$.POLYGON,name:"Polygon"},{size:N,attribute:T}),null==d||d.remove()}}}}var Tt=x(4921);class Bt{constructor(){let l=(0,ot.g1)(et.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,Tt.W)(Math.ceil(1e9*Math.random()));var T=(N,k,Y,C)=>{p=(0,y.bH)(N,k,Y,C),p.x=(0,b.q)(p.x),p.y=(0,b.q)(p.y),p.width=(0,b.q)(p.width),p.height=(0,b.q)(p.height),Object.assign(f,(0,y.sg)(q.$.LINE,p)),(0,ot.__)(s,f),(0,ot.g$)(l,p)};return{start:N=>{},move:(N,k)=>{T(k[0][0],k[0][1],N.x,N.y)},end:(N,k)=>{T(k[0][0],k[0][1],N.x,N.y),Wt.data.node=Object.assign({id:d,type:q.$.LINE,name:"Line"},{size:p,attribute:f}),null==l||l.remove()}}}}var Ct=x(8419);class At{constructor(){let{nodeId:l,element:d,attribute:s,size:f}=(0,Ct.G)(Math.ceil(1e9*Math.random())),T="";var N=(k,Y)=>{T+=` ${k} ${Y}`,d.setAttribute("d",T)};return{start:k=>{T=`M ${k.x} ${k.y} L ${k.x} ${k.y}`},move:(k,Y)=>{N(k.x,k.y)},end:(k,Y)=>{N(k.x,k.y),(k=>{let Y=9999,C=9999,tt=-9999,V=-9999;k.forEach(lt=>{Y=Math.min(Y,lt[0]),C=Math.min(C,lt[1]),tt=Math.max(tt,lt[0]),V=Math.max(V,lt[1])}),f=(0,y.bH)(Y,C,tt,V,{points:k}),Object.assign(s,(0,y.sg)(q.$.PATH,f)),(0,ot.__)(d,s)})(Y),Wt.data.node=Object.assign({id:l,type:q.$.PATH,name:"Path"},{size:f,attribute:s})}}}}var rt=x(2875);class Ht{constructor(){let l=(0,ot.g1)(et.O.CREATE_GROUP,"g"),{nodeId:d,element:s,size:f,attribute:p,style:T,source:N}=(0,rt.e)(Math.ceil(1e9*Math.random()));var k=(Y,C,tt,V)=>{f=(0,y.bH)(Y,C,tt,V),f.x=(0,b.q)(f.x),f.y=(0,b.q)(f.y),f.width=(0,b.q)(f.width),f.height=(0,b.q)(f.height),Object.assign(p,(0,y.sg)(q.$.FOREIGNOBJECT,f)),(0,ot.__)(s,p),(0,ot.g$)(l,f)};return{start:Y=>{k(Y.x,Y.y,Y.x+f.width,Y.y+f.height)},move:(Y,C)=>{k(C[0][0],C[0][1],Y.x,Y.y)},end:(Y,C)=>{f.width>=10&&f.height>=10?Wt.data.node=Object.assign({id:d,type:q.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:T,source:N}):null==s||s.remove(),null==l||l.remove()}}}}var Jt=x(7210);class Qt{constructor(){var l,d;let s=(0,ot.g1)(et.O.CREATE_GROUP,"g"),{nodeId:f,element:p,size:T,attribute:N,source:k}=(0,Jt.G)(Math.ceil(1e9*Math.random())),Y=1;(tt=>{if(!tt)return;let V=new Image;V.onload=()=>{Y=(0,b.q)(V.naturalWidth/V.naturalHeight,100)},V.onerror=lt=>{console.error(`ImgSrc load failed -> ${tt}`,lt)},V.src=tt})(null!==(l=null===(d=k.image)||void 0===d?void 0:d.url)&&void 0!==l?l:"");var C=(tt,V,lt,pt)=>{T=(0,y.bH)(tt,V,lt,pt,{ratio:Y}),T.x=(0,b.q)(T.x),T.y=(0,b.q)(T.y),T.width=(0,b.q)(T.width),T.height=(0,b.q)(T.height),Object.assign(N,(0,y.sg)(q.$.IMAGE,T)),(0,ot.__)(p,N),(0,ot.g$)(s,T)};return{start:tt=>{C(tt.x,tt.y,tt.x+T.width,tt.y+T.height)},move:(tt,V)=>{C(V[0][0],V[0][1],tt.x,tt.y)},end:(tt,V)=>{T.width>=10&&T.height>=10?Wt.data.node=Object.assign({id:f,type:q.$.IMAGE,name:"Image"},{size:T,attribute:N,source:k}):null==p||p.remove(),null==s||s.remove()}}}}var Se=x(4578),ve=x(9623);function _(H,l,d,s){return Math.sqrt(Math.pow(d-H,2)+Math.pow(s-l,2))}function K(H,l,d,s,f){return _(H,l,d,s)<f?1:0}function zt(H,l,d,s,f,p,T){var N=[];return N.push(K(H,l,d,s,T)),N.push(K(H,l,f,p,T)),N.push(function ct(H,l,d,s,f,p,T){var N=[f-d,p-s],k=[H-d,l-s],Y=[-N[1],N[0]],C=Math.sqrt(Math.pow(Y[0],2)+Math.pow(Y[1],2)),tt=[Y[0]/C,Y[1]/C],V=Math.sqrt(Math.pow(N[0],2)+Math.pow(N[1],2)),lt=[N[0]/V,N[1]/V],pt=k[0]*lt[0]+k[1]*lt[1];if(pt<=0||pt>=V)return 0;var mt=k[0]*tt[0]+k[1]*tt[1];return mt>=T||mt<=-T?0:1}(H,l,d,s,f,p,T)),N}function le(H,l,d,s,f){var p=[d-H,s-l],T=[-p[1],p[0]],N=Math.sqrt(Math.pow(T[0],2)+Math.pow(T[1],2)),k=[T[0]/N,T[1]/N];return[[H+f*k[0],l+f*k[1]],[H-f*k[0],l-f*k[1]],[d-f*k[0],s-f*k[1]],[d+f*k[0],s+f*k[1]]]}function pe(H,l,d,s,f,p,T){var pt,N=[f-H,p-l],k=[d-H,s-l],Y=Math.sqrt(Math.pow(k[0],2)+Math.pow(k[1],2)),C=[k[0]/Y,k[1]/Y],tt=N[0]*C[0]+N[1]*C[1],V=[H+tt*C[0],l+tt*C[1]],lt=Math.sqrt(Math.pow(f-V[0],2)+Math.pow(p-V[1],2));pt=0===lt?T:Math.sqrt(Math.pow(T,2)-Math.pow(lt,2));var mt=[H+tt*C[0]+pt*C[0],l+tt*C[1]+pt*C[1]];return mt[0]===H&&mt[1]===l?null:mt}function oe(H,l,d,s,f,p,T){var N=[f-H,p-l],k=[d-H,s-l],Y=[-k[1],k[0]],C=Math.sqrt(Math.pow(Y[0],2)+Math.pow(Y[1],2)),tt=[Y[0]/C,Y[1]/C],V=N[0]*tt[0]+N[1]*tt[1],lt=Qe([H,l],[d,s],[f,p]);if(Le([lt[0]-f,lt[1]-p])>=T)return null;var mt=Math.sqrt(Math.pow(T,2)-Math.pow(V,2)),ue=[f-V*tt[0],p-V*tt[1]],me=Math.sqrt(Math.pow(k[0],2)+Math.pow(k[1],2)),ei=[k[0]/me,k[1]/me],$e=[[ue[0]-ei[0]*mt,ue[1]-ei[1]*mt],[ue[0]+ei[0]*mt,ue[1]+ei[1]*mt]];return $e[0][0]===H&&$e[0][1]===l?null:$e}function se(H,l,d,s,f,p,T,N){var k,Y,C,tt,V,lt;return-(C=T-f)*(Y=s-l)+(k=d-H)*(tt=N-p)==0?null:(lt=(C*(l-p)-tt*(H-f))/(-C*Y+k*tt),(V=(-Y*(H-f)+k*(l-p))/(-C*Y+k*tt))>=0&&V<=1&&lt>=0&&lt<=1?[H+lt*k,l+lt*Y]:null)}function Ae(H,l,d,s,f,p,T,N,k,Y){var C=le(p,T,N,k,Y),tt=[];if(d[0]&&!d[1])tt.push(pe(H,l,s,f,p,T,Y)),tt.push(se(H,l,s,f,C[0][0],C[0][1],C[3][0],C[3][1])),tt.push(se(H,l,s,f,C[1][0],C[1][1],C[2][0],C[2][1])),(V=oe(H,l,s,f,N,k,Y))&&tt.push(V[0],V[1]);else if(!d[0]&&d[1])tt.push(pe(H,l,s,f,N,k,Y)),tt.push(se(H,l,s,f,C[0][0],C[0][1],C[3][0],C[3][1])),tt.push(se(H,l,s,f,C[1][0],C[1][1],C[2][0],C[2][1])),(V=oe(H,l,s,f,p,T,Y))&&tt.push(V[0],V[1]);else if(d[0]&&d[1])tt.push(pe(H,l,s,f,p,T,Y)),tt.push(se(H,l,s,f,C[0][0],C[0][1],C[3][0],C[3][1])),tt.push(se(H,l,s,f,C[1][0],C[1][1],C[2][0],C[2][1])),tt.push(pe(H,l,s,f,N,k,Y));else{var V=oe(H,l,s,f,N,k,Y),lt=oe(H,l,s,f,p,T,Y);V&&tt.push(V[0],V[1]),lt&&tt.push(lt[0],lt[1]),tt.push(se(H,l,s,f,C[0][0],C[0][1],C[3][0],C[3][1])),tt.push(se(H,l,s,f,C[1][0],C[1][1],C[2][0],C[2][1]))}for(var pt=[H,l],mt=0;mt<tt.length;mt++)tt[mt]&&_(tt[mt][0],tt[mt][1],s,f)<_(pt[0],pt[1],s,f)&&(pt=tt[mt]);return pt[0]===H&&pt[1]===l?null:pt}function Ue(H,l,d,s,f,p,T,N,k){var Y=le(f,p,T,N,k),C=[],tt=oe(H,l,d,s,f,p,k);tt&&C.push(tt[0],tt[1]),(tt=oe(H,l,d,s,T,N,k))&&C.push(tt[0],tt[1]),C.push(se(H,l,d,s,Y[0][0],Y[0][1],Y[3][0],Y[3][1])),C.push(se(H,l,d,s,Y[1][0],Y[1][1],Y[2][0],Y[2][1]));for(var V=[d,s],lt=[H,l],pt=0;pt<C.length;pt++)C[pt]&&_(C[pt][0],C[pt][1],H,l)<_(V[0],V[1],H,l)&&(V=C[pt]);for(var mt=0;mt<C.length;mt++)C[mt]&&_(C[mt][0],C[mt][1],d,s)<_(lt[0],lt[1],d,s)&&(lt=C[mt]);return V[0]===d&&V[1]===s||lt[0]===H&&lt[1]===l?null:[V,lt]}var Le=function(H){return Math.sqrt(H[0]*H[0]+H[1]*H[1])},Qe=function(H,l,d){var s=[l[0]-H[0],l[1]-H[1]],f=Le(s);if(f<1e-6)return H;var p=[d[0]-H[0],d[1]-H[1]],T=(s[0]*p[0]+s[1]*p[1])/f;return T<0?H:T>f?l:[H[0]+s[0]*T/f,H[1]+s[1]*T/f]};class _t{constructor(){let{element:s,size:p}=(0,Ct.G)(Math.ceil(1e9*Math.random()));(0,ot.__)(s,{stroke:"#ddd",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"});let T="";return{start:Y=>{T=`M ${Y.x} ${Y.y} L ${Y.x} ${Y.y}`},move:(Y,C)=>{((Y,C)=>{T+=` ${Y} ${C}`,s.setAttribute("d",T)})(Y.x,Y.y)},end:(Y,C)=>{s.remove(),(Y=>{let C=9999,tt=9999,V=-9999,lt=-9999;Y.forEach(mt=>{C=Math.min(C,mt[0]),tt=Math.min(tt,mt[1]),V=Math.max(V,mt[0]),lt=Math.max(lt,mt[1])}),p=(0,y.bH)(C,tt,V,lt,{points:Y}),Wt.data.getNodeInArea(0,0,1920,1920,q.$.PATH).forEach(mt=>{let me=((H,l,d)=>{d=d||20;var s=[],f=function(C){var tt=l[0][0],V=l[0][1],lt=0,pt=0;if(1!==C.length||K(C[0][0],C[0][1],tt,V,d)){for(var mt;lt<C.length-1;){var ue=C[lt],me=C[lt+1],ei=K(ue[0],ue[1],tt,V,d),$e=K(me[0],me[1],tt,V,d);if(ei&&$e)pt=++lt;else if(ei&&!$e)(qe=pe(ue[0],ue[1],me[0],me[1],tt,V,d))?(C[lt]=qe,pt=lt):lt++;else if(!ei&&$e){var qe;(qe=pe(me[0],me[1],ue[0],ue[1],tt,V,d))&&((mt=C.slice(pt,lt+1)).push(qe),s.push(mt)),pt=++lt}else{var Xe=oe(ue[0],ue[1],me[0],me[1],tt,V,d);Xe?(((mt=C.slice(pt,lt+1))[mt.length-1][0]!==Xe[0][0]||mt[mt.length-1][1]!==Xe[0][1])&&mt.push(Xe[0]),mt.length>1&&s.push(mt),C[lt]=Xe[1],C[lt+1]&&C[lt+1][0]==Xe[1][0]&&C[lt+1][1]==Xe[1][1]&&lt++,pt=lt):lt++}}pt!==lt&&(mt=C.slice(pt,C.length))&&s.push(mt)}else s.push(C)},p=function(C,tt){var me,V=l[tt],lt=l[tt+1],pt=0,mt=0;if(1!==C.length||-1!==(ue=zt(C[0][0],C[0][1],V[0],V[1],lt[0],lt[1],d)).indexOf(1)){for(;pt<C.length-1;){var ei=C[pt],$e=C[pt+1],ue=zt(ei[0],ei[1],V[0],V[1],lt[0],lt[1],d),qe=zt($e[0],$e[1],V[0],V[1],lt[0],lt[1],d);if(-1!==ue.indexOf(1)&&-1!==qe.indexOf(1))mt=++pt;else if(-1!==ue.indexOf(1)&&-1===qe.indexOf(1))(Xe=Ae(ei[0],ei[1],ue,$e[0],$e[1],V[0],V[1],lt[0],lt[1],d))?(C[pt]=Xe,mt=pt):pt++;else if(-1===ue.indexOf(1)&&-1!==qe.indexOf(1)){var Xe;(Xe=Ae($e[0],$e[1],qe,ei[0],ei[1],V[0],V[1],lt[0],lt[1],d))?((me=C.slice(mt,pt+1)).push(Xe),s.push(me),mt=++pt):pt++}else{var ai=Ue(ei[0],ei[1],$e[0],$e[1],V[0],V[1],lt[0],lt[1],d);ai?(((me=C.slice(mt,pt+1))[me.length-1][0]!==ai[0][0]||me[me.length-1][1]!==ai[0][1])&&me.push(ai[0]),me.length>1&&s.push(me),C[pt]=ai[1],C[pt+1]&&C[pt+1][0]==ai[1][0]&&C[pt+1][1]==ai[1][1]&&pt++,mt=pt):pt++}}mt!==pt&&(me=C.slice(mt,C.length))&&s.push(me)}else s.push(C)};if(l=function st(H){var l=[];if(1===H.length)l=H;else{for(var d=0;d<H.length-1;)(H[d][0]!==H[d+1][0]||H[d][1]!==H[d+1][1])&&l.push(H[d]),d++;0!==H.length&&0===l.length&&l.push(H[0]),(H[H.length-1][0]!==H[l.length-1][0]||H[H.length-1][1]!==H[l.length-1][1])&&l.push(H[d])}return l}(l),1===l.length){for(var T=0;T<H.length;T++)f(H[T]);H=s}else for(var N=0;N<l.length-1;N++){for(T=0;T<H.length;T++)p(H[T],N);H=s,s=[]}for(var k=0;k<H.length;k++)for(var Y=0;Y<H[k].length;Y++)H[k][Y][0]=Math.round(H[k][Y][0]),H[k][Y][1]=Math.round(H[k][Y][1]);return H})(Wt.data.getNode(mt).size.points,Y,2);console.log(me)})})(C)}}}}var vt=x(1105);class Nt{constructor(){let l=(0,ot.g1)(et.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p,source:T}=(0,vt.$)(Math.ceil(1e9*Math.random())),N=(k,Y,C,tt)=>{p=(0,y.bH)(k,Y,C,tt),p.x=(0,b.q)(p.x),p.y=(0,b.q)(p.y),p.width=(0,b.q)(p.width),p.height=(0,b.q)(p.height),Object.assign(f,(0,y.sg)(q.$.TEXT,p)),(0,ot.__)(s,f),(0,ot.g$)(l,p)};return{start:k=>{N(k.x,k.y,k.x+p.width,k.y+p.height)},move:(k,Y)=>{N(Y[0][0],Y[0][1],k.x,k.y)},end:(k,Y)=>{p.width>=10&&p.height>=10?Wt.data.node=Object.assign({id:d,type:q.$.TEXT,name:"Text"},{size:p,attribute:f,source:T}):null==s||s.remove(),null==l||l.remove()}}}}var gt=x(4113),Rt=x(9125);var ht=x(6358);class Gt{constructor(){this._nodeName=["circle","ellipse","line","polygon","rect","text","path","foreignObject","image"],this._selected_Ids=[],this._fnChanges=[]}get nodeName(){return this._nodeName}get ids(){return this._selected_Ids}set ids(l){this._selected_Ids=l,this.change(this.ids)}get nodes(){return this._selected_Ids.map(l=>Wt.data.getNode(l)).filter(l=>!l.isfake)}set onchange(l){this._fnChanges.push(l)}change(l){var d,s,f,p,T;null===(d=window.document.getElementById(et.O.RESIZE_GROUP))||void 0===d||d.remove(),null===(s=window.document.getElementById(et.O.SELECT_GROUP))||void 0===s||s.remove(),null===(f=window.document.getElementById(et.O.SCAN_GROUP))||void 0===f||f.remove(),null===(p=window.document.getElementById(et.O.CREATE_GROUP))||void 0===p||p.remove(),null===(T=window.document.getElementById(et.O.INTERACTIVE_GROUP))||void 0===T||T.remove(),$('[id^="icdt-temp-"]').remove(),this._fnChanges.forEach(N=>N(l))}deleteNode(){for(let l of this._selected_Ids){let d=Wt.data.deleteNode(l);Wt.history.push([{type:"delete",from:{id:d},to:{id:d}}])}Wt.dataSelect.ids=[]}groupNode(){let l=[];if(Wt.dataSelect.ids.length>=2){let d=Wt.data.getNode(Wt.dataSelect.ids[0]),{nodeId:s,attribute:f,size:p}=(0,ht.m)(Math.ceil(1e9*Math.random()),void 0,d.pid);Wt.data.node=Object.assign({id:s,type:q.$.GROUP,name:"G"},{size:p,attribute:f});for(let T of Wt.dataSelect.ids)l.push(Wt.data.addGroup(T,s))}if(l.length){Wt.dataSelect.ids=l;let d=Wt.dataSelect.nodes;1==d.length?(0,L.y)(d[0]):d.length>1&&(0,A.Q)(d)}}ungroupNode(){let l=[];for(let d of Wt.dataSelect.ids)l.push(Wt.data.unGroup(d));if(l.length){Wt.dataSelect.ids=l;let d=Wt.dataSelect.nodes;1==d.length?(0,L.y)(d[0]):d.length>1&&(0,A.Q)(d)}}}var ie=x(4447);class Te{createNodeImage(l){var d,s;let{nodeId:f,element:p,size:T,attribute:N,source:k}=(0,Jt.G)(Math.ceil(1e9*Math.random()),{source:{type:"image",image:(0,ie.I)(l)}}),Y=1;(V=>{if(!V)return;let lt=new Image;lt.onload=()=>{var pt;Y=(0,b.q)(lt.naturalHeight/lt.naturalWidth,100);let mt=(null===(pt=Wt.data.slide)||void 0===pt||null===(pt=pt.svg)||void 0===pt?void 0:pt.viewBox)||{x:0,y:0,width:100,height:100};((V,lt,pt,mt)=>{T=(0,y.bH)(V,lt,pt,mt,{ratio:Y}),Object.assign(N,(0,y.sg)(q.$.IMAGE,T)),(0,ot.__)(p,N)})(mt.width/2-lt.naturalWidth/2,mt.height/2-lt.naturalHeight/2,mt.width/2+lt.naturalWidth/2,mt.height/2+lt.naturalHeight/2),Wt.data.node=Object.assign({id:f,type:q.$.IMAGE,name:"Image"},{size:T,attribute:N,source:k})},lt.onerror=pt=>{console.error(`ImgSrc load failed -> ${V}`,pt)},lt.src=V})(null!==(d=null===(s=k.image)||void 0===s?void 0:s.url)&&void 0!==d?d:"")}createNodeIframe(l){let{nodeId:d,element:s,size:f,attribute:p,style:T,source:N}=(0,rt.e)(Math.ceil(1e9*Math.random()),{style:{},source:{type:"iframe",iframe:(0,ie.I)(l)}});(C=>{let tt=(null===(C=Wt.data.slide)||void 0===C||null===(C=C.svg)||void 0===C?void 0:C.viewBox)||{x:0,y:0,width:100,height:100};((C,tt,V,lt)=>{f=(0,y.bH)(C,tt,V,lt),Object.assign(p,(0,y.sg)(q.$.IMAGE,f)),(0,ot.__)(s,p)})(tt.width/2-f.width/2,tt.height/2-f.height/2,tt.width/2+f.width/2,tt.height/2+f.height/2),Wt.data.node=Object.assign({id:d,type:q.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:T,source:N})})()}createNodeEmbed(l){let{nodeId:d,element:s,size:f,attribute:p,style:T,source:N}=(0,rt.e)(Math.ceil(1e9*Math.random()),{size:{x:0,y:0,width:640,height:360},style:{},source:{type:"embed",embed:Object.assign(l,(0,ie.I)(l))}});(C=>{let tt=(null===(C=Wt.data.slide)||void 0===C||null===(C=C.svg)||void 0===C?void 0:C.viewBox)||{x:0,y:0,width:100,height:100};((C,tt,V,lt)=>{f=(0,y.bH)(C,tt,V,lt),Object.assign(p,(0,y.sg)(q.$.IMAGE,f)),(0,ot.__)(s,p)})(tt.width/2-f.width/2,tt.height/2-f.height/2,tt.width/2+f.width/2,tt.height/2+f.height/2),Wt.data.node=Object.assign({id:d,type:q.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:T,source:N})})()}createNodeMedia(l){var d,s;let{nodeId:f,element:p,size:T,attribute:N,source:k}=(0,Jt.G)(Math.ceil(1e9*Math.random()),{source:{type:"image",image:(0,ie.I)(l.cover)}}),Y={click:{media:l.media}},C=1;(lt=>{if(!lt)return;let pt=new Image;pt.onload=()=>{var mt;C=(0,b.q)(pt.naturalHeight/pt.naturalWidth,100);let ue=(null===(mt=Wt.data.slide)||void 0===mt||null===(mt=mt.svg)||void 0===mt?void 0:mt.viewBox)||{x:0,y:0,width:100,height:100};((lt,pt,mt,ue)=>{T=(0,y.bH)(lt,pt,mt,ue,{ratio:C}),Object.assign(N,(0,y.sg)(q.$.IMAGE,T)),(0,ot.__)(p,N)})(ue.width/2-pt.naturalWidth/2,ue.height/2-pt.naturalHeight/2,ue.width/2+pt.naturalWidth/2,ue.height/2+pt.naturalHeight/2),Wt.data.node=Object.assign({id:f,type:q.$.IMAGE,name:"Image"},{size:T,attribute:N,source:k,interactive:Y})},pt.onerror=mt=>{console.error(`ImgSrc load failed -> ${lt}`,mt)},pt.src=lt})(null!==(d=null===(s=k.image)||void 0===s?void 0:s.url)&&void 0!==d?d:"")}insert(l){var d;if(Wt.data.insertSlide(Wt.data.slideId,1),l.title){let{nodeId:s,size:f,attribute:p,style:T,source:N}=(0,rt.e)(Math.ceil(1e9*Math.random()),{size:{x:100,y:100,width:800,height:150},source:{type:"html",html:{htmlContent:`<span style="font-size: 40px;">${l.title}</span>`}}});Wt.data.node=Object.assign({id:s,type:q.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:T,source:N})}if(l.description){let{nodeId:s,size:f,attribute:p,style:T,source:N}=(0,rt.e)(Math.ceil(1e9*Math.random()),{size:{x:100,y:300,width:600,height:300},source:{type:"html",html:{htmlContent:`<span style="font-size: 24px;">${l.description.replace(/\n/g,"<br/>")}</span>`}}});Wt.data.node=Object.assign({id:s,type:q.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:T,source:N})}null!==(d=l.media)&&void 0!==d&&d.prompt&&((()=>{let{nodeId:s,size:f,attribute:p}=(0,It.f)(Math.ceil(1e9*Math.random()),{size:{x:775,y:275,width:350,height:350},attribute:{fill:"#FFFFFF",stroke:"#E6E6E6",strokeWidth:1,strokeDasharray:1,rx:4}});Wt.data.node=Object.assign({id:s,type:q.$.RECT,name:"Rect"},{size:f,attribute:p})})(),(s=>{let{nodeId:f,size:p,attribute:T,style:N,source:k}=(0,rt.e)(Math.ceil(1e9*Math.random()),{size:{x:800,y:300,width:300,height:300},source:{type:"html",html:{htmlContent:`<span style="font-size: 18px; color: #6633cc"><i>${null===(s=l.media)||void 0===s?void 0:s.prompt}</i></span>`}}});Wt.data.node=Object.assign({id:f,type:q.$.FOREIGNOBJECT,name:"ForeignObject"},{size:p,attribute:T,style:N,source:k})})())}}var te=x(5226);class ge{get newSlideId(){return Math.ceil(1e9*Math.random())}get _defaultSlide(){return JSON.parse(JSON.stringify({id:this.newSlideId,name:"Trang m\u1edbi",svg:{viewBox:{x:0,y:0,width:Wt.screen.default_width,height:Wt.screen.default_height},nodes:[]}}))}constructor(){this._dataSource={slides:[],resources:[]},this._slideIdx=0,this._fnChangeSlides=[],this.getNodeAll=()=>{var l;let d=null===(l=this._dataSource.slides)||void 0===l?void 0:l.find((p,T)=>T==this._slideIdx),s=null==d?void 0:d.svg,f=p=>{let T=[];return p.filter(N=>!N.isdeleted).forEach(N=>{N.type==q.$.GROUP?T=T.concat(f(N.nodes||[])):T.push(N.id)}),T};return f((null==s?void 0:s.nodes)||[])}}get get(){var l;let d=s=>{var f,p;return null===(f=s)||void 0===f||f.filter(T=>T.type==q.$.GROUP).forEach(T=>{var N;T.nodes=d(null===(N=T.nodes)||void 0===N?void 0:N.filter(k=>!k.isdeleted))}),(s=null===(p=s)||void 0===p?void 0:p.filter(T=>{var N,k;return T.type!=q.$.GROUP||(null!==(N=null===(k=T.nodes)||void 0===k?void 0:k.length)&&void 0!==N?N:0)>0}))||[]};return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f;s.svg&&(s.svg.nodes=d(null===(f=s.svg)||void 0===f||null===(f=f.nodes)||void 0===f?void 0:f.filter(p=>!p.isdeleted)))}),this._dataSource}get getResource(){var l;let d=[];return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f,p,T,N,k,Y,C,tt;d.push(null===(f=s.svg)||void 0===f||null===(f=f.background)||void 0===f?void 0:f.path),null===(p=s.svg)||void 0===p||p.nodes.forEach(V=>{var lt,pt,mt,ue,me,ei,$e,qe,Xe,ai;d.push(null===(lt=V.source)||void 0===lt||null===(lt=lt.image)||void 0===lt?void 0:lt.path),d.push(null===(pt=V.source)||void 0===pt||null===(pt=pt.audio)||void 0===pt?void 0:pt.path),d.push(null===(mt=V.source)||void 0===mt||null===(mt=mt.video)||void 0===mt?void 0:mt.path),d.push(null===(ue=V.source)||void 0===ue||null===(ue=ue.file)||void 0===ue?void 0:ue.path),d.push(null===(me=V.source)||void 0===me||null===(me=me.iframe)||void 0===me?void 0:me.path),d.push(null===(ei=V.source)||void 0===ei||null===(ei=ei.track)||void 0===ei?void 0:ei.path),d.push(null===($e=V.interactive)||void 0===$e||null===($e=$e.show)||void 0===$e||null===($e=$e.audio)||void 0===$e||null===($e=$e.source)||void 0===$e?void 0:$e.path),d.push(null===(qe=V.interactive)||void 0===qe||null===(qe=qe.click)||void 0===qe||null===(qe=qe.audio)||void 0===qe||null===(qe=qe.source)||void 0===qe?void 0:qe.path),d.push(null===(Xe=V.interactive)||void 0===Xe||null===(Xe=Xe.click)||void 0===Xe||null===(Xe=Xe.image)||void 0===Xe||null===(Xe=Xe.source)||void 0===Xe?void 0:Xe.path),d.push(null===(ai=V.interactive)||void 0===ai||null===(ai=ai.click)||void 0===ai||null===(ai=ai.video)||void 0===ai||null===(ai=ai.source)||void 0===ai?void 0:ai.path)}),d.push(null===(T=s.test)||void 0===T||null===(T=T.audiotrue)||void 0===T?void 0:T.path),d.push(null===(N=s.test)||void 0===N||null===(N=N.audiofalse)||void 0===N?void 0:N.path),d.push(null===(k=s.test)||void 0===k||null===(k=k.effecttrue)||void 0===k?void 0:k.path),d.push(null===(Y=s.test)||void 0===Y||null===(Y=Y.effectfalse)||void 0===Y?void 0:Y.path),d.push(null===(C=s.test)||void 0===C||null===(C=C.icontrue)||void 0===C?void 0:C.path),d.push(null===(tt=s.test)||void 0===tt||null===(tt=tt.iconfalse)||void 0===tt?void 0:tt.path)}),d.filter(s=>s).map(s=>s.replace(/(\?|\#)[^\?\#]+/g,"").toLowerCase()).filter((s,f,p)=>p.indexOf(s)==f)}set set(l){this._dataSource=l,this._dataSource.slides||(this._dataSource.slides=[]),this._dataSource.slides.length||(this._slideIdx=0,this._dataSource.slides.push(JSON.parse(JSON.stringify(this._defaultSlide)))),(0,ot.wM)(),this.changeSlide(this.slides,this.slideIdx,this._dataSource.slides.length,this.slide)}get dataSource(){var l;let d=s=>{var f,p;return null===(f=s)||void 0===f||f.filter(T=>T.type==q.$.GROUP).forEach(T=>{var N;T.nodes=d(null===(N=T.nodes)||void 0===N?void 0:N.filter(k=>!k.isdeleted))}),(s=null===(p=s)||void 0===p?void 0:p.filter(T=>{var N,k;return T.type!=q.$.GROUP||(null!==(N=null===(k=T.nodes)||void 0===k?void 0:k.length)&&void 0!==N?N:0)>0}))||[]};return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f;s.svg&&(s.svg.nodes=d(null===(f=s.svg)||void 0===f||null===(f=f.nodes)||void 0===f?void 0:f.filter(p=>!p.isdeleted)))}),this._dataSource.resources=this.getResource,this._dataSource}set dataSource(l){this._dataSource=l,this._dataSource.slides||(this._dataSource.slides=[]),this._dataSource.slides.length||(this._slideIdx=0,this._dataSource.slides.push(JSON.parse(JSON.stringify(this._defaultSlide)))),(0,ot.wM)(),this.changeSlide(this.slides,this.slideIdx,this._dataSource.slides.length,this.slide)}get slideId(){var l,d;return null!==(l=null===(d=this.slide)||void 0===d?void 0:d.id)&&void 0!==l?l:0}get slideIdx(){return this._slideIdx}get slide(){var l;return null===(l=this._dataSource.slides)||void 0===l?void 0:l.find((d,s)=>s==this._slideIdx)}get slides(){return this._dataSource.slides||[]}backSlide(){this._slideIdx>0&&(this._slideIdx-=1,this.openSlide(void 0,this._slideIdx))}nextSlide(){var l,d;this._slideIdx<(null!==(l=null===(d=this._dataSource.slides)||void 0===d?void 0:d.length)&&void 0!==l?l:0)-1&&(this._slideIdx+=1,this.openSlide(void 0,this._slideIdx))}openSlide(l,d){var s,f,p,T;if(l)for(let C=0,tt=null!==(N=null===(k=this._dataSource.slides)||void 0===k?void 0:k.length)&&void 0!==N?N:0;C<tt;C++){var N,k,Y;if((null!==(Y=this._dataSource.slides)&&void 0!==Y?Y:[])[C].id==l){this._slideIdx=C;break}}else this._slideIdx=d&&d>=0&&d<(null!==(s=null===(f=this._dataSource.slides)||void 0===f?void 0:f.length)&&void 0!==s?s:0)&&null!=d?d:0;(0,ot.wM)(),(0,te.E)(this.slide),this.changeSlide(this.slides,this.slideIdx,null!==(p=null===(T=this._dataSource.slides)||void 0===T?void 0:T.length)&&void 0!==p?p:0,this.slide)}addSlide(){var l,d,s;null===(l=this._dataSource.slides)||void 0===l||l.push(this._defaultSlide),this._slideIdx=(null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.length)&&void 0!==d?d:0)-1,this.openSlide(void 0,this._slideIdx)}insertSlide(l,d,s){var f,p,T,N,k;let Y=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.find(V=>V.id==l))&&void 0!==f?f:this._defaultSlide,C=(null!==(T=null===(N=this._dataSource.slides)||void 0===N?void 0:N.indexOf(Y))&&void 0!==T?T:0)+d;var tt;s?(s.id=this.newSlideId,s.code=void 0,s.name="Trang m\u1edbi",null!==(tt=s.svg)&&void 0!==tt&&tt.viewBox||s.svg&&(s.svg.viewBox={x:0,y:0,width:Wt.screen.default_width,height:Wt.screen.default_height})):s=this._defaultSlide,null===(k=this._dataSource.slides)||void 0===k||k.splice(C,0,s),this._slideIdx=C,this.openSlide(void 0,this._slideIdx)}copySlide(l){var d,s,f,p,T,N,k;let Y=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(V=>V.id==l))&&void 0!==d?d:this._defaultSlide,C=(null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(Y))&&void 0!==f?f:0)+1,tt=Object.assign(JSON.parse(JSON.stringify(Y)),{id:this.newSlideId,code:void 0,name:`${Y.name} + (Copy)`});null===(T=this._dataSource.slides)||void 0===T||T.splice(C,0,tt),this.changeSlide(this.slides,this.slideIdx,null!==(N=null===(k=this._dataSource.slides)||void 0===k?void 0:k.length)&&void 0!==N?N:0,this.slide)}moveSlide(l,d){var s,f,p,T,N,k;let Y=null!==(s=null===(f=this._dataSource.slides)||void 0===f?void 0:f.find(tt=>tt.id==l))&&void 0!==s?s:this._defaultSlide,C=null!==(p=null===(T=this._dataSource.slides)||void 0===T?void 0:T.indexOf(Y))&&void 0!==p?p:0;null===(N=this._dataSource.slides)||void 0===N||N.splice(C+d,0,null===(k=this._dataSource.slides)||void 0===k?void 0:k.splice(C,1)[0])}deleteSlide(l){var d,s,f,p,T,N;let k=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(V=>V.id==l))&&void 0!==d?d:this._defaultSlide,Y=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(k))&&void 0!==f?f:0;if(null===(T=this._dataSource.slides)||void 0===T||T.splice(Y,1),null!==(N=this._dataSource.slides)&&void 0!==N&&N.length)if(Y<this._slideIdx){var C,tt;--this._slideIdx,this.changeSlide(this.slides,this.slideIdx,null!==(C=null===(tt=this._dataSource.slides)||void 0===tt?void 0:tt.length)&&void 0!==C?C:0,this.slide)}else Y==this._slideIdx&&(--this._slideIdx,this.openSlide(void 0,this._slideIdx));else this.addSlide()}deleteSlide1(l){var d,s,f,p,T;let N=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(Y=>Y.id==l))&&void 0!==d?d:this._defaultSlide,k=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(N))&&void 0!==f?f:0;if(N.isdeleted=!0,null!==(T=this._dataSource.slides)&&void 0!==T&&null!==(T=T.filter(Y=>!Y.isdeleted))&&void 0!==T&&T.length){let Y=!0;for(;N.isdeleted;)Y?k++:k--,this._dataSource.slides[k]?N=this._dataSource.slides[k]:Y=!Y;this.openSlide(N.id)}else this.addSlide()}set onChangeSlide(l){this._fnChangeSlides.push(l)}changeSlide(l,d,s,f){this._fnChangeSlides.forEach(p=>p(l,d,s,f))}set node(l){var d,s;let f=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((T,N)=>N==this._slideIdx),p=null==f?void 0:f.svg;null!=p&&p.nodes&&(null==p||p.nodes.push(l)),Wt.history.push([{type:"add",from:{id:l.id},to:{id:l.id}}]),(0,te.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id)}findNode(l){var d;let s=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((V,lt)=>lt==this._slideIdx),f=null==s?void 0:s.svg,p=(V,lt)=>{let pt=null==V?void 0:V.find(me=>me.id==l);if(pt)return pt.pid=lt,pt;let mt=0,ue=V.length||0;for(;mt<ue&&!pt&&(pt=p(V[mt].nodes||[],V[mt].id),!pt);)mt++;return pt},T=p((null==f?void 0:f.nodes)||[]);var N,k,Y,C,tt;return T?(T.style=null!==(N=T.style)&&void 0!==N?N:{},T.source=null!==(k=T.source)&&void 0!==k?k:{},T.animate=null!==(Y=T.animate)&&void 0!==Y?Y:{},T.interactive=null!==(C=T.interactive)&&void 0!==C?C:{},T.variable=null!==(tt=T.variable)&&void 0!==tt?tt:{},T):{id:0,size:{x:0,y:0,width:0,height:0},attribute:{},isfake:!0}}getNode(l){var d;let s=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((N,k)=>k==this._slideIdx),f=null==s?void 0:s.svg,T=N=>{let k=(null==N?void 0:N.find(pt=>pt.id==l))||(N=>{let k=null,Y=0,C=N.length||0;for(;Y<C&&!k;){if(k=T(N[Y].nodes),k){k.pid=N[Y].id;break}Y++}var tt,V,lt,pt,mt;return k&&(k.style=null!==(tt=k.style)&&void 0!==tt?tt:{},k.source=null!==(V=k.source)&&void 0!==V?V:{},k.animate=null!==(lt=k.animate)&&void 0!==lt?lt:{},k.interactive=null!==(pt=k.interactive)&&void 0!==pt?pt:{},k.variable=null!==(mt=k.variable)&&void 0!==mt?mt:{}),k})((null==N?void 0:N.filter(pt=>pt.type==q.$.GROUP))||[]);var Y,C,tt,V,lt;return k&&(k.style=null!==(Y=k.style)&&void 0!==Y?Y:{},k.source=null!==(C=k.source)&&void 0!==C?C:{},k.animate=null!==(tt=k.animate)&&void 0!==tt?tt:{},k.interactive=null!==(V=k.interactive)&&void 0!==V?V:{},k.variable=null!==(lt=k.variable)&&void 0!==lt?lt:{}),k};return T((null==f?void 0:f.nodes)||[])||{id:null,pid:null,type:null,element:document.createElement("div"),size:{x:0,y:0,width:0,height:0,points:[]},attribute:{},style:{},source:{},animate:{},interactive:{},variable:{},isfake:!0,isdeleted:!1,nodes:[]}}getNodeInArea(l,d,s,f,p){var T;let N=null===(T=this._dataSource.slides)||void 0===T?void 0:T.find((C,tt)=>tt==this._slideIdx),k=null==N?void 0:N.svg,Y=C=>{let tt=[];return C.filter(V=>!V.isdeleted).forEach(V=>{V.type==q.$.GROUP?tt=tt.concat(Y(V.nodes||[])):l>V.size.x||d>V.size.y||s<V.size.x+V.size.width||f<V.size.y+V.size.height||(p?V.type==p&&tt.push(V.id):tt.push(V.id))}),tt};return Y((null==k?void 0:k.nodes)||[])}getNodeOnArea(l,d,s,f,p){var T;let N=null===(T=this._dataSource.slides)||void 0===T?void 0:T.find((C,tt)=>tt==this._slideIdx),k=null==N?void 0:N.svg,Y=C=>{let tt=[];return C.filter(V=>!V.isdeleted).forEach(V=>{V.type==q.$.GROUP?tt=tt.concat(Y(V.nodes||[])):V.size.x+V.size.width<l||V.size.y+V.size.height<d||V.size.x>s||V.size.y>f||(p?V.type==p&&tt.push(V.id):tt.push(V.id))}),tt};return Y((null==k?void 0:k.nodes)||[])}deleteNode(l,d){var s;return this.getNode(l).isdeleted=null==d||d,(0,te.E)(this.slide),(0,te.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),l}unGroup(l){var d,s;let f=this.getNode(l),p=Math.ceil(1e9*Math.random());return null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.push(Object.assign(JSON.parse(JSON.stringify(f)),{id:p})),Object.assign(f,{isdeleted:!0}),(0,te.E)(this.slide),(0,te.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),p}addGroup(l,d){var s;let f=this.getNode(l),p=this.getNode(d);p.nodes=p.nodes||[];let T=Math.ceil(1e9*Math.random());return p.nodes.push(Object.assign(JSON.parse(JSON.stringify(f)),{id:T})),Object.assign(f,{isdeleted:!0}),(0,te.E)(this.slide),(0,te.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),T}setNodeP(l,d){var s;let f=null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s?void 0:s.nodes.find(p=>p.id==l);f&&(f.pid=d||null)}bringToFront(l){var d,s,f;let p=l.map(lt=>Wt.data.getNode(lt)).filter(lt=>!lt.isfake),{x1:T,y1:N,x2:k,y2:Y}=ye(p),C=this.getNodeOnArea(T,N,k,Y);null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.forEach((lt,pt)=>{lt.idx=pt+1});let tt=C.map(lt=>{var pt,mt;return null!==(pt=null===(mt=this.slide)||void 0===mt||null===(mt=mt.svg)||void 0===mt||null===(mt=mt.nodes.find(ue=>ue.id==lt))||void 0===mt?void 0:mt.idx)&&void 0!==pt?pt:0}),V=Math.max.apply(null,tt);l.forEach((lt,pt)=>{var mt;null===(mt=this.slide)||void 0===mt||null===(mt=mt.svg)||void 0===mt||mt.nodes.filter(ue=>ue.id==lt).forEach(ue=>{ue.idx=V+(pt+1)/100})}),null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.sort((lt,pt)=>{var mt,ue;return(null!==(mt=lt.idx)&&void 0!==mt?mt:0)-(null!==(ue=pt.idx)&&void 0!==ue?ue:0)}),(0,te.T)(this.slide),null===(f=window.document.getElementById(et.O.SELECT_GROUP))||void 0===f||f.remove(),(0,A.Q)(p)}sendToBack(l){var d,s,f;let p=l.map(lt=>Wt.data.getNode(lt)).filter(lt=>!lt.isfake),{x1:T,y1:N,x2:k,y2:Y}=ye(p),C=this.getNodeOnArea(T,N,k,Y);null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.forEach((lt,pt)=>{lt.idx=pt+1});let tt=C.map(lt=>{var pt,mt;return null!==(pt=null===(mt=this.slide)||void 0===mt||null===(mt=mt.svg)||void 0===mt||null===(mt=mt.nodes.find(ue=>ue.id==lt))||void 0===mt?void 0:mt.idx)&&void 0!==pt?pt:0}),V=Math.min.apply(null,tt)-1;l.forEach((lt,pt)=>{var mt;null===(mt=this.slide)||void 0===mt||null===(mt=mt.svg)||void 0===mt||mt.nodes.filter(ue=>ue.id==lt).forEach(ue=>{ue.idx=V+(pt+1)/100})}),null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.sort((lt,pt)=>{var mt,ue;return(null!==(mt=lt.idx)&&void 0!==mt?mt:0)-(null!==(ue=pt.idx)&&void 0!==ue?ue:0)}),(0,te.T)(this.slide),null===(f=window.document.getElementById(et.O.SELECT_GROUP))||void 0===f||f.remove(),(0,A.Q)(p)}}const ye=H=>{let l=999999,d=999999,s=-999999,f=-999999;return H.forEach(p=>{l=Math.min(l,p.size.x),d=Math.min(d,p.size.y),s=Math.max(s,p.size.x+p.size.width),f=Math.max(f,p.size.y+p.size.height)}),{x1:l,y1:d,x2:s,y2:f}};class je{constructor(){this._index=-1,this._dataSource=[],this.undoExecute=l=>{l.forEach(function(d){switch(d.type){case"add":Wt.data.deleteNode(d.from.id);break;case"edit":break;case"delete":Wt.data.deleteNode(d.from.id,!1);break;case"size":{let{id:s,type:f,size:p,attribute:T}=Wt.data.getNode(d.from.id);Object.assign(p,d.from.size),Object.assign(T,(0,y.sg)(f,p)),(0,ot.__)(window.document.getElementById(s),T);break}case"attribute":{let{id:s,attribute:f}=Wt.data.getNode(d.from.id);Object.assign(f,d.from.attribute),(0,ot.__)(window.document.getElementById(s),f);break}case"style":{let{id:s,style:f}=Wt.data.getNode(d.from.id);Object.assign(null!=f?f:{},d.from.style),(0,ot.DB)(window.document.getElementById(s),f);break}case"source":{let{id:s,type:f,source:p}=Wt.data.getNode(d.from.id);Object.assign(null!=p?p:{},d.from.source),(0,ot.QI)(window.document.getElementById(s),f,null!=p?p:{});break}case"animate":{let{animate:s}=Wt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.animate);break}case"interactive":{let{interactive:s}=Wt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.interactive);break}case"variable":{let{variable:s}=Wt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.variable);break}}}),Wt.dataSelect.ids=[]},this.redoExecute=l=>{l.forEach(function(d){switch(d.type){case"add":Wt.data.deleteNode(d.to.id,!1);break;case"edit":break;case"delete":Wt.data.deleteNode(d.to.id,!0);break;case"size":{let{id:s,type:f,size:p,attribute:T}=Wt.data.getNode(d.to.id);Object.assign(p,d.to.size),Object.assign(T,(0,y.sg)(f,p)),(0,ot.__)(window.document.getElementById(s),T);break}case"attribute":{let{id:s,attribute:f}=Wt.data.getNode(d.to.id);Object.assign(f,d.to.attribute),(0,ot.__)(window.document.getElementById(s),f);break}case"style":{let{id:s,style:f}=Wt.data.getNode(d.to.id);Object.assign(null!=f?f:{},d.to.style),(0,ot.DB)(window.document.getElementById(s),f);break}case"source":{let{id:s,type:f,source:p}=Wt.data.getNode(d.to.id);Object.assign(null!=p?p:{},d.to.source),(0,ot.QI)(window.document.getElementById(s),f,null!=p?p:{});break}case"animate":{let{animate:s}=Wt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.animate);break}case"interactive":{let{interactive:s}=Wt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.interactive);break}case"variable":{let{variable:s}=Wt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.variable);break}}}),Wt.dataSelect.ids=[]},this._fnChanges=[],this._index=-1,this._dataSource=[]}get index(){return this._index}get total(){return this._dataSource.length}get dataSource(){return this._dataSource}renew(){this._index=-1,this._dataSource=[],this.change()}push(l){this._index<0?(this._index=0,this._dataSource.length=0,this._dataSource[this._index]={data:l}):(this._index<this._dataSource.length-1&&this._dataSource.splice(this._index+1,this._dataSource.length-this._index-1),this._index++,this._dataSource.push({data:l})),this.change()}undo(){this._index<0||(this.undoExecute(this._dataSource[this._index].data),this._index--,this.change())}redo(){this._index>=this._dataSource.length-1||(this._index++,this.redoExecute(this._dataSource[this._index].data),this.change())}set onchange(l){this._fnChanges.push(l)}change(){this._fnChanges.forEach(l=>l(this.index,this.total))}}var Ce=x(7797);class Me{constructor(l){var d,s,f;this._default_width=1080,this._default_height=1080,this._scale=1,this._position={x:0,y:0},this._offset={x:0,y:0},this._actived=!1,this._fnZoomChanges=[],this._default_width=null!==(d=null==l?void 0:l.default_width)&&void 0!==d?d:this._default_width,this._default_height=null!==(s=null!==(f=null==l?void 0:l.default_height)&&void 0!==f?f:null==l?void 0:l.default_width)&&void 0!==s?s:this._default_height,this._x=0,this._y=0,this._width=this._default_width,this._height=this._default_height,this._posScale={x:Math.ceil(window.innerWidth/2),y:Math.ceil(window.innerHeight/2)}}get actived(){return this._actived}set actived(l){this._actived=l}get default_width(){return this._default_width}set default_width(l){this._default_width=l}get default_height(){return this._default_height}set default_height(l){this._default_height=l}get get(){return{x:this._x,y:this._y,w:this._default_width,h:this._default_height,width:this._default_width,height:this._default_height}}set set(l){this._default_width=l.width,this._default_height=l.height,this.zoomTo="fit"}get width(){return this._width}get height(){return this._height}get scale(){return this._scale}set position(l){this._position=l}get position(){return this._position}set offset(l){this._offset=l}get offset(){return this._offset}refScreen(){(0,ot.eb)()}scaleTo(l,d){if(!(l<.1||l>10)){var s=this._scale-l;this._posScale=d||this._posScale;var f=(0,Ce.p)(this._posScale,this._scale,this._position,this._offset),p={x:Math.max(0,Math.min((0,b.q)(f.x/this._default_width,100),1)),y:Math.max(0,Math.min((0,b.q)(f.y/this._default_height,100),1))},T={x:this._default_width*s*p.x,y:this._default_height*s*p.y};this._width=this._default_width*l,this._height=this._default_height*l,this._scale=(0,b.q)(l,1e4),this._position={x:(0,b.q)(this._position.x+T.x,1e4),y:(0,b.q)(this._position.y+T.y,1e4)},this.zoomChange(this.scale),this.refScreen()}}set positionTo(l){this._position=l,this.refScreen()}set positionToWithType(l){"center"===l.type&&(this._position={x:(l.width-this._default_width)/2,y:(l.height-this._default_height)/2}),this.refScreen()}set offsetTo(l){this._offset=l}set zoomTo(l){let d=B(Wt.container).width()||1,s=B(Wt.container).height()||1;var p;this._scale="fit"===(this._offset={x:(null==(p=B(Wt.container).offset())?void 0:p.left)||0,y:(null==p?void 0:p.top)||0},l)?Math.min((0,b.q)((d-60)/Wt.screen._default_width,1e3),(0,b.q)((s-60)/Wt.screen._default_height,1e3)):(0,b.q)(l/100,100),this._width=this._default_width*this._scale,this._height=this._default_height*this._scale,this._position={x:(0,b.q)((d-this._width)/2,1e3),y:(0,b.q)((s-this._height)/2,1e3)},this.zoomChange(this.scale),this.refScreen()}set onZoomChange(l){this._fnZoomChanges.push(l)}zoomChange(l){this._fnZoomChanges.forEach(d=>d(l))}}var Ze=x(644);class tn{constructor(){this._fill="#D9D9D9",this._stroke="#AAAAAA",this._strokeWidth=1,this._strokeLinecap="round",this._strokeLinejoin="round",this._fontFamily=null,this._fontSize=20,this._textLength=null,this._fnChangeFills=[],this._fnChangeStrokes=[],this._fnChangeStrokeWidths=[],this.loadConfig()}loadConfig(){(0,Ze.sV)({callback:l=>{this._fill=(null==l?void 0:l.fill)||this._fill,this._stroke=(null==l?void 0:l.stroke)||this._stroke,this._strokeWidth=(null==l?void 0:l.strokeWidth)||this._strokeWidth,this._strokeLinecap=(null==l?void 0:l.strokeLinecap)||this._strokeLinecap,this._strokeLinejoin=(null==l?void 0:l.strokeLinejoin)||this._strokeLinejoin,this.changeFill(this.fill),this.changeStroke(this.stroke),this.changeStrokeWidth(this.strokeWidth)}})}saveConfig(){(0,Ze.qp)({params:{fill:this._fill,stroke:this._stroke,strokeWidth:this._strokeWidth,strokeLinecap:this._strokeLinecap,strokeLinejoin:this._strokeLinejoin}})}get fill(){return this._fill}set fill(l){this._fill=l,this.changeFill(this.fill)}get stroke(){return this._stroke}set stroke(l){this._stroke=l,this.changeStroke(this.stroke)}get strokeWidth(){return this._strokeWidth}set strokeWidth(l){this._strokeWidth=l,this.changeStrokeWidth(this.strokeWidth)}get strokeLinecap(){return this._strokeLinecap}set strokeLinecap(l){this._strokeLinecap=l}get strokeLinejoin(){return this._strokeLinejoin}set strokeLinejoin(l){this._strokeLinejoin=l}get fontFamily(){return this._fontFamily}get fontSize(){return this._fontSize}get textLength(){return this._textLength}set onchangefill(l){this._fnChangeFills.push(l)}changeFill(l){this._fnChangeFills.forEach(d=>d(l)),this.saveConfig()}set onchangestroke(l){this._fnChangeStrokes.push(l)}changeStroke(l){this._fnChangeStrokes.forEach(d=>d(l)),this.saveConfig()}set onchangestrokewidth(l){this._fnChangeStrokeWidths.push(l)}changeStrokeWidth(l){this._fnChangeStrokeWidths.forEach(d=>d(l)),this.saveConfig()}}var Ei=x(1690),en=x(5973),nn=x(4787),ni=function(H){return H&&JSON.parse(JSON.stringify(H))},Ii=[{key:"FinishedTest",type:"boolean",value:!1,note:"Ho\xe0n th\xe0nh BKT",system:!0,readonly:!1},{key:"TotalTest",type:"number",value:0,note:"T\u1ed5ng s\u1ed1 BKT",system:!0,readonly:!1},{key:"TotalTestDidNotPass",type:"number",value:0,note:"S\u1ed1 BKT kh\xf4ng v\u01b0\u1ee3t qua",system:!0,readonly:!1},{key:"TotalTestPassed",type:"number",value:0,note:"S\u1ed1 BKT \u0111\xe3 v\u01b0\u1ee3t qua",system:!0,readonly:!1}],$i=[],pi={key:"BienSo",value:"0",type:"number",note:null,readonly:!1},ci={if:[{type:"variable",variable:"BienSo",variables:null,slide:null,node:null,condition:">",operator:null,valuetype:"value",value:5}],then:[{type:"variable",variable:"BienChu",variables:null,slide:null,node:null,condition:null,operator:"=",valuetype:"value",value:"BienSo > 5"}],else:[{type:"variable",variable:"BienChu",variables:null,slide:null,node:null,condition:null,operator:"=",valuetype:"value",value:"BienSo <= 5"}],id:"57623302",idx:1,variables:["BienSo"]};class Bi{constructor(){this._data_variables=ni(Ii).concat(ni($i)),this._data_conditions=[],this.GetActionExecutings=[],this.GetActionExecuteds=[],this.FuncGetExecuteds=l=>{"function"==typeof l&&this.GetActionExecuteds.push(l)},this.OnGetActionExecuted=l=>{this.GetActionExecuteds.forEach(d=>{d(l)})},this.SetActionExecutings=[],this.FuncSetExecutings=l=>{"function"==typeof l&&this.SetActionExecutings.push(l)},this.OnSetActionExecuting=l=>{this.SetActionExecutings.forEach(d=>{d(l)})},this.SetActionExecuteds=[],this.FuncSetExecuteds=l=>{"function"==typeof l&&this.SetActionExecuteds.push(l)},this.OnSetActionExecuted=l=>{for(var d of(this.SetActionExecuteds.forEach(s=>{s(l)}),this.getCondition(l.key)||[]))d.if&&d.if.length>0&&(this.checkValueConditions(d.if)?this.setValueOperators(d.then||[]):this.setValueOperators(d.else||[]))}}renew(){this._data_variables=ni(Ii).concat(ni($i)),this._data_conditions=[]}get totalVariable(){return this._data_variables.length}get totalCondition(){return this._data_conditions.length}get get(){return{variables:this._data_variables||[],conditions:this._data_conditions||[]}}set set(l){if(!l)return;let d={};"string"==typeof l?d=JSON.parse(l):"object"==typeof l&&(d=l),this._data_variables=d.variables||[],this._data_conditions=d.conditions||(s=>(this._data_variables.map(f=>f.change||[]).forEach(f=>{s=s.concat(f)}),s))([]),Ii.forEach(s=>{var f=this._data_variables.filter(p=>p.key==s.key);f.length?f.forEach(function(p,T,N){p.type=s.type,p.readonly=s.readonly,p.system=s.system}):this._data_variables.push(s)})}getVariableTemp(){return ni(pi)}getConditionTemp(){return ni(ci)}getKeys(){return this._data_variables.map(function(l){return l.key}).sort(function(l,d){return l.localeCompare(d)})}getVariableAll(){return this._data_variables.length?ni((H=this._data_variables,l="key",function(d){for(var s of H.map(function(f){return f[l]}).sort())H.filter(function(f){return f[l]==s}).forEach(function(f){d.push(f)}),H=H.filter(function(f){return f[l]!=s});return d}([]))):ni(Ii).concat(ni($i));var H,l}setVariableAll(l){l&&("string"==typeof l&&(l=JSON.parse(l)),"object"==typeof l&&(this._data_variables=l),Ii.forEach(d=>{var s=this._data_variables.filter(f=>f.key==d.key);s.length?s.forEach((f,p,T)=>{f.type=d.type,f.readonly=d.readonly,f.system=d.system}):this._data_variables.push(d)}))}getVariable(l){return l?ni(this._data_variables.filter(d=>d.key==l)[0]||{}):{}}setVariable(l,d,s){if(l){switch([null,void 0,NaN,1/0].indexOf(d)>=0&&(d=""),s||(s=(this._data_variables.filter(p=>p.key==l)[0]||{}).type||null),s){case"string":"string"!=typeof d&&(d=d.toString().trim());break;case"number":"number"!=typeof d&&(d=parseFloat(d)||0);break;case"boolean":"string"==typeof d&&(d=d.toLowerCase()),"boolean"!=typeof d&&(d="1"==d||"true"==d||"yes"==d||"dung"==d)}var f=this._data_variables.filter(p=>p.key==l);f.length?f.forEach(function(p,T,N){p.value=d,p.type=s}):this._data_variables.push({key:l,value:d,type:s})}}getValue(l,d){if(!l)return"";var s=this._data_variables.filter(function(T){return T.key==l});if(s.length){var p,f=s[0]||{};switch(this.OnGetActionExecuting(f),d||(d=f.type||null),d){case"string":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":"string"==typeof f.value?f.value||"":f.value.toString().trim();break;case"number":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?0:"number"==typeof f.value?f.value||0:parseFloat(f.value)||0;break;case"boolean":[null,void 0,NaN,1/0].indexOf(f.value)>=0?p=!1:"boolean"==typeof f.value?p=f.value:(p=(f.value+"").toLowerCase(),p="1"==f.value||"true"==f.value||"yes"==f.value||"dung"==f.value);break;case"audio-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<audio controls style="width:280px;vertical-align:middle;"><source src="${f.value}"></source></audio>`:"";break;case"video-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<video controls style="width:280px;vertical-align:middle;"><source src="${f.value}"></source></video>`:"";break;case"img-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<img style="width:100%;vertical-align:middle;" src="${f.value}"/>`:"";break;default:p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value}return this.OnGetActionExecuted(f),p}return null}setValue(l,d,s){if(l){switch([null,void 0,NaN,1/0].indexOf(d)>=0&&(d=""),s||(s=(this._data_variables.filter(function(T){return T.key==l})[0]||{}).type||null),s){case"string":"string"!=typeof d&&(d=d.toString().trim());break;case"number":"number"!=typeof d&&(d=parseFloat(d)||0);break;case"boolean":"string"==typeof d&&(d=d.toLowerCase()),"boolean"!=typeof d&&(d="1"==d||"true"==d||"yes"==d||"dung"==d)}var f=this._data_variables.filter(function(T){return T.key==l});if(f.length){var p=f[0];this.OnSetActionExecuting(p),p&&(p.value=d),this.OnSetActionExecuted(p)}}}getConditionAll(){return ni(this._data_conditions.sort(function(l,d){return l.idx-d.idx}))}setConditionAll(l){l&&("string"==typeof l&&(l=JSON.parse(l)),"object"==typeof l&&(this._data_conditions=l))}getCondition(l){return l?ni(this._data_conditions.filter(d=>d.variable==l||(d.variables||[]).indexOf(l)>=0).sort(function(d,s){return d.idx-s.idx})):{}}switchCondition(l,d,s){switch(l){case"==":return"string"==typeof s?(s=s.toLowerCase().trim(),"string"==typeof d&&(d=d.toLowerCase().trim()),s.split(";").map(function(f){return d==f.trim()?1:0}).reduce(function(f,p){return f+p})>0):d==s;case"!=":return"string"==typeof s?(s=s.toLowerCase().trim(),"string"==typeof d&&(d=d.toLowerCase().trim()),0==s.split(";").map(function(f){return d==f.trim()?1:0}).reduce(function(f,p){return f+p})):d!=s;case">=":return d>=s;case"<=":return d<=s;case">":return d>s;case"<":return d<s;case"\u2208":return s=(s+"").toLowerCase().trim(),d=(d+"").toLowerCase().trim(),s.split(";").map(function(f){return d.indexOf(f.trim())>=0?1:0}).reduce(function(f,p){return f+p})>0;case"\u2209":return s=(s+"").toLowerCase().trim(),d=(d+"").toLowerCase().trim(),0==s.split(";").map(function(f){return d.indexOf(f.trim())>=0?1:0}).reduce(function(f,p){return f+p});default:return!1}}switchOperator(l,d,s){switch(l){case"+":return d+s;case"-":return d-s;case"*":return d*s;case"/":return d/s;case"=":return s;case"=!":return!s;case"==":return d==s;case"!=":return d!=s}}switchFormula(l,d){switch(l){case"sum":return d.reduce(function(f,p){return f+p});case"sub":return d.reduce(function(f,p){return f-p});case"pro":return d.reduce(function(f,p){return f*p});case"div":return d.reduce(function(f,p){return f/p});case"avg":var s=d.reduce(function(f,p){return f+p})/(d.length||1);return Math.round(1e4*(s+Number.EPSILON))/1e4;case"min":return Math.min.apply(null,d);case"max":return Math.max.apply(null,d);case"and":return d.reduce(function(f,p){return f&&p});case"or":return d.reduce(function(f,p){return f||p});default:return 0}}switchValueType_Condition(l){switch(l.valuetype){case"value":return this.switchCondition(l.condition,this.getValue(l.variable),l.value);case"variable":return this.switchCondition(l.condition,this.getValue(l.variable),this.getValue(l.value));default:return 0}}switchValueType_Operator(l){switch(l.valuetype){case"value":return this.switchOperator(l.operator,this.getValue(l.variable),l.value);case"variable":return this.switchOperator(l.operator,this.getValue(l.variable),this.getValue(l.value));case"variables":var d=this.switchFormula(l.valueformula,l.value.map(s=>this.getValue(s)));return this.switchOperator(l.operator,this.getValue(l.variable),d)}}checkValueCondition(l){return this.switchValueType_Condition(l)}getValueOperator(l){return this.switchValueType_Operator(l)}setValueOperator(l){null!=l&&l.variable&&this.setValue(l.variable,this.getValueOperator(l))}checkValueConditions(l){return 0==l.map(d=>{switch(d.type){case"variable":return this.switchValueType_Condition(d)?0:1;case"variables":return 0==d.variables.map(s=>this.switchValueType_Condition(Object.assign(ni(d),{variable:s}))?0:1).reduce(function(s,f){return s+f})?0:1;default:return 0}}).reduce((d,s)=>(null!=d?d:0)+(null!=s?s:0))}setValueOperators(l){for(var d of l)switch(d.type){case"variable":this.setValue(d.variable,this.getValueOperator(d));break;case"variables":for(var s of d.variables)this.setValue(s,this.getValueOperator(Object.assign(ni(d),{variable:s})));break;case"slide":Ei.$.runSlide(void 0,void 0,d.slide);break;case"node":{var f;(0,nn.L5)({id:d.node,nodeStatus:Ei.$.nodeStatus,slideStatus:Ei.$.slideStatus});let p=Ei.$.findNode(d.node);null!=p&&null!==(f=p.interactive)&&void 0!==f&&f.click&&(0,en.F)(p,Ei.$.nodeStatus,Ei.$.slideStatus);break}}}FuncGetExecutings(l){"function"==typeof l&&this.GetActionExecutings.push(l)}OnGetActionExecuting(l){this.GetActionExecutings.forEach(d=>{d(l)})}}class rn{constructor(){this._fnChangePointerTypes=[],this._fnChangePointerTypeTemps=[],this._fnChangePenTypes=[],this._fnChangeShapeTypes=[],this._fnChangePolygonTypes=[],this._fnChanges=[],this._pointer_type=0,this._pointer_type_temp=0,this._pen_type=0,this._shape_type=0,this._polygon_type=0}setPointer_nochange(l,d,s){if(this._pointer_type=l,d)switch(l){case R._.PEN:this._pen_type=d;break;case R._.SHAPE:this._shape_type=d,s&&d===q.$.POLYGON&&(this._polygon_type=s)}}get pointer_type(){return this._pointer_type}set pointer_type(l){this._pointer_type=l,this.changePointerType(this.pointer_type),this.change(this.pointer_type)}get pointer_type_temp(){return this._pointer_type_temp}set pointer_type_temp(l){this._pointer_type_temp=l,this.changePointerTypeTemp(this.pointer_type),this.change(this.pointer_type_temp)}get pen_type(){return this._pen_type}set pen_type(l){this._pen_type=l,this.changePenType(this.pointer_type,this.pen_type),this.change(this.pointer_type,this.pen_type)}get shape_type(){return this._shape_type}set shape_type(l){this._shape_type=l,this.changeShapeType(this.pointer_type,this.shape_type),this.change(this.pointer_type,this.shape_type)}get polygon_type(){return this._polygon_type}set polygon_type(l){this._polygon_type=l,this.changePolygonType(this.pointer_type,this.shape_type,this.polygon_type),this.change(this.pointer_type,this.shape_type,this.polygon_type)}set onchangePointerType(l){this._fnChangePointerTypes.push(l)}changePointerType(l,d,s){this._fnChangePointerTypes.forEach(f=>f(l,d,s))}set onchangePointerTypeTemp(l){this._fnChangePointerTypeTemps.push(l)}changePointerTypeTemp(l,d,s){this._fnChangePointerTypeTemps.forEach(f=>f(l,d,s))}set onchangePenType(l){this._fnChangePenTypes.push(l)}changePenType(l,d,s){this._fnChangePenTypes.forEach(f=>f(l,d,s))}set onchangeShapeType(l){this._fnChangeShapeTypes.push(l)}changeShapeType(l,d,s){this._fnChangeShapeTypes.forEach(f=>f(l,d,s))}set onchangePolygonType(l){this._fnChangePolygonTypes.push(l)}changePolygonType(l,d,s){this._fnChangePolygonTypes.forEach(f=>f(l,d,s))}set onchange(l){this._fnChanges.push(l)}change(l,d,s){this._fnChanges.forEach(f=>f(l,d,s))}}const Wt=new class an{constructor(){this._container="",this._svg="",this._screen=Me.prototype,this._data=ge.prototype,this._dataSelect=Gt.prototype,this._slide=Te.prototype,this._history=je.prototype,this._attribute=tn.prototype,this._pointer=rn.prototype,this._variable=Bi.prototype,this._data=new ge,this._dataSelect=new Gt,this._slide=new Te,this._history=new je,this._attribute=new tn,this._pointer=new rn,this._variable=new Bi,this._pointer.onchangePointerType=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])},this._pointer.onchangePointerTypeTemp=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])},this._data.onChangeSlide=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])}}get config(){return this._config}set config(l){this._config=l}get dataSource(){return{modules:"icdtV2",screen:this._screen.get,data:this._data.get,resources:this._data.getResource,variable:this._variable.get,info:{}}}set dataSource(l){this._screen.set=l.screen||{width:1280,height:720},this._data.set=l.data||{},this._variable.set=l.variable||{}}get container(){return this._container}set container(l){this._container=l}get svg(){return this._svg}set svg(l){this._svg=l}get target(){return window.document.querySelector(this._svg)}get screen(){return this._screen}get data(){return this._data}get dataSelect(){return this._dataSelect}get slide(){return this._slide}get history(){return this._history}get attribute(){return this._attribute}get pointer(){return this._pointer}get variable(){return this._variable}reloadOffset(){var l;this._screen.offsetTo={x:(null==(l=jQuery(this._container).offset())?void 0:l.left)||0,y:(null==l?void 0:l.top)||0}}init(l){this._container=l.container,this._svg=l.target,this._screen=new Me({default_width:l.width,default_height:l.height}),(H=>{new ot.Mh(H.container,H.target),Wt.pointer.onchange=(s,f,p)=>{switch(s){case R._.POINTER:B(H.target).css({cursor:"auto"});break;case R._.HAND:B(H.target).css({cursor:"grab"});break;case R._.PEN:switch(f){case Rt.D.DRAW:B(H.target).css({cursor:"url(assets/images/svg/icon/viet.png) 12 32,default"});break;case Rt.D.HIGHTLIGH:B(H.target).css({cursor:"url(assets/images/svg/icon/highlight1.png) 12 32,default"})}break;case R._.ERASER:B(H.target).css({cursor:"url(assets/images/svg/icon/gom.png) 22 22,default"});break;case R._.SHAPE:B(H.target).css({cursor:"url(assets/images/svg/icon/point.png) 22 22,default"});break;case R._.TEXT:case R._.FOREIGNOBJECT:B(H.target).css({cursor:"url(assets/images/svg/icon/textmouse.png) 22 22,default"})}},B(H.container).off("mousedown.icdt-init-icon").on("mousedown.icdt-init-icon",s=>{Wt.pointer.pointer_type==R._.HAND&&B(H.target).css({cursor:"grabbing"})}).off("mouseup.icdt-init-icon").on("mouseup.icdt-init-icon",s=>{Wt.pointer.pointer_type==R._.HAND&&B(H.target).css({cursor:"grab"})}),B(H.container).off("mousewheel.icdt-init").on("mousewheel.icdt-init",s=>{var f;s.preventDefault();var p=Wt.screen.scale,T=(null!==(f=s.originalEvent)&&void 0!==f?f:s).deltaY>0?1:-1;Wt.screen.scaleTo(p-.04*p*T,{x:s.clientX,y:s.clientY})}),B(window).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{Wt.screen.actived=!!B(s.target).parents("app-main").length}),B(H.container).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{0==s.button&&(H.container.includes("#")&&H.container.includes(s.target.getAttribute("id"))||H.container.includes(".")&&H.container.includes(s.target.getAttribute("class"))||H.container.includes(s.target.nodeName))&&(Wt.pointer.pointer_type_temp||Wt.pointer.pointer_type)===R._.POINTER&&(Wt.dataSelect.ids=[])}),B(H.container).off("touchmove.icdt-init").on("touchmove.icdt-init",s=>{s.preventDefault()});const l=s=>{switch(Wt.pointer.pointer_type_temp||Wt.pointer.pointer_type){case R._.POINTER:W(s);break;case R._.HAND:(H=>{(0,j.A)(H,new yt,1)})(s);break;case R._.PEN:(0,ve.i)(s);break;case R._.SHAPE:(H=>{var l=null;switch(Wt.pointer.shape_type){case q.$.CIRCLE:l=new Mt;break;case q.$.ELLIPSE:l=new jt;break;case q.$.LINE:l=new Bt;break;case q.$.RECT:l=new St;break;case q.$.POLYGON:var d;l=new Et(null===(d=G.find(s=>s.type==Wt.pointer.polygon_type))||void 0===d?void 0:d.ratios);break;case q.$.FOREIGNOBJECT:l=new Ht;break;case q.$.IMAGE:l=new Qt;break;case q.$.TEXT:case q.$.PATH:l=new At}l&&(0,j.A)(H,l)})(s);break;case R._.FOREIGNOBJECT:(H=>{(0,j.A)(H,new Ht)})(s);break;case R._.IMAGE:(H=>{(0,j.A)(H,new Qt)})(s);break;case R._.TEXT:(H=>{(0,j.A)(H,new Nt)})(s);break;case R._.ERASER:(H=>{(0,j.A)(H,new _t)})(s);break;case R._.INDEX:(0,gt.s)(s)}};let d=!1;B(H.target).off("touchstart.icdt-init").on("touchstart.icdt-init",s=>{d=!0,l({touchEvent:s})}),B(H.target).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{if(1!=s.button){if(d)return void(d=!1);l({mouseEvent:s})}}),H.iskeyboard&&(B(window).off("keydown.icdt-init").on("keydown.icdt-init",s=>{Wt.screen.actived&&((s.ctrlKey||s.altKey)&&(s.stopPropagation(),s.preventDefault()),(0,Se.t)(s))}),B(window).off("keyup.icdt-init").on("keyup.icdt-init",s=>{Wt.screen.actived&&((s.ctrlKey||s.altKey)&&(s.stopPropagation(),s.preventDefault()),(0,Se.t)(s))}))})({container:l.container,target:l.target,iskeyboard:l.iskeyboard})}}},4113:(Re,qt,x)=>{"use strict";x.d(qt,{s:()=>L,Q:()=>P});var B=x(1687),R=x(4981),ot=x(4318),et=x(6816),q=x(4080);const L=Q=>{var W,ut;let yt=(null===(W=Q.mouseEvent)||void 0===W?void 0:W.target)||(null===(ut=Q.touchEvent)||void 0===ut?void 0:ut.target),D=(null==yt?void 0:yt.getAttribute("id"))||"",G=null==yt?void 0:yt.nodeName,F=$(yt).parents("g[id]").attr("id")||"";if(![B.O.INDEX_GROUP].includes(F))if(D&&!D.match(/[^0-9]/)&&R.icdt.dataSelect.nodeName.includes(G)){var Mt,Lt;let jt=parseFloat(D||"0");R.icdt.dataSelect.ids=null!==(Mt=Q.mouseEvent)&&void 0!==Mt&&Mt.shiftKey||null!==(Lt=Q.touchEvent)&&void 0!==Lt&&Lt.shiftKey?[jt].concat(R.icdt.dataSelect.ids).filter((St,a,Et)=>Et.indexOf(St)==a):[jt],A(R.icdt.dataSelect.nodes)}else{var b;R.icdt.dataSelect.ids.length&&(R.icdt.dataSelect.ids=[]),(0==(null===(b=Q.mouseEvent)||void 0===b?void 0:b.button)||Q.touchEvent)&&((Q,W)=>{let F=(0,q.g1)(B.O.SCAN_GROUP,"g"),b=(0,ot.bH)(0,0,1,1);(0,q.vl)(F,b),((Q,W,ut,yt)=>{(0,et.A)(Q,{start:F=>{},move:(F,b)=>{((F,b,Mt,Lt)=>{W=(0,ot.bH)(F,b,Mt,Lt),(0,q.vl)(ut,W)})(b[0][0],b[0][1],F.x,F.y)},end:(F,b)=>{null==ut||ut.remove(),R.icdt.dataSelect.ids=R.icdt.data.getNodeInArea(Math.min(b[0][0],F.x),Math.min(b[0][1],F.y),Math.max(b[0][0],F.x),Math.max(b[0][1],F.y)),yt(R.icdt.dataSelect.nodes)}})})(Q,b,F,W)})(Q,A)}},A=Q=>{var W,ut;let yt=1;var D,G;if(Q.length&&(yt=Math.max.apply(null,null!==(D=null===(G=R.icdt.data.slide)||void 0===G||null===(G=G.svg)||void 0===G?void 0:G.nodes.map(b=>{var Mt;return null!==(Mt=b.idx)&&void 0!==Mt?Mt:0}))&&void 0!==D?D:[0])+1),1==Q.length)Q[0].idx||(Q[0].idx=yt,Q[0].time=0);else if(Q.length>=0){let b=Q.map(Lt=>{var jt;return null!==(jt=Lt.idx)&&void 0!==jt?jt:0}).filter(Lt=>Lt>0),Mt=b.length?Math.min.apply(null,b):yt;Q.forEach(Lt=>{var jt;Lt.idx=Mt,Lt.time=null!==(jt=Lt.time)&&void 0!==jt?jt:0})}let F=(0,q.g1)(B.O.INDEX_GROUP,"g");(0,q.mo)(F,null!==(W=null===(ut=R.icdt.data.slide)||void 0===ut||null===(ut=ut.svg)||void 0===ut?void 0:ut.nodes)&&void 0!==W?W:[])},P=Q=>{var W,ut,yt;null!=Q&&null!==(W=Q.svg)&&void 0!==W&&W.nodes&&Q.svg.nodes.forEach(G=>{G.idx=0});let D=(0,q.g1)(B.O.INDEX_GROUP,"g");(0,q.mo)(D,null!==(ut=null===(yt=R.icdt.data.slide)||void 0===yt||null===(yt=yt.svg)||void 0===yt?void 0:yt.nodes)&&void 0!==ut?ut:[])}},4578:(Re,qt,x)=>{"use strict";x.d(qt,{h:()=>W,t:()=>ut});var B=x(644),R=x(7308),ot=x(968),et=x(4981),q=x(666),y=x(2966),j=x(5226),L=x(3423),A=x(5811),P=x(3385);const W=new class Q{constructor(){this._fnChanges=[],this.onchange={type:"keydown",key:R.s.Escape,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.ids=[])}},this.onchange={type:"keydown",key:R.s.Delete,fn:()=>{et.icdt.dataSelect.deleteNode()}},this.onchange={type:"keydown",key:R.s.Space,fn:()=>{et.icdt.pointer.pointer_type_temp=ot._.HAND}},this.onchange={type:"keyup",key:R.s.Space,fn:()=>{et.icdt.pointer.pointer_type_temp=ot._.POINTER}},this.onchange={type:"keydown",key:R.s.ArrowLeft,fn:()=>{et.icdt.dataSelect.ids.length||et.icdt.data.backSlide()}},this.onchange={type:"keydown",key:R.s.ArrowRight,fn:()=>{et.icdt.dataSelect.ids.length||et.icdt.data.nextSlide()}},this.onchange={type:"keydown",key:R.s.ArrowLeft,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.nodes.forEach(D=>{(0,P.k6)(D,(0,A.q)(D.size.x-(0,L.v)(1)))}),1==et.icdt.dataSelect.ids.length?(0,q.y)(et.icdt.dataSelect.nodes[0]):(0,y.Q)(et.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:R.s.ArrowRight,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.nodes.forEach(D=>{(0,P.k6)(D,(0,A.q)(D.size.x+(0,L.v)(1)))}),1==et.icdt.dataSelect.ids.length?(0,q.y)(et.icdt.dataSelect.nodes[0]):(0,y.Q)(et.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:R.s.ArrowUp,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.nodes.forEach(D=>{(0,P.co)(D,(0,A.q)(D.size.y-(0,L.v)(1)))}),1==et.icdt.dataSelect.ids.length?(0,q.y)(et.icdt.dataSelect.nodes[0]):(0,y.Q)(et.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:R.s.ArrowDown,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.nodes.forEach(D=>{(0,P.co)(D,(0,A.q)(D.size.y+(0,L.v)(1)))}),1==et.icdt.dataSelect.ids.length?(0,q.y)(et.icdt.dataSelect.nodes[0]):(0,y.Q)(et.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:R.s.Digit1,fn:D=>{D.shiftKey&&(et.icdt.screen.zoomTo="fit")}},this.onchange={type:"keydown",key:R.s.KeyA,fn:D=>{if(D.ctrlKey){et.icdt.dataSelect.ids=et.icdt.data.getNodeAll();let G=et.icdt.dataSelect.nodes;1==G.length?(0,q.y)(G[0]):G.length>1&&(0,y.Q)(G)}}},this.onchange={type:"keydown",key:R.s.KeyC,fn:D=>{if(D.ctrlKey){let G=et.icdt.dataSelect.nodes;G&&(0,B.yR)({params:{type:"nodes",nodes:G}})}}},this.onchange={type:"keydown",key:R.s.KeyV,fn:D=>{D.ctrlKey&&(0,B.aY)({callback:G=>{var F,b;"nodes"==(null==G?void 0:G.type)&&null!=G&&null!==(F=G.nodes)&&void 0!==F&&F.length&&(null==G||null===(b=G.nodes)||void 0===b||b.forEach(Mt=>{Mt.id=Math.ceil(1e9*Math.random()),et.icdt.data.node=Mt}),(0,j.E)(et.icdt.data.slide))}})}},this.onchange={type:"keydown",key:R.s.KeyZ,fn:D=>{D.ctrlKey&&D.shiftKey?et.icdt.history.redo():D.ctrlKey&&et.icdt.history.undo()}}}set onchange(D){let G=this._fnChanges.find(F=>F.eventType==D.type&&F.eventKey==D.key);G?G.fns.push(D.fn):this._fnChanges.push({eventType:D.type,eventKey:D.key,fns:[D.fn]})}change(D,G,F){var b;null===(b=this._fnChanges.find(Mt=>Mt.eventType==D&&Mt.eventKey==G))||void 0===b||b.fns.forEach(Mt=>Mt(F))}},ut=yt=>{W.change(yt.type,yt.keyCode||yt.which||yt.charCode||0,yt)}},410:(Re,qt,x)=>{"use strict";x.d(qt,{a:()=>L});var B=x(4318),R=x(8419),ot=x(9054),et=x(4080),q=x(511),y=x(3423),j=x(1687);class L{constructor(P){var Q;let W={stroke:"#FF0000",strokeWidth:(0,y.v)(2),strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:(0,y.v)(8)},{element:yt,attribute:D,size:G}=(0,R.G)(Math.ceil(1e9*Math.random()),{size:P});window.document.getElementById(j.O.INTERACTIVE_GROUP).querySelectorAll("path").forEach(jt=>null==jt?void 0:jt.remove()),null===(Q=window.document.getElementById(j.O.INTERACTIVE_GROUP))||void 0===Q||Q.appendChild(yt),(0,et.__)(yt,W);let b="";return{start:jt=>{b=`M ${jt.x} ${jt.y} L ${jt.x} ${jt.y}`},move:(jt,It)=>{((jt,It)=>{b+=` ${jt} ${It}`,yt.setAttribute("d",b)})(jt.x,jt.y)},end:(jt,It)=>{(jt=>{let St=q.jvg().x(a=>a[0]).y(a=>a[1]).curve(q.$0Z)(jt);yt.setAttribute("d",St),jt.length>=2&&(window.interactivePoints=jt)})(It),(jt=>{let It=9999,St=9999,a=-9999,Et=-9999;jt.forEach(Tt=>{It=Math.min(It,Tt[0]),St=Math.min(St,Tt[1]),a=Math.max(a,Tt[0]),Et=Math.max(Et,Tt[1])}),G=(0,B.bH)(It,St,a,Et,{points:jt}),Object.assign(D,(0,B.sg)(ot.$.PATH,G),W)})(It)}}}}},9623:(Re,qt,x)=>{"use strict";x.d(qt,{U:()=>yt,i:()=>ut});var B=x(1687),R=x(9125),ot=x(4981),et=x(6816),q=x(4080),y=x(4318),j=x(8419),L=x(9054),A=x(511);class P{constructor(){let G={strokeLinecap:"round",strokeLinejoin:"round"},{nodeId:F,element:b,attribute:Mt,size:Lt}=(0,j.G)(Math.ceil(1e9*Math.random()));(0,q.__)(b,Mt);let It="";return{start:Et=>{It=`M ${Et.x} ${Et.y} L ${Et.x} ${Et.y}`},move:(Et,Tt)=>{((Et,Tt)=>{It+=` ${Et} ${Tt}`,b.setAttribute("d",It)})(Et.x,Et.y)},end:(Et,Tt)=>{(Et=>{let Bt=A.jvg().x(Ct=>Ct[0]).y(Ct=>Ct[1]).curve(A.$0Z)(Et);b.setAttribute("d",Bt)})(Tt),(Et=>{let Tt=9999,Bt=9999,Ct=-9999,At=-9999;Et.forEach(rt=>{Tt=Math.min(Tt,rt[0]),Bt=Math.min(Bt,rt[1]),Ct=Math.max(Ct,rt[0]),At=Math.max(At,rt[1])}),Lt=(0,y.bH)(Tt,Bt,Ct,At,{points:Et}),Object.assign(Mt,(0,y.sg)(L.$.PATH,Lt),G)})(Tt),ot.icdt.data.node=Object.assign({id:F,type:L.$.PATH,name:"Path"},{size:Lt,attribute:Mt})}}}}class Q{constructor(){let G={strokeOpacity:.4,strokeLinecap:"round",strokeLinejoin:"round"},{nodeId:F,element:b,attribute:Mt,size:Lt}=(0,j.G)(Math.ceil(1e9*Math.random()));(0,q.__)(b,Mt);let It="";var St=(a,Et)=>{It+=` ${a} ${Et}`,b.setAttribute("d",It)};return{start:a=>{It=`M ${a.x} ${a.y} L ${a.x} ${a.y}`},move:(a,Et)=>{St(a.x,a.y)},end:(a,Et)=>{St(a.x,a.y),(a=>{let Et=9999,Tt=9999,Bt=-9999,Ct=-9999;a.forEach(At=>{Et=Math.min(Et,At[0]),Tt=Math.min(Tt,At[1]),Bt=Math.max(Bt,At[0]),Ct=Math.max(Ct,At[1])}),Lt=(0,y.bH)(Et,Tt,Bt,Ct,{points:a}),Object.assign(Mt,(0,y.sg)(L.$.PATH,Lt),G)})(Et),ot.icdt.data.node=Object.assign({id:F,type:L.$.PATH,name:"Path"},{size:Lt,attribute:Mt})}}}}var W=x(410);const ut=D=>{switch(ot.icdt.pointer.pen_type){case R.D.DRAW:(0,et.A)(D,new P);break;case R.D.HIGHTLIGH:(0,et.A)(D,new Q);break;case R.D.INTERACTIVE:yt(D)}},yt=D=>{var G,F;let b=(0,q.g1)(B.O.INTERACTIVE_GROUP,"g"),Mt=null!==(G=null===(F=ot.icdt.data.slide)||void 0===F||null===(F=F.svg)||void 0===F?void 0:F.viewBox)&&void 0!==G?G:(()=>{let{width:Lt,height:jt}=ot.icdt.screen.get;return{x:0,y:0,width:Lt,height:jt}})();(0,q.XH)(b,Mt),D&&(0,et.A)(D,new W.a)}},666:(Re,qt,x)=>{"use strict";x.d(qt,{y:()=>j});var B=x(1687),R=x(4981),ot=x(4318),et=x(6816),q=x(4080),y=x(5811);const j=P=>{let Q=(0,q.g1)(B.O.RESIZE_GROUP,"g");(0,q.hJ)(Q,P).forEach(W=>{L(W.element,W.posType,P,Q)})},L=(P,Q,W,ut)=>{let yt=!1;null==P||P.addEventListener("touchstart",D=>{yt=!0,A({touchEvent:D},Q,W,ut)}),null==P||P.addEventListener("mousedown",D=>{if(0==D.button){if(yt)return void(yt=!1);A({mouseEvent:D},Q,W,ut)}})},A=(P,Q,W,ut)=>{let St,{id:yt,type:D,size:G,attribute:F}=W,{x:b,y:Mt,width:Lt,height:jt}=G,It=(Lt||1)/(jt||1),Et=null,Ct=!1;(0,et.A)(P,{start:rt=>{Et=JSON.parse(JSON.stringify({id:yt,size:G,attribute:F}))},move:(rt,Ht)=>{((rt,Ht,Jt,Qt)=>{switch(Q){case"rect-center":var Oe,Se;St=null!==(Oe=P.mouseEvent)&&void 0!==Oe&&Oe.shiftKey||null!==(Se=P.touchEvent)&&void 0!==Se&&Se.shiftKey?Math.abs(Jt-rt)>=Math.abs(Qt-Ht)?{x:b+Jt-rt,y:Mt,width:Lt,height:jt}:{x:b,y:Mt+Qt-Ht,width:Lt,height:jt}:{x:b+Jt-rt,y:Mt+Qt-Ht,width:Lt,height:jt};break;case"rect-top-left":var ve,it,st,_,K,ct,zt,le;St=(null!==(ve=P.mouseEvent)&&void 0!==ve&&ve.shiftKey||null!==(it=P.touchEvent)&&void 0!==it&&it.shiftKey)&&(null!==(st=P.mouseEvent)&&void 0!==st&&st.altKey||null!==(_=P.touchEvent)&&void 0!==_&&_.altKey)?It>=1?{x:b+(Jt-rt),y:Mt+(Jt-rt)/It,width:Lt-2*(Jt-rt),height:jt-2*(Jt-rt)/It}:{x:b+(Qt-Ht)*It,y:Mt+(Qt-Ht),width:Lt-2*(Qt-Ht)*It,height:jt-2*(Qt-Ht)}:null!==(K=P.mouseEvent)&&void 0!==K&&K.shiftKey||null!==(ct=P.touchEvent)&&void 0!==ct&&ct.shiftKey?It>=1?{x:b+(Jt-rt),y:Mt+(Jt-rt)/It,width:Lt-(Jt-rt),height:jt-(Jt-rt)/It}:{x:b+(Qt-Ht)*It,y:Mt+(Qt-Ht),width:Lt-(Qt-Ht)*It,height:jt-(Qt-Ht)}:null!==(zt=P.mouseEvent)&&void 0!==zt&&zt.altKey||null!==(le=P.touchEvent)&&void 0!==le&&le.altKey?{x:b+(Jt-rt),y:Mt+(Qt-Ht),width:Lt-2*(Jt-rt),height:jt-2*(Qt-Ht)}:{x:b+(Jt-rt),y:Mt+(Qt-Ht),width:Lt-(Jt-rt),height:jt-(Qt-Ht)};break;case"rect-top-right":var pe,oe,se,Ae,Ue,Le,ee,Qe;St=(null!==(pe=P.mouseEvent)&&void 0!==pe&&pe.shiftKey||null!==(oe=P.touchEvent)&&void 0!==oe&&oe.shiftKey)&&(null!==(se=P.mouseEvent)&&void 0!==se&&se.altKey||null!==(Ae=P.touchEvent)&&void 0!==Ae&&Ae.altKey)?It>=1?{x:b-(Jt-rt),y:Mt-(Jt-rt)/It,width:Lt+2*(Jt-rt),height:jt+2*(Jt-rt)/It}:{x:b+(Qt-Ht)*It,y:Mt+(Qt-Ht),width:Lt-2*(Qt-Ht)*It,height:jt-2*(Qt-Ht)}:null!==(Ue=P.mouseEvent)&&void 0!==Ue&&Ue.shiftKey||null!==(Le=P.touchEvent)&&void 0!==Le&&Le.shiftKey?It>=1?{x:b,y:Mt-(Jt-rt)/It,width:Lt+(Jt-rt),height:jt+(Jt-rt)/It}:{x:b,y:Mt+(Qt-Ht),width:Lt-(Qt-Ht)*It,height:jt-(Qt-Ht)}:null!==(ee=P.mouseEvent)&&void 0!==ee&&ee.altKey||null!==(Qe=P.touchEvent)&&void 0!==Qe&&Qe.altKey?{x:b-(Jt-rt),y:Mt+(Qt-Ht),width:Lt+2*(Jt-rt),height:jt-2*(Qt-Ht)}:{x:b,y:Mt+(Qt-Ht),width:Lt+(Jt-rt),height:jt-(Qt-Ht)};break;case"rect-bottom-left":var _t,E,vt,Nt,U,at,nt,gt;St=(null!==(_t=P.mouseEvent)&&void 0!==_t&&_t.shiftKey||null!==(E=P.touchEvent)&&void 0!==E&&E.shiftKey)&&(null!==(vt=P.mouseEvent)&&void 0!==vt&&vt.altKey||null!==(Nt=P.touchEvent)&&void 0!==Nt&&Nt.altKey)?It>=1?{x:b+(Jt-rt),y:Mt+(Jt-rt)/It,width:Lt-2*(Jt-rt),height:jt-2*(Jt-rt)/It}:{x:b-(Qt-Ht)*It,y:Mt-(Qt-Ht),width:Lt+2*(Qt-Ht)*It,height:jt+2*(Qt-Ht)}:null!==(U=P.mouseEvent)&&void 0!==U&&U.shiftKey||null!==(at=P.touchEvent)&&void 0!==at&&at.shiftKey?It>=1?{x:b+(Jt-rt),y:Mt,width:Lt-(Jt-rt),height:jt-(Jt-rt)/It}:{x:b-(Qt-Ht)*It,y:Mt,width:Lt+(Qt-Ht)*It,height:jt+(Qt-Ht)}:null!==(nt=P.mouseEvent)&&void 0!==nt&&nt.altKey||null!==(gt=P.touchEvent)&&void 0!==gt&&gt.altKey?{x:b+(Jt-rt),y:Mt-(Qt-Ht),width:Lt-2*(Jt-rt),height:jt+2*(Qt-Ht)}:{x:b+(Jt-rt),y:Mt,width:Lt-(Jt-rt),height:jt+(Qt-Ht)};break;case"rect-bottom-right":var Rt,Ut,ht,Gt,ie,Te,te,ge;St=(null!==(Rt=P.mouseEvent)&&void 0!==Rt&&Rt.shiftKey||null!==(Ut=P.touchEvent)&&void 0!==Ut&&Ut.shiftKey)&&(null!==(ht=P.mouseEvent)&&void 0!==ht&&ht.altKey||null!==(Gt=P.touchEvent)&&void 0!==Gt&&Gt.altKey)?It>=1?{x:b-(Jt-rt),y:Mt-(Jt-rt)/It,width:Lt+2*(Jt-rt),height:jt+2*(Jt-rt)/It}:{x:b-(Qt-Ht)*It,y:Mt-(Qt-Ht),width:Lt+2*(Qt-Ht)*It,height:jt+2*(Qt-Ht)}:null!==(ie=P.mouseEvent)&&void 0!==ie&&ie.shiftKey||null!==(Te=P.touchEvent)&&void 0!==Te&&Te.shiftKey?It>=1?{x:b,y:Mt,width:Lt+(Jt-rt),height:jt+(Jt-rt)/It}:{x:b,y:Mt,width:Lt+(Qt-Ht)*It,height:jt+(Qt-Ht)}:null!==(te=P.mouseEvent)&&void 0!==te&&te.altKey||null!==(ge=P.touchEvent)&&void 0!==ge&&ge.altKey?{x:b-(Jt-rt),y:Mt-(Qt-Ht),width:Lt+2*(Jt-rt),height:jt+2*(Qt-Ht)}:{x:b,y:Mt,width:Lt+(Jt-rt),height:jt+(Qt-Ht)};break;default:St={x:b+Jt-rt,y:Mt+Qt-Ht,width:Lt,height:jt}}St.width<0&&(St.width=0),St.height<0&&(St.height=0),St.x=(0,y.q)(St.x),St.y=(0,y.q)(St.y),St.width=(0,y.q)(St.width),St.height=(0,y.q)(St.height),Object.assign(G,St),Object.assign(F,(0,ot.sg)(D,G)),(0,q.__)(window.document.getElementById(yt),F),(0,q.hJ)(ut,W)})(Ht[0][0],Ht[0][1],rt.x,rt.y),Ct=!0},end:(rt,Ht)=>{Ct&&Et&&R.icdt.history.push([{type:"size",from:Et,to:JSON.parse(JSON.stringify({id:yt,size:G,attribute:F}))}])}})}},2966:(Re,qt,x)=>{"use strict";x.d(qt,{Q:()=>L});var B=x(1687),R=x(4981),ot=x(4318),et=x(6816),q=x(4080),y=x(3423),j=x(5811);const L=Q=>{let W=999999,ut=999999,yt=-999999,D=-999999;null==Q||Q.forEach(b=>{W=Math.min(W,b.size.x),ut=Math.min(ut,b.size.y),yt=Math.max(yt,b.size.x+b.size.width),D=Math.max(D,b.size.y+b.size.height)});let G=(0,q.g1)(B.O.SELECT_GROUP,"g"),F=(0,ot.bH)(W,ut,yt,D);(0,q.yD)(G,Q,F).forEach(b=>{A(b.element,b.posType,F,Q,G)})},A=(Q,W,ut,yt,D)=>{let G=!1;null==Q||Q.addEventListener("touchstart",F=>{G=!0,P({touchEvent:F},W,ut,yt,D)}),null==Q||Q.addEventListener("mousedown",F=>{if(0==F.button){if(G)return void(G=!1);P({mouseEvent:F},W,ut,yt,D)}})},P=(Q,W,ut,yt,D)=>{let{x:G,y:F,width:b,height:Mt}=ut,Lt=yt.map(Tt=>Object.assign({},Tt.size)),It=[];(0,et.A)(Q,{start:Tt=>{yt.forEach((Tt,Bt)=>{let{id:Ct,size:rt,attribute:Ht}=Tt;It.push(JSON.parse(JSON.stringify({id:Ct,size:rt,attribute:Ht})))})},move:(Tt,Bt)=>{((Tt,Bt,Ct,At)=>{(()=>{let rt;rt="rect-center"===W?{x:G+Ct-Tt,y:F+At-Bt,width:b,height:Mt}:{x:G,y:F,width:b,height:Mt},(0,y.v)(R.icdt.screen.width),(0,y.v)(R.icdt.screen.height),rt.width<0&&(rt.width=0),rt.height<0&&(rt.height=0),Object.assign(ut,rt),(0,q.yD)(D,yt,ut)})(),yt.forEach((rt,Ht)=>{let K,{x:Jt,y:Qt,width:Oe,height:Se}=Lt[Ht],{id:ve,type:it,size:st,attribute:_}=rt;K="rect-center"===W?{x:Jt+Ct-Tt,y:Qt+At-Bt,width:Oe,height:Se}:{x:Jt,y:Qt,width:Oe,height:Se},(0,y.v)(R.icdt.screen.width),(0,y.v)(R.icdt.screen.height),K.width<0&&(K.width=0),K.height<0&&(K.height=0),K.x=(0,j.q)(K.x),K.y=(0,j.q)(K.y),K.width=(0,j.q)(K.width),K.height=(0,j.q)(K.height),Object.assign(st,K),Object.assign(_,(0,ot.sg)(it,st)),(0,q.__)(window.document.getElementById(ve),_)})})(Bt[0][0],Bt[0][1],Tt.x,Tt.y)},end:(Tt,Bt)=>{It.length&&R.icdt.history.push(yt.map((Tt,Bt)=>{let{id:Ct,size:rt,attribute:Ht}=Tt;return{type:"size",from:It[Bt],to:JSON.parse(JSON.stringify({id:Ct,size:rt,attribute:Ht}))}}))}})}},5226:(Re,qt,x)=>{"use strict";x.d(qt,{E:()=>D,T:()=>G});var B=x(1687),R=x(8619),ot=x(8785),et=x(2282),q=x(8054),y=x(4921),j=x(6358),L=x(9054),A=x(8419),P=x(1105),Q=x(2875),W=x(7210),ut=x(4981),yt=x(4080);const D=(F,b)=>{var Mt;if("localhost"==window.location.hostname&&console.log(`icdt_RenderComponent(slide, ${b})`,F),b&&!window.document.getElementById(b))return;if(b){let jt=window.document.getElementById(b);$(jt).find("#"+B.O.BACKGROUND_GROUP).empty();let It=(0,yt.g1)(B.O.BACKGROUND_GROUP,"g",void 0,jt);(0,yt.x0)(It,F)}else{$(ut.icdt.target).find("#"+B.O.BACKGROUND_GROUP).empty();let jt=(0,yt.g1)(B.O.BACKGROUND_GROUP,"g",void 0,ut.icdt.target);(0,yt.x0)(jt,F)}let Lt=(jt,It)=>{It=It?parseFloat(`${b}0${It}`):b,null==jt||jt.forEach(St=>{let a=b?parseFloat(`${b}0${St.id}`):St.id;var Et;if(St.isdeleted)null===(Et=window.document.getElementById(a))||void 0===Et||Et.remove();else switch(St.type){case L.$.GROUP:(0,j.m)(a,{},It),Lt(St.nodes,St.id);break;case L.$.CIRCLE:(0,R._)(a,{size:St.size,attribute:St.attribute},It?window.document.getElementById(It):null);break;case L.$.ELLIPSE:(0,ot.r)(a,{size:St.size,attribute:St.attribute},It);break;case L.$.LINE:(0,y.W)(a,{size:St.size,attribute:St.attribute},It);break;case L.$.RECT:(0,q.f)(a,{size:St.size,attribute:St.attribute},It?window.document.getElementById(It):null);break;case L.$.POLYGON:(0,et.l)(a,{size:St.size,attribute:St.attribute},It);break;case L.$.FOREIGNOBJECT:(0,Q.e)(a,{size:St.size,attribute:St.attribute,style:St.style,source:St.source},It?window.document.getElementById(It):null);break;case L.$.IMAGE:(0,W.G)(a,{size:St.size,attribute:St.attribute,source:St.source},It?window.document.getElementById(It):null);break;case L.$.TEXT:(0,P.$)(a,{size:St.size,attribute:St.attribute,source:St.source},It);break;case L.$.PATH:(0,A.G)(a,{size:St.size,attribute:St.attribute},It)}})};Lt(null==F||null===(Mt=F.svg)||void 0===Mt?void 0:Mt.nodes)},G=(F,b)=>{var Mt;if(b&&!window.document.getElementById(b))return;let Lt=(jt,It)=>{It=It?parseFloat(`${b}0${It}`):b,null==jt||jt.forEach(St=>{let a=b?parseFloat(`${b}0${St.id}`):St.id;$("#"+a).appendTo(It?window.document.getElementById(It):ut.icdt.target),St.type==L.$.GROUP&&Lt(St.nodes,St.id)})};Lt(null==F||null===(Mt=F.svg)||void 0===Mt?void 0:Mt.nodes)}},8619:(Re,qt,x)=>{"use strict";x.d(qt,{_:()=>q});var B=x(9054),R=x(4981),ot=x(4318),et=x(4080);const q=(y,j,L)=>{let A=(null==j?void 0:j.size)||{x:0,y:0,width:10,height:10},P=(null==j?void 0:j.attribute)||{fill:R.icdt.attribute.fill,stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(P,(0,ot.sg)(B.$.CIRCLE,A)),{nodeId:y,element:(0,et.it)(y,B.$.CIRCLE,"circle",{size:A,attribute:P},L),size:A,attribute:P}}},8785:(Re,qt,x)=>{"use strict";x.d(qt,{r:()=>q});var B=x(9054),R=x(4981),ot=x(4318),et=x(4080);const q=(y,j,L)=>{let A=(null==j?void 0:j.size)||{x:0,y:0,width:10,height:10},P=(null==j?void 0:j.attribute)||{fill:R.icdt.attribute.fill,stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(P,(0,ot.sg)(B.$.ELLIPSE,A)),{nodeId:y,element:(0,et.it)(y,B.$.ELLIPSE,"ellipse",{size:A,attribute:P},L?window.document.getElementById(L):null),size:A,attribute:P}}},2875:(Re,qt,x)=>{"use strict";x.d(qt,{e:()=>et});var B=x(9054),R=x(4318),ot=x(4080);const et=(q,y,j)=>{let L=(null==y?void 0:y.size)||{x:0,y:0,width:180,height:180},A=(null==y?void 0:y.attribute)||{};Object.assign(A,(0,R.sg)(B.$.FOREIGNOBJECT,L));let P=(null==y?void 0:y.source)||{type:"html",html:{htmlContent:'<span style="font-family: Roboto; font-size: 24px;">H\xe3y nh\u1eadp n\u1ed9i dung c\u1ee7a b\u1ea1n!</span>'}},Q=(null==y?void 0:y.style)||{};return{nodeId:q,element:(0,ot.it)(q,B.$.FOREIGNOBJECT,"foreignObject",{size:L,attribute:A,style:Q,source:P},j),size:L,attribute:A,style:Q,source:P}}},6358:(Re,qt,x)=>{"use strict";x.d(qt,{m:()=>et});var B=x(9054),R=x(4318),ot=x(4080);const et=(q,y,j)=>{let L=(null==y?void 0:y.size)||{x:0,y:0,width:10,height:10},A=(null==y?void 0:y.attribute)||{};return Object.assign(A,(0,R.sg)(B.$.GROUP,L)),{nodeId:q,element:(0,ot.it)(q,B.$.GROUP,"g",{size:L,attribute:A},j?window.document.getElementById(j):null),size:L,attribute:A}}},7210:(Re,qt,x)=>{"use strict";x.d(qt,{G:()=>et});var B=x(9054),R=x(4318),ot=x(4080);const et=(q,y,j)=>{let L=(null==y?void 0:y.size)||{x:0,y:0,width:200,height:100},A=(null==y?void 0:y.attribute)||{preserveAspectRatio:"none"};Object.assign(A,(0,R.sg)(B.$.IMAGE,L));let P=(null==y?void 0:y.source)||{type:"image",image:{url:"../../assets/image-svg/logo.svg",path:"assets/image-svg/logo.svg",name:"logo.svg"}};return{nodeId:q,element:(0,ot.it)(q,B.$.IMAGE,"image",{size:L,attribute:A,source:P},j),size:L,attribute:A,source:P}}},4921:(Re,qt,x)=>{"use strict";x.d(qt,{W:()=>q});var B=x(9054),R=x(4981),ot=x(4318),et=x(4080);const q=(y,j,L)=>{let A=(null==j?void 0:j.size)||{x:0,y:0,width:10,height:10},P=(null==j?void 0:j.attribute)||{stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth,strokeLinecap:R.icdt.attribute.strokeLinecap};return Object.assign(P,(0,ot.sg)(B.$.LINE,A)),{nodeId:y,element:(0,et.it)(y,B.$.LINE,"line",{size:A,attribute:P},L?window.document.getElementById(L):null),size:A,attribute:P}}},8419:(Re,qt,x)=>{"use strict";x.d(qt,{G:()=>q});var B=x(9054),R=x(4981),ot=x(4318),et=x(4080);const q=(y,j,L)=>{let A=(null==j?void 0:j.size)||{x:0,y:0,width:10,height:10},P=(null==j?void 0:j.attribute)||{stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(P,(0,ot.sg)(B.$.PATH,A)),{nodeId:y,element:(0,et.it)(y,B.$.PATH,"path",{size:A,attribute:P},L?window.document.getElementById(L):null),size:A,attribute:P}}},2282:(Re,qt,x)=>{"use strict";x.d(qt,{l:()=>q});var B=x(9054),R=x(4981),ot=x(4318),et=x(4080);const q=(y,j,L)=>{let A=(null==j?void 0:j.size)||{x:0,y:0,width:10,height:10},P=(null==j?void 0:j.attribute)||{fill:R.icdt.attribute.fill,stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(P,(0,ot.sg)(B.$.POLYGON,A)),{nodeId:y,element:(0,et.it)(y,B.$.POLYGON,"polygon",{size:A,attribute:P},L?window.document.getElementById(L):null),size:A,attribute:P}}},8054:(Re,qt,x)=>{"use strict";x.d(qt,{f:()=>q});var B=x(9054),R=x(4981),ot=x(4318),et=x(4080);const q=(y,j,L)=>{let A=(null==j?void 0:j.size)||{x:0,y:0,width:10,height:10},P=(null==j?void 0:j.attribute)||{fill:R.icdt.attribute.fill,stroke:R.icdt.attribute.stroke,strokeWidth:R.icdt.attribute.strokeWidth};return Object.assign(P,(0,ot.sg)(B.$.RECT,A)),{nodeId:y,element:(0,et.it)(y,B.$.RECT,"rect",{size:A,attribute:P},L),size:A,attribute:P}}},1105:(Re,qt,x)=>{"use strict";x.d(qt,{$:()=>q});var B=x(9054),R=x(4981),ot=x(4318),et=x(4080);const q=(y,j,L)=>{let A=(null==j?void 0:j.size)||{x:0,y:0,width:100,height:50},P=(null==j?void 0:j.attribute)||{fill:R.icdt.attribute.stroke,fontFamily:R.icdt.attribute.fontFamily,fontSize:R.icdt.attribute.fontSize,textLength:R.icdt.attribute.textLength};Object.assign(P,(0,ot.sg)(B.$.TEXT,A));let Q=(null==j?void 0:j.source)||{type:"text",text:{textContent:"H\xe3y nh\u1eadp n\u1ed9i dung c\u1ee7a b\u1ea1n!"}};return{nodeId:y,element:(0,et.it)(y,B.$.TEXT,"text",{size:A,attribute:P,source:Q},L?window.document.getElementById(L):null),size:A,attribute:P,source:Q}}},4318:(Re,qt,x)=>{"use strict";x.d(qt,{bH:()=>R,sg:()=>ot});var B=x(9054);const R=(q,y,j,L,A)=>{let P={x:Math.min(q,j),y:Math.min(y,L),width:Math.abs(j-q)||1,height:Math.abs(L-y)||1};return null!=A&&A.ratio&&(P.width<=P.height?P.height=P.width*(null==A?void 0:A.ratio):P.width=P.height/(null==A?void 0:A.ratio)),Object.assign(P,{ratios:(null==A?void 0:A.ratios)||[[(q-P.x)/(P.width||1),(y-P.y)/(P.height||1)],[(j-P.x)/(P.width||1),(L-P.y)/(P.height||1)]]}),null!=A&&A.points&&(P.points=null==A?void 0:A.points),P},ot=(q,y,j)=>{var L=(()=>{switch(q){case B.$.CIRCLE:return{cx:y.x+y.width/2,cy:y.y+y.height/2,r:Math.min(y.width/2,y.height/2)};case B.$.ELLIPSE:return{cx:y.x+y.width/2,cy:y.y+y.height/2,rx:y.width/2,ry:y.height/2};case B.$.LINE:{var A;let ut={};return null===(A=y.ratios)||void 0===A||A.forEach((yt,D)=>{ut[`x${D+1}`]=y.x+y.width*yt[0],ut[`y${D+1}`]=y.y+y.height*yt[1]}),ut}case B.$.RECT:return{x:y.x,y:y.y,width:y.width,height:y.height,rx:y.rx,ry:y.ry};case B.$.POLYGON:var P;return{points:((null===(P=y.ratios)||void 0===P?void 0:P.map(ut=>[y.x+y.width*ut[0],y.y+y.height*ut[1]]))||[]).map(ut=>ut.join(" ")).join(",")};case B.$.FOREIGNOBJECT:case B.$.IMAGE:return{x:y.x,y:y.y,width:y.width,height:y.height};case B.$.TEXT:var Q;return{x:y.x,y:y.y+(null!==(Q=null==j?void 0:j.fontSize)&&void 0!==Q?Q:20)-4};case B.$.PATH:{var W;let ut=null!==(W=y.points)&&void 0!==W?W:[];return ut.length?{d:`M ${ut[0][0]} ${ut[0][1]} L `+(ut.map(yt=>[yt[0],yt[1]])||[]).map(yt=>yt.join(" ")).join(" ")}:{d:""}}}return{}})();return y.rotate?(L.transform=`rotate(${y.rotate})`,L.transformOrigin=`${y.x+y.width/2} ${y.y+y.height/2}`):(L.transform=null,L.transformOrigin=null),L}},5811:(Re,qt,x)=>{"use strict";x.d(qt,{q:()=>B});const B=(R,ot)=>{var et;return ot=null!==(et=ot)&&void 0!==et?et:100,Math.round((R+Number.EPSILON)*ot)/ot}},3423:(Re,qt,x)=>{"use strict";x.d(qt,{v:()=>ot});var B=x(4981),R=x(5811);const ot=et=>(0,R.q)(et/B.icdt.screen.scale)},3385:(Re,qt,x)=>{"use strict";x.d(qt,{NC:()=>P,SM:()=>A,VW:()=>Q,Vs:()=>L,co:()=>y,k6:()=>q,lO:()=>j,mr:()=>W});var B=x(4981),R=x(4080),ot=x(4318),et=x(5811);const q=(ut,yt)=>{let{id:D,type:G,size:F,attribute:b}=ut,Mt=JSON.parse(JSON.stringify({id:D,size:F,attribute:b}));F.x=(0,et.q)(yt),Object.assign(b,(0,ot.sg)(G,F)),(0,R.__)(window.document.getElementById(D),b),B.icdt.history.push([{type:"size",from:Mt,to:JSON.parse(JSON.stringify({id:D,size:F,attribute:b}))}])},y=(ut,yt)=>{let{id:D,type:G,size:F,attribute:b}=ut,Mt=JSON.parse(JSON.stringify({id:D,size:F,attribute:b}));F.y=(0,et.q)(yt),Object.assign(b,(0,ot.sg)(G,F)),(0,R.__)(window.document.getElementById(D),b),B.icdt.history.push([{type:"size",from:Mt,to:JSON.parse(JSON.stringify({id:D,size:F,attribute:b}))}])},j=(ut,yt,D)=>{let{id:G,type:F,size:b,attribute:Mt}=ut,Lt=JSON.parse(JSON.stringify({id:G,size:b,attribute:Mt}));D&&(b.height=(0,et.q)(yt*b.height/b.width)),b.width=(0,et.q)(yt),Object.assign(Mt,(0,ot.sg)(F,b)),(0,R.__)(window.document.getElementById(G),Mt),B.icdt.history.push([{type:"size",from:Lt,to:JSON.parse(JSON.stringify({id:G,size:b,attribute:Mt}))}])},L=(ut,yt,D)=>{let{id:G,type:F,size:b,attribute:Mt}=ut,Lt=JSON.parse(JSON.stringify({id:G,size:b,attribute:Mt}));D&&(b.width=(0,et.q)(yt*b.width/b.height)),b.height=(0,et.q)(yt),Object.assign(Mt,(0,ot.sg)(F,b)),(0,R.__)(window.document.getElementById(G),Mt),B.icdt.history.push([{type:"size",from:Lt,to:JSON.parse(JSON.stringify({id:G,size:b,attribute:Mt}))}])},A=(ut,yt)=>{let{id:D,type:G,size:F,attribute:b}=ut,Mt=JSON.parse(JSON.stringify({id:D,size:F,attribute:b}));F.r=(0,et.q)(yt),Object.assign(b,(0,ot.sg)(G,F)),(0,R.__)(window.document.getElementById(D),b),B.icdt.history.push([{type:"size",from:Mt,to:JSON.parse(JSON.stringify({id:D,size:F,attribute:b}))}])},P=(ut,yt)=>{let{id:D,type:G,size:F,attribute:b}=ut,Mt=JSON.parse(JSON.stringify({id:D,size:F,attribute:b}));F.rx=(0,et.q)(yt),Object.assign(b,(0,ot.sg)(G,F)),(0,R.__)(window.document.getElementById(D),b),B.icdt.history.push([{type:"size",from:Mt,to:JSON.parse(JSON.stringify({id:D,size:F,attribute:b}))}])},Q=(ut,yt)=>{let{id:D,type:G,size:F,attribute:b}=ut,Mt=JSON.parse(JSON.stringify({id:D,size:F,attribute:b}));F.ry=(0,et.q)(yt),Object.assign(b,(0,ot.sg)(G,F)),(0,R.__)(window.document.getElementById(D),b),B.icdt.history.push([{type:"size",from:Mt,to:JSON.parse(JSON.stringify({id:D,size:F,attribute:b}))}])},W=(ut,yt)=>{let{id:D,type:G,size:F,attribute:b}=ut,Mt=JSON.parse(JSON.stringify({id:D,size:F,attribute:b}));F.rotate=(0,et.q)(yt),Object.assign(b,(0,ot.sg)(G,F)),(0,R.__)(window.document.getElementById(D),b),B.icdt.history.push([{type:"size",from:Mt,to:JSON.parse(JSON.stringify({id:D,size:F,attribute:b}))}])}},6816:(Re,qt,x)=>{"use strict";x.d(qt,{A:()=>y});var B=x(968),R=x(4981);class ot{constructor(L){this._points=[],this._options=L}start(L){this._points.length=0,this._points.push([L.x,L.y]),this._options.start(L)}move(L){this._points.push([L.x,L.y]),this._options.move(L,this._points)}end(){this._options.end(this.offsetLast,this._points)}get offsetFirst(){return this._points.length>=1?{x:(L=this._points[0])[0],y:L[1]}:{x:0,y:0};var L}get offsetLast(){return this._points.length>=1?{x:(L=this._points[this._points.length-1])[0],y:L[1]}:{x:0,y:0};var L}}var et=x(7797);const y=(j,L,A,P,Q)=>{var W,ut,yt;let D=null,G=0,F=0;j.mouseEvent?(D=j.mouseEvent.target,G=j.mouseEvent.offsetX,F=j.mouseEvent.offsetY):j.touchEvent&&(D=j.touchEvent.target,j.touchEvent.touches.length&&(G=j.touchEvent.touches[0].clientX,F=j.touchEvent.touches[0].clientY));let b=null!=A?A:R.icdt.screen.scale,Mt=null!=P?P:R.icdt.screen.position,Lt=null!=Q?Q:R.icdt.screen.offset,jt=()=>{};var It=new ot({start:null!==(W=null==L?void 0:L.start)&&void 0!==W?W:jt,move:null!==(ut=null==L?void 0:L.move)&&void 0!==ut?ut:jt,end:null!==(yt=null==L?void 0:L.end)&&void 0!==yt?yt:jt});j.mouseEvent?It.start((0,et.p)({x:G,y:F},b,{x:0,y:0},{x:0,y:0})):j.touchEvent&&It.start((0,et.p)({x:G,y:F},b,Mt,Lt));let St=rt=>{It.move((0,et.p)({x:rt.clientX,y:rt.clientY},b,Mt,Lt))},a=rt=>{It.end(),[B._.SHAPE,B._.FOREIGNOBJECT,B._.IMAGE,B._.TEXT].includes(R.icdt.pointer.pointer_type)&&(rt.shiftKey||(R.icdt.pointer.pointer_type=B._.POINTER))},Et=rt=>{rt.touches.length&&St({clientX:rt.touches[0].clientX,clientY:rt.touches[0].clientY})},Tt=rt=>{a({shiftKey:rt.shiftKey,ctrlKey:rt.ctrlKey,altKey:rt.altKey}),window.removeEventListener("touchmove",Et,!1),window.removeEventListener("touchend",Tt,!1)},Bt=rt=>{0==rt.button&&St({clientX:rt.clientX,clientY:rt.clientY})},Ct=rt=>{0==rt.button&&(a({shiftKey:rt.shiftKey,ctrlKey:rt.ctrlKey,altKey:rt.altKey}),window.removeEventListener("mousemove",Bt,!1),window.removeEventListener("mouseup",Ct,!1))};if(j.mouseEvent)window.addEventListener("mousemove",Bt,!1),window.addEventListener("mouseup",Ct,!1);else if(j.touchEvent){var At;window.addEventListener("touchmove",Et,!1),window.addEventListener("touchend",Tt,!1),null===(At=D)||void 0===At||At.addEventListener("touchmove",function(rt){rt.preventDefault()})}}},7797:(Re,qt,x)=>{"use strict";x.d(qt,{p:()=>R});var B=x(5811);const R=(ot,et,q,y)=>(ot.x-=y.x,ot.y-=y.y,ot.x-=q.x,ot.y-=q.y,ot.x/=et,ot.y/=et,ot.x=(0,B.q)(ot.x),ot.y=(0,B.q)(ot.y),ot)},1690:(Re,qt,x)=>{"use strict";x.d(qt,{$:()=>ee});var B=x(4981),R=x(9054),ot=x(2276),et=x(5973),q=x(2336),y=x(861),j=x(157),L=x(4787),P=x(1105),Q=x(6358);const b=function(_t){var E,vt,Nt=$("#"+_t),U=null===(E=Nt.attr("class"))||void 0===E?void 0:E.match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm),at=null===(vt=Nt.attr("class"))||void 0===vt?void 0:vt.match(/animate((__[a-zA-Z0-9]+)+)?(\s+||\")/gm);U&&U.forEach(function(gt){$(Nt).removeClass(gt)}),at&&at.forEach(function(gt){$(Nt).removeClass(gt)});let nt=Nt.attr("data-class");nt&&(Nt.attr("class",nt),Nt.removeAttr("data-class")),$(Nt).data("animation-running",!1)};var Mt=x(7210),Lt=x(5811);const jt=(_t,E,vt)=>{var Nt,U,at,nt;let gt=1,Rt=new Image;Rt.onload=()=>{var Ut,ht,Gt,ie;gt=(0,Lt.q)(Rt.naturalWidth/Rt.naturalHeight,100);let Te=0,te=0,ge=0,ye=0;var je,Ce,Me,Ze;gt>=1?(ge=Math.min(Rt.naturalWidth,null!==(je=null===(Ce=ee.slide.svg)||void 0===Ce||null===(Ce=Ce.viewBox)||void 0===Ce?void 0:Ce.width)&&void 0!==je?je:0),ye=ge/gt):(ye=Math.min(Rt.naturalHeight,null!==(Me=null===(Ze=ee.slide.svg)||void 0===Ze||null===(Ze=Ze.viewBox)||void 0===Ze?void 0:Ze.height)&&void 0!==Me?Me:0),ge=ye/gt),Te=((null!==(Ut=null===(ht=ee.slide.svg)||void 0===ht||null===(ht=ht.viewBox)||void 0===ht?void 0:ht.width)&&void 0!==Ut?Ut:0)-ge)/2,te=((null!==(Gt=null===(ie=ee.slide.svg)||void 0===ie||null===(ie=ie.viewBox)||void 0===ie?void 0:ie.height)&&void 0!==Gt?Gt:0)-ye)/2,E.size={x:Te,y:te,width:ge,height:ye},It(E,vt)},Rt.onerror=Ut=>{console.error(`ImgSrc load failed -> ${JSON.stringify(E.source)}`,Ut)},Rt.src=null!==(Nt=null!==(U=null===(at=E.source)||void 0===at?void 0:at.url)&&void 0!==U?U:null===(nt=E.source)||void 0===nt?void 0:nt.path)&&void 0!==Nt?Nt:""},It=(_t,E)=>{if(_t.slideStatus!=ee.slideStatus)return void E();let{element:vt}=(0,Mt.G)(Math.ceil(1e9*Math.random()),{size:_t.size,source:{type:"image",image:null==_t?void 0:_t.source}});setTimeout(()=>{null==vt||vt.remove(),E()},3e3)},St=(_t,E,vt)=>{var Nt,U,at,nt;let gt=new Image;gt.onload=()=>{a(_t,{width:gt.naturalWidth,height:gt.naturalHeight},E,vt)},gt.onerror=Rt=>{console.error(`ImgSrc load failed -> ${JSON.stringify(E.source)}`,Rt),vt()},gt.src=null!==(Nt=null!==(U=null===(at=E.source)||void 0===at?void 0:at.url)&&void 0!==U?U:null===(nt=E.source)||void 0===nt?void 0:nt.path)&&void 0!==Nt?Nt:""},a=(_t,E,vt,Nt)=>{if(vt.slideStatus!=ee.slideStatus)return void Nt();let U=(0,Lt.q)(E.width/E.height,100),at=0,nt=0,gt=0,Rt=0;U>=1?(gt=E.width,gt=Math.max(gt,40),gt=Math.min(gt,100),Rt=gt/U):(Rt=E.height,Rt=Math.max(Rt,40),Rt=Math.min(Rt,100),gt=Rt/U);let{size:Ut}=_t;at=Ut.x+Ut.width/2-gt/2,nt=Ut.y+Ut.height/2-Rt/2;let{element:ht}=(0,Mt.G)(Math.ceil(1e9*Math.random()),{size:{x:at,y:nt,width:gt,height:Rt},source:{type:"image",image:null==vt?void 0:vt.source}});setTimeout(()=>{null==ht||ht.remove(),Nt()},3e3)};var Et=x(4080);const Tt=(_t,E,vt)=>{var Nt,U,at;if(E.slideStatus!=ee.slideStatus)return void vt();if(null===(Nt=E.source)||void 0===Nt||!Nt.url)return console.warn(`${_t.id} -> audio no source!`),void vt();var nt=$("#"+_t.id);let gt=null!==(U=E.iteration)&&void 0!==U?U:0;if(gt<0&&(vt(),vt=function(){}),!(nt.data("audio-running")&&gt<0)){nt.data("audio-running",!0);var Rt=new Audio;return Rt.autoplay=!0,Rt.loop=0!=gt,Rt.preload="auto",Rt.controls=!0,Rt.setAttributeNode(document.createAttribute("playsinline")),Rt.addEventListener("canplay",function(){var Ut=Rt.play();Ut&&Ut.then(function(ht){nt.data("audio-running",!0)}).catch(function(ht){nt.data("audio-running",!1),E.slideStatus===ee.slideStatus&&vt()})}),Rt.addEventListener("timeupdate",function(){var ht;E.slideStatus!==ee.slideStatus&&((ht=this).pause(),ht.remove(),nt.data("audio-running",!1))}),Rt.addEventListener("canplaythrough",function(){this.loop&&(gt>0?gt--:0==gt&&(this.loop=!1))}),Rt.addEventListener("play",function(){}),Rt.addEventListener("pause",function(){}),Rt.addEventListener("ended",function(){this.remove(),nt.data("audio-running",!1),E.slideStatus===ee.slideStatus&&vt()}),Rt.onerror=function(){this.remove(),nt.data("audio-running",!1),E.slideStatus===ee.slideStatus&&vt()},Rt.src=(null===(at=E.source)||void 0===at?void 0:at.url)||"",Rt}};var Bt=x(1687),Ct=x(4447);const Oe=(_t,E,vt)=>{var Nt;null===(Nt=E.test)||void 0===Nt||null===(Nt=Nt.answer)||void 0===Nt||null===(Nt=Nt.matching)||void 0===Nt||Nt.filter(U=>U.value==vt.key).forEach(U=>U.value="")},ve=(_t,E,vt,Nt,U,at)=>{var nt,gt,Rt,Ut,ht,Gt,ie,Te,te,ge,ye,je;U.iscorrect?(null!==(nt=E.test)&&void 0!==nt&&null!==(nt=nt.audiotrue)&&void 0!==nt&&nt.path&&Tt(_t,{source:(0,Ct.I)(null===(Ut=E.test)||void 0===Ut?void 0:Ut.audiotrue),iteration:0,nodeStatus:vt,slideStatus:Nt},at),null!==(gt=E.test)&&void 0!==gt&&null!==(gt=gt.icontrue)&&void 0!==gt&&gt.path&&St(_t,{source:(0,Ct.I)(null===(ht=E.test)||void 0===ht?void 0:ht.icontrue),iteration:0,nodeStatus:vt,slideStatus:Nt},at),null!==(Rt=E.test)&&void 0!==Rt&&null!==(Rt=Rt.effecttrue)&&void 0!==Rt&&Rt.path&&jt(0,{source:(0,Ct.I)(null===(Gt=E.test)||void 0===Gt?void 0:Gt.effecttrue),iteration:0,nodeStatus:vt,slideStatus:Nt},at)):(null!==(ie=E.test)&&void 0!==ie&&null!==(ie=ie.audiofalse)&&void 0!==ie&&ie.path&&Tt(_t,{source:(0,Ct.I)(null===(ge=E.test)||void 0===ge?void 0:ge.audiofalse),iteration:0,nodeStatus:vt,slideStatus:Nt},at),null!==(Te=E.test)&&void 0!==Te&&null!==(Te=Te.iconfalse)&&void 0!==Te&&Te.path&&St(_t,{source:(0,Ct.I)(null===(ye=E.test)||void 0===ye?void 0:ye.iconfalse),iteration:0,nodeStatus:vt,slideStatus:Nt},at),null!==(te=E.test)&&void 0!==te&&null!==(te=te.effectfalse)&&void 0!==te&&te.path&&jt(0,{source:(0,Ct.I)(null===(je=E.test)||void 0===je?void 0:je.effectfalse),iteration:0,nodeStatus:vt,slideStatus:Nt},at))},it=(_t,E,vt,Nt)=>{var U,at,nt,gt,Rt;E.animate&&((_t,E,vt)=>{var Nt;let{value:at}=null!==(Nt=_t.animate)&&void 0!==Nt?Nt:{};((_t,E,vt)=>{var Nt;let U=$("#"+_t),at="",nt=null!==(Nt=E.iteration)&&void 0!==Nt?Nt:0,gt=[];(E.value||"").match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm)?gt.push(E.value):E.value?["top-left","top","top-right","left","right","bottom-left","bottom","bottom-right"].includes(E.value)?(gt.push("animation"),gt.push(`animation-${E.value}`)):(gt.push("animate__animated"),gt.push(`animate__${E.value}`)):(gt.push("animation"),gt.push("animation-fadein")),nt<0?(gt.push("animation-iteration-infinite"),vt(),vt=function(){}):nt>0&&gt.push("animation-iteration-"+(nt+1)),at=gt.join(" "),function(Ut){let ht=function(){U.data("animate-running")?U.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){U.data("animate-running",!1),setTimeout(function(){Ut()},100)}):Ut()};U.hasClass("animation")?setTimeout(function(){ht()}):ht()}(function(){var Ut;b(_t),(nt>0||nt<0)&&U.one("animationiteration",function(){E.slideStatus===ee.slideStatus||(U.data("animate-running",!1),b(_t),E.slideStatus===ee.slideStatus&&vt())}),U.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){switch(U.data("animate-running",!1),b(_t),E.finish){default:case 0:case 1:break;case 2:U.addClass("hide")}E.slideStatus===ee.slideStatus&&vt()}),U.attr("data-class",null!==(Ut=U.attr("class"))&&void 0!==Ut?Ut:""),U.addClass(at),U.data("animate-running",!0)})})(_t.id,{value:at,nodeStatus:E,slideStatus:vt},()=>{})})(E,vt.nodeStatus,vt.slideStatus),null!==(U=E.interactive)&&void 0!==U&&U.show?((_t,E,vt,Nt)=>{var U,at,nt;console.log("icdt_Run_Interactive_NodeShow",_t,E,vt);let gt={total:0,counter:0},{triggershow:Rt,triggerrun:Ut,triggerhide:ht,action:Gt,audio:ie}=null!==(U=null===(at=_t.interactive)||void 0===at?void 0:at.show)&&void 0!==U?U:{};if(Rt){let{id:te,ids:ge,time:ye,async:je}=Rt;"asynctrue"==je?(0,L.L5)({id:te,ids:ge,nodeStatus:E,slideStatus:vt}):"time"==je&&setTimeout(()=>{(0,L.L5)({id:te,ids:ge,nodeStatus:E,slideStatus:vt})},1e3*(null!=ye?ye:0))}if(Ut){let{id:te,ids:ge,time:ye,async:je}=Ut;"asynctrue"==je?(0,L.Ar)({id:te,ids:ge,nodeStatus:E,slideStatus:vt}):"time"==je&&setTimeout(()=>{(0,L.Ar)({id:te,ids:ge,nodeStatus:E,slideStatus:vt})},1e3*(null!=ye?ye:0))}if(ht){let{id:te,ids:ge,time:ye,async:je}=ht;"asynctrue"==je?(0,L.WT)({id:te,ids:ge,nodeStatus:E,slideStatus:vt}):"time"==je&&setTimeout(()=>{(0,L.WT)({id:te,ids:ge,nodeStatus:E,slideStatus:vt})},1e3*(null!=ye?ye:0))}let Te=()=>{setTimeout(()=>{if(gt.counter>=gt.total){if(Nt&&Nt(),Rt){let{id:te,ids:ge,async:ye}=Rt;"asyncfalse"==ye&&(0,L.L5)({id:te,ids:ge,nodeStatus:E,slideStatus:vt})}if(Ut){let{id:te,ids:ge,async:ye}=Ut;"asyncfalse"==ye&&(0,L.Ar)({id:te,ids:ge,nodeStatus:E,slideStatus:vt})}if(ht){let{id:te,ids:ge,async:ye}=ht;"asyncfalse"==ye&&(0,L.WT)({id:te,ids:ge,nodeStatus:E,slideStatus:vt})}}})};if(Gt&&null!=Gt&&Gt.value){gt.total+=1;let te=()=>{gt.counter+=1,Te()};switch(null==Gt?void 0:Gt.value){case"hide":$("#"+_t.id).addClass("hide"),te();break;case"points":{let{points:ge,time:ye,iteration:je,finish:Ce}=Gt;(0,y.G)(_t.id,{points:ge,time:ye,iteration:je,finish:Ce,nodeStatus:E,slideStatus:vt},te);break}default:{let{value:ge,time:ye,iteration:je,finish:Ce}=Gt;(0,q.Q)(_t.id,{value:ge,time:ye,iteration:je,finish:Ce,nodeStatus:E,slideStatus:vt},te);break}}}if(ie&&null!==(nt=ie.source)&&void 0!==nt&&nt.path){gt.total+=1;let te=()=>{gt.counter+=1,Te()};(0,j.R)(_t.id,ie,gt,{nodeStatus:E,slideStatus:vt},te)}gt.total||Te()})(E,vt.nodeStatus,vt.slideStatus,Nt):Nt&&Nt(),null!==(at=E.interactive)&&void 0!==at&&at.click&&ot("#"+E.id).click(Ut=>{var ht;Ut.preventDefault(),null!==(ht=E.interactive)&&void 0!==ht&&null!==(ht=ht.click)&&void 0!==ht&&ht.action&&ot("#"+E.id).addClass("interactive-click"),vt.nodeStatus=ee.refreshNodeStatus(),(0,et.F)(E,vt.nodeStatus,vt.slideStatus)}),null!==(nt=E.variable)&&void 0!==nt&&nt.input&&ot("#"+E.id).on("change","input,textarea",Ut=>{Ut.preventDefault(),((_t,E,vt)=>{var Nt,U;B.icdt.variable.setValue(null!==(Nt=null===(U=E.variable)||void 0===U||null===(U=U.input)||void 0===U?void 0:U.variable)&&void 0!==Nt?Nt:"",_t),(_t=>{var E;let vt=(Nt,U)=>{null==Nt||Nt.forEach(at=>{switch(at.type){case R.$.GROUP:(0,Q.m)(at.id,{},U),vt(at.nodes,at.id);break;case R.$.POLYGON:break;case R.$.TEXT:(0,P.$)(at.id,{size:at.size,attribute:at.attribute,source:at.source},U)}})};vt(null===(E=_t.svg)||void 0===E?void 0:E.nodes)})(vt)})(Ut.target.value,E,_t)}),null!==(gt=E.variable)&&void 0!==gt&&gt.click&&ot("#"+E.id).click(Ut=>{var ht;Ut.preventDefault(),null!==(ht=E.variable)&&void 0!==ht&&null!==(ht=ht.click)&&void 0!==ht&&ht.variable&&ot("#"+E.id).addClass("variable-click"),((_t,E)=>{var vt;B.icdt.variable.setValueOperator(null===(vt=_t.variable)||void 0===vt?void 0:vt.click),(_t=>{var E;let vt=(Nt,U)=>{null==Nt||Nt.forEach(at=>{switch(at.type){case R.$.GROUP:(0,Q.m)(at.id,{},U),vt(at.nodes,at.id);break;case R.$.POLYGON:break;case R.$.TEXT:(0,P.$)(at.id,{size:at.size,attribute:at.attribute,source:at.source},U)}})};vt(null===(E=_t.svg)||void 0===E?void 0:E.nodes)})(E)})(E,_t)}),"test"==(null===(Rt=E.source)||void 0===Rt?void 0:Rt.type)&&((_t,E)=>{var vt;let Nt=()=>{};switch(null===(vt=_t.source)||void 0===vt||null===(vt=vt.test)||void 0===vt?void 0:vt.type){case"singlechoice":jQuery("#"+_t.id).click(U=>{U.preventDefault(),((_t,E,vt,Nt,U)=>{var at,nt;let gt=null===(at=_t.source)||void 0===at||null===(at=at.test)||void 0===at||null===(at=at.singlechoice)||void 0===at?void 0:at.iscorrect;null!==(nt=E.svg)&&void 0!==nt&&nt.nodes.find(Ut=>{var ht;return"submit"==(null===(ht=Ut.source)||void 0===ht||null===(ht=ht.test)||void 0===ht?void 0:ht.type)})||ve(_t,E,vt,Nt,{iscorrect:gt},U),E.test?E.test.answer?E.test.answer.singlechoice={value:_t.id,iscorrect:gt}:E.test.answer={singlechoice:{value:_t.id,iscorrect:gt}}:E.test={answer:{singlechoice:{value:_t.id,iscorrect:gt}}};let Rt=(0,Et.g1)(Bt.O.TEST_GROUP,"g",void 0,B.icdt.target);(0,Et.Yw)(Rt,E),console.log("node source ->",_t.source),console.log("slide test ->",E.test)})(_t,E,ee.nodeStatus,ee.slideStatus,Nt)});break;case"multichoice":jQuery("#"+_t.id).click(U=>{U.preventDefault(),((_t,E,vt,Nt,U)=>{var at,nt;let Rt,gt=null===(at=_t.source)||void 0===at||null===(at=at.test)||void 0===at||null===(at=at.multichoice)||void 0===at?void 0:at.iscorrect;null!==(nt=E.svg)&&void 0!==nt&&nt.nodes.find(ht=>{var Gt;return"submit"==(null===(Gt=ht.source)||void 0===Gt||null===(Gt=Gt.test)||void 0===Gt?void 0:Gt.type)})||ve(_t,E,vt,Nt,{iscorrect:gt},U),E.test?E.test.answer?E.test.answer.multichoice?E.test.answer.multichoice.find(ht=>ht.value==_t.id)?(E.test.answer.multichoice=E.test.answer.multichoice.filter(ht=>ht.value!=_t.id),Rt=!0):E.test.answer.multichoice.push({value:_t.id,iscorrect:gt}):E.test.answer.multichoice=[{value:_t.id,iscorrect:gt}]:E.test.answer={multichoice:[{value:_t.id,iscorrect:gt}]}:E.test={answer:{multichoice:[{value:_t.id,iscorrect:gt}]}};let Ut=(0,Et.g1)(Bt.O.TEST_GROUP,"g",void 0,B.icdt.target);(0,Et.Yw)(Ut,E),console.log("node source ->",_t.source),console.log("slide test ->",E.test)})(_t,E,ee.nodeStatus,ee.slideStatus,Nt)});break;case"fill":jQuery("#"+_t.id).on("keyup",'input[type="text"]',U=>{var at;let nt=$("<div/>").css({"font-size":$(U.target).css("font-size"),visibility:"hidden",float:"left"}).text(U.target.value).appendTo(window.document.body);$(U.target).css({width:(null!==(at=nt.width())&&void 0!==at?at:0)+30})}).on("keypress",'input[type="text"]',U=>{13===(U.keyCode||U.charCode||U.which)&&(U.preventDefault(),U.stopPropagation(),$(U.target).blur())}).on("change",'input[type="text"]',U=>{var at,nt;let gt=ee.nodeStatus,Rt=ee.slideStatus,Ut=null===(at=U.target)||void 0===at?void 0:at.getAttribute("data-key"),ht=null===(nt=U.target)||void 0===nt||null===(nt=nt.value)||void 0===nt||null===(nt=nt.toLowerCase())||void 0===nt?void 0:nt.trim();((_t,E,vt,Nt,U,at)=>{var nt,gt,Rt;let{value:Ut}=null!==(nt=null===(gt=_t.source)||void 0===gt||null===(gt=gt.test)||void 0===gt||null===(gt=gt.fill)||void 0===gt?void 0:gt.find(Gt=>Gt.key==`[[${U.key}]]`))&&void 0!==nt?nt:{},ht=Ut&&Ut.includes(U.value);null!==(Rt=E.svg)&&void 0!==Rt&&Rt.nodes.find(Gt=>{var ie;return"submit"==(null===(ie=Gt.source)||void 0===ie||null===(ie=ie.test)||void 0===ie?void 0:ie.type)})||ve(_t,E,vt,Nt,{iscorrect:ht},at),U.iscorrect=ht,E.test?E.test.answer?E.test.answer.fill?E.test.answer.fill.find(Gt=>Gt.key==U.key)?E.test.answer.fill.filter(Gt=>Gt.key==U.key).forEach(Gt=>{Gt.value=U.value,Gt.iscorrect=U.iscorrect}):E.test.answer.fill.push(U):E.test.answer.fill=[U]:E.test.answer={fill:[U]}:E.test={answer:{fill:[U]}},console.log("node source ->",_t.source),console.log("slide test ->",E.test)})(_t,E,gt,Rt,{key:Ut,value:ht},Nt),jQuery("#"+_t.id).find(`input[type="text"][data-key="${Ut}"]`).val(ht)});break;case"matching-empty":jQuery("#"+_t.id).on("touchmove",".ondrag-item",function(U){U.preventDefault()}).kendoDraggable({filter:".ondrag-item",hint:function(U){return`<div style="width:64px;height:${_t.size.height/_t.size.width*64}px;border-radius:8px;border:1px dashed #DADADA;padding:8px;box-sizing:content-box;background-color:rgba(255,255,255,0.4);">${U.prop("outerHTML")}</div>`.replace(/\s+/g," ")},dragstart:function(U){$('svg foreignObject .ondrop-here[data-type="matching"]:empty').addClass("actived")},drag:function(U){},dragend:function(U){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")},dragcancel:function(){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")}}),jQuery(`#${_t.id} .ondrop-here`).kendoDropTarget({dragenter:function(U){U.dropTarget.hasClass("actived")&&U.dropTarget.addClass("focused")},dragleave:function(U){U.dropTarget.hasClass("actived")&&U.dropTarget.removeClass("focused")},drop:function(U){if(!U.dropTarget.hasClass("actived"))return;U.dropTarget.removeClass("focused");let nt=U.draggable.currentTarget;nt.appendTo(U.dropTarget),((_t,E,vt,Nt,U,at)=>{var nt,gt,Rt;let{key:Ut}=null!==(nt=null===(gt=_t.source)||void 0===gt||null===(gt=gt.test)||void 0===gt?void 0:gt.matching)&&void 0!==nt?nt:{key:"KIEN"},ht=U.key==Ut;null!==(Rt=E.svg)&&void 0!==Rt&&Rt.nodes.find(ie=>{var Te;return"submit"==(null===(Te=ie.source)||void 0===Te||null===(Te=Te.test)||void 0===Te?void 0:Te.type)})||ve(_t,E,vt,Nt,{iscorrect:ht},at),Oe(_t,E,U);let Gt={key:null!=Ut?Ut:"",value:U.key};E.test?E.test.answer?E.test.answer.matching?E.test.answer.matching.find(ie=>ie.key==Ut)?E.test.answer.matching.filter(ie=>ie.key==Ut).forEach(ie=>ie.value=Gt.value):E.test.answer.matching.push(Gt):E.test.answer.matching=[Gt]:E.test.answer={matching:[Gt]}:E.test={answer:{matching:[Gt]}},console.log("node source ->",_t.source),console.log("slide test ->",E.test)})(_t,E,ee.nodeStatus,ee.slideStatus,{key:nt.data("key")},Nt)}});break;case"matching-content":jQuery("#"+_t.id).on("touchmove",".ondrag-item",function(U){U.preventDefault()}).kendoDraggable({filter:".ondrag-item",hint:function(U){return`<div style="width:64px;height:${_t.size.height/_t.size.width*64}px;border-radius:8px;border:1px dashed #DADADA;padding:8px;box-sizing:content-box;background-color:rgba(255,255,255,0.4);">${U.prop("outerHTML")}</div>`.replace(/\s+/g," ")},dragstart:function(U){$('svg foreignObject .ondrop-here[data-type="matching"]:empty').addClass("actived")},drag:function(U){},dragend:function(U){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")},dragcancel:function(){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")}}),jQuery(`#${_t.id} .ondrop-here`).kendoDropTarget({dragenter:function(U){U.dropTarget.hasClass("actived")&&U.dropTarget.addClass("focused")},dragleave:function(U){U.dropTarget.hasClass("actived")&&U.dropTarget.removeClass("focused")},drop:function(U){if(!U.dropTarget.hasClass("actived"))return;U.dropTarget.removeClass("focused");let nt=U.draggable.currentTarget;nt.appendTo(U.dropTarget),Oe(_t,E,{key:nt.data("key")})}});break;case"speech":break;case"submit":jQuery("#"+_t.id).click(U=>{U.preventDefault(),((_t,E,vt,Nt,U)=>{var at,nt,gt,Rt;let Ut;var ht;if(null!=E&&null!==(at=E.test)&&void 0!==at&&null!==(at=at.answer)&&void 0!==at&&at.singlechoice)Ut=null==E||null===(ht=E.test)||void 0===ht||null===(ht=ht.answer)||void 0===ht||null===(ht=ht.singlechoice)||void 0===ht?void 0:ht.iscorrect;else if(null!=E&&null!==(nt=E.test)&&void 0!==nt&&null!==(nt=nt.answer)&&void 0!==nt&&nt.multichoice){var Gt,ie,Te;Ut=1==[null==E||null===(Gt=E.test)||void 0===Gt||null===(Gt=Gt.answer)||void 0===Gt||null===(Gt=Gt.multichoice)||void 0===Gt?void 0:Gt.length,null==E||null===(ie=E.test)||void 0===ie||null===(ie=ie.answer)||void 0===ie||null===(ie=ie.multichoice)||void 0===ie||null===(ie=ie.map(Ce=>Ce.iscorrect?1:0))||void 0===ie?void 0:ie.reduce((Ce,Me)=>Ce+Me),null==E||null===(Te=E.svg)||void 0===Te||null===(Te=Te.nodes)||void 0===Te||null===(Te=Te.filter(Ce=>{var Me,Ze;return"multichoice"==(null===(Me=Ce.source)||void 0===Me||null===(Me=Me.test)||void 0===Me?void 0:Me.type)&&(null===(Ze=Ce.source)||void 0===Ze||null===(Ze=Ze.test)||void 0===Ze||null===(Ze=Ze.multichoice)||void 0===Ze?void 0:Ze.iscorrect)}))||void 0===Te?void 0:Te.length].filter((Ce,Me,Ze)=>Ze.indexOf(Ce)==Me).length}else if(null!=E&&null!==(gt=E.test)&&void 0!==gt&&null!==(gt=gt.answer)&&void 0!==gt&&gt.fill){var te,ge;Ut=(null==E||null===(te=E.test)||void 0===te||null===(te=te.answer)||void 0===te||null===(te=te.fill)||void 0===te||null===(te=te.map(Ce=>Ce.iscorrect?1:0))||void 0===te?void 0:te.reduce((Ce,Me)=>Ce+Me))==(null===(ge=E.svg)||void 0===ge||null===(ge=ge.nodes)||void 0===ge||null===(ge=ge.filter(Ce=>{var Me;return"fill"==(null===(Me=Ce.source)||void 0===Me||null===(Me=Me.test)||void 0===Me?void 0:Me.type)}))||void 0===ge?void 0:ge.length)}else if(null!=E&&null!==(Rt=E.test)&&void 0!==Rt&&null!==(Rt=Rt.answer)&&void 0!==Rt&&Rt.matching){var ye,je;Ut=(null===(ye=E.svg)||void 0===ye||null===(ye=ye.nodes)||void 0===ye||null===(ye=ye.filter(Ce=>{var Me;return"matching-empty"==(null===(Me=Ce.source)||void 0===Me||null===(Me=Me.test)||void 0===Me?void 0:Me.type)}))||void 0===ye?void 0:ye.length)==((null==E||null===(je=E.test)||void 0===je||null===(je=je.answer)||void 0===je?void 0:je.matching)||[]).map(Ce=>Ce.key==Ce.value?1:0).reduce((Ce,Me)=>Ce+Me)}ve(_t,E,vt,Nt,{iscorrect:Ut},U),console.log("node source ->",_t.source),console.log("slide test ->",E.test)})(_t,E,ee.nodeStatus,ee.slideStatus,Nt)})}})(E,_t)};var st=x(8619),_=x(8785),K=x(4921),ct=x(8054),zt=x(2282),le=x(2875),pe=x(8419);const Ae=(_t,E,vt)=>{if(vt.slideStatus!=ee.slideStatus||!E.length)return;let Nt=E.shift(),U=_t.filter(Rt=>Rt.idx==Nt);if(!U.length)return;let at=Math.max.apply(null,U.map(Rt=>{var Ut;return null!==(Ut=Rt.time)&&void 0!==Ut?Ut:0})),nt=!1,gt=at<.5?0:setTimeout(()=>{nt||(nt=!0,Ae(_t,E,vt))},1e3*at);Ue(_t,E,U,0,vt,{idx:Nt,total:U.length,counter:0,isRecursive:nt,timeoutRecursive:gt,maxTimeCoundown:at,uid:Math.floor(1e9*Math.random())})},Ue=(_t,E,vt,Nt,U,at)=>{if(U.slideStatus!=ee.slideStatus)return;let nt=vt[Nt];if(nt){switch(nt.type){case R.$.GROUP:break;case R.$.CIRCLE:(0,st._)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId?window.document.getElementById(U.pId):null);break;case R.$.ELLIPSE:(0,_.r)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId);break;case R.$.LINE:(0,K.W)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId);break;case R.$.RECT:(0,ct.f)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId?window.document.getElementById(U.pId):null);break;case R.$.POLYGON:(0,zt.l)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId);break;case R.$.FOREIGNOBJECT:(0,le.e)(nt.id,{size:nt.size,attribute:nt.attribute,style:nt.style,source:nt.source},U.pId?window.document.getElementById(U.pId):null);break;case R.$.IMAGE:(0,Mt.G)(nt.id,{size:nt.size,attribute:nt.attribute,source:nt.source},U.pId?window.document.getElementById(U.pId):null);break;case R.$.TEXT:(0,P.$)(nt.id,{size:nt.size,attribute:nt.attribute,source:nt.source},U.pId);break;case R.$.PATH:(0,pe.G)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId)}it(U.slide,nt,U,()=>{at.counter+=1,at.maxTimeCoundown<.5&&at.counter>=at.total&&(at.total=at.counter=0,at.isRecursive||(clearTimeout(at.timeoutRecursive),at.isRecursive=!0,setTimeout(()=>{Ae(_t,E,U)},250)))}),Ue(_t,E,vt,++Nt,U,at)}},ee=new class Le{constructor(){this._nodeStatus=0,this._slideStatus=0,this._slideIdx=0,this._fnChangeSlides=[]}set data(E){this._dataSource=E.data||{},B.icdt.variable.set=E.variable||{}}get nodeStatus(){return this._nodeStatus}refreshNodeStatus(){return this._nodeStatus=Math.floor(999999999*Math.random()),this._nodeStatus}get slideStatus(){return this._slideStatus}refreshSlideStatus(){return this._slideStatus=Math.floor(999999999*Math.random()),this._slideStatus}get slideIdx(){return this._slideIdx}get slideTotal(){var E,vt;return null!==(E=null===(vt=this._dataSource)||void 0===vt||null===(vt=vt.slides)||void 0===vt?void 0:vt.length)&&void 0!==E?E:0}get slides(){var E;return(null===(E=this._dataSource)||void 0===E?void 0:E.slides)||[]}get slide(){var E;return((null===(E=this._dataSource)||void 0===E?void 0:E.slides)||[])[this._slideIdx]||{}}findNode(E){var vt;let Nt=null===(vt=this._dataSource)||void 0===vt||null===(vt=vt.slides)||void 0===vt?void 0:vt.find((ie,Te)=>Te==this._slideIdx),U=null==Nt?void 0:Nt.svg,at=(ie,Te)=>{let te=null==ie?void 0:ie.find(je=>je.id==E);if(te)return te.pid=Te,te;let ge=0,ye=ie.length||0;for(;ge<ye&&!te&&(te=at(ie[ge].nodes||[],ie[ge].id),!te);)ge++;return te},nt=at((null==U?void 0:U.nodes)||[]);var gt,Rt,Ut,ht,Gt;return nt?(nt.style=null!==(gt=nt.style)&&void 0!==gt?gt:{},nt.source=null!==(Rt=nt.source)&&void 0!==Rt?Rt:{},nt.animate=null!==(Ut=nt.animate)&&void 0!==Ut?Ut:{},nt.interactive=null!==(ht=nt.interactive)&&void 0!==ht?ht:{},nt.variable=null!==(Gt=nt.variable)&&void 0!==Gt?Gt:{},nt):{id:0,size:{x:0,y:0,width:0,height:0},attribute:{},isfake:!0}}runSlide(E,vt,Nt){var U;let at;var nt,gt;if(this.refreshNodeStatus(),this.refreshSlideStatus(),Nt)at=null===(nt=this._dataSource)||void 0===nt||null===(nt=nt.slides)||void 0===nt?void 0:nt.find(Gt=>Gt.code==Nt||Gt.id==Nt),at&&(this._slideIdx=(null===(gt=this._dataSource)||void 0===gt||null===(gt=gt.slides)||void 0===gt?void 0:gt.indexOf(at))||0);else if(vt){var Rt,Ut;at=null===(Rt=this._dataSource)||void 0===Rt||null===(Rt=Rt.slides)||void 0===Rt?void 0:Rt.find(Gt=>Gt.id==vt),at&&(this._slideIdx=(null===(Ut=this._dataSource)||void 0===Ut||null===(Ut=Ut.slides)||void 0===Ut?void 0:Ut.indexOf(at))||0)}else this._slideIdx=Math.min(Math.max(E||0,0),this.slideTotal-1),at=this.slide;if(at){var ht;Qe(B.icdt.container,B.icdt.svg,at),null===(ht=$(B.icdt.svg).find("#"+Bt.O.BACKGROUND_GROUP))||void 0===ht||ht.empty();let Gt=(0,Et.g1)(Bt.O.BACKGROUND_GROUP,"g",void 0,B.icdt.svg);(0,Et.x0)(Gt,at),(_t=>{var E,vt,Nt;let U=ee.nodeStatus,at=ee.slideStatus,nt=null===(E=_t.svg)||void 0===E||null===(E=E.nodes)||void 0===E?void 0:E.map(gt=>gt.idx).filter((gt,Rt,Ut)=>Ut.indexOf(gt)==Rt).sort((gt,Rt)=>(null!=gt?gt:0)-(null!=Rt?Rt:0));Ae(null!==(vt=null===(Nt=_t.svg)||void 0===Nt?void 0:Nt.nodes)&&void 0!==vt?vt:[],null!=nt?nt:[],{slide:_t,nodeStatus:U,slideStatus:at})})(at)}this.changeSlide(this.slides,null===(U=this.slide)||void 0===U?void 0:U.id,this.slideIdx,this.slides.length)}set onChangeSlide(E){this._fnChangeSlides.push(E)}changeSlide(E,vt,Nt,U){this._fnChangeSlides.forEach(at=>at(E,vt,Nt,U))}},Qe=(_t,E,vt)=>{var Nt,U,at,nt;let gt=window.document.querySelector(E);var Rt;gt||(gt=document.createElementNS("http://www.w3.org/2000/svg","svg"),null===(Rt=window.document.querySelector(_t))||void 0===Rt||Rt.appendChild(gt)),gt.textContent=null;let{x:Ut,y:ht,width:Gt,height:ie}=null!==(Nt=null==vt||null===(U=vt.svg)||void 0===U?void 0:U.viewBox)&&void 0!==Nt?Nt:{x:0,y:0,width:null!==(at=B.icdt.screen.default_width)&&void 0!==at?at:1080,height:null!==(nt=B.icdt.screen.default_height)&&void 0!==nt?nt:1080};gt.setAttributeNS(null,"viewBox",Ut+" "+ht+" "+Gt+" "+ie),gt.setAttribute("id",E.replace("#",""))}},2336:(Re,qt,x)=>{"use strict";x.d(qt,{Q:()=>R});var B=x(1690);const R=(et,q,y)=>{var j;if(!q.value)return void y();let L=$("#"+et),A="",P=null!==(j=q.iteration)&&void 0!==j?j:0,Q=[];(q.value||"").match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm)?Q.push(q.value):(Q.push("animation"),Q.push(q.value?"animation-"+q.value:"animation-fadein")),P<0?(Q.push("animation-iteration-infinite"),y(),y=function(){}):P>0&&Q.push("animation-iteration-"+(P+1)),A=Q.join(" "),function(ut){let yt=function(){L.data("animate-running")?L.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){L.data("animate-running",!1),setTimeout(function(){ut()},100)}):ut()};L.hasClass("animation")?setTimeout(function(){yt()}):yt()}(function(){var ut;ot(et),(P>0||P<0)&&L.one("animationiteration",function(){q.slideStatus===B.$.slideStatus||(L.data("animate-running",!1),ot(et),q.slideStatus===B.$.slideStatus&&y())}),L.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){switch(L.data("animate-running",!1),ot(et),q.finish){default:case 0:case 1:break;case 2:L.addClass("hide")}q.slideStatus===B.$.slideStatus&&y()}),L.attr("data-class",null!==(ut=L.attr("class"))&&void 0!==ut?ut:""),L.addClass(A),L.data("animate-running",!0)})},ot=function(et){var q,y=$("#"+et),j=null===(q=y.attr("class"))||void 0===q?void 0:q.match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm);j&&j.forEach(function(A){$(y).removeClass(A)});let L=y.attr("data-class");L&&(y.attr("class",L),y.removeAttr("data-class")),$(y).data("animation-running",!1)}},861:(Re,qt,x)=>{"use strict";x.d(qt,{G:()=>et});var B=x(4318),R=x(1690),ot=x(4080);const et=(y,j,L)=>{var A;if(!j.points||!j.points.length)return void L();let P=$("#"+y),Q=function q(y){let j=[];2===y.length&&y.splice(1,0,[(y[0][0]+y[1][0])/2,(y[0][1]+y[1][1])/2]);let W,ut,yt,L=1,A=y.length;for(;L<A;){if(W=y[L-1],ut=y[L],yt=y[L+1],(Math.abs(W[0]-ut[0])>=15||Math.abs(W[1]-ut[1])>=15)&&Math.pow(W[0]-ut[0],2)+Math.pow(W[1]-ut[1],2)>=Math.pow(15,2)&&yt&&(Math.abs(W[0]-yt[0])<=20||Math.abs(W[1]-yt[1])<=20)&&Math.pow(W[0]-yt[0],2)+Math.pow(W[1]-yt[1],2)<=Math.pow(20,2))j.push(ut);else{let G=ut[0]-W[0],F=ut[1]-W[1],b=Math.max(Math.abs(G),Math.abs(F));for(var D=0;D<b;D+=15)j.push([W[0]+G*D/b,W[1]+F*D/b])}L++}return A>0&&(j.splice(0,0,y[0]),j.push(y[A-1])),j}(j.points||[]),W=null!==(A=j.iteration)&&void 0!==A?A:0;if(W<0&&(L(),L=function(){}),P.data("work-running")&&W<0)return;P.data("work-running",!0);let Mt,ut=Q.length,yt=Math.max(20,1e3*(j.time||3)/ut),{id:D,type:G,size:F,attribute:b}=R.$.findNode(y),Lt=function(jt){if(j.slideStatus!==R.$.slideStatus)return P.data("work-running",!1),void(j.slideStatus===R.$.slideStatus&&L());if(jt<ut){let It=Q[jt];It&&(Mt=Object.assign({},F,{x:It[0]-F.width/2,y:It[1]-F.height/2}),Object.assign(b,(0,B.sg)(G,Mt)),(0,ot.__)(window.document.getElementById(D),b),setTimeout(function(){Lt(++jt)},yt))}else if(W>0)W--,Lt(1);else if(W<0)Lt(1);else switch(P.data("work-running",!1),j.slideStatus===R.$.slideStatus&&L(),j.finish){default:case 0:break;case 1:Object.assign(b,(0,B.sg)(G,F)),(0,ot.__)(window.document.getElementById(D),b);break;case 2:P.addClass("hide")}};Lt(1)}},157:(Re,qt,x)=>{"use strict";x.d(qt,{R:()=>R});var B=x(1690);const R=(et,q,y,j,L)=>{var A,P,Q;if(j.slideStatus!=B.$.slideStatus)return q.async&&"change-slide"!=q.async?void 0:void L();if(j.nodeStatus!=B.$.nodeStatus&&(!q.async||"change-node"==q.async))return void L();if(null===(A=q.source)||void 0===A||!A.url)return console.warn(`${et} -> audio no source!`),L(),void(L=()=>{});var W=$("#"+et);let ut=null!==(P=q.iteration)&&void 0!==P?P:0;if(ut<0&&(L(),L=function(){}),!(W.data("audio-running")&&ut<0)){W.data("audio-running",!0);var yt=function(G){G.pause(),G.remove(),W.data("audio-running",!1)},D=new Audio;return D.autoplay=!0,D.loop=0!=ut,D.preload="auto",D.controls=!0,D.setAttributeNode(document.createAttribute("playsinline")),D.addEventListener("canplay",function(){var G=D.play();G&&G.then(function(F){var b;W.data("audio-running",!0),"time"==q.async?setTimeout(()=>{yt(D),L(),L=()=>{}},1e3*(null!==(b=q.time)&&void 0!==b?b:1)):"non-stop"==q.async&&(L(),L=()=>{})}).catch(function(F){W.data("audio-running",!1),j.slideStatus===B.$.slideStatus&&(L(),L=()=>{})})}),D.addEventListener("timeupdate",function(){switch(q.async){case"time":case"non-stop":break;case"finish-action":y.total>=2&&y.total-y.counter==1&&(yt(this),L(),L=()=>{});break;default:case"change-node":j.nodeStatus!==B.$.nodeStatus&&(yt(this),L(),L=()=>{});break;case"change-slide":j.slideStatus!==B.$.slideStatus&&(yt(this),L(),L=()=>{})}}),D.addEventListener("canplaythrough",function(){this.loop&&(ut>0?ut--:0==ut&&(this.loop=!1))}),D.addEventListener("play",function(){}),D.addEventListener("pause",function(){}),D.addEventListener("ended",function(){this.remove(),W.data("audio-running",!1),j.slideStatus===B.$.slideStatus&&(L(),L=()=>{})}),D.onerror=function(){this.remove(),W.data("audio-running",!1),j.slideStatus===B.$.slideStatus&&(L(),L=()=>{})},D.src=(null===(Q=q.source)||void 0===Q?void 0:Q.url)||"",D}}},5973:(Re,qt,x)=>{"use strict";x.d(qt,{F:()=>L});var B=x(4981),R=x(1690),ot=x(2336),et=x(861),q=x(157),y=x(4787),j=x(370);const L=(A,P,Q,W)=>{var ut,yt,D;let G={total:0,counter:0},{triggershow:F,triggerrun:b,triggerhide:Mt,action:Lt,audio:jt,slide:It,media:St}=null!==(ut=null===(yt=A.interactive)||void 0===yt?void 0:yt.click)&&void 0!==ut?ut:{};if(F){let{id:Tt,ids:Bt,time:Ct,async:At}=F;"asynctrue"==At?(0,y.L5)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q}):"time"==At&&setTimeout(()=>{(0,y.L5)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q})},1e3*(null!=Ct?Ct:0))}if(b){let{id:Tt,ids:Bt,time:Ct,async:At}=b;"asynctrue"==At?(0,y.Ar)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q}):"time"==At&&setTimeout(()=>{(0,y.Ar)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q})},1e3*(null!=Ct?Ct:0))}if(Mt){let{id:Tt,ids:Bt,time:Ct,async:At}=Mt;"asynctrue"==At?(0,y.WT)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q}):"time"==At&&setTimeout(()=>{(0,y.WT)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q})},1e3*(null!=Ct?Ct:0))}let a=()=>{setTimeout(()=>{if(G.counter>=G.total){if(W&&W(),F){let{id:Tt,ids:Bt,async:Ct}=F;"asyncfalse"==Ct&&(0,y.L5)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q})}if(b){let{id:Tt,ids:Bt,async:Ct}=b;"asyncfalse"==Ct&&(0,y.Ar)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q})}if(Mt){let{id:Tt,ids:Bt,async:Ct}=Mt;"asyncfalse"==Ct&&(0,y.WT)({id:Tt,ids:Bt,nodeStatus:P,slideStatus:Q})}}})};if(Lt&&Lt.value){G.total+=1;let Tt=()=>{G.counter+=1,a()};switch(Lt.value){case"hide":$("#"+A.id).addClass("hide"),Tt();break;case"points":{let{points:Bt,time:Ct,iteration:At,finish:rt}=Lt;Bt&&(0,et.G)(A.id,{points:Bt,time:Ct,iteration:At,finish:rt,nodeStatus:P,slideStatus:Q},Tt);break}default:{let{value:Bt,time:Ct,iteration:At,finish:rt}=Lt;(0,ot.Q)(A.id,{value:Bt,time:Ct,iteration:At,finish:rt,nodeStatus:P,slideStatus:Q},Tt);break}}}if(jt&&null!==(D=jt.source)&&void 0!==D&&D.path){G.total+=1;let Tt=()=>{G.counter+=1,a()};(0,q.R)(A.id,jt,G,{nodeStatus:P,slideStatus:Q},Tt)}if(G.total||a(),It&&It.id)switch(console.log(`InteractiveNode #${A.id} slide(undefined,${It.id},${It.code}) success!`),It.id){case-1:R.$.runSlide(R.$.slideIdx-1);break;case-2:R.$.runSlide(R.$.slideIdx+1);break;default:R.$.runSlide(void 0,It.id,`${It.code}`)}if(St&&St.type){var Et;let Bt=`<div class="popup-media-viewer"><iframe src="${(0,j.e)({readfileuploadurl:null===(Et=B.icdt.config)||void 0===Et?void 0:Et.readfileuploadurl,type:null==St?void 0:St.type,oss:null==St?void 0:St.oss,path:null==St?void 0:St.path,pathExtract:null==St?void 0:St.pathExtract,url:null==St?void 0:St.url})}" frameborder="0" allowfullscreen\n        webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen"></iframe><div class="btn-close"><img src="assets/icon-svg/close-outline.svg"/></div></div>`,Ct=$(Bt).appendTo(window.document.body);Ct.find(".btn-close").click(function(At){At.preventDefault(),Ct.remove()})}}},4787:(Re,qt,x)=>{"use strict";x.d(qt,{Ar:()=>et,L5:()=>ot,WT:()=>q});var B=x(1690),R=x(5973);const ot=y=>{console.log("icdt_Run_Interactive_TriggerShow",y),y.id?$("#"+y.id).removeClass("hide"):y.ids&&y.ids.forEach(j=>{$("#"+j).removeClass("hide")})},et=y=>{console.log("icdt_Run_Interactive_TriggerRun",y),y.id?($("#"+y.id).removeClass("hide"),(0,R.F)(B.$.findNode(y.id),y.nodeStatus,y.slideStatus)):y.ids&&y.ids.forEach(j=>{$("#"+j).removeClass("hide"),(0,R.F)(B.$.findNode(j),y.nodeStatus,y.slideStatus)})},q=y=>{console.log("icdt_Run_Interactive_TriggerHide",y),y.id?$("#"+y.id).addClass("hide"):y.ids&&y.ids.forEach(j=>{$("#"+j).addClass("hide")})}},4080:(Re,qt,x)=>{"use strict";x.d(qt,{Mh:()=>Mt,wM:()=>It,x_:()=>Lt,it:()=>St,g1:()=>Ct,__:()=>a,QI:()=>Tt,DB:()=>Et,eb:()=>jt,x0:()=>Se,g$:()=>At,mo:()=>Oe,XH:()=>Qt,hJ:()=>rt,vl:()=>Jt,yD:()=>Ht,Yw:()=>ve});var B=x(2276),R=x(9054),q=/^#?[a-fA-F0-9]+$/;const L=(it,st)=>{var _;if("none"==(it=null!==(_=it)&&void 0!==_?_:""))return"none";if("transparent"==it)return"rgba(0,0,0,0)";if(it.includes("rgba("))return it;if(it.includes("rgb(")&&(it=((it,st)=>{if(!it)return"";let _=it.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),K=(_&&_[4]||"").trim(),ct=_?(256|_[1]).toString(16).slice(1)+(256|_[2]).toString(16).slice(1)+(256|_[3]).toString(16).slice(1):it;return"0"==K?"transparent":`#${ct}`})(it)),!(it=it.replace(/[^0-9a-fA-F]/g,"")))return"";if(!q.test(it))return console.error(`hex2rgba -> ${it}: first argument has invalid hexadecimal characters`),"";if("#"===it[0]&&(it=it.slice(1)),3===it.length){let ct=it.split("");ct.splice(2,0,it[2]),ct.splice(1,0,it[1]),ct.splice(0,0,it[0]),it=ct.join("")}if(6!==it.length)return console.error("hex2rgba: first argument has invalid hexadecimal length"),"";var K=[parseInt(it.slice(0,2),16),parseInt(it.slice(2,4),16),parseInt(it.slice(4,6),16)];return st="number"==typeof st?st:parseFloat(st),K.push(st>=0&&st<=1?st:1),"rgba("+K.join(",")+")"};var A=x(1814),P=x(4981),Q=x(3423),W=x(8054),ut=x(7210),yt=x(8619),D=x(1690),G=x(2875),F=x(1687),b=x(370);class Mt{constructor(st,_){let K=window.document.querySelector(_);var ct;K||(K=window.document.createElementNS("http://www.w3.org/2000/svg","svg"),null===(ct=window.document.querySelector(st))||void 0===ct||ct.appendChild(K));let{width:zt,height:le}=P.icdt.screen.get;K.setAttributeNS(null,"viewBox","0 0 "+zt+" "+le),K.setAttributeNS(null,"width",zt.toString()),K.setAttributeNS(null,"height",le.toString()),K.setAttribute("id",_.replace("#","")),K.style.display="block",K.style.position="absolute",K.style.top="0px",K.style.left="0px",K.style.backgroundColor="#fafafa",K.style.cursor="default"}}const Lt=it=>{var st,_,K,ct,zt,le;P.icdt.target.setAttributeNS(null,"viewBox",`${null!==(st=null==it||null===(_=it.svg)||void 0===_?void 0:_.viewBox.x)&&void 0!==st?st:0} ${null!==(K=null==it||null===(ct=it.svg)||void 0===ct?void 0:ct.viewBox.y)&&void 0!==K?K:0} ${null==it||null===(zt=it.svg)||void 0===zt?void 0:zt.viewBox.width} ${null==it||null===(le=it.svg)||void 0===le?void 0:le.viewBox.height}`),$(P.icdt.target).find("#"+F.O.BACKGROUND_GROUP).empty();let pe=Ct(F.O.BACKGROUND_GROUP,"g",void 0,P.icdt.target);Se(pe,it),(()=>{let oe=window.document.getElementById(null==it?void 0:it.id);$(oe).find("#"+F.O.BACKGROUND_GROUP).empty();let se=Ct(F.O.BACKGROUND_GROUP,"g",void 0,oe);Se(se,it)})()},jt=()=>{let it=P.icdt.screen.position;B(P.icdt.target).css({left:it.x,top:it.y,width:P.icdt.screen.width,height:P.icdt.screen.height})},It=()=>{B(P.icdt.target).find(">*:not(defs)").remove();let{width:it,height:st}=P.icdt.screen.get;P.icdt.target.setAttributeNS(null,"viewBox",`0 0 ${it} ${st}`)},St=(it,st,_,K,ct)=>{let zt;return it?(zt=B(ct||P.icdt.target).find("#"+it).get(0),zt||(zt=window.document.createElementNS("http://www.w3.org/2000/svg",_),zt.setAttribute("id",it),B(zt).appendTo(ct||P.icdt.target))):(zt=window.document.createElementNS("http://www.w3.org/2000/svg",_),B(zt).appendTo(ct||P.icdt.target)),null!=K&&K.attribute&&a(zt,null==K?void 0:K.attribute),null!=K&&K.style&&Et(zt,null==K?void 0:K.style),null!=K&&K.source&&Tt(zt,st,null==K?void 0:K.source),zt},a=(it,st)=>{return B(it).attr((_=Object.assign({},st||{}),null===(K=Object.keys(_))||void 0===K||K.forEach(le=>{switch(le){case"fill":break;case"stroke":var pe;Object.assign(_,{"stroke-width":null!==(pe=_.strokeWidth)&&void 0!==pe?pe:null,strokeWidth:null});break;case"strokeLinecap":var oe;Object.assign(_,{"stroke-linecap":null!==(oe=_.strokeLinecap)&&void 0!==oe?oe:null,strokeLinecap:null});break;case"strokeLinejoin":var se;Object.assign(_,{"stroke-linejoin":null!==(se=_.strokeLinejoin)&&void 0!==se?se:null,strokeLinejoin:null});break;case"strokeDasharray":var Ae;Object.assign(_,{"stroke-dasharray":null!==(Ae=_.strokeDasharray)&&void 0!==Ae?Ae:null,strokeDasharray:null});break;case"strokeDasharrays":var Ue,Le;Object.assign(_,{"stroke-dasharray":null!==(Ue=null===(Le=_.strokeDasharrays)||void 0===Le?void 0:Le.join(" "))&&void 0!==Ue?Ue:null,strokeDasharrays:null});break;case"fontFamily":var ee;Object.assign(_,{"font-family":null!==(ee=_.fontFamily)&&void 0!==ee?ee:null,fontFamily:null});break;case"fontSize":var Qe;Object.assign(_,{"font-size":null!==(Qe=_.fontSize)&&void 0!==Qe?Qe:null,fontSize:null});break;case"textLength":Object.assign(_,{textLength:_.textLength?`${_.textLength}px`:null});break;case"transformOrigin":var _t;Object.assign(_,{"transform-origin":null!==(_t=_.transformOrigin)&&void 0!==_t?_t:null,transformOrigin:null})}}),Object.assign({},null!=_?_:{},{fill:null!=_&&_.fill?L(_.fill,null!==(ct=null==_?void 0:_.fillOpacity)&&void 0!==ct?ct:1):"rgba(0,0,0,0)",fillOpacity:null,stroke:null!=_&&_.stroke?L(_.stroke,null!==(zt=null==_?void 0:_.strokeOpacity)&&void 0!==zt?zt:1):"rgba(0,0,0,0)",strokeOpacity:null}))),it;var _,K,ct,zt},Et=(it,st)=>{return B(it).css((_=Object.assign({},st||{}),null===(K=Object.keys(_))||void 0===K||K.forEach(ct=>{switch(ct){case"padding":Object.assign(_,{padding:_.padding?`${_.padding}px`:null});break;case"borderWidth":var zt;Object.assign(_,_.borderWidth&&_.borderStyle&&_.borderColor?{"border-width":`${_.borderWidth}px`,"border-style":_.borderStyle,"border-color":L(_.borderColor,null!==(zt=_.borderOpacity)&&void 0!==zt?zt:1)}:{"border-width":"","border-style":"","border-color":""}),Object.assign(_,{borderWidth:null,borderStyle:null,borderColor:null,borderOpacity:null});break;case"borderRadius":Object.assign(_,{"border-radius":_.borderRadius?`${_.borderRadius}px`:null,borderRadius:null});break;case"backgroundColor":var le;_.backgroundColor&&Object.assign(_,{"background-color":L(_.backgroundColor,null!==(le=_.backgroundOpacity)&&void 0!==le?le:1)}),Object.assign(_,{backgroundColor:null,backgroundOpacity:null})}}),_)),it;var _,K},Tt=(it,st,_)=>{switch(st){case R.$.TEXT:var K,ct;B(it).text(null!==(K=null==_||null===(ct=_.text)||void 0===ct?void 0:ct.textContent)&&void 0!==K?K:"");break;case R.$.IMAGE:var zt,le,pe,oe,se,Ae,Ue;B(it).attr("href",(null==_||null===(zt=_.image)||void 0===zt?void 0:zt.base64)||(null!=_&&null!==(le=_.image)&&void 0!==le&&le.path?`${null!==(pe=null===(oe=P.icdt.config)||void 0===oe?void 0:oe.readfileuploadurl)&&void 0!==pe?pe:""}${null!==(se=null==_||null===(Ae=_.image)||void 0===Ae?void 0:Ae.path)&&void 0!==se?se:""}`:"")||(null==_||null===(Ue=_.image)||void 0===Ue?void 0:Ue.url)||"");break;case R.$.FOREIGNOBJECT:switch(null==_?void 0:_.type){case"text":var Le,ee;if(null!==(Le=_.text)&&void 0!==Le&&Le.variableKeywords&&null!==(ee=_.text)&&void 0!==ee&&ee.variableKeywords.length){var Qe;let C=P.icdt.variable.getKeys(),tt=(null===(Qe=_.text)||void 0===Qe?void 0:Qe.textContent)||"";_.text.variableKeywords.forEach(V=>{var lt=V.replace(/[^a-zA-Z0-9_]/gm,"");if(C.indexOf(lt)>=0){var pt=P.icdt.variable.getValue(lt);tt=tt.replace(V,pt)}}),B(it).text(tt)}else{var _t;B(it).text((null===(_t=_.text)||void 0===_t?void 0:_t.textContent)||"")}break;case"html":{var E,vt,Nt;let C=(null==_||null===(E=_.html)||void 0===E?void 0:E.htmlContent)||"";if(null!==(vt=_.html)&&void 0!==vt&&vt.variableKeywords&&null!==(Nt=_.html)&&void 0!==Nt&&Nt.variableKeywords.length){let tt=P.icdt.variable.getKeys();_.html.variableKeywords.forEach(V=>{var lt=V.replace(/[^a-zA-Z0-9_]/gm,"");if(tt.indexOf(lt)>=0){var pt=P.icdt.variable.getValue(lt);C=C.replace(V,pt)}})}B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;">${C}</div>`).find("img[path],video[path],iframe[path]").each((tt,V)=>{var lt,pt,mt;V.setAttribute("src",(null!==(lt=null===(pt=P.icdt.config)||void 0===pt?void 0:pt.readfileuploadurl)&&void 0!==lt?lt:"")+(null!==(mt=V.getAttribute("path"))&&void 0!==mt?mt:"")),V.removeAttribute("path")});break}case"input":var U,at,nt,gt;if(null!==(U=_.input)&&void 0!==U&&U.input)B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><input type="text" placeholder="${null!==(nt=null===(gt=_.input)||void 0===gt?void 0:gt.placeholder)&&void 0!==nt?nt:""}" maxlength="100" /></div>`);else if(null!==(at=_.input)&&void 0!==at&&at.textarea){var Rt,Ut;B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><textarea placeholder="${null!==(Rt=null===(Ut=_.input)||void 0===Ut?void 0:Ut.placeholder)&&void 0!==Rt?Rt:""}" maxlength="1000"></textarea></div>`)}break;case"image":var ht,Gt,ie,Te,te,ge,ye;B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><img src="${(null===(ht=_.image)||void 0===ht?void 0:ht.base64)||(null!==(Gt=_.image)&&void 0!==Gt&&Gt.path?`${null!==(ie=null===(Te=P.icdt.config)||void 0===Te?void 0:Te.readfileuploadurl)&&void 0!==ie?ie:""}${null!==(te=null===(ge=_.image)||void 0===ge?void 0:ge.path)&&void 0!==te?te:""}`:"")||(null===(ye=_.image)||void 0===ye?void 0:ye.url)||""}" style="width:100%;height:100%;display:block;"/></div>`);break;case"iframe":var je,Ce,Me,Ze,tn,Ei,en;B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><iframe src="${null!==(je=_.iframe)&&void 0!==je&&je.path?`${null!==(Ce=null===(Me=P.icdt.config)||void 0===Me?void 0:Me.readfileuploadurl)&&void 0!==Ce?Ce:""}${null!==(Ze=null===(tn=_.iframe)||void 0===tn?void 0:tn.path)&&void 0!==Ze?Ze:""}`:null!==(Ei=null===(en=_.iframe)||void 0===en?void 0:en.url)&&void 0!==Ei?Ei:""}" frameborder="0" allowfullscreen\n                    webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="width:100%;height:100%;display:block;"></iframe></div>`);break;case"embed":{var nn,En,ni,ji,Ii,$i;let C=(0,b.e)({readfileuploadurl:null===(nn=P.icdt.config)||void 0===nn?void 0:nn.readfileuploadurl,type:null===(En=_.embed)||void 0===En?void 0:En.type,oss:null===(ni=_.embed)||void 0===ni?void 0:ni.oss,path:null===(ji=_.embed)||void 0===ji?void 0:ji.path,pathExtract:null===(Ii=_.embed)||void 0===Ii?void 0:Ii.pathExtract,url:null===($i=_.embed)||void 0===$i?void 0:$i.url});B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><iframe src="${C}" frameborder="0" allowfullscreen\n                    webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="width:100%;height:100%;display:block;"></iframe></div>`);break}case"svg":var pi,ci;B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;">${null!==(pi=null===(ci=_.svg)||void 0===ci?void 0:ci.svgContent)&&void 0!==pi?pi:""}</div>`);break;case"test":{var Bi,rn,an,Wt;let C=(null==_||null===(Bi=_.html)||void 0===Bi?void 0:Bi.htmlContent)||"";if(null!==(rn=_.html)&&void 0!==rn&&rn.variableKeywords&&null!==(an=_.html)&&void 0!==an&&an.variableKeywords.length){let tt=P.icdt.variable.getKeys();_.html.variableKeywords.forEach(V=>{var lt=V.replace(/[^a-zA-Z0-9_]/gm,"");if(tt.indexOf(lt)>=0){var pt=P.icdt.variable.getValue(lt);C=C.replace(V,pt)}})}switch(null==_||null===(Wt=_.test)||void 0===Wt?void 0:Wt.type){case"matching-empty":B(it).html('<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" class="ondrop-here" data-node="test" data-type="matching"></div>');break;case"matching-content":var H,l;B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" class="ondrop-here" data-node="test" data-type="matching"><div class="ondrag-item" data-key="${null!==(H=null==_||null===(l=_.test)||void 0===l||null===(l=l.matching)||void 0===l?void 0:l.key)&&void 0!==H?H:"KIEN"}" style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;">${C}</div></div>`);break;case"singlechoice":case"multichoice":B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;">${C}</div></div>`);break;case"fill":var d;((null===(d=_.html)||void 0===d?void 0:d.fillKeywords)||[]).forEach(tt=>{var V=`<input type="text" maxlength="128" style="display:inline-block;width:80px;min-width:100px;max-width:100%;padding:0px 10px;margin:0px;box-sizing:content-box;outline:none;box-shadow:none;border-width:0px 0px 1px;border-top-style:initial;border-right-style:initial;border-left-style:initial;border-top-color:initial;border-right-color:initial;border-left-color:initial;border-image:initial;border-bottom-style:dashed;border-bottom-color:rgb(123,146,254);background:transparent;animation:0.3s ease-in-out 0s 1 normal none running width;text-align:left;" data-key="${tt.replace(/[^a-zA-Z0-9]+/gm,"")}"/>`;C=C.replace(new RegExp(tt.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),"g"),V)}),B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:start;align-items:center;width:100%;height:100%;">${C}</div></div>`);break;case"speech":B(it).html('<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;"><img src="images/svg/component/microphone4.svg" width="60" height="60"/></div></div>');break;case"submit":var s,f,p,T,N,k,Y;B(it).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><img src="${null!==(s=null!==(f=null===(p=_.image)||void 0===p?void 0:p.url)&&void 0!==f?f:`${null!==(T=null===(N=P.icdt.config)||void 0===N?void 0:N.readfileuploadurl)&&void 0!==T?T:""}${null!==(k=null===(Y=_.image)||void 0===Y?void 0:Y.path)&&void 0!==k?k:""}`)&&void 0!==s?s:""}" style="width:100%;height:100%;display:block;"/></div>`)}B(it).find("img[path],video[path],iframe[path]").each((tt,V)=>{var lt,pt,mt;V.setAttribute("src",(null!==(lt=null===(pt=P.icdt.config)||void 0===pt?void 0:pt.readfileuploadurl)&&void 0!==lt?lt:"")+(null!==(mt=V.getAttribute("path"))&&void 0!==mt?mt:"")),V.removeAttribute("path")})}}}},Ct=(it,st,_,K)=>{let ct=B(K||P.icdt.target).find("#"+it).get(0);return ct||(ct=window.document.createElementNS("http://www.w3.org/2000/svg",st),ct.setAttribute("id",it),B(ct).appendTo(K||P.icdt.target)),B(ct).attr((null==_?void 0:_.attribute)||{}),B(ct).css((null==_?void 0:_.style)||{}),ct},At=(it,st)=>{let _=(0,Q.v)(2),K={fill:A.S3.fill,stroke:A.S3.stroke,"stroke-width":(0,Q.v)(A.S3.strokeWidth)};return[{element:Ct("icdt-temp-create-rect-center","rect",{attribute:Object.assign({x:st.x-_,y:st.y-_,width:st.width+2*_,height:st.height+2*_},K)},it),posType:"rect-center"}]},rt=(it,st)=>{let{size:_}=st,K=(0,Q.v)(1),ct=(0,Q.v)(2),zt=(0,Q.v)(5),le={stroke:A.NV.stroke,"stroke-width":(0,Q.v)(A.NV.strokeWidth),"stroke-linecap":A.NV.strokeLinecap},pe={fill:A.Mo.fill,stroke:A.Mo.stroke,"stroke-width":(0,Q.v)(A.Mo.strokeWidth)},oe={fill:A.In.fill,stroke:A.In.stroke,"stroke-width":(0,Q.v)(A.In.strokeWidth),width:(0,Q.v)(A.In.width),height:(0,Q.v)(A.In.height)};return Ct("icdt-temp-resize-line-left","line",{attribute:Object.assign({x1:_.x-K,y1:_.y,x2:_.x-K,y2:_.y+_.height},le)},it),Ct("icdt-temp-resize-line-top","line",{attribute:Object.assign({x1:_.x,y1:_.y-K,x2:_.x+_.width,y2:_.y-K},le)},it),Ct("icdt-temp-resize-line-right","line",{attribute:Object.assign({x1:_.x+_.width+K,y1:_.y,x2:_.x+_.width+K,y2:_.y+_.height},le)},it),Ct("icdt-temp-resize-line-bottom","line",{attribute:Object.assign({x1:_.x,y1:_.y+_.height+K,x2:_.x+_.width,y2:_.y+_.height+K},le)},it),[{element:Ct("icdt-temp-resize-rect-center","rect",{attribute:Object.assign({x:_.x,y:_.y,width:_.width,height:_.height},pe),style:{cursor:"move"}},it),posType:"rect-center"},{element:Ct("icdt-temp-resize-rect-top-left","rect",{attribute:Object.assign({x:_.x-zt,y:_.y-zt},oe),style:{cursor:"nw-resize"}},it),posType:"rect-top-left"},{element:Ct("icdt-temp-resize-rect-top-right","rect",{attribute:Object.assign({x:_.x+_.width-ct,y:_.y-zt},oe),style:{cursor:"ne-resize"}},it),posType:"rect-top-right"},{element:Ct("icdt-temp-resize-rect-bottom-left","rect",{attribute:Object.assign({x:_.x-zt,y:_.y+_.height-ct},oe),style:{cursor:"sw-resize"}},it),posType:"rect-bottom-left"},{element:Ct("icdt-temp-resize-rect-bottom-right","rect",{attribute:Object.assign({x:_.x+_.width-ct,y:_.y+_.height-ct},oe),style:{cursor:"se-resize"}},it),posType:"rect-bottom-right"}]},Ht=(it,st,_)=>{let K=(0,Q.v)(1),ct={stroke:A.NV.stroke,"stroke-width":(0,Q.v)(A.NV.strokeWidth),"stroke-linecap":A.NV.strokeLinecap},zt={fill:A.Mo.fill,stroke:A.Mo.stroke,"stroke-width":(0,Q.v)(A.Mo.strokeWidth)},le={fill:A.dt.fill,stroke:A.dt.stroke,"stroke-width":(0,Q.v)(A.dt.strokeWidth)},Ue=(Ct("icdt-temp-select-line-left","line",{attribute:Object.assign({x1:_.x-K,y1:_.y,x2:_.x-K,y2:_.y+_.height},ct)},it),Ct("icdt-temp-select-line-top","line",{attribute:Object.assign({x1:_.x,y1:_.y-K,x2:_.x+_.width,y2:_.y-K},ct)},it),Ct("icdt-temp-select-line-right","line",{attribute:Object.assign({x1:_.x+_.width+K,y1:_.y,x2:_.x+_.width+K,y2:_.y+_.height},ct)},it),Ct("icdt-temp-select-line-bottom","line",{attribute:Object.assign({x1:_.x,y1:_.y+_.height+K,x2:_.x+_.width,y2:_.y+_.height+K},ct)},it),Ct("icdt-temp-select-rect-center","rect",{attribute:Object.assign({x:_.x,y:_.y,width:_.width,height:_.height},zt)},it));return st.forEach(Le=>{let{size:ee}=Le;Ct("icdt-temp-select-rect-node-"+Le.id,"rect",{attribute:Object.assign({x:ee.x,y:ee.y,width:ee.width,height:ee.height},le)},it)}),[{element:Ue,posType:"rect-center"}]},Jt=(it,st)=>{let _=(0,Q.v)(1),K={stroke:A.NV.stroke,"stroke-width":(0,Q.v)(A.NV.strokeWidth),"stroke-linecap":A.NV.strokeLinecap},ct={fill:A.Mo.fill,stroke:A.Mo.stroke,"stroke-width":(0,Q.v)(A.Mo.strokeWidth)};return Ct("icdt-temp-scan-line-left","line",{attribute:Object.assign({x1:st.x-_,y1:st.y,x2:st.x-_,y2:st.y+st.height},K)},it),Ct("icdt-temp-scan-line-top","line",{attribute:Object.assign({x1:st.x,y1:st.y-_,x2:st.x+st.width,y2:st.y-_},K)},it),Ct("icdt-temp-scan-line-right","line",{attribute:Object.assign({x1:st.x+st.width+_,y1:st.y,x2:st.x+st.width+_,y2:st.y+st.height},K)},it),Ct("icdt-temp-scan-line-bottom","line",{attribute:Object.assign({x1:st.x,y1:st.y+st.height+_,x2:st.x+st.width,y2:st.y+st.height+_},K)},it),[{element:Ct("icdt-temp-scan-rect-center","rect",{attribute:Object.assign({x:st.x,y:st.y,width:st.width,height:st.height},ct)},it),posType:"rect-center"}]},Qt=(it,st)=>{let _=(0,Q.v)(-1),K={stroke:A.h8.stroke,"stroke-width":(0,Q.v)(A.h8.strokeWidth),"stroke-linecap":A.h8.strokeLinecap,"stroke-dasharray":(0,Q.v)(A.h8.strokeDasharray)},ct={fill:A.MA.fill};return Ct("icdt-temp-interactive-line-left","line",{attribute:Object.assign({x1:st.x-_,y1:st.y,x2:st.x-_,y2:st.y+st.height},K)},it),Ct("icdt-temp-interactive-line-top","line",{attribute:Object.assign({x1:st.x,y1:st.y-_,x2:st.x+st.width,y2:st.y-_},K)},it),Ct("icdt-temp-interactive-line-right","line",{attribute:Object.assign({x1:st.x+st.width+_,y1:st.y,x2:st.x+st.width+_,y2:st.y+st.height},K)},it),Ct("icdt-temp-interactive-line-bottom","line",{attribute:Object.assign({x1:st.x,y1:st.y+st.height+_,x2:st.x+st.width,y2:st.y+st.height+_},K)},it),Ct("icdt-temp-interactive-rect-center","rect",{attribute:Object.assign({x:st.x,y:st.y,width:st.width,height:st.height},ct)},it),[]},Oe=(it,st)=>{let _={fill:A.k0.fill,stroke:A.k0.stroke,"stroke-width":(0,Q.v)(A.k0.strokeWidth),"stroke-dasharray":(0,Q.v)(A.k0.strokeDasharray)};$(it).empty(),st.forEach(K=>{var ct,zt;let{size:le}=K;if(!K.idx)return;Ct("icdt-temp-index-rect-node-"+K.id,"rect",{attribute:Object.assign({x:le.x-5,y:le.y-5,width:le.width+10,height:le.height+10},_)},it);let{element:pe}=(0,G.e)(Math.ceil(1e9*Math.random()),{size:{x:le.x-76,y:le.y-6,width:70,height:80},attribute:{},style:{},source:{type:"html",html:{htmlContent:`<div class="position-slide" style="position:relative;width:100%;height:100%;">\n                  <div style="position:absolute;top:0;right:0;line-height:22px;">\n                    <div title="Th\u1ee9 t\u1ef1 xu\u1ea5t hi\u1ec7n">\n                        <div style="float:right;">\n                          <span style="display:block;width:18px;float:left;text-align:center;">\n                            <i class="fa fa-play" style="margin:6px 0;color:#7da7d9;font-size:12px;"></i>\n                          </span>\n                          <span style="display:block;width:50px;float:left;">\n                            <input type="number" name="idx" value="${null!==(ct=K.idx)&&void 0!==ct?ct:0}" min="0" max="999" step="1" style="box-sizing:border-box;width:100%;padding:0;border:1px solid #ddd;outline:0;text-align:center;background:#eee;background: radial-gradient(#fff, #eee);font-size:12px;">\n                          </span>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                    <div title="Th\u1eddi gian \u0111\u1ee3i(s), n\u1ebfu gi\xe1 tr\u1ecb = 0 s\u1ebd chuy\u1ec3n sang \u0111\u1ee3i ho\xe0n t\u1ea5t ho\u1ea1t \u0111\u1ed9ng v\xe0 \xe2m thanh" style="margin-top:2px;">\n                        <div style="float:right;">\n                          <span style="display:block;width:18px;float:left;text-align:center;">\n                            <i class="fa fa-clock-o" style="margin:5px 0;color:#7da7d9;font-size:14px;"></i>\n                          </span>\n                          <span style="display:block;width:50px;float:left;">\n                            <input type="number" name="time" value="${null!==(zt=K.time)&&void 0!==zt?zt:0}" min="0" max="999" step="0.5" style="box-sizing:border-box;width:100%;padding:0;border:1px solid #ddd;outline:0;text-align:center;background:#eee;background: radial-gradient(#fff, #eee);font-size:12px;">\n                          </span>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                    <div title="H\u1ee7y thi\u1ebft l\u1eadp" style="margin-top:2px;">\n                        <div style="float:right;">\n                          <button name="remove" style="box-sizing:border-box;width:24px;height:24px;padding:0;border:1px solid #ddd;line-height: 0;outline:none;background:#eee;background: radial-gradient(#fff, #eee);">\n                            <img src="assets/icon-png/xoa2.png" height="18">\n                          </button>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                  </div>\n              </div>`}}},it);pe.classList.add("node-input"),$(pe).on("change",'input[name="idx"]',oe=>{var se;K.idx=parseInt(null!==(se=oe.target.value)&&void 0!==se?se:"0")}).on("change",'input[name="time"]',oe=>{var se;K.time=parseFloat(null!==(se=oe.target.value)&&void 0!==se?se:"0")}).on("click",'button[name="remove"]',oe=>{K.idx=0,K.time=null,Oe(it,st)})})},Se=(it,st)=>{var _,K,ct,zt;let{color:le,opacity:pe,path:oe,url:se,base64:Ae}=null!==(_=null==st||null===(K=st.svg)||void 0===K?void 0:K.background)&&void 0!==_?_:{},{x:Ue,y:Le,width:ee,height:Qe}=null!==(ct=null==st||null===(zt=st.svg)||void 0===zt?void 0:zt.viewBox)&&void 0!==ct?ct:{x:0,y:0,width:0,height:0};le&&(0,W.f)(void 0,{size:{x:Ue,y:Le,width:ee,height:Qe},attribute:{fill:le,fillOpacity:pe}},it),oe&&(0,ut.G)(void 0,{size:{x:Ue,y:Le,width:ee,height:Qe},source:{type:"image",image:{path:oe,url:se,base64:Ae}}},it)},ve=(it,st)=>{var _,K,pe;if($(it).empty(),null!=st&&null!==(_=st.test)&&void 0!==_&&null!==(_=_.answer)&&void 0!==_&&_.singlechoice){var zt,le;let oe=D.$.findNode(null==st||null===(zt=st.test)||void 0===zt||null===(zt=zt.answer)||void 0===zt||null===(zt=zt.singlechoice)||void 0===zt?void 0:zt.value),{x:se,y:Ae,width:Ue,height:Le}=null!==(le=null==oe?void 0:oe.size)&&void 0!==le?le:{x:0,y:0,width:0,height:0};(0,yt._)(Math.ceil(1e9*Math.random()),{size:{x:se-2,y:Ae-2,width:Ue+4,height:Le+4},attribute:{fill:"none",stroke:"#5F6CE1",strokeWidth:4,strokeDasharray:4}},it)}null!=st&&null!==(K=st.test)&&void 0!==K&&null!==(K=K.answer)&&void 0!==K&&K.multichoice&&(null==st||null===(pe=st.test)||void 0===pe||null===(pe=pe.answer)||void 0===pe||pe.multichoice.forEach(oe=>{var se;let Ae=D.$.findNode(oe.value),{x:Ue,y:Le,width:ee,height:Qe}=null!==(se=null==Ae?void 0:Ae.size)&&void 0!==se?se:{x:0,y:0,width:0,height:0};(0,W.f)(Math.ceil(1e9*Math.random()),{size:{x:Ue-2,y:Le-2,width:ee+4,height:Qe+4},attribute:{fill:"none",stroke:"#5F6CE1",strokeWidth:4,strokeDasharray:4}},it)}))}},370:(Re,qt,x)=>{"use strict";x.d(qt,{e:()=>ot});const ot=y=>{switch(null==y?void 0:y.type){case 901:return"assets/iframe/lib/mk-image-viewer/viewer.html?url="+y.readfileuploadurl+y.path;case 902:return"assets/iframe/lib/mk-audio-player/player.html?url="+y.readfileuploadurl+y.path;case 903:return"assets/iframe/lib/mk-video-player/player.html?url="+y.readfileuploadurl+y.path;case 908:return"https://view.officeapps.live.com/op/view.aspx?src="+y.readfileuploadurl+y.path;case 909:return"assets/iframe/lib/PDFReader/web/viewer.html?file="+y.readfileuploadurl+y.path;case 906:case 911:case 910:return""+y.readfileuploadurl+y.path;case 905:var j;return"imsmanifest.xml"==(null===(j=y.pathExtract)||void 0===j||null===(j=j.split("/"))||void 0===j?void 0:j.pop())?"assets/iframe/lib/ScormPool_Player/player.html?url="+y.readfileuploadurl+y.pathExtract:""+y.readfileuploadurl+y.path;case 907:case 900:return""+y.readfileuploadurl+y.path;case 904:switch(y.oss){case 1003:return"assets/iframe/lib/ScormPool_Player/player.html?url="+y.url;case 1002:var L;return null!==(L=et(y.url))&&void 0!==L?L:"";case 1005:var A;return null!==(A=y.url)&&void 0!==A?A:"";default:var P;return null!==(P=y.url)&&void 0!==P?P:""}default:return""+y.readfileuploadurl+y.path}},et=y=>{let j=q(y);return j?"https://www.youtube.com/embed/"+j+"?"+$.param({wmode:"opaque",border:0,hd:1,autoplay:!1,autohide:1,enablejsapi:1,modestbranding:1,version:3,hl:"vi_VN",rel:0,showinfo:0,iv_load_policy:3}):null},q=y=>{let j=null==y?void 0:y.match(/(?:.+?)?(?:\/v\/|watch\/|\?v\=|\&v\=|youtu\.be\/|\/v\=|^youtu\.be\/|embed\/)([a-zA-Z0-9_-]{11})+/);return j&&j.length>=2?j[1]:null}},2276:function(Re,qt){var B;!function(R,ot){"use strict";"object"==typeof Re.exports?Re.exports=R.document?ot(R,!0):function(et){if(!et.document)throw new Error("jQuery requires a window with a document");return ot(et)}:ot(R)}(typeof window<"u"?window:this,function(R,ot){"use strict";var et=[],q=Object.getPrototypeOf,y=et.slice,j=et.flat?function(t){return et.flat.call(t)}:function(t){return et.concat.apply([],t)},L=et.push,A=et.indexOf,P={},Q=P.toString,W=P.hasOwnProperty,ut=W.toString,yt=ut.call(Object),D={},G=function(i){return"function"==typeof i&&"number"!=typeof i.nodeType&&"function"!=typeof i.item},F=function(i){return null!=i&&i===i.window},b=R.document,Mt={type:!0,src:!0,nonce:!0,noModule:!0};function Lt(t,i,n){var o,c,h=(n=n||b).createElement("script");if(h.text=t,i)for(o in Mt)(c=i[o]||i.getAttribute&&i.getAttribute(o))&&h.setAttribute(o,c);n.head.appendChild(h).parentNode.removeChild(h)}function jt(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?P[Q.call(t)]||"object":typeof t}var St=/HTML$/i,a=function(t,i){return new a.fn.init(t,i)};function Et(t){var i=!!t&&"length"in t&&t.length,n=jt(t);return!G(t)&&!F(t)&&("array"===n||0===i||"number"==typeof i&&i>0&&i-1 in t)}function Tt(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}a.fn=a.prototype={jquery:"3.7.1",constructor:a,length:0,toArray:function(){return y.call(this)},get:function(t){return null==t?y.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var i=a.merge(this.constructor(),t);return i.prevObject=this,i},each:function(t){return a.each(this,t)},map:function(t){return this.pushStack(a.map(this,function(i,n){return t.call(i,n,i)}))},slice:function(){return this.pushStack(y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(a.grep(this,function(t,i){return(i+1)%2}))},odd:function(){return this.pushStack(a.grep(this,function(t,i){return i%2}))},eq:function(t){var i=this.length,n=+t+(t<0?i:0);return this.pushStack(n>=0&&n<i?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:L,sort:et.sort,splice:et.splice},a.extend=a.fn.extend=function(){var t,i,n,o,c,h,v=arguments[0]||{},I=1,O=arguments.length,J=!1;for("boolean"==typeof v&&(J=v,v=arguments[I]||{},I++),"object"!=typeof v&&!G(v)&&(v={}),I===O&&(v=this,I--);I<O;I++)if(null!=(t=arguments[I]))for(i in t)o=t[i],"__proto__"!==i&&v!==o&&(J&&o&&(a.isPlainObject(o)||(c=Array.isArray(o)))?(n=v[i],h=c&&!Array.isArray(n)?[]:c||a.isPlainObject(n)?n:{},c=!1,v[i]=a.extend(J,h,o)):void 0!==o&&(v[i]=o));return v},a.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var i,n;return!(!t||"[object Object]"!==Q.call(t)||(i=q(t))&&("function"!=typeof(n=W.call(i,"constructor")&&i.constructor)||ut.call(n)!==yt))},isEmptyObject:function(t){var i;for(i in t)return!1;return!0},globalEval:function(t,i,n){Lt(t,{nonce:i&&i.nonce},n)},each:function(t,i){var n,o=0;if(Et(t))for(n=t.length;o<n&&!1!==i.call(t[o],o,t[o]);o++);else for(o in t)if(!1===i.call(t[o],o,t[o]))break;return t},text:function(t){var i,n="",o=0,c=t.nodeType;if(!c)for(;i=t[o++];)n+=a.text(i);return 1===c||11===c?t.textContent:9===c?t.documentElement.textContent:3===c||4===c?t.nodeValue:n},makeArray:function(t,i){var n=i||[];return null!=t&&(Et(Object(t))?a.merge(n,"string"==typeof t?[t]:t):L.call(n,t)),n},inArray:function(t,i,n){return null==i?-1:A.call(i,t,n)},isXMLDoc:function(t){var n=t&&(t.ownerDocument||t).documentElement;return!St.test(t&&t.namespaceURI||n&&n.nodeName||"HTML")},merge:function(t,i){for(var n=+i.length,o=0,c=t.length;o<n;o++)t[c++]=i[o];return t.length=c,t},grep:function(t,i,n){for(var c=[],h=0,v=t.length,I=!n;h<v;h++)!i(t[h],h)!==I&&c.push(t[h]);return c},map:function(t,i,n){var o,c,h=0,v=[];if(Et(t))for(o=t.length;h<o;h++)null!=(c=i(t[h],h,n))&&v.push(c);else for(h in t)null!=(c=i(t[h],h,n))&&v.push(c);return j(v)},guid:1,support:D}),"function"==typeof Symbol&&(a.fn[Symbol.iterator]=et[Symbol.iterator]),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,i){P["[object "+i+"]"]=i.toLowerCase()});var Bt=et.pop,Ct=et.sort,At=et.splice,rt="[\\x20\\t\\r\\n\\f]",Ht=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g");a.contains=function(t,i){var n=i&&i.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var Jt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Qt(t,i){return i?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}a.escapeSelector=function(t){return(t+"").replace(Jt,Qt)};var Oe=b,Se=L;!function(){var t,i,n,o,c,v,I,O,J,Ot,h=Se,Dt=a.expando,ft=0,Ft=0,xe=qn(),Je=qn(),De=qn(),mi=qn(),ui=function(w,z){return w===z&&(c=!0),0},li="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ki="(?:\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Fe="\\["+rt+"*("+Ki+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ki+"))|)"+rt+"*\\]",sn=":("+Ki+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Fe+")*)|.*)\\)|)",Ge=new RegExp(rt+"+","g"),Ye=new RegExp("^"+rt+"*,"+rt+"*"),zi=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),Qn=new RegExp(rt+"|>"),Hi=new RegExp(sn),Ln=new RegExp("^"+Ki+"$"),hi={ID:new RegExp("^#("+Ki+")"),CLASS:new RegExp("^\\.("+Ki+")"),TAG:new RegExp("^("+Ki+"|[*])"),ATTR:new RegExp("^"+Fe),PSEUDO:new RegExp("^"+sn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+li+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},Zi=/^(?:input|select|textarea|button)$/i,Ui=/^h\d$/i,Si=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zn=/[+~]/,qi=new RegExp("\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\([^\\r\\n\\f])","g"),Xi=function(w,z){var dt="0x"+w.slice(1)-65536;return z||(dt<0?String.fromCharCode(dt+65536):String.fromCharCode(dt>>10|55296,1023&dt|56320))},Dr=function(){un()},Rr=Xn(function(w){return!0===w.disabled&&Tt(w,"fieldset")},{dir:"parentNode",next:"legend"});try{h.apply(et=y.call(Oe.childNodes),Oe.childNodes)}catch{h={apply:function(z,dt){Se.apply(z,y.call(dt))},call:function(z){Se.apply(z,y.call(arguments,1))}}}function ti(w,z,dt,bt){var Pt,Vt,ne,ce,re,ze,ke,Ie=z&&z.ownerDocument,He=z?z.nodeType:9;if(dt=dt||[],"string"!=typeof w||!w||1!==He&&9!==He&&11!==He)return dt;if(!bt&&(un(z),z=z||v,O)){if(11!==He&&(re=Si.exec(w)))if(Pt=re[1]){if(9===He){if(!(ne=z.getElementById(Pt)))return dt;if(ne.id===Pt)return h.call(dt,ne),dt}else if(Ie&&(ne=Ie.getElementById(Pt))&&ti.contains(z,ne)&&ne.id===Pt)return h.call(dt,ne),dt}else{if(re[2])return h.apply(dt,z.getElementsByTagName(w)),dt;if((Pt=re[3])&&z.getElementsByClassName)return h.apply(dt,z.getElementsByClassName(Pt)),dt}if(!(mi[w+" "]||J&&J.test(w))){if(ke=w,Ie=z,1===He&&(Qn.test(w)||zi.test(w))){for(((Ie=Zn.test(w)&&jn(z.parentNode)||z)!=z||!D.scope)&&((ce=z.getAttribute("id"))?ce=a.escapeSelector(ce):z.setAttribute("id",ce=Dt)),Vt=(ze=Bn(w)).length;Vt--;)ze[Vt]=(ce?"#"+ce:":scope")+" "+Wn(ze[Vt]);ke=ze.join(",")}try{return h.apply(dt,Ie.querySelectorAll(ke)),dt}catch{mi(w,!0)}finally{ce===Dt&&z.removeAttribute("id")}}}return Br(w.replace(Ht,"$1"),z,dt,bt)}function qn(){var w=[];return function z(dt,bt){return w.push(dt+" ")>i.cacheLength&&delete z[w.shift()],z[dt+" "]=bt}}function Pi(w){return w[Dt]=!0,w}function _n(w){var z=v.createElement("fieldset");try{return!!w(z)}catch{return!1}finally{z.parentNode&&z.parentNode.removeChild(z),z=null}}function Lr(w){return function(z){return Tt(z,"input")&&z.type===w}}function oa(w){return function(z){return(Tt(z,"input")||Tt(z,"button"))&&z.type===w}}function qr(w){return function(z){return"form"in z?z.parentNode&&!1===z.disabled?"label"in z?"label"in z.parentNode?z.parentNode.disabled===w:z.disabled===w:z.isDisabled===w||z.isDisabled!==!w&&Rr(z)===w:z.disabled===w:"label"in z&&z.disabled===w}}function Yi(w){return Pi(function(z){return z=+z,Pi(function(dt,bt){for(var Pt,Vt=w([],dt.length,z),ne=Vt.length;ne--;)dt[Pt=Vt[ne]]&&(dt[Pt]=!(bt[Pt]=dt[Pt]))})})}function jn(w){return w&&typeof w.getElementsByTagName<"u"&&w}function un(w){var z,dt=w?w.ownerDocument||w:Oe;return dt==v||9!==dt.nodeType||!dt.documentElement||(I=(v=dt).documentElement,O=!a.isXMLDoc(v),Ot=I.matches||I.webkitMatchesSelector||I.msMatchesSelector,I.msMatchesSelector&&Oe!=v&&(z=v.defaultView)&&z.top!==z&&z.addEventListener("unload",Dr),D.getById=_n(function(bt){return I.appendChild(bt).id=a.expando,!v.getElementsByName||!v.getElementsByName(a.expando).length}),D.disconnectedMatch=_n(function(bt){return Ot.call(bt,"*")}),D.scope=_n(function(){return v.querySelectorAll(":scope")}),D.cssHas=_n(function(){try{return v.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),D.getById?(i.filter.ID=function(bt){var Pt=bt.replace(qi,Xi);return function(Vt){return Vt.getAttribute("id")===Pt}},i.find.ID=function(bt,Pt){if(typeof Pt.getElementById<"u"&&O){var Vt=Pt.getElementById(bt);return Vt?[Vt]:[]}}):(i.filter.ID=function(bt){var Pt=bt.replace(qi,Xi);return function(Vt){var ne=typeof Vt.getAttributeNode<"u"&&Vt.getAttributeNode("id");return ne&&ne.value===Pt}},i.find.ID=function(bt,Pt){if(typeof Pt.getElementById<"u"&&O){var Vt,ne,ce,re=Pt.getElementById(bt);if(re){if((Vt=re.getAttributeNode("id"))&&Vt.value===bt)return[re];for(ce=Pt.getElementsByName(bt),ne=0;re=ce[ne++];)if((Vt=re.getAttributeNode("id"))&&Vt.value===bt)return[re]}return[]}}),i.find.TAG=function(bt,Pt){return typeof Pt.getElementsByTagName<"u"?Pt.getElementsByTagName(bt):Pt.querySelectorAll(bt)},i.find.CLASS=function(bt,Pt){if(typeof Pt.getElementsByClassName<"u"&&O)return Pt.getElementsByClassName(bt)},J=[],_n(function(bt){var Pt;I.appendChild(bt).innerHTML="<a id='"+Dt+"' href='' disabled='disabled'></a><select id='"+Dt+"-\r\\' disabled='disabled'><option selected=''></option></select>",bt.querySelectorAll("[selected]").length||J.push("\\["+rt+"*(?:value|"+li+")"),bt.querySelectorAll("[id~="+Dt+"-]").length||J.push("~="),bt.querySelectorAll("a#"+Dt+"+*").length||J.push(".#.+[+~]"),bt.querySelectorAll(":checked").length||J.push(":checked"),(Pt=v.createElement("input")).setAttribute("type","hidden"),bt.appendChild(Pt).setAttribute("name","D"),I.appendChild(bt).disabled=!0,2!==bt.querySelectorAll(":disabled").length&&J.push(":enabled",":disabled"),(Pt=v.createElement("input")).setAttribute("name",""),bt.appendChild(Pt),bt.querySelectorAll("[name='']").length||J.push("\\["+rt+"*name"+rt+"*="+rt+"*(?:''|\"\")")}),D.cssHas||J.push(":has"),J=J.length&&new RegExp(J.join("|")),ui=function(bt,Pt){if(bt===Pt)return c=!0,0;var Vt=!bt.compareDocumentPosition-!Pt.compareDocumentPosition;return Vt||(1&(Vt=(bt.ownerDocument||bt)==(Pt.ownerDocument||Pt)?bt.compareDocumentPosition(Pt):1)||!D.sortDetached&&Pt.compareDocumentPosition(bt)===Vt?bt===v||bt.ownerDocument==Oe&&ti.contains(Oe,bt)?-1:Pt===v||Pt.ownerDocument==Oe&&ti.contains(Oe,Pt)?1:o?A.call(o,bt)-A.call(o,Pt):0:4&Vt?-1:1)}),v}for(t in ti.matches=function(w,z){return ti(w,null,null,z)},ti.matchesSelector=function(w,z){if(un(w),O&&!mi[z+" "]&&(!J||!J.test(z)))try{var dt=Ot.call(w,z);if(dt||D.disconnectedMatch||w.document&&11!==w.document.nodeType)return dt}catch{mi(z,!0)}return ti(z,v,null,[w]).length>0},ti.contains=function(w,z){return(w.ownerDocument||w)!=v&&un(w),a.contains(w,z)},ti.attr=function(w,z){(w.ownerDocument||w)!=v&&un(w);var dt=i.attrHandle[z.toLowerCase()],bt=dt&&W.call(i.attrHandle,z.toLowerCase())?dt(w,z,!O):void 0;return void 0!==bt?bt:w.getAttribute(z)},ti.error=function(w){throw new Error("Syntax error, unrecognized expression: "+w)},a.uniqueSort=function(w){var z,dt=[],bt=0,Pt=0;if(c=!D.sortStable,o=!D.sortStable&&y.call(w,0),Ct.call(w,ui),c){for(;z=w[Pt++];)z===w[Pt]&&(bt=dt.push(Pt));for(;bt--;)At.call(w,dt[bt],1)}return o=null,w},a.fn.uniqueSort=function(){return this.pushStack(a.uniqueSort(y.apply(this)))},(i=a.expr={cacheLength:50,createPseudo:Pi,match:hi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(w){return w[1]=w[1].replace(qi,Xi),w[3]=(w[3]||w[4]||w[5]||"").replace(qi,Xi),"~="===w[2]&&(w[3]=" "+w[3]+" "),w.slice(0,4)},CHILD:function(w){return w[1]=w[1].toLowerCase(),"nth"===w[1].slice(0,3)?(w[3]||ti.error(w[0]),w[4]=+(w[4]?w[5]+(w[6]||1):2*("even"===w[3]||"odd"===w[3])),w[5]=+(w[7]+w[8]||"odd"===w[3])):w[3]&&ti.error(w[0]),w},PSEUDO:function(w){var z,dt=!w[6]&&w[2];return hi.CHILD.test(w[0])?null:(w[3]?w[2]=w[4]||w[5]||"":dt&&Hi.test(dt)&&(z=Bn(dt,!0))&&(z=dt.indexOf(")",dt.length-z)-dt.length)&&(w[0]=w[0].slice(0,z),w[2]=dt.slice(0,z)),w.slice(0,3))}},filter:{TAG:function(w){var z=w.replace(qi,Xi).toLowerCase();return"*"===w?function(){return!0}:function(dt){return Tt(dt,z)}},CLASS:function(w){var z=xe[w+" "];return z||(z=new RegExp("(^|"+rt+")"+w+"("+rt+"|$)"))&&xe(w,function(dt){return z.test("string"==typeof dt.className&&dt.className||typeof dt.getAttribute<"u"&&dt.getAttribute("class")||"")})},ATTR:function(w,z,dt){return function(bt){var Pt=ti.attr(bt,w);return null==Pt?"!="===z:!z||(Pt+="","="===z?Pt===dt:"!="===z?Pt!==dt:"^="===z?dt&&0===Pt.indexOf(dt):"*="===z?dt&&Pt.indexOf(dt)>-1:"$="===z?dt&&Pt.slice(-dt.length)===dt:"~="===z?(" "+Pt.replace(Ge," ")+" ").indexOf(dt)>-1:"|="===z&&(Pt===dt||Pt.slice(0,dt.length+1)===dt+"-"))}},CHILD:function(w,z,dt,bt,Pt){var Vt="nth"!==w.slice(0,3),ne="last"!==w.slice(-4),ce="of-type"===z;return 1===bt&&0===Pt?function(re){return!!re.parentNode}:function(re,ze,ke){var Ie,He,_e,ii,Ti,xi=Vt!==ne?"nextSibling":"previousSibling",Di=re.parentNode,Qi=ce&&re.nodeName.toLowerCase(),An=!ke&&!ce,Oi=!1;if(Di){if(Vt){for(;xi;){for(_e=re;_e=_e[xi];)if(ce?Tt(_e,Qi):1===_e.nodeType)return!1;Ti=xi="only"===w&&!Ti&&"nextSibling"}return!0}if(Ti=[ne?Di.firstChild:Di.lastChild],ne&&An){for(Oi=(ii=(Ie=(He=Di[Dt]||(Di[Dt]={}))[w]||[])[0]===ft&&Ie[1])&&Ie[2],_e=ii&&Di.childNodes[ii];_e=++ii&&_e&&_e[xi]||(Oi=ii=0)||Ti.pop();)if(1===_e.nodeType&&++Oi&&_e===re){He[w]=[ft,ii,Oi];break}}else if(An&&(Oi=ii=(Ie=(He=re[Dt]||(re[Dt]={}))[w]||[])[0]===ft&&Ie[1]),!1===Oi)for(;(_e=++ii&&_e&&_e[xi]||(Oi=ii=0)||Ti.pop())&&(!(ce?Tt(_e,Qi):1===_e.nodeType)||!++Oi||(An&&((He=_e[Dt]||(_e[Dt]={}))[w]=[ft,Oi]),_e!==re)););return(Oi-=Pt)===bt||Oi%bt==0&&Oi/bt>=0}}},PSEUDO:function(w,z){var dt,bt=i.pseudos[w]||i.setFilters[w.toLowerCase()]||ti.error("unsupported pseudo: "+w);return bt[Dt]?bt(z):bt.length>1?(dt=[w,w,"",z],i.setFilters.hasOwnProperty(w.toLowerCase())?Pi(function(Pt,Vt){for(var ne,ce=bt(Pt,z),re=ce.length;re--;)Pt[ne=A.call(Pt,ce[re])]=!(Vt[ne]=ce[re])}):function(Pt){return bt(Pt,0,dt)}):bt}},pseudos:{not:Pi(function(w){var z=[],dt=[],bt=wr(w.replace(Ht,"$1"));return bt[Dt]?Pi(function(Pt,Vt,ne,ce){for(var re,ze=bt(Pt,null,ce,[]),ke=Pt.length;ke--;)(re=ze[ke])&&(Pt[ke]=!(Vt[ke]=re))}):function(Pt,Vt,ne){return z[0]=Pt,bt(z,null,ne,dt),z[0]=null,!dt.pop()}}),has:Pi(function(w){return function(z){return ti(w,z).length>0}}),contains:Pi(function(w){return w=w.replace(qi,Xi),function(z){return(z.textContent||a.text(z)).indexOf(w)>-1}}),lang:Pi(function(w){return Ln.test(w||"")||ti.error("unsupported lang: "+w),w=w.replace(qi,Xi).toLowerCase(),function(z){var dt;do{if(dt=O?z.lang:z.getAttribute("xml:lang")||z.getAttribute("lang"))return(dt=dt.toLowerCase())===w||0===dt.indexOf(w+"-")}while((z=z.parentNode)&&1===z.nodeType);return!1}}),target:function(w){var z=R.location&&R.location.hash;return z&&z.slice(1)===w.id},root:function(w){return w===I},focus:function(w){return w===function Zr(){try{return v.activeElement}catch{}}()&&v.hasFocus()&&!!(w.type||w.href||~w.tabIndex)},enabled:qr(!1),disabled:qr(!0),checked:function(w){return Tt(w,"input")&&!!w.checked||Tt(w,"option")&&!!w.selected},selected:function(w){return!0===w.selected},empty:function(w){for(w=w.firstChild;w;w=w.nextSibling)if(w.nodeType<6)return!1;return!0},parent:function(w){return!i.pseudos.empty(w)},header:function(w){return Ui.test(w.nodeName)},input:function(w){return Zi.test(w.nodeName)},button:function(w){return Tt(w,"input")&&"button"===w.type||Tt(w,"button")},text:function(w){var z;return Tt(w,"input")&&"text"===w.type&&(null==(z=w.getAttribute("type"))||"text"===z.toLowerCase())},first:Yi(function(){return[0]}),last:Yi(function(w,z){return[z-1]}),eq:Yi(function(w,z,dt){return[dt<0?dt+z:dt]}),even:Yi(function(w,z){for(var dt=0;dt<z;dt+=2)w.push(dt);return w}),odd:Yi(function(w,z){for(var dt=1;dt<z;dt+=2)w.push(dt);return w}),lt:Yi(function(w,z,dt){var bt;for(bt=dt<0?dt+z:dt>z?z:dt;--bt>=0;)w.push(bt);return w}),gt:Yi(function(w,z,dt){for(var bt=dt<0?dt+z:dt;++bt<z;)w.push(bt);return w})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=Lr(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=oa(t);function jr(){}function Bn(w,z){var dt,bt,Pt,Vt,ne,ce,re,ze=Je[w+" "];if(ze)return z?0:ze.slice(0);for(ne=w,ce=[],re=i.preFilter;ne;){for(Vt in(!dt||(bt=Ye.exec(ne)))&&(bt&&(ne=ne.slice(bt[0].length)||ne),ce.push(Pt=[])),dt=!1,(bt=zi.exec(ne))&&(dt=bt.shift(),Pt.push({value:dt,type:bt[0].replace(Ht," ")}),ne=ne.slice(dt.length)),i.filter)(bt=hi[Vt].exec(ne))&&(!re[Vt]||(bt=re[Vt](bt)))&&(dt=bt.shift(),Pt.push({value:dt,type:Vt,matches:bt}),ne=ne.slice(dt.length));if(!dt)break}return z?ne.length:ne?ti.error(w):Je(w,ce).slice(0)}function Wn(w){for(var z=0,dt=w.length,bt="";z<dt;z++)bt+=w[z].value;return bt}function Xn(w,z,dt){var bt=z.dir,Pt=z.next,Vt=Pt||bt,ne=dt&&"parentNode"===Vt,ce=Ft++;return z.first?function(re,ze,ke){for(;re=re[bt];)if(1===re.nodeType||ne)return w(re,ze,ke);return!1}:function(re,ze,ke){var Ie,He,_e=[ft,ce];if(ke){for(;re=re[bt];)if((1===re.nodeType||ne)&&w(re,ze,ke))return!0}else for(;re=re[bt];)if(1===re.nodeType||ne)if(He=re[Dt]||(re[Dt]={}),Pt&&Tt(re,Pt))re=re[bt]||re;else{if((Ie=He[Vt])&&Ie[0]===ft&&Ie[1]===ce)return _e[2]=Ie[2];if(He[Vt]=_e,_e[2]=w(re,ze,ke))return!0}return!1}}function mr(w){return w.length>1?function(z,dt,bt){for(var Pt=w.length;Pt--;)if(!w[Pt](z,dt,bt))return!1;return!0}:w[0]}function Yn(w,z,dt,bt,Pt){for(var Vt,ne=[],ce=0,re=w.length,ze=null!=z;ce<re;ce++)(Vt=w[ce])&&(!dt||dt(Vt,bt,Pt))&&(ne.push(Vt),ze&&z.push(ce));return ne}function _r(w,z,dt,bt,Pt,Vt){return bt&&!bt[Dt]&&(bt=_r(bt)),Pt&&!Pt[Dt]&&(Pt=_r(Pt,Vt)),Pi(function(ne,ce,re,ze){var ke,Ie,He,_e,ii=[],Ti=[],xi=ce.length,Di=ne||function Xr(w,z,dt){for(var bt=0,Pt=z.length;bt<Pt;bt++)ti(w,z[bt],dt);return dt}(z||"*",re.nodeType?[re]:re,[]),Qi=!w||!ne&&z?Di:Yn(Di,ii,w,re,ze);if(dt?dt(Qi,_e=Pt||(ne?w:xi||bt)?[]:ce,re,ze):_e=Qi,bt)for(ke=Yn(_e,Ti),bt(ke,[],re,ze),Ie=ke.length;Ie--;)(He=ke[Ie])&&(_e[Ti[Ie]]=!(Qi[Ti[Ie]]=He));if(ne){if(Pt||w){if(Pt){for(ke=[],Ie=_e.length;Ie--;)(He=_e[Ie])&&ke.push(Qi[Ie]=He);Pt(null,_e=[],ke,ze)}for(Ie=_e.length;Ie--;)(He=_e[Ie])&&(ke=Pt?A.call(ne,He):ii[Ie])>-1&&(ne[ke]=!(ce[ke]=He))}}else _e=Yn(_e===ce?_e.splice(xi,_e.length):_e),Pt?Pt(null,ce,_e,ze):h.apply(ce,_e)})}function br(w){for(var z,dt,bt,Pt=w.length,Vt=i.relative[w[0].type],ne=Vt||i.relative[" "],ce=Vt?1:0,re=Xn(function(Ie){return Ie===z},ne,!0),ze=Xn(function(Ie){return A.call(z,Ie)>-1},ne,!0),ke=[function(Ie,He,_e){var ii=!Vt&&(_e||He!=n)||((z=He).nodeType?re(Ie,He,_e):ze(Ie,He,_e));return z=null,ii}];ce<Pt;ce++)if(dt=i.relative[w[ce].type])ke=[Xn(mr(ke),dt)];else{if((dt=i.filter[w[ce].type].apply(null,w[ce].matches))[Dt]){for(bt=++ce;bt<Pt&&!i.relative[w[bt].type];bt++);return _r(ce>1&&mr(ke),ce>1&&Wn(w.slice(0,ce-1).concat({value:" "===w[ce-2].type?"*":""})).replace(Ht,"$1"),dt,ce<bt&&br(w.slice(ce,bt)),bt<Pt&&br(w=w.slice(bt)),bt<Pt&&Wn(w))}ke.push(dt)}return mr(ke)}function wr(w,z){var dt,bt=[],Pt=[],Vt=De[w+" "];if(!Vt){for(z||(z=Bn(w)),dt=z.length;dt--;)(Vt=br(z[dt]))[Dt]?bt.push(Vt):Pt.push(Vt);Vt=De(w,function Yr(w,z){var dt=z.length>0,bt=w.length>0,Pt=function(Vt,ne,ce,re,ze){var ke,Ie,He,_e=0,ii="0",Ti=Vt&&[],xi=[],Di=n,Qi=Vt||bt&&i.find.TAG("*",ze),An=ft+=null==Di?1:Math.random()||.1,Oi=Qi.length;for(ze&&(n=ne==v||ne||ze);ii!==Oi&&null!=(ke=Qi[ii]);ii++){if(bt&&ke){for(Ie=0,!ne&&ke.ownerDocument!=v&&(un(ke),ce=!O);He=w[Ie++];)if(He(ke,ne||v,ce)){h.call(re,ke);break}ze&&(ft=An)}dt&&((ke=!He&&ke)&&_e--,Vt&&Ti.push(ke))}if(_e+=ii,dt&&ii!==_e){for(Ie=0;He=z[Ie++];)He(Ti,xi,ne,ce);if(Vt){if(_e>0)for(;ii--;)Ti[ii]||xi[ii]||(xi[ii]=Bt.call(re));xi=Yn(xi)}h.apply(re,xi),ze&&!Vt&&xi.length>0&&_e+z.length>1&&a.uniqueSort(re)}return ze&&(ft=An,n=Di),Ti};return dt?Pi(Pt):Pt}(Pt,bt)),Vt.selector=w}return Vt}function Br(w,z,dt,bt){var Pt,Vt,ne,ce,re,ze="function"==typeof w&&w,ke=!bt&&Bn(w=ze.selector||w);if(dt=dt||[],1===ke.length){if((Vt=ke[0]=ke[0].slice(0)).length>2&&"ID"===(ne=Vt[0]).type&&9===z.nodeType&&O&&i.relative[Vt[1].type]){if(!(z=(i.find.ID(ne.matches[0].replace(qi,Xi),z)||[])[0]))return dt;ze&&(z=z.parentNode),w=w.slice(Vt.shift().value.length)}for(Pt=hi.needsContext.test(w)?0:Vt.length;Pt--&&!i.relative[ce=(ne=Vt[Pt]).type];)if((re=i.find[ce])&&(bt=re(ne.matches[0].replace(qi,Xi),Zn.test(Vt[0].type)&&jn(z.parentNode)||z))){if(Vt.splice(Pt,1),!(w=bt.length&&Wn(Vt)))return h.apply(dt,bt),dt;break}}return(ze||wr(w,ke))(bt,z,!O,dt,!z||Zn.test(w)&&jn(z.parentNode)||z),dt}jr.prototype=i.filters=i.pseudos,i.setFilters=new jr,D.sortStable=Dt.split("").sort(ui).join("")===Dt,un(),D.sortDetached=_n(function(w){return 1&w.compareDocumentPosition(v.createElement("fieldset"))}),a.find=ti,a.expr[":"]=a.expr.pseudos,a.unique=a.uniqueSort,ti.compile=wr,ti.select=Br,ti.setDocument=un,ti.tokenize=Bn,ti.escape=a.escapeSelector,ti.getText=a.text,ti.isXML=a.isXMLDoc,ti.selectors=a.expr,ti.support=a.support,ti.uniqueSort=a.uniqueSort}();var ve=function(t,i,n){for(var o=[],c=void 0!==n;(t=t[i])&&9!==t.nodeType;)if(1===t.nodeType){if(c&&a(t).is(n))break;o.push(t)}return o},it=function(t,i){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==i&&n.push(t);return n},st=a.expr.match.needsContext,_=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function K(t,i,n){return G(i)?a.grep(t,function(o,c){return!!i.call(o,c,o)!==n}):i.nodeType?a.grep(t,function(o){return o===i!==n}):"string"!=typeof i?a.grep(t,function(o){return A.call(i,o)>-1!==n}):a.filter(i,t,n)}a.filter=function(t,i,n){var o=i[0];return n&&(t=":not("+t+")"),1===i.length&&1===o.nodeType?a.find.matchesSelector(o,t)?[o]:[]:a.find.matches(t,a.grep(i,function(c){return 1===c.nodeType}))},a.fn.extend({find:function(t){var i,n,o=this.length,c=this;if("string"!=typeof t)return this.pushStack(a(t).filter(function(){for(i=0;i<o;i++)if(a.contains(c[i],this))return!0}));for(n=this.pushStack([]),i=0;i<o;i++)a.find(t,c[i],n);return o>1?a.uniqueSort(n):n},filter:function(t){return this.pushStack(K(this,t||[],!1))},not:function(t){return this.pushStack(K(this,t||[],!0))},is:function(t){return!!K(this,"string"==typeof t&&st.test(t)?a(t):t||[],!1).length}});var ct,zt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,le=a.fn.init=function(t,i,n){var o,c;if(!t)return this;if(n=n||ct,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:zt.exec(t))||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(a.merge(this,a.parseHTML(o[1],(i=i instanceof a?i[0]:i)&&i.nodeType?i.ownerDocument||i:b,!0)),_.test(o[1])&&a.isPlainObject(i))for(o in i)G(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}return(c=b.getElementById(o[2]))&&(this[0]=c,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):G(t)?void 0!==n.ready?n.ready(t):t(a):a.makeArray(t,this)};le.prototype=a.fn,ct=a(b);var pe=/^(?:parents|prev(?:Until|All))/,oe={children:!0,contents:!0,next:!0,prev:!0};function se(t,i){for(;(t=t[i])&&1!==t.nodeType;);return t}a.fn.extend({has:function(t){var i=a(t,this),n=i.length;return this.filter(function(){for(var o=0;o<n;o++)if(a.contains(this,i[o]))return!0})},closest:function(t,i){var n,o=0,c=this.length,h=[],v="string"!=typeof t&&a(t);if(!st.test(t))for(;o<c;o++)for(n=this[o];n&&n!==i;n=n.parentNode)if(n.nodeType<11&&(v?v.index(n)>-1:1===n.nodeType&&a.find.matchesSelector(n,t))){h.push(n);break}return this.pushStack(h.length>1?a.uniqueSort(h):h)},index:function(t){return t?"string"==typeof t?A.call(a(t),this[0]):A.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,i){return this.pushStack(a.uniqueSort(a.merge(this.get(),a(t,i))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),a.each({parent:function(t){var i=t.parentNode;return i&&11!==i.nodeType?i:null},parents:function(t){return ve(t,"parentNode")},parentsUntil:function(t,i,n){return ve(t,"parentNode",n)},next:function(t){return se(t,"nextSibling")},prev:function(t){return se(t,"previousSibling")},nextAll:function(t){return ve(t,"nextSibling")},prevAll:function(t){return ve(t,"previousSibling")},nextUntil:function(t,i,n){return ve(t,"nextSibling",n)},prevUntil:function(t,i,n){return ve(t,"previousSibling",n)},siblings:function(t){return it((t.parentNode||{}).firstChild,t)},children:function(t){return it(t.firstChild)},contents:function(t){return null!=t.contentDocument&&q(t.contentDocument)?t.contentDocument:(Tt(t,"template")&&(t=t.content||t),a.merge([],t.childNodes))}},function(t,i){a.fn[t]=function(n,o){var c=a.map(this,i,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(c=a.filter(o,c)),this.length>1&&(oe[t]||a.uniqueSort(c),pe.test(t)&&c.reverse()),this.pushStack(c)}});var Ae=/[^\x20\t\r\n\f]+/g;function Le(t){return t}function ee(t){throw t}function Qe(t,i,n,o){var c;try{t&&G(c=t.promise)?c.call(t).done(i).fail(n):t&&G(c=t.then)?c.call(t,i,n):i.apply(void 0,[t].slice(o))}catch(h){n.apply(void 0,[h])}}a.Callbacks=function(t){t="string"==typeof t?function Ue(t){var i={};return a.each(t.match(Ae)||[],function(n,o){i[o]=!0}),i}(t):a.extend({},t);var i,n,o,c,h=[],v=[],I=-1,O=function(){for(c=c||t.once,o=i=!0;v.length;I=-1)for(n=v.shift();++I<h.length;)!1===h[I].apply(n[0],n[1])&&t.stopOnFalse&&(I=h.length,n=!1);t.memory||(n=!1),i=!1,c&&(h=n?[]:"")},J={add:function(){return h&&(n&&!i&&(I=h.length-1,v.push(n)),function Ot(Dt){a.each(Dt,function(ft,Ft){G(Ft)?(!t.unique||!J.has(Ft))&&h.push(Ft):Ft&&Ft.length&&"string"!==jt(Ft)&&Ot(Ft)})}(arguments),n&&!i&&O()),this},remove:function(){return a.each(arguments,function(Ot,Dt){for(var ft;(ft=a.inArray(Dt,h,ft))>-1;)h.splice(ft,1),ft<=I&&I--}),this},has:function(Ot){return Ot?a.inArray(Ot,h)>-1:h.length>0},empty:function(){return h&&(h=[]),this},disable:function(){return c=v=[],h=n="",this},disabled:function(){return!h},lock:function(){return c=v=[],!n&&!i&&(h=n=""),this},locked:function(){return!!c},fireWith:function(Ot,Dt){return c||(Dt=[Ot,(Dt=Dt||[]).slice?Dt.slice():Dt],v.push(Dt),i||O()),this},fire:function(){return J.fireWith(this,arguments),this},fired:function(){return!!o}};return J},a.extend({Deferred:function(t){var i=[["notify","progress",a.Callbacks("memory"),a.Callbacks("memory"),2],["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),0,"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return c.done(arguments).fail(arguments),this},catch:function(h){return o.then(null,h)},pipe:function(){var h=arguments;return a.Deferred(function(v){a.each(i,function(I,O){var J=G(h[O[4]])&&h[O[4]];c[O[1]](function(){var Ot=J&&J.apply(this,arguments);Ot&&G(Ot.promise)?Ot.promise().progress(v.notify).done(v.resolve).fail(v.reject):v[O[0]+"With"](this,J?[Ot]:arguments)})}),h=null}).promise()},then:function(h,v,I){var O=0;function J(Ot,Dt,ft,Ft){return function(){var xe=this,Je=arguments,De=function(){var ui,li;if(!(Ot<O)){if((ui=ft.apply(xe,Je))===Dt.promise())throw new TypeError("Thenable self-resolution");G(li=ui&&("object"==typeof ui||"function"==typeof ui)&&ui.then)?Ft?li.call(ui,J(O,Dt,Le,Ft),J(O,Dt,ee,Ft)):(O++,li.call(ui,J(O,Dt,Le,Ft),J(O,Dt,ee,Ft),J(O,Dt,Le,Dt.notifyWith))):(ft!==Le&&(xe=void 0,Je=[ui]),(Ft||Dt.resolveWith)(xe,Je))}},mi=Ft?De:function(){try{De()}catch(ui){a.Deferred.exceptionHook&&a.Deferred.exceptionHook(ui,mi.error),Ot+1>=O&&(ft!==ee&&(xe=void 0,Je=[ui]),Dt.rejectWith(xe,Je))}};Ot?mi():(a.Deferred.getErrorHook?mi.error=a.Deferred.getErrorHook():a.Deferred.getStackHook&&(mi.error=a.Deferred.getStackHook()),R.setTimeout(mi))}}return a.Deferred(function(Ot){i[0][3].add(J(0,Ot,G(I)?I:Le,Ot.notifyWith)),i[1][3].add(J(0,Ot,G(h)?h:Le)),i[2][3].add(J(0,Ot,G(v)?v:ee))}).promise()},promise:function(h){return null!=h?a.extend(h,o):o}},c={};return a.each(i,function(h,v){var I=v[2],O=v[5];o[v[1]]=I.add,O&&I.add(function(){n=O},i[3-h][2].disable,i[3-h][3].disable,i[0][2].lock,i[0][3].lock),I.add(v[3].fire),c[v[0]]=function(){return c[v[0]+"With"](this===c?void 0:this,arguments),this},c[v[0]+"With"]=I.fireWith}),o.promise(c),t&&t.call(c,c),c},when:function(t){var i=arguments.length,n=i,o=Array(n),c=y.call(arguments),h=a.Deferred(),v=function(I){return function(O){o[I]=this,c[I]=arguments.length>1?y.call(arguments):O,--i||h.resolveWith(o,c)}};if(i<=1&&(Qe(t,h.done(v(n)).resolve,h.reject,!i),"pending"===h.state()||G(c[n]&&c[n].then)))return h.then();for(;n--;)Qe(c[n],v(n),h.reject);return h.promise()}});var _t=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;a.Deferred.exceptionHook=function(t,i){R.console&&R.console.warn&&t&&_t.test(t.name)&&R.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},a.readyException=function(t){R.setTimeout(function(){throw t})};var E=a.Deferred();function vt(){b.removeEventListener("DOMContentLoaded",vt),R.removeEventListener("load",vt),a.ready()}a.fn.ready=function(t){return E.then(t).catch(function(i){a.readyException(i)}),this},a.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--a.readyWait:a.isReady)||(a.isReady=!0,!(!0!==t&&--a.readyWait>0)&&E.resolveWith(b,[a]))}}),a.ready.then=E.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?R.setTimeout(a.ready):(b.addEventListener("DOMContentLoaded",vt),R.addEventListener("load",vt));var Nt=function(t,i,n,o,c,h,v){var I=0,O=t.length,J=null==n;if("object"===jt(n))for(I in c=!0,n)Nt(t,i,I,n[I],!0,h,v);else if(void 0!==o&&(c=!0,G(o)||(v=!0),J&&(v?(i.call(t,o),i=null):(J=i,i=function(Ot,Dt,ft){return J.call(a(Ot),ft)})),i))for(;I<O;I++)i(t[I],n,v?o:o.call(t[I],I,i(t[I],n)));return c?t:J?i.call(t):O?i(t[0],n):h},U=/^-ms-/,at=/-([a-z])/g;function nt(t,i){return i.toUpperCase()}function gt(t){return t.replace(U,"ms-").replace(at,nt)}var Rt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Ut(){this.expando=a.expando+Ut.uid++}Ut.uid=1,Ut.prototype={cache:function(t){var i=t[this.expando];return i||(i={},Rt(t)&&(t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,configurable:!0}))),i},set:function(t,i,n){var o,c=this.cache(t);if("string"==typeof i)c[gt(i)]=n;else for(o in i)c[gt(o)]=i[o];return c},get:function(t,i){return void 0===i?this.cache(t):t[this.expando]&&t[this.expando][gt(i)]},access:function(t,i,n){return void 0===i||i&&"string"==typeof i&&void 0===n?this.get(t,i):(this.set(t,i,n),void 0!==n?n:i)},remove:function(t,i){var n,o=t[this.expando];if(void 0!==o){if(void 0!==i)for((n=(i=Array.isArray(i)?i.map(gt):(i=gt(i))in o?[i]:i.match(Ae)||[]).length);n--;)delete o[i[n]];(void 0===i||a.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var i=t[this.expando];return void 0!==i&&!a.isEmptyObject(i)}};var ht=new Ut,Gt=new Ut,ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Te=/[A-Z]/g;function ge(t,i,n){var o;if(void 0===n&&1===t.nodeType)if(o="data-"+i.replace(Te,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(o))){try{n=function te(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:ie.test(t)?JSON.parse(t):t)}(n)}catch{}Gt.set(t,i,n)}else n=void 0;return n}a.extend({hasData:function(t){return Gt.hasData(t)||ht.hasData(t)},data:function(t,i,n){return Gt.access(t,i,n)},removeData:function(t,i){Gt.remove(t,i)},_data:function(t,i,n){return ht.access(t,i,n)},_removeData:function(t,i){ht.remove(t,i)}}),a.fn.extend({data:function(t,i){var n,o,c,h=this[0],v=h&&h.attributes;if(void 0===t){if(this.length&&(c=Gt.get(h),1===h.nodeType&&!ht.get(h,"hasDataAttrs"))){for(n=v.length;n--;)v[n]&&0===(o=v[n].name).indexOf("data-")&&(o=gt(o.slice(5)),ge(h,o,c[o]));ht.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof t?this.each(function(){Gt.set(this,t)}):Nt(this,function(I){var O;if(h&&void 0===I)return void 0!==(O=Gt.get(h,t))||void 0!==(O=ge(h,t))?O:void 0;this.each(function(){Gt.set(this,t,I)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Gt.remove(this,t)})}}),a.extend({queue:function(t,i,n){var o;if(t)return o=ht.get(t,i=(i||"fx")+"queue"),n&&(!o||Array.isArray(n)?o=ht.access(t,i,a.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,i){var n=a.queue(t,i=i||"fx"),o=n.length,c=n.shift(),h=a._queueHooks(t,i);"inprogress"===c&&(c=n.shift(),o--),c&&("fx"===i&&n.unshift("inprogress"),delete h.stop,c.call(t,function(){a.dequeue(t,i)},h)),!o&&h&&h.empty.fire()},_queueHooks:function(t,i){var n=i+"queueHooks";return ht.get(t,n)||ht.access(t,n,{empty:a.Callbacks("once memory").add(function(){ht.remove(t,[i+"queue",n])})})}}),a.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?a.queue(this[0],t):void 0===i?this:this.each(function(){var o=a.queue(this,t,i);a._queueHooks(this,t),"fx"===t&&"inprogress"!==o[0]&&a.dequeue(this,t)})},dequeue:function(t){return this.each(function(){a.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,c=a.Deferred(),h=this,v=this.length,I=function(){--o||c.resolveWith(h,[h])};for("string"!=typeof t&&(i=t,t=void 0),t=t||"fx";v--;)(n=ht.get(h[v],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(I));return I(),c.promise(i)}});var ye=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+ye+")([a-z%]*)$","i"),Ce=["Top","Right","Bottom","Left"],Me=b.documentElement,Ze=function(t){return a.contains(t.ownerDocument,t)},tn={composed:!0};Me.getRootNode&&(Ze=function(t){return a.contains(t.ownerDocument,t)||t.getRootNode(tn)===t.ownerDocument});var Ei=function(t,i){return"none"===(t=i||t).style.display||""===t.style.display&&Ze(t)&&"none"===a.css(t,"display")};function en(t,i,n,o){var c,h,v=20,I=o?function(){return o.cur()}:function(){return a.css(t,i,"")},O=I(),J=n&&n[3]||(a.cssNumber[i]?"":"px"),Ot=t.nodeType&&(a.cssNumber[i]||"px"!==J&&+O)&&je.exec(a.css(t,i));if(Ot&&Ot[3]!==J){for(J=J||Ot[3],Ot=+(O/=2)||1;v--;)a.style(t,i,Ot+J),(1-h)*(1-(h=I()/O||.5))<=0&&(v=0),Ot/=h;a.style(t,i,(Ot*=2)+J),n=n||[]}return n&&(Ot=+Ot||+O||0,c=n[1]?Ot+(n[1]+1)*n[2]:+n[2],o&&(o.unit=J,o.start=Ot,o.end=c)),c}var nn={};function En(t){var i,n=t.ownerDocument,o=t.nodeName,c=nn[o];return c||(i=n.body.appendChild(n.createElement(o)),c=a.css(i,"display"),i.parentNode.removeChild(i),"none"===c&&(c="block"),nn[o]=c,c)}function ni(t,i){for(var n,o,c=[],h=0,v=t.length;h<v;h++)(o=t[h]).style&&(n=o.style.display,i?("none"===n&&(c[h]=ht.get(o,"display")||null,c[h]||(o.style.display="")),""===o.style.display&&Ei(o)&&(c[h]=En(o))):"none"!==n&&(c[h]="none",ht.set(o,"display",n)));for(h=0;h<v;h++)null!=c[h]&&(t[h].style.display=c[h]);return t}a.fn.extend({show:function(){return ni(this,!0)},hide:function(){return ni(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ei(this)?a(this).show():a(this).hide()})}});var i,n,ji=/^(?:checkbox|radio)$/i,Ii=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,$i=/^$|^module$|\/(?:java|ecma)script/i;i=b.createDocumentFragment().appendChild(b.createElement("div")),(n=b.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),i.appendChild(n),D.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",D.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,i.innerHTML="<option></option>",D.option=!!i.lastChild;var pi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ci(t,i){var n;return n=typeof t.getElementsByTagName<"u"?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?t.querySelectorAll(i||"*"):[],void 0===i||i&&Tt(t,i)?a.merge([t],n):n}function Bi(t,i){for(var n=0,o=t.length;n<o;n++)ht.set(t[n],"globalEval",!i||ht.get(i[n],"globalEval"))}pi.tbody=pi.tfoot=pi.colgroup=pi.caption=pi.thead,pi.th=pi.td,D.option||(pi.optgroup=pi.option=[1,"<select multiple='multiple'>","</select>"]);var rn=/<|&#?\w+;/;function an(t,i,n,o,c){for(var h,v,I,O,J,Ot,Dt=i.createDocumentFragment(),ft=[],Ft=0,xe=t.length;Ft<xe;Ft++)if((h=t[Ft])||0===h)if("object"===jt(h))a.merge(ft,h.nodeType?[h]:h);else if(rn.test(h)){for(v=v||Dt.appendChild(i.createElement("div")),I=(Ii.exec(h)||["",""])[1].toLowerCase(),v.innerHTML=(O=pi[I]||pi._default)[1]+a.htmlPrefilter(h)+O[2],Ot=O[0];Ot--;)v=v.lastChild;a.merge(ft,v.childNodes),(v=Dt.firstChild).textContent=""}else ft.push(i.createTextNode(h));for(Dt.textContent="",Ft=0;h=ft[Ft++];)if(o&&a.inArray(h,o)>-1)c&&c.push(h);else if(J=Ze(h),v=ci(Dt.appendChild(h),"script"),J&&Bi(v),n)for(Ot=0;h=v[Ot++];)$i.test(h.type||"")&&n.push(h);return Dt}var Wt=/^([^.]*)(?:\.(.+)|)/;function H(){return!0}function l(){return!1}function d(t,i,n,o,c,h){var v,I;if("object"==typeof i){for(I in"string"!=typeof n&&(o=o||n,n=void 0),i)d(t,I,n,o,i[I],h);return t}if(null==o&&null==c?(c=n,o=n=void 0):null==c&&("string"==typeof n?(c=o,o=void 0):(c=o,o=n,n=void 0)),!1===c)c=l;else if(!c)return t;return 1===h&&(v=c,c=function(O){return a().off(O),v.apply(this,arguments)},c.guid=v.guid||(v.guid=a.guid++)),t.each(function(){a.event.add(this,i,c,o,n)})}function s(t,i,n){n?(ht.set(t,i,!1),a.event.add(t,i,{namespace:!1,handler:function(o){var c,h=ht.get(this,i);if(1&o.isTrigger&&this[i]){if(h)(a.event.special[i]||{}).delegateType&&o.stopPropagation();else if(h=y.call(arguments),ht.set(this,i,h),this[i](),c=ht.get(this,i),ht.set(this,i,!1),h!==c)return o.stopImmediatePropagation(),o.preventDefault(),c}else h&&(ht.set(this,i,a.event.trigger(h[0],h.slice(1),this)),o.stopPropagation(),o.isImmediatePropagationStopped=H)}})):void 0===ht.get(t,i)&&a.event.add(t,i,H)}a.event={global:{},add:function(t,i,n,o,c){var h,v,I,O,J,Ot,Dt,ft,Ft,xe,Je,De=ht.get(t);if(Rt(t))for(n.handler&&(n=(h=n).handler,c=h.selector),c&&a.find.matchesSelector(Me,c),n.guid||(n.guid=a.guid++),(O=De.events)||(O=De.events=Object.create(null)),(v=De.handle)||(v=De.handle=function(mi){return typeof a<"u"&&a.event.triggered!==mi.type?a.event.dispatch.apply(t,arguments):void 0}),J=(i=(i||"").match(Ae)||[""]).length;J--;)Ft=Je=(I=Wt.exec(i[J])||[])[1],xe=(I[2]||"").split(".").sort(),Ft&&(Dt=a.event.special[Ft]||{},Dt=a.event.special[Ft=(c?Dt.delegateType:Dt.bindType)||Ft]||{},Ot=a.extend({type:Ft,origType:Je,data:o,handler:n,guid:n.guid,selector:c,needsContext:c&&a.expr.match.needsContext.test(c),namespace:xe.join(".")},h),(ft=O[Ft])||((ft=O[Ft]=[]).delegateCount=0,(!Dt.setup||!1===Dt.setup.call(t,o,xe,v))&&t.addEventListener&&t.addEventListener(Ft,v)),Dt.add&&(Dt.add.call(t,Ot),Ot.handler.guid||(Ot.handler.guid=n.guid)),c?ft.splice(ft.delegateCount++,0,Ot):ft.push(Ot),a.event.global[Ft]=!0)},remove:function(t,i,n,o,c){var h,v,I,O,J,Ot,Dt,ft,Ft,xe,Je,De=ht.hasData(t)&&ht.get(t);if(De&&(O=De.events)){for(J=(i=(i||"").match(Ae)||[""]).length;J--;)if(Ft=Je=(I=Wt.exec(i[J])||[])[1],xe=(I[2]||"").split(".").sort(),Ft){for(Dt=a.event.special[Ft]||{},ft=O[Ft=(o?Dt.delegateType:Dt.bindType)||Ft]||[],I=I[2]&&new RegExp("(^|\\.)"+xe.join("\\.(?:.*\\.|)")+"(\\.|$)"),v=h=ft.length;h--;)Ot=ft[h],(c||Je===Ot.origType)&&(!n||n.guid===Ot.guid)&&(!I||I.test(Ot.namespace))&&(!o||o===Ot.selector||"**"===o&&Ot.selector)&&(ft.splice(h,1),Ot.selector&&ft.delegateCount--,Dt.remove&&Dt.remove.call(t,Ot));v&&!ft.length&&((!Dt.teardown||!1===Dt.teardown.call(t,xe,De.handle))&&a.removeEvent(t,Ft,De.handle),delete O[Ft])}else for(Ft in O)a.event.remove(t,Ft+i[J],n,o,!0);a.isEmptyObject(O)&&ht.remove(t,"handle events")}},dispatch:function(t){var i,n,o,c,h,v,I=new Array(arguments.length),O=a.event.fix(t),J=(ht.get(this,"events")||Object.create(null))[O.type]||[],Ot=a.event.special[O.type]||{};for(I[0]=O,i=1;i<arguments.length;i++)I[i]=arguments[i];if(O.delegateTarget=this,!Ot.preDispatch||!1!==Ot.preDispatch.call(this,O)){for(v=a.event.handlers.call(this,O,J),i=0;(c=v[i++])&&!O.isPropagationStopped();)for(O.currentTarget=c.elem,n=0;(h=c.handlers[n++])&&!O.isImmediatePropagationStopped();)(!O.rnamespace||!1===h.namespace||O.rnamespace.test(h.namespace))&&(O.handleObj=h,O.data=h.data,void 0!==(o=((a.event.special[h.origType]||{}).handle||h.handler).apply(c.elem,I))&&!1===(O.result=o)&&(O.preventDefault(),O.stopPropagation()));return Ot.postDispatch&&Ot.postDispatch.call(this,O),O.result}},handlers:function(t,i){var n,o,c,h,v,I=[],O=i.delegateCount,J=t.target;if(O&&J.nodeType&&!("click"===t.type&&t.button>=1))for(;J!==this;J=J.parentNode||this)if(1===J.nodeType&&("click"!==t.type||!0!==J.disabled)){for(h=[],v={},n=0;n<O;n++)void 0===v[c=(o=i[n]).selector+" "]&&(v[c]=o.needsContext?a(c,this).index(J)>-1:a.find(c,this,null,[J]).length),v[c]&&h.push(o);h.length&&I.push({elem:J,handlers:h})}return J=this,O<i.length&&I.push({elem:J,handlers:i.slice(O)}),I},addProp:function(t,i){Object.defineProperty(a.Event.prototype,t,{enumerable:!0,configurable:!0,get:G(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(t){return t[a.expando]?t:new a.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var i=this||t;return ji.test(i.type)&&i.click&&Tt(i,"input")&&s(i,"click",!0),!1},trigger:function(t){var i=this||t;return ji.test(i.type)&&i.click&&Tt(i,"input")&&s(i,"click"),!0},_default:function(t){var i=t.target;return ji.test(i.type)&&i.click&&Tt(i,"input")&&ht.get(i,"click")||Tt(i,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},a.removeEvent=function(t,i,n){t.removeEventListener&&t.removeEventListener(i,n)},a.Event=function(t,i){if(!(this instanceof a.Event))return new a.Event(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?H:l,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,i&&a.extend(this,i),this.timeStamp=t&&t.timeStamp||Date.now(),this[a.expando]=!0},a.Event.prototype={constructor:a.Event,isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=H,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=H,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=H,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},a.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},a.event.addProp),a.each({focus:"focusin",blur:"focusout"},function(t,i){function n(o){if(b.documentMode){var c=ht.get(this,"handle"),h=a.event.fix(o);h.type="focusin"===o.type?"focus":"blur",h.isSimulated=!0,c(o),h.target===h.currentTarget&&c(h)}else a.event.simulate(i,o.target,a.event.fix(o))}a.event.special[t]={setup:function(){var o;if(s(this,t,!0),!b.documentMode)return!1;(o=ht.get(this,i))||this.addEventListener(i,n),ht.set(this,i,(o||0)+1)},trigger:function(){return s(this,t),!0},teardown:function(){var o;if(!b.documentMode)return!1;(o=ht.get(this,i)-1)?ht.set(this,i,o):(this.removeEventListener(i,n),ht.remove(this,i))},_default:function(o){return ht.get(o.target,t)},delegateType:i},a.event.special[i]={setup:function(){var o=this.ownerDocument||this.document||this,c=b.documentMode?this:o,h=ht.get(c,i);h||(b.documentMode?this.addEventListener(i,n):o.addEventListener(t,n,!0)),ht.set(c,i,(h||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,c=b.documentMode?this:o,h=ht.get(c,i)-1;h?ht.set(c,i,h):(b.documentMode?this.removeEventListener(i,n):o.removeEventListener(t,n,!0),ht.remove(c,i))}}}),a.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){a.event.special[t]={delegateType:i,bindType:i,handle:function(n){var o,h=n.relatedTarget,v=n.handleObj;return(!h||h!==this&&!a.contains(this,h))&&(n.type=v.origType,o=v.handler.apply(this,arguments),n.type=i),o}}}),a.fn.extend({on:function(t,i,n,o){return d(this,t,i,n,o)},one:function(t,i,n,o){return d(this,t,i,n,o,1)},off:function(t,i,n){var o,c;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,a(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(c in t)this.off(c,i,t[c]);return this}return(!1===i||"function"==typeof i)&&(n=i,i=void 0),!1===n&&(n=l),this.each(function(){a.event.remove(this,t,n,i)})}});var f=/<script|<style|<link/i,p=/checked\s*(?:[^=]|=\s*.checked.)/i,T=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function N(t,i){return Tt(t,"table")&&Tt(11!==i.nodeType?i:i.firstChild,"tr")&&a(t).children("tbody")[0]||t}function k(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Y(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function C(t,i){var n,o,c,v,I,O;if(1===i.nodeType){if(ht.hasData(t)&&(O=ht.get(t).events))for(c in ht.remove(i,"handle events"),O)for(n=0,o=O[c].length;n<o;n++)a.event.add(i,c,O[c][n]);Gt.hasData(t)&&(v=Gt.access(t),I=a.extend({},v),Gt.set(i,I))}}function tt(t,i){var n=i.nodeName.toLowerCase();"input"===n&&ji.test(t.type)?i.checked=t.checked:("input"===n||"textarea"===n)&&(i.defaultValue=t.defaultValue)}function V(t,i,n,o){i=j(i);var c,h,v,I,O,J,Ot=0,Dt=t.length,ft=Dt-1,Ft=i[0],xe=G(Ft);if(xe||Dt>1&&"string"==typeof Ft&&!D.checkClone&&p.test(Ft))return t.each(function(Je){var De=t.eq(Je);xe&&(i[0]=Ft.call(this,Je,De.html())),V(De,i,n,o)});if(Dt&&(h=(c=an(i,t[0].ownerDocument,!1,t,o)).firstChild,1===c.childNodes.length&&(c=h),h||o)){for(I=(v=a.map(ci(c,"script"),k)).length;Ot<Dt;Ot++)O=c,Ot!==ft&&(O=a.clone(O,!0,!0),I&&a.merge(v,ci(O,"script"))),n.call(t[Ot],O,Ot);if(I)for(J=v[v.length-1].ownerDocument,a.map(v,Y),Ot=0;Ot<I;Ot++)$i.test((O=v[Ot]).type||"")&&!ht.access(O,"globalEval")&&a.contains(J,O)&&(O.src&&"module"!==(O.type||"").toLowerCase()?a._evalUrl&&!O.noModule&&a._evalUrl(O.src,{nonce:O.nonce||O.getAttribute("nonce")},J):Lt(O.textContent.replace(T,""),O,J))}return t}function lt(t,i,n){for(var o,c=i?a.filter(i,t):t,h=0;null!=(o=c[h]);h++)!n&&1===o.nodeType&&a.cleanData(ci(o)),o.parentNode&&(n&&Ze(o)&&Bi(ci(o,"script")),o.parentNode.removeChild(o));return t}a.extend({htmlPrefilter:function(t){return t},clone:function(t,i,n){var o,c,h,v,I=t.cloneNode(!0),O=Ze(t);if(!(D.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||a.isXMLDoc(t)))for(v=ci(I),o=0,c=(h=ci(t)).length;o<c;o++)tt(h[o],v[o]);if(i)if(n)for(h=h||ci(t),v=v||ci(I),o=0,c=h.length;o<c;o++)C(h[o],v[o]);else C(t,I);return(v=ci(I,"script")).length>0&&Bi(v,!O&&ci(t,"script")),I},cleanData:function(t){for(var i,n,o,c=a.event.special,h=0;void 0!==(n=t[h]);h++)if(Rt(n)){if(i=n[ht.expando]){if(i.events)for(o in i.events)c[o]?a.event.remove(n,o):a.removeEvent(n,o,i.handle);n[ht.expando]=void 0}n[Gt.expando]&&(n[Gt.expando]=void 0)}}}),a.fn.extend({detach:function(t){return lt(this,t,!0)},remove:function(t){return lt(this,t)},text:function(t){return Nt(this,function(i){return void 0===i?a.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=i)})},null,t,arguments.length)},append:function(){return V(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||N(this,t).appendChild(t)})},prepend:function(){return V(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var i=N(this,t);i.insertBefore(t,i.firstChild)}})},before:function(){return V(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return V(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,i=0;null!=(t=this[i]);i++)1===t.nodeType&&(a.cleanData(ci(t,!1)),t.textContent="");return this},clone:function(t,i){return t=null!=t&&t,i=null==i?t:i,this.map(function(){return a.clone(this,t,i)})},html:function(t){return Nt(this,function(i){var n=this[0]||{},o=0,c=this.length;if(void 0===i&&1===n.nodeType)return n.innerHTML;if("string"==typeof i&&!f.test(i)&&!pi[(Ii.exec(i)||["",""])[1].toLowerCase()]){i=a.htmlPrefilter(i);try{for(;o<c;o++)1===(n=this[o]||{}).nodeType&&(a.cleanData(ci(n,!1)),n.innerHTML=i);n=0}catch{}}n&&this.empty().append(i)},null,t,arguments.length)},replaceWith:function(){var t=[];return V(this,arguments,function(i){var n=this.parentNode;a.inArray(this,t)<0&&(a.cleanData(ci(this)),n&&n.replaceChild(i,this))},t)}}),a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){a.fn[t]=function(n){for(var o,c=[],h=a(n),v=h.length-1,I=0;I<=v;I++)o=I===v?this:this.clone(!0),a(h[I])[i](o),L.apply(c,o.get());return this.pushStack(c)}});var pt=new RegExp("^("+ye+")(?!px)[a-z%]+$","i"),mt=/^--/,ue=function(t){var i=t.ownerDocument.defaultView;return(!i||!i.opener)&&(i=R),i.getComputedStyle(t)},me=function(t,i,n){var o,c,h={};for(c in i)h[c]=t.style[c],t.style[c]=i[c];for(c in o=n.call(t),i)t.style[c]=h[c];return o},ei=new RegExp(Ce.join("|"),"i");function $e(t,i,n){var o,c,h,v,I=mt.test(i),O=t.style;return(n=n||ue(t))&&(v=n.getPropertyValue(i)||n[i],I&&v&&(v=v.replace(Ht,"$1")||void 0),""===v&&!Ze(t)&&(v=a.style(t,i)),!D.pixelBoxStyles()&&pt.test(v)&&ei.test(i)&&(o=O.width,c=O.minWidth,h=O.maxWidth,O.minWidth=O.maxWidth=O.width=v,v=n.width,O.width=o,O.minWidth=c,O.maxWidth=h)),void 0!==v?v+"":v}function qe(t,i){return{get:function(){if(!t())return(this.get=i).apply(this,arguments);delete this.get}}}!function(){function t(){if(J){O.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",J.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Me.appendChild(O).appendChild(J);var Ot=R.getComputedStyle(J);n="1%"!==Ot.top,I=12===i(Ot.marginLeft),J.style.right="60%",h=36===i(Ot.right),o=36===i(Ot.width),J.style.position="absolute",c=12===i(J.offsetWidth/3),Me.removeChild(O),J=null}}function i(Ot){return Math.round(parseFloat(Ot))}var n,o,c,h,v,I,O=b.createElement("div"),J=b.createElement("div");J.style&&(J.style.backgroundClip="content-box",J.cloneNode(!0).style.backgroundClip="",D.clearCloneStyle="content-box"===J.style.backgroundClip,a.extend(D,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),h},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),I},scrollboxSize:function(){return t(),c},reliableTrDimensions:function(){var Ot,Dt,ft,Ft;return null==v&&(Ot=b.createElement("table"),Dt=b.createElement("tr"),ft=b.createElement("div"),Ot.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Dt.style.cssText="box-sizing:content-box;border:1px solid",Dt.style.height="1px",ft.style.height="9px",ft.style.display="block",Me.appendChild(Ot).appendChild(Dt).appendChild(ft),Ft=R.getComputedStyle(Dt),v=parseInt(Ft.height,10)+parseInt(Ft.borderTopWidth,10)+parseInt(Ft.borderBottomWidth,10)===Dt.offsetHeight,Me.removeChild(Ot)),v}}))}();var Xe=["Webkit","Moz","ms"],ai=b.createElement("div").style,Nn={};function ar(t){return a.cssProps[t]||Nn[t]||(t in ai?t:Nn[t]=function Hr(t){for(var i=t[0].toUpperCase()+t.slice(1),n=Xe.length;n--;)if((t=Xe[n]+i)in ai)return t}(t)||t)}var Sr=/^(none|table(?!-c[ea]).+)/,Ur={position:"absolute",visibility:"hidden",display:"block"},cn={letterSpacing:"0",fontWeight:"400"};function On(t,i,n){var o=je.exec(i);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):i}function hn(t,i,n,o,c,h){var v="width"===i?1:0,I=0,O=0,J=0;if(n===(o?"border":"content"))return 0;for(;v<4;v+=2)"margin"===n&&(J+=a.css(t,n+Ce[v],!0,c)),o?("content"===n&&(O-=a.css(t,"padding"+Ce[v],!0,c)),"margin"!==n&&(O-=a.css(t,"border"+Ce[v]+"Width",!0,c))):(O+=a.css(t,"padding"+Ce[v],!0,c),"padding"!==n?O+=a.css(t,"border"+Ce[v]+"Width",!0,c):I+=a.css(t,"border"+Ce[v]+"Width",!0,c));return!o&&h>=0&&(O+=Math.max(0,Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-h-O-I-.5))||0),O+J}function or(t,i,n){var o=ue(t),h=(!D.boxSizingReliable()||n)&&"border-box"===a.css(t,"boxSizing",!1,o),v=h,I=$e(t,i,o),O="offset"+i[0].toUpperCase()+i.slice(1);if(pt.test(I)){if(!n)return I;I="auto"}return(!D.boxSizingReliable()&&h||!D.reliableTrDimensions()&&Tt(t,"tr")||"auto"===I||!parseFloat(I)&&"inline"===a.css(t,"display",!1,o))&&t.getClientRects().length&&(h="border-box"===a.css(t,"boxSizing",!1,o),(v=O in t)&&(I=t[O])),(I=parseFloat(I)||0)+hn(t,i,n||(h?"border":"content"),v,o,I)+"px"}function yi(t,i,n,o,c){return new yi.prototype.init(t,i,n,o,c)}a.extend({cssHooks:{opacity:{get:function(t,i){if(i){var n=$e(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var c,h,v,I=gt(i),O=mt.test(i),J=t.style;if(O||(i=ar(I)),v=a.cssHooks[i]||a.cssHooks[I],void 0===n)return v&&"get"in v&&void 0!==(c=v.get(t,!1,o))?c:J[i];if("string"==(h=typeof n)&&(c=je.exec(n))&&c[1]&&(n=en(t,i,c),h="number"),null==n||n!=n)return;"number"===h&&!O&&(n+=c&&c[3]||(a.cssNumber[I]?"":"px")),!D.clearCloneStyle&&""===n&&0===i.indexOf("background")&&(J[i]="inherit"),(!v||!("set"in v)||void 0!==(n=v.set(t,n,o)))&&(O?J.setProperty(i,n):J[i]=n)}},css:function(t,i,n,o){var c,h,v,I=gt(i);return mt.test(i)||(i=ar(I)),(v=a.cssHooks[i]||a.cssHooks[I])&&"get"in v&&(c=v.get(t,!0,n)),void 0===c&&(c=$e(t,i,o)),"normal"===c&&i in cn&&(c=cn[i]),""===n||n?(h=parseFloat(c),!0===n||isFinite(h)?h||0:c):c}}),a.each(["height","width"],function(t,i){a.cssHooks[i]={get:function(n,o,c){if(o)return!Sr.test(a.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?or(n,i,c):me(n,Ur,function(){return or(n,i,c)})},set:function(n,o,c){var h,v=ue(n),I=!D.scrollboxSize()&&"absolute"===v.position,J=(I||c)&&"border-box"===a.css(n,"boxSizing",!1,v),Ot=c?hn(n,i,c,J,v):0;return J&&I&&(Ot-=Math.ceil(n["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(v[i])-hn(n,i,"border",!1,v)-.5)),Ot&&(h=je.exec(o))&&"px"!==(h[3]||"px")&&(n.style[i]=o,o=a.css(n,i)),On(0,o,Ot)}}}),a.cssHooks.marginLeft=qe(D.reliableMarginLeft,function(t,i){if(i)return(parseFloat($e(t,"marginLeft"))||t.getBoundingClientRect().left-me(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),a.each({margin:"",padding:"",border:"Width"},function(t,i){a.cssHooks[t+i]={expand:function(n){for(var o=0,c={},h="string"==typeof n?n.split(" "):[n];o<4;o++)c[t+Ce[o]+i]=h[o]||h[o-2]||h[0];return c}},"margin"!==t&&(a.cssHooks[t+i].set=On)}),a.fn.extend({css:function(t,i){return Nt(this,function(n,o,c){var h,v,I={},O=0;if(Array.isArray(o)){for(h=ue(n),v=o.length;O<v;O++)I[o[O]]=a.css(n,o[O],!1,h);return I}return void 0!==c?a.style(n,o,c):a.css(n,o)},t,i,arguments.length>1)}}),a.Tween=yi,yi.prototype={constructor:yi,init:function(t,i,n,o,c,h){this.elem=t,this.prop=n,this.easing=c||a.easing._default,this.options=i,this.start=this.now=this.cur(),this.end=o,this.unit=h||(a.cssNumber[n]?"":"px")},cur:function(){var t=yi.propHooks[this.prop];return t&&t.get?t.get(this):yi.propHooks._default.get(this)},run:function(t){var i,n=yi.propHooks[this.prop];return this.pos=i=this.options.duration?a.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):yi.propHooks._default.set(this),this}},yi.prototype.init.prototype=yi.prototype,yi.propHooks={_default:{get:function(t){var i;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(i=a.css(t.elem,t.prop,""))&&"auto"!==i?i:0},set:function(t){a.fx.step[t.prop]?a.fx.step[t.prop](t):1!==t.elem.nodeType||!a.cssHooks[t.prop]&&null==t.elem.style[ar(t.prop)]?t.elem[t.prop]=t.now:a.style(t.elem,t.prop,t.now+t.unit)}}},yi.propHooks.scrollTop=yi.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},a.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},a.fx=yi.prototype.init,a.fx.step={};var Ji,fn,vn=/^(?:toggle|show|hide)$/,Hn=/queueHooks$/;function gn(){fn&&(!1===b.hidden&&R.requestAnimationFrame?R.requestAnimationFrame(gn):R.setTimeout(gn,a.fx.interval),a.fx.tick())}function lr(){return R.setTimeout(function(){Ji=void 0}),Ji=Date.now()}function Sn(t,i){var n,o=0,c={height:t};for(i=i?1:0;o<4;o+=2-i)c["margin"+(n=Ce[o])]=c["padding"+n]=t;return i&&(c.opacity=c.width=t),c}function Tr(t,i,n){for(var o,c=(Wi.tweeners[i]||[]).concat(Wi.tweeners["*"]),h=0,v=c.length;h<v;h++)if(o=c[h].call(n,i,t))return o}function Wi(t,i,n){var o,c,h=0,v=Wi.prefilters.length,I=a.Deferred().always(function(){delete O.elem}),O=function(){if(c)return!1;for(var Dt=Ji||lr(),ft=Math.max(0,J.startTime+J.duration-Dt),xe=1-(ft/J.duration||0),Je=0,De=J.tweens.length;Je<De;Je++)J.tweens[Je].run(xe);return I.notifyWith(t,[J,xe,ft]),xe<1&&De?ft:(De||I.notifyWith(t,[J,1,0]),I.resolveWith(t,[J]),!1)},J=I.promise({elem:t,props:a.extend({},i),opts:a.extend(!0,{specialEasing:{},easing:a.easing._default},n),originalProperties:i,originalOptions:n,startTime:Ji||lr(),duration:n.duration,tweens:[],createTween:function(Dt,ft){var Ft=a.Tween(t,J.opts,Dt,ft,J.opts.specialEasing[Dt]||J.opts.easing);return J.tweens.push(Ft),Ft},stop:function(Dt){var ft=0,Ft=Dt?J.tweens.length:0;if(c)return this;for(c=!0;ft<Ft;ft++)J.tweens[ft].run(1);return Dt?(I.notifyWith(t,[J,1,0]),I.resolveWith(t,[J,Dt])):I.rejectWith(t,[J,Dt]),this}}),Ot=J.props;for(function Cr(t,i){var n,o,c,h,v;for(n in t)if(c=i[o=gt(n)],h=t[n],Array.isArray(h)&&(c=h[1],h=t[n]=h[0]),n!==o&&(t[o]=h,delete t[n]),(v=a.cssHooks[o])&&"expand"in v)for(n in h=v.expand(h),delete t[o],h)n in t||(t[n]=h[n],i[n]=c);else i[o]=c}(Ot,J.opts.specialEasing);h<v;h++)if(o=Wi.prefilters[h].call(J,t,Ot,J.opts))return G(o.stop)&&(a._queueHooks(J.elem,J.opts.queue).stop=o.stop.bind(o)),o;return a.map(Ot,Tr,J),G(J.opts.start)&&J.opts.start.call(t,J),J.progress(J.opts.progress).done(J.opts.done,J.opts.complete).fail(J.opts.fail).always(J.opts.always),a.fx.timer(a.extend(O,{elem:t,anim:J,queue:J.opts.queue})),J}a.Animation=a.extend(Wi,{tweeners:{"*":[function(t,i){var n=this.createTween(t,i);return en(n.elem,t,je.exec(i),n),n}]},tweener:function(t,i){G(t)?(i=t,t=["*"]):t=t.match(Ae);for(var n,o=0,c=t.length;o<c;o++)(Wi.tweeners[n=t[o]]=Wi.tweeners[n]||[]).unshift(i)},prefilters:[function Un(t,i,n){var o,c,h,v,I,O,J,Ot,Dt="width"in i||"height"in i,ft=this,Ft={},xe=t.style,Je=t.nodeType&&Ei(t),De=ht.get(t,"fxshow");for(o in n.queue||(null==(v=a._queueHooks(t,"fx")).unqueued&&(v.unqueued=0,I=v.empty.fire,v.empty.fire=function(){v.unqueued||I()}),v.unqueued++,ft.always(function(){ft.always(function(){v.unqueued--,a.queue(t,"fx").length||v.empty.fire()})})),i)if(vn.test(c=i[o])){if(delete i[o],h=h||"toggle"===c,c===(Je?"hide":"show")){if("show"!==c||!De||void 0===De[o])continue;Je=!0}Ft[o]=De&&De[o]||a.style(t,o)}if((O=!a.isEmptyObject(i))||!a.isEmptyObject(Ft))for(o in Dt&&1===t.nodeType&&(n.overflow=[xe.overflow,xe.overflowX,xe.overflowY],null==(J=De&&De.display)&&(J=ht.get(t,"display")),"none"===(Ot=a.css(t,"display"))&&(J?Ot=J:(ni([t],!0),J=t.style.display||J,Ot=a.css(t,"display"),ni([t]))),("inline"===Ot||"inline-block"===Ot&&null!=J)&&"none"===a.css(t,"float")&&(O||(ft.done(function(){xe.display=J}),null==J&&(J="none"===(Ot=xe.display)?"":Ot)),xe.display="inline-block")),n.overflow&&(xe.overflow="hidden",ft.always(function(){xe.overflow=n.overflow[0],xe.overflowX=n.overflow[1],xe.overflowY=n.overflow[2]})),O=!1,Ft)O||(De?"hidden"in De&&(Je=De.hidden):De=ht.access(t,"fxshow",{display:J}),h&&(De.hidden=!Je),Je&&ni([t],!0),ft.done(function(){for(o in Je||ni([t]),ht.remove(t,"fxshow"),Ft)a.style(t,o,Ft[o])})),O=Tr(Je?De[o]:0,o,ft),o in De||(De[o]=O.start,Je&&(O.end=O.start,O.start=0))}],prefilter:function(t,i){i?Wi.prefilters.unshift(t):Wi.prefilters.push(t)}}),a.speed=function(t,i,n){var o=t&&"object"==typeof t?a.extend({},t):{complete:n||!n&&i||G(t)&&t,duration:t,easing:n&&i||i&&!G(i)&&i};return a.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration=o.duration in a.fx.speeds?a.fx.speeds[o.duration]:a.fx.speeds._default),(null==o.queue||!0===o.queue)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){G(o.old)&&o.old.call(this),o.queue&&a.dequeue(this,o.queue)},o},a.fn.extend({fadeTo:function(t,i,n,o){return this.filter(Ei).css("opacity",0).show().end().animate({opacity:i},t,n,o)},animate:function(t,i,n,o){var c=a.isEmptyObject(t),h=a.speed(i,n,o),v=function(){var I=Wi(this,a.extend({},t),h);(c||ht.get(this,"finish"))&&I.stop(!0)};return v.finish=v,c||!1===h.queue?this.each(v):this.queue(h.queue,v)},stop:function(t,i,n){var o=function(c){var h=c.stop;delete c.stop,h(n)};return"string"!=typeof t&&(n=i,i=t,t=void 0),i&&this.queue(t||"fx",[]),this.each(function(){var c=!0,h=null!=t&&t+"queueHooks",v=a.timers,I=ht.get(this);if(h)I[h]&&I[h].stop&&o(I[h]);else for(h in I)I[h]&&I[h].stop&&Hn.test(h)&&o(I[h]);for(h=v.length;h--;)v[h].elem===this&&(null==t||v[h].queue===t)&&(v[h].anim.stop(n),c=!1,v.splice(h,1));(c||!n)&&a.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var i,n=ht.get(this),o=n[t+"queue"],c=n[t+"queueHooks"],h=a.timers,v=o?o.length:0;for(n.finish=!0,a.queue(this,t,[]),c&&c.stop&&c.stop.call(this,!0),i=h.length;i--;)h[i].elem===this&&h[i].queue===t&&(h[i].anim.stop(!0),h.splice(i,1));for(i=0;i<v;i++)o[i]&&o[i].finish&&o[i].finish.call(this);delete n.finish})}}),a.each(["toggle","show","hide"],function(t,i){var n=a.fn[i];a.fn[i]=function(o,c,h){return null==o||"boolean"==typeof o?n.apply(this,arguments):this.animate(Sn(i,!0),o,c,h)}}),a.each({slideDown:Sn("show"),slideUp:Sn("hide"),slideToggle:Sn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){a.fn[t]=function(n,o,c){return this.animate(i,n,o,c)}}),a.timers=[],a.fx.tick=function(){var t,i=0,n=a.timers;for(Ji=Date.now();i<n.length;i++)!(t=n[i])()&&n[i]===t&&n.splice(i--,1);n.length||a.fx.stop(),Ji=void 0},a.fx.timer=function(t){a.timers.push(t),a.fx.start()},a.fx.interval=13,a.fx.start=function(){fn||(fn=!0,gn())},a.fx.stop=function(){fn=null},a.fx.speeds={slow:600,fast:200,_default:400},a.fn.delay=function(t,i){return t=a.fx&&a.fx.speeds[t]||t,this.queue(i=i||"fx",function(n,o){var c=R.setTimeout(n,t);o.stop=function(){R.clearTimeout(c)}})},function(){var t=b.createElement("input"),n=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",D.checkOn=""!==t.value,D.optSelected=n.selected,(t=b.createElement("input")).value="t",t.type="radio",D.radioValue="t"===t.value}();var sr,In=a.expr.attrHandle;a.fn.extend({attr:function(t,i){return Nt(this,a.attr,t,i,arguments.length>1)},removeAttr:function(t){return this.each(function(){a.removeAttr(this,t)})}}),a.extend({attr:function(t,i,n){var o,c,h=t.nodeType;if(3!==h&&8!==h&&2!==h)return typeof t.getAttribute>"u"?a.prop(t,i,n):((1!==h||!a.isXMLDoc(t))&&(c=a.attrHooks[i.toLowerCase()]||(a.expr.match.bool.test(i)?sr:void 0)),void 0!==n?null===n?void a.removeAttr(t,i):c&&"set"in c&&void 0!==(o=c.set(t,n,i))?o:(t.setAttribute(i,n+""),n):c&&"get"in c&&null!==(o=c.get(t,i))?o:null==(o=a.find.attr(t,i))?void 0:o)},attrHooks:{type:{set:function(t,i){if(!D.radioValue&&"radio"===i&&Tt(t,"input")){var n=t.value;return t.setAttribute("type",i),n&&(t.value=n),i}}}},removeAttr:function(t,i){var n,o=0,c=i&&i.match(Ae);if(c&&1===t.nodeType)for(;n=c[o++];)t.removeAttribute(n)}}),sr={set:function(t,i,n){return!1===i?a.removeAttr(t,n):t.setAttribute(n,n),n}},a.each(a.expr.match.bool.source.match(/\w+/g),function(t,i){var n=In[i]||a.find.attr;In[i]=function(o,c,h){var v,I,O=c.toLowerCase();return h||(I=In[O],In[O]=v,v=null!=n(o,c,h)?O:null,In[O]=I),v}});var Fr=/^(?:input|select|textarea|button)$/i,ur=/^(?:a|area)$/i;function on(t){return(t.match(Ae)||[]).join(" ")}function pn(t){return t.getAttribute&&t.getAttribute("class")||""}function dr(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Ae)||[]}a.fn.extend({prop:function(t,i){return Nt(this,a.prop,t,i,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[a.propFix[t]||t]})}}),a.extend({prop:function(t,i,n){var o,c,h=t.nodeType;if(3!==h&&8!==h&&2!==h)return(1!==h||!a.isXMLDoc(t))&&(c=a.propHooks[i=a.propFix[i]||i]),void 0!==n?c&&"set"in c&&void 0!==(o=c.set(t,n,i))?o:t[i]=n:c&&"get"in c&&null!==(o=c.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var i=a.find.attr(t,"tabindex");return i?parseInt(i,10):Fr.test(t.nodeName)||ur.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),D.optSelected||(a.propHooks.selected={get:function(t){return null},set:function(t){}}),a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){a.propFix[this.toLowerCase()]=this}),a.fn.extend({addClass:function(t){var i,n,o,c,h,v;return G(t)?this.each(function(I){a(this).addClass(t.call(this,I,pn(this)))}):(i=dr(t)).length?this.each(function(){if(o=pn(this),n=1===this.nodeType&&" "+on(o)+" "){for(h=0;h<i.length;h++)n.indexOf(" "+(c=i[h])+" ")<0&&(n+=c+" ");v=on(n),o!==v&&this.setAttribute("class",v)}}):this},removeClass:function(t){var i,n,o,c,h,v;return G(t)?this.each(function(I){a(this).removeClass(t.call(this,I,pn(this)))}):arguments.length?(i=dr(t)).length?this.each(function(){if(o=pn(this),n=1===this.nodeType&&" "+on(o)+" "){for(h=0;h<i.length;h++)for(c=i[h];n.indexOf(" "+c+" ")>-1;)n=n.replace(" "+c+" "," ");v=on(n),o!==v&&this.setAttribute("class",v)}}):this:this.attr("class","")},toggleClass:function(t,i){var n,o,c,h,v=typeof t,I="string"===v||Array.isArray(t);return G(t)?this.each(function(O){a(this).toggleClass(t.call(this,O,pn(this),i),i)}):"boolean"==typeof i&&I?i?this.addClass(t):this.removeClass(t):(n=dr(t),this.each(function(){if(I)for(h=a(this),c=0;c<n.length;c++)h.hasClass(o=n[c])?h.removeClass(o):h.addClass(o);else(void 0===t||"boolean"===v)&&((o=pn(this))&&ht.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===t?"":ht.get(this,"__className__")||""))}))},hasClass:function(t){var i,n,o=0;for(i=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+on(pn(n))+" ").indexOf(i)>-1)return!0;return!1}});var kr=/\r/g;a.fn.extend({val:function(t){var i,n,o,c=this[0];return arguments.length?(o=G(t),this.each(function(h){var v;1===this.nodeType&&(null==(v=o?t.call(this,h,a(this).val()):t)?v="":"number"==typeof v?v+="":Array.isArray(v)&&(v=a.map(v,function(I){return null==I?"":I+""})),(!(i=a.valHooks[this.type]||a.valHooks[this.nodeName.toLowerCase()])||!("set"in i)||void 0===i.set(this,v,"value"))&&(this.value=v))})):c?(i=a.valHooks[c.type]||a.valHooks[c.nodeName.toLowerCase()])&&"get"in i&&void 0!==(n=i.get(c,"value"))?n:"string"==typeof(n=c.value)?n.replace(kr,""):null==n?"":n:void 0}}),a.extend({valHooks:{option:{get:function(t){var i=a.find.attr(t,"value");return null!=i?i:on(a.text(t))}},select:{get:function(t){var i,n,o,c=t.options,h=t.selectedIndex,v="select-one"===t.type,I=v?null:[],O=v?h+1:c.length;for(o=h<0?O:v?h:0;o<O;o++)if(((n=c[o]).selected||o===h)&&!n.disabled&&(!n.parentNode.disabled||!Tt(n.parentNode,"optgroup"))){if(i=a(n).val(),v)return i;I.push(i)}return I},set:function(t,i){for(var n,o,c=t.options,h=a.makeArray(i),v=c.length;v--;)((o=c[v]).selected=a.inArray(a.valHooks.option.get(o),h)>-1)&&(n=!0);return n||(t.selectedIndex=-1),h}}}}),a.each(["radio","checkbox"],function(){a.valHooks[this]={set:function(t,i){if(Array.isArray(i))return t.checked=a.inArray(a(t).val(),i)>-1}},D.checkOn||(a.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Tn=R.location,Fn={guid:Date.now()},Cn=/\?/;a.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{i=(new R.DOMParser).parseFromString(t,"text/xml")}catch{}return n=i&&i.getElementsByTagName("parsererror")[0],(!i||n)&&a.error("Invalid XML: "+(n?a.map(n.childNodes,function(o){return o.textContent}).join("\n"):t)),i};var cr=/^(?:focusinfocus|focusoutblur)$/,Gn=function(t){t.stopPropagation()};a.extend(a.event,{trigger:function(t,i,n,o){var c,h,v,I,O,J,Ot,Dt,ft=[n||b],Ft=W.call(t,"type")?t.type:t,xe=W.call(t,"namespace")?t.namespace.split("."):[];if(h=Dt=v=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!cr.test(Ft+a.event.triggered)&&(Ft.indexOf(".")>-1&&(xe=Ft.split("."),Ft=xe.shift(),xe.sort()),O=Ft.indexOf(":")<0&&"on"+Ft,(t=t[a.expando]?t:new a.Event(Ft,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=xe.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+xe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:a.makeArray(i,[t]),Ot=a.event.special[Ft]||{},o||!Ot.trigger||!1!==Ot.trigger.apply(n,i))){if(!o&&!Ot.noBubble&&!F(n)){for(cr.test((I=Ot.delegateType||Ft)+Ft)||(h=h.parentNode);h;h=h.parentNode)ft.push(h),v=h;v===(n.ownerDocument||b)&&ft.push(v.defaultView||v.parentWindow||R)}for(c=0;(h=ft[c++])&&!t.isPropagationStopped();)Dt=h,t.type=c>1?I:Ot.bindType||Ft,(J=(ht.get(h,"events")||Object.create(null))[t.type]&&ht.get(h,"handle"))&&J.apply(h,i),(J=O&&h[O])&&J.apply&&Rt(h)&&(t.result=J.apply(h,i),!1===t.result&&t.preventDefault());return t.type=Ft,!o&&!t.isDefaultPrevented()&&(!Ot._default||!1===Ot._default.apply(ft.pop(),i))&&Rt(n)&&O&&G(n[Ft])&&!F(n)&&((v=n[O])&&(n[O]=null),a.event.triggered=Ft,t.isPropagationStopped()&&Dt.addEventListener(Ft,Gn),n[Ft](),t.isPropagationStopped()&&Dt.removeEventListener(Ft,Gn),a.event.triggered=void 0,v&&(n[O]=v)),t.result}},simulate:function(t,i,n){var o=a.extend(new a.Event,n,{type:t,isSimulated:!0});a.event.trigger(o,null,i)}}),a.fn.extend({trigger:function(t,i){return this.each(function(){a.event.trigger(t,i,this)})},triggerHandler:function(t,i){var n=this[0];if(n)return a.event.trigger(t,i,n,!0)}});var $n=/\[\]$/,Pn=/\r?\n/g,hr=/^(?:submit|button|image|reset|file)$/i,Vi=/^(?:input|select|textarea|keygen)/i;function Mi(t,i,n,o){var c;if(Array.isArray(i))a.each(i,function(h,v){n||$n.test(t)?o(t,v):Mi(t+"["+("object"==typeof v&&null!=v?h:"")+"]",v,n,o)});else if(n||"object"!==jt(i))o(t,i);else for(c in i)Mi(t+"["+c+"]",i[c],n,o)}a.param=function(t,i){var n,o=[],c=function(h,v){var I=G(v)?v():v;o[o.length]=encodeURIComponent(h)+"="+encodeURIComponent(null==I?"":I)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!a.isPlainObject(t))a.each(t,function(){c(this.name,this.value)});else for(n in t)Mi(n,t[n],i,c);return o.join("&")},a.fn.extend({serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=a.prop(this,"elements");return t?a.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!a(this).is(":disabled")&&Vi.test(this.nodeName)&&!hr.test(t)&&(this.checked||!ji.test(t))}).map(function(t,i){var n=a(this).val();return null==n?null:Array.isArray(n)?a.map(n,function(o){return{name:i.name,value:o.replace(Pn,"\r\n")}}):{name:i.name,value:n.replace(Pn,"\r\n")}}).get()}});var Gr=/%20/g,$r=/#.*$/,Jr=/([?&])_=[^&]*/,ln=/^(.*?):[ \t]*([^\r\n]*)$/gm,fr=/^(?:GET|HEAD)$/,Mr=/^\/\//,Dn={},vr={},Nr="*/".concat("*"),Jn=b.createElement("a");function Ir(t){return function(i,n){"string"!=typeof i&&(n=i,i="*");var o,c=0,h=i.toLowerCase().match(Ae)||[];if(G(n))for(;o=h[c++];)"+"===o[0]?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function Pr(t,i,n,o){var c={},h=t===vr;function v(I){var O;return c[I]=!0,a.each(t[I]||[],function(J,Ot){var Dt=Ot(i,n,o);return"string"!=typeof Dt||h||c[Dt]?h?!(O=Dt):void 0:(i.dataTypes.unshift(Dt),v(Dt),!1)}),O}return v(i.dataTypes[0])||!c["*"]&&v("*")}function gr(t,i){var n,o,c=a.ajaxSettings.flatOptions||{};for(n in i)void 0!==i[n]&&((c[n]?t:o||(o={}))[n]=i[n]);return o&&a.extend(!0,t,o),t}Jn.href=Tn.href,a.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":a.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,i){return i?gr(gr(t,a.ajaxSettings),i):gr(a.ajaxSettings,t)},ajaxPrefilter:Ir(Dn),ajaxTransport:Ir(vr),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0);var n,o,c,h,v,I,O,J,Ot,Dt,ft=a.ajaxSetup({},i=i||{}),Ft=ft.context||ft,xe=ft.context&&(Ft.nodeType||Ft.jquery)?a(Ft):a.event,Je=a.Deferred(),De=a.Callbacks("once memory"),mi=ft.statusCode||{},ui={},li={},Ki="canceled",Fe={readyState:0,getResponseHeader:function(Ge){var Ye;if(O){if(!h)for(h={};Ye=ln.exec(c);)h[Ye[1].toLowerCase()+" "]=(h[Ye[1].toLowerCase()+" "]||[]).concat(Ye[2]);Ye=h[Ge.toLowerCase()+" "]}return null==Ye?null:Ye.join(", ")},getAllResponseHeaders:function(){return O?c:null},setRequestHeader:function(Ge,Ye){return null==O&&(Ge=li[Ge.toLowerCase()]=li[Ge.toLowerCase()]||Ge,ui[Ge]=Ye),this},overrideMimeType:function(Ge){return null==O&&(ft.mimeType=Ge),this},statusCode:function(Ge){var Ye;if(Ge)if(O)Fe.always(Ge[Fe.status]);else for(Ye in Ge)mi[Ye]=[mi[Ye],Ge[Ye]];return this},abort:function(Ge){var Ye=Ge||Ki;return n&&n.abort(Ye),sn(0,Ye),this}};if(Je.promise(Fe),ft.url=((t||ft.url||Tn.href)+"").replace(Mr,Tn.protocol+"//"),ft.type=i.method||i.type||ft.method||ft.type,ft.dataTypes=(ft.dataType||"*").toLowerCase().match(Ae)||[""],null==ft.crossDomain){I=b.createElement("a");try{I.href=ft.url,I.href=I.href,ft.crossDomain=Jn.protocol+"//"+Jn.host!=I.protocol+"//"+I.host}catch{ft.crossDomain=!0}}if(ft.data&&ft.processData&&"string"!=typeof ft.data&&(ft.data=a.param(ft.data,ft.traditional)),Pr(Dn,ft,i,Fe),O)return Fe;for(Ot in(J=a.event&&ft.global)&&0==a.active++&&a.event.trigger("ajaxStart"),ft.type=ft.type.toUpperCase(),ft.hasContent=!fr.test(ft.type),o=ft.url.replace($r,""),ft.hasContent?ft.data&&ft.processData&&0===(ft.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ft.data=ft.data.replace(Gr,"+")):(Dt=ft.url.slice(o.length),ft.data&&(ft.processData||"string"==typeof ft.data)&&(o+=(Cn.test(o)?"&":"?")+ft.data,delete ft.data),!1===ft.cache&&(o=o.replace(Jr,"$1"),Dt=(Cn.test(o)?"&":"?")+"_="+Fn.guid+++Dt),ft.url=o+Dt),ft.ifModified&&(a.lastModified[o]&&Fe.setRequestHeader("If-Modified-Since",a.lastModified[o]),a.etag[o]&&Fe.setRequestHeader("If-None-Match",a.etag[o])),(ft.data&&ft.hasContent&&!1!==ft.contentType||i.contentType)&&Fe.setRequestHeader("Content-Type",ft.contentType),Fe.setRequestHeader("Accept",ft.dataTypes[0]&&ft.accepts[ft.dataTypes[0]]?ft.accepts[ft.dataTypes[0]]+("*"!==ft.dataTypes[0]?", "+Nr+"; q=0.01":""):ft.accepts["*"]),ft.headers)Fe.setRequestHeader(Ot,ft.headers[Ot]);if(ft.beforeSend&&(!1===ft.beforeSend.call(Ft,Fe,ft)||O))return Fe.abort();if(Ki="abort",De.add(ft.complete),Fe.done(ft.success),Fe.fail(ft.error),n=Pr(vr,ft,i,Fe)){if(Fe.readyState=1,J&&xe.trigger("ajaxSend",[Fe,ft]),O)return Fe;ft.async&&ft.timeout>0&&(v=R.setTimeout(function(){Fe.abort("timeout")},ft.timeout));try{O=!1,n.send(ui,sn)}catch(Ge){if(O)throw Ge;sn(-1,Ge)}}else sn(-1,"No Transport");function sn(Ge,Ye,zi,Qn){var Hi,Ln,hi,Zi,Ui,Si=Ye;O||(O=!0,v&&R.clearTimeout(v),n=void 0,c=Qn||"",Fe.readyState=Ge>0?4:0,Hi=Ge>=200&&Ge<300||304===Ge,zi&&(Zi=function Vr(t,i,n){for(var o,c,h,v,I=t.contents,O=t.dataTypes;"*"===O[0];)O.shift(),void 0===o&&(o=t.mimeType||i.getResponseHeader("Content-Type"));if(o)for(c in I)if(I[c]&&I[c].test(o)){O.unshift(c);break}if(O[0]in n)h=O[0];else{for(c in n){if(!O[0]||t.converters[c+" "+O[0]]){h=c;break}v||(v=c)}h=h||v}if(h)return h!==O[0]&&O.unshift(h),n[h]}(ft,Fe,zi)),!Hi&&a.inArray("script",ft.dataTypes)>-1&&a.inArray("json",ft.dataTypes)<0&&(ft.converters["text script"]=function(){}),Zi=function Qr(t,i,n,o){var c,h,v,I,O,J={},Ot=t.dataTypes.slice();if(Ot[1])for(v in t.converters)J[v.toLowerCase()]=t.converters[v];for(h=Ot.shift();h;)if(t.responseFields[h]&&(n[t.responseFields[h]]=i),!O&&o&&t.dataFilter&&(i=t.dataFilter(i,t.dataType)),O=h,h=Ot.shift())if("*"===h)h=O;else if("*"!==O&&O!==h){if(!(v=J[O+" "+h]||J["* "+h]))for(c in J)if((I=c.split(" "))[1]===h&&(v=J[O+" "+I[0]]||J["* "+I[0]])){!0===v?v=J[c]:!0!==J[c]&&(h=I[0],Ot.unshift(I[1]));break}if(!0!==v)if(v&&t.throws)i=v(i);else try{i=v(i)}catch(Dt){return{state:"parsererror",error:v?Dt:"No conversion from "+O+" to "+h}}}return{state:"success",data:i}}(ft,Zi,Fe,Hi),Hi?(ft.ifModified&&((Ui=Fe.getResponseHeader("Last-Modified"))&&(a.lastModified[o]=Ui),(Ui=Fe.getResponseHeader("etag"))&&(a.etag[o]=Ui)),204===Ge||"HEAD"===ft.type?Si="nocontent":304===Ge?Si="notmodified":(Si=Zi.state,Ln=Zi.data,Hi=!(hi=Zi.error))):(hi=Si,(Ge||!Si)&&(Si="error",Ge<0&&(Ge=0))),Fe.status=Ge,Fe.statusText=(Ye||Si)+"",Hi?Je.resolveWith(Ft,[Ln,Si,Fe]):Je.rejectWith(Ft,[Fe,Si,hi]),Fe.statusCode(mi),mi=void 0,J&&xe.trigger(Hi?"ajaxSuccess":"ajaxError",[Fe,ft,Hi?Ln:hi]),De.fireWith(Ft,[Fe,Si]),J&&(xe.trigger("ajaxComplete",[Fe,ft]),--a.active||a.event.trigger("ajaxStop")))}return Fe},getJSON:function(t,i,n){return a.get(t,i,n,"json")},getScript:function(t,i){return a.get(t,void 0,i,"script")}}),a.each(["get","post"],function(t,i){a[i]=function(n,o,c,h){return G(o)&&(h=h||c,c=o,o=void 0),a.ajax(a.extend({url:n,type:i,dataType:h,data:o,success:c},a.isPlainObject(n)&&n))}}),a.ajaxPrefilter(function(t){var i;for(i in t.headers)"content-type"===i.toLowerCase()&&(t.contentType=t.headers[i]||"")}),a._evalUrl=function(t,i,n){return a.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(o){a.globalEval(o,i,n)}})},a.fn.extend({wrapAll:function(t){var i;return this[0]&&(G(t)&&(t=t.call(this[0])),i=a(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(t){return G(t)?this.each(function(i){a(this).wrapInner(t.call(this,i))}):this.each(function(){var i=a(this),n=i.contents();n.length?n.wrapAll(t):i.append(t)})},wrap:function(t){var i=G(t);return this.each(function(n){a(this).wrapAll(i?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){a(this).replaceWith(this.childNodes)}),this}}),a.expr.pseudos.hidden=function(t){return!a.expr.pseudos.visible(t)},a.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},a.ajaxSettings.xhr=function(){try{return new R.XMLHttpRequest}catch{}};var pr={0:200,1223:204},yn=a.ajaxSettings.xhr();D.cors=!!yn&&"withCredentials"in yn,D.ajax=yn=!!yn,a.ajaxTransport(function(t){var i,n;if(D.cors||yn&&!t.crossDomain)return{send:function(o,c){var h,v=t.xhr();if(v.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(h in t.xhrFields)v[h]=t.xhrFields[h];for(h in t.mimeType&&v.overrideMimeType&&v.overrideMimeType(t.mimeType),!t.crossDomain&&!o["X-Requested-With"]&&(o["X-Requested-With"]="XMLHttpRequest"),o)v.setRequestHeader(h,o[h]);i=function(I){return function(){i&&(i=n=v.onload=v.onerror=v.onabort=v.ontimeout=v.onreadystatechange=null,"abort"===I?v.abort():"error"===I?"number"!=typeof v.status?c(0,"error"):c(v.status,v.statusText):c(pr[v.status]||v.status,v.statusText,"text"!==(v.responseType||"text")||"string"!=typeof v.responseText?{binary:v.response}:{text:v.responseText},v.getAllResponseHeaders()))}},v.onload=i(),n=v.onerror=v.ontimeout=i("error"),void 0!==v.onabort?v.onabort=n:v.onreadystatechange=function(){4===v.readyState&&R.setTimeout(function(){i&&n()})},i=i("abort");try{v.send(t.hasContent&&t.data||null)}catch(I){if(i)throw I}},abort:function(){i&&i()}}}),a.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return a.globalEval(t),t}}}),a.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),a.ajaxTransport("script",function(t){var i,n;if(t.crossDomain||t.scriptAttrs)return{send:function(o,c){i=a("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(h){i.remove(),n=null,h&&c("error"===h.type?404:200,h.type)}),b.head.appendChild(i[0])},abort:function(){n&&n()}}});var t,yr=[],mn=/(=)\?(?=&|$)|\?\?/;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yr.pop()||a.expando+"_"+Fn.guid++;return this[t]=!0,t}}),a.ajaxPrefilter("json jsonp",function(t,i,n){var o,c,h,v=!1!==t.jsonp&&(mn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&mn.test(t.data)&&"data");if(v||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=G(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,v?t[v]=t[v].replace(mn,"$1"+o):!1!==t.jsonp&&(t.url+=(Cn.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return h||a.error(o+" was not called"),h[0]},t.dataTypes[0]="json",c=R[o],R[o]=function(){h=arguments},n.always(function(){void 0===c?a(R).removeProp(o):R[o]=c,t[o]&&(t.jsonpCallback=i.jsonpCallback,yr.push(o)),h&&G(c)&&c(h[0]),h=c=void 0}),"script"}),D.createHTMLDocument=((t=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),a.parseHTML=function(t,i,n){return"string"!=typeof t?[]:("boolean"==typeof i&&(n=i,i=!1),i||(D.createHTMLDocument?((o=(i=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,i.head.appendChild(o)):i=b),h=!n&&[],(c=_.exec(t))?[i.createElement(c[1])]:(c=an([t],i,h),h&&h.length&&a(h).remove(),a.merge([],c.childNodes)));var o,c,h},a.fn.load=function(t,i,n){var o,c,h,v=this,I=t.indexOf(" ");return I>-1&&(o=on(t.slice(I)),t=t.slice(0,I)),G(i)?(n=i,i=void 0):i&&"object"==typeof i&&(c="POST"),v.length>0&&a.ajax({url:t,type:c||"GET",dataType:"html",data:i}).done(function(O){h=arguments,v.html(o?a("<div>").append(a.parseHTML(O)).find(o):O)}).always(n&&function(O,J){v.each(function(){n.apply(this,h||[O.responseText,J,O])})}),this},a.expr.pseudos.animated=function(t){return a.grep(a.timers,function(i){return t===i.elem}).length},a.offset={setOffset:function(t,i,n){var o,c,h,v,I,O,Ot=a.css(t,"position"),Dt=a(t),ft={};"static"===Ot&&(t.style.position="relative"),I=Dt.offset(),h=a.css(t,"top"),O=a.css(t,"left"),("absolute"===Ot||"fixed"===Ot)&&(h+O).indexOf("auto")>-1?(v=(o=Dt.position()).top,c=o.left):(v=parseFloat(h)||0,c=parseFloat(O)||0),G(i)&&(i=i.call(t,n,a.extend({},I))),null!=i.top&&(ft.top=i.top-I.top+v),null!=i.left&&(ft.left=i.left-I.left+c),"using"in i?i.using.call(t,ft):Dt.css(ft)}},a.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(c){a.offset.setOffset(this,t,c)});var i,n,o=this[0];return o?o.getClientRects().length?{top:(i=o.getBoundingClientRect()).top+(n=o.ownerDocument.defaultView).pageYOffset,left:i.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,i,n,o=this[0],c={top:0,left:0};if("fixed"===a.css(o,"position"))i=o.getBoundingClientRect();else{for(i=this.offset(),n=o.ownerDocument,t=o.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===a.css(t,"position");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((c=a(t).offset()).top+=a.css(t,"borderTopWidth",!0),c.left+=a.css(t,"borderLeftWidth",!0))}return{top:i.top-c.top-a.css(o,"marginTop",!0),left:i.left-c.left-a.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===a.css(t,"position");)t=t.offsetParent;return t||Me})}}),a.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;a.fn[t]=function(o){return Nt(this,function(c,h,v){var I;if(F(c)?I=c:9===c.nodeType&&(I=c.defaultView),void 0===v)return I?I[i]:c[h];I?I.scrollTo(n?I.pageXOffset:v,n?v:I.pageYOffset):c[h]=v},t,o,arguments.length)}}),a.each(["top","left"],function(t,i){a.cssHooks[i]=qe(D.pixelPosition,function(n,o){if(o)return o=$e(n,i),pt.test(o)?a(n).position()[i]+"px":o})}),a.each({Height:"height",Width:"width"},function(t,i){a.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){a.fn[o]=function(c,h){var v=arguments.length&&(n||"boolean"!=typeof c),I=n||(!0===c||!0===h?"margin":"border");return Nt(this,function(O,J,Ot){var Dt;return F(O)?0===o.indexOf("outer")?O["inner"+t]:O.document.documentElement["client"+t]:9===O.nodeType?(Dt=O.documentElement,Math.max(O.body["scroll"+t],Dt["scroll"+t],O.body["offset"+t],Dt["offset"+t],Dt["client"+t])):void 0===Ot?a.css(O,J,I):a.style(O,J,Ot,I)},i,v?c:void 0,v)}})}),a.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,i){a.fn[i]=function(n){return this.on(i,n)}}),a.fn.extend({bind:function(t,i,n){return this.on(t,null,i,n)},unbind:function(t,i){return this.off(t,null,i)},delegate:function(t,i,n,o){return this.on(i,t,n,o)},undelegate:function(t,i,n){return 1===arguments.length?this.off(t,"**"):this.off(i,t||"**",n)},hover:function(t,i){return this.on("mouseenter",t).on("mouseleave",i||t)}}),a.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){a.fn[i]=function(n,o){return arguments.length>0?this.on(i,null,n,o):this.trigger(i)}});var Rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;a.proxy=function(t,i){var n,o,c;if("string"==typeof i&&(n=t[i],i=t,t=n),G(t))return o=y.call(arguments,2),c=function(){return t.apply(i||this,o.concat(y.call(arguments)))},c.guid=t.guid=t.guid||a.guid++,c},a.holdReady=function(t){t?a.readyWait++:a.ready(!0)},a.isArray=Array.isArray,a.parseJSON=JSON.parse,a.nodeName=Tt,a.isFunction=G,a.isWindow=F,a.camelCase=gt,a.type=jt,a.now=Date.now,a.isNumeric=function(t){var i=a.type(t);return("number"===i||"string"===i)&&!isNaN(t-parseFloat(t))},a.trim=function(t){return null==t?"":(t+"").replace(Rn,"$1")},void 0!==(B=function(){return a}.apply(qt,[]))&&(Re.exports=B);var Vn=R.jQuery,kn=R.$;return a.noConflict=function(t){return R.$===a&&(R.$=kn),t&&R.jQuery===a&&(R.jQuery=Vn),a},typeof ot>"u"&&(R.jQuery=R.$=a),a})},511:(Re,qt,x)=>{"use strict";function B(){}function R(e){return null==e?B:function(){return this.querySelector(e)}}function q(){return[]}function y(e){return null==e?q:function(){return this.querySelectorAll(e)}}function A(e){return function(){return this.matches(e)}}function P(e){return function(r){return r.matches(e)}}x.d(qt,{$0Z:()=>uo,jvg:()=>so});var Q=Array.prototype.find;function ut(){return this.firstElementChild}var D=Array.prototype.filter;function G(){return Array.from(this.children)}function Lt(e){return new Array(e.length)}function It(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}function a(e,r,u,g,m,S){for(var Z,M=0,X=r.length,xt=S.length;M<xt;++M)(Z=r[M])?(Z.__data__=S[M],g[M]=Z):u[M]=new It(e,S[M]);for(;M<X;++M)(Z=r[M])&&(m[M]=Z)}function Et(e,r,u,g,m,S,M){var Z,X,he,xt=new Map,kt=r.length,Xt=S.length,Yt=new Array(kt);for(Z=0;Z<kt;++Z)(X=r[Z])&&(Yt[Z]=he=M.call(X,X.__data__,Z,r)+"",xt.has(he)?m[Z]=X:xt.set(he,X));for(Z=0;Z<Xt;++Z)he=M.call(e,S[Z],Z,S)+"",(X=xt.get(he))?(g[Z]=X,X.__data__=S[Z],xt.delete(he)):u[Z]=new It(e,S[Z]);for(Z=0;Z<kt;++Z)(X=r[Z])&&xt.get(Yt[Z])===X&&(m[Z]=X)}function Tt(e){return e.__data__}function Ct(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Oe(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}It.prototype={constructor:It,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var ct="http://www.w3.org/1999/xhtml";const zt={svg:"http://www.w3.org/2000/svg",xhtml:ct,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function le(e){var r=e+="",u=r.indexOf(":");return u>=0&&"xmlns"!==(r=e.slice(0,u))&&(e=e.slice(u+1)),zt.hasOwnProperty(r)?{space:zt[r],local:e}:e}function pe(e){return function(){this.removeAttribute(e)}}function oe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function se(e,r){return function(){this.setAttribute(e,r)}}function Ae(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Ue(e,r){return function(){var u=r.apply(this,arguments);null==u?this.removeAttribute(e):this.setAttribute(e,u)}}function Le(e,r){return function(){var u=r.apply(this,arguments);null==u?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,u)}}function Qe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _t(e){return function(){this.style.removeProperty(e)}}function E(e,r,u){return function(){this.style.setProperty(e,r,u)}}function vt(e,r,u){return function(){var g=r.apply(this,arguments);null==g?this.style.removeProperty(e):this.style.setProperty(e,g,u)}}function U(e,r){return e.style.getPropertyValue(r)||Qe(e).getComputedStyle(e,null).getPropertyValue(r)}function at(e){return function(){delete this[e]}}function nt(e,r){return function(){this[e]=r}}function gt(e,r){return function(){var u=r.apply(this,arguments);null==u?delete this[e]:this[e]=u}}function Ut(e){return e.trim().split(/^|\s+/)}function ht(e){return e.classList||new Gt(e)}function Gt(e){this._node=e,this._names=Ut(e.getAttribute("class")||"")}function ie(e,r){for(var u=ht(e),g=-1,m=r.length;++g<m;)u.add(r[g])}function Te(e,r){for(var u=ht(e),g=-1,m=r.length;++g<m;)u.remove(r[g])}function te(e){return function(){ie(this,e)}}function ge(e){return function(){Te(this,e)}}function ye(e,r){return function(){(r.apply(this,arguments)?ie:Te)(this,e)}}function Ce(){this.textContent=""}function Me(e){return function(){this.textContent=e}}function Ze(e){return function(){var r=e.apply(this,arguments);this.textContent=null==r?"":r}}function Ei(){this.innerHTML=""}function en(e){return function(){this.innerHTML=e}}function nn(e){return function(){var r=e.apply(this,arguments);this.innerHTML=null==r?"":r}}function ni(){this.nextSibling&&this.parentNode.appendChild(this)}function Ii(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pi(e){return function(){var r=this.ownerDocument,u=this.namespaceURI;return u===ct&&r.documentElement.namespaceURI===ct?r.createElement(e):r.createElementNS(u,e)}}function ci(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bi(e){var r=le(e);return(r.local?ci:pi)(r)}function an(){return null}function H(){var e=this.parentNode;e&&e.removeChild(this)}function d(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function s(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function k(e){return function(){var r=this.__on;if(r){for(var S,u=0,g=-1,m=r.length;u<m;++u)S=r[u],e.type&&S.type!==e.type||S.name!==e.name?r[++g]=S:this.removeEventListener(S.type,S.listener,S.options);++g?r.length=g:delete this.__on}}}function Y(e,r,u){return function(){var m,g=this.__on,S=function T(e){return function(r){e.call(this,r,this.__data__)}}(r);if(g)for(var M=0,Z=g.length;M<Z;++M)if((m=g[M]).type===e.type&&m.name===e.name)return this.removeEventListener(m.type,m.listener,m.options),this.addEventListener(m.type,m.listener=S,m.options=u),void(m.value=r);this.addEventListener(e.type,S,u),m={type:e.type,name:e.name,value:r,listener:S,options:u},g?g.push(m):this.__on=[m]}}function tt(e,r,u){var g=Qe(e),m=g.CustomEvent;"function"==typeof m?m=new m(r,u):(m=g.document.createEvent("Event"),u?(m.initEvent(r,u.bubbles,u.cancelable),m.detail=u.detail):m.initEvent(r,!1,!1)),e.dispatchEvent(m)}function V(e,r){return function(){return tt(this,e,r)}}function lt(e,r){return function(){return tt(this,e,r.apply(this,arguments))}}Gt.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ue=[null];function me(e,r){this._groups=e,this._parents=r}function ei(){return new me([[document.documentElement]],ue)}me.prototype=ei.prototype={constructor:me,select:function ot(e){"function"!=typeof e&&(e=R(e));for(var r=this._groups,u=r.length,g=new Array(u),m=0;m<u;++m)for(var X,xt,S=r[m],M=S.length,Z=g[m]=new Array(M),kt=0;kt<M;++kt)(X=S[kt])&&(xt=e.call(X,X.__data__,kt,S))&&("__data__"in X&&(xt.__data__=X.__data__),Z[kt]=xt);return new me(g,this._parents)},selectAll:function L(e){e="function"==typeof e?function j(e){return function(){return function et(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):y(e);for(var r=this._groups,u=r.length,g=[],m=[],S=0;S<u;++S)for(var X,M=r[S],Z=M.length,xt=0;xt<Z;++xt)(X=M[xt])&&(g.push(e.call(X,X.__data__,xt,M)),m.push(X));return new me(g,m)},selectChild:function yt(e){return this.select(null==e?ut:function W(e){return function(){return Q.call(this.children,e)}}("function"==typeof e?e:P(e)))},selectChildren:function b(e){return this.selectAll(null==e?G:function F(e){return function(){return D.call(this.children,e)}}("function"==typeof e?e:P(e)))},filter:function Mt(e){"function"!=typeof e&&(e=A(e));for(var r=this._groups,u=r.length,g=new Array(u),m=0;m<u;++m)for(var X,S=r[m],M=S.length,Z=g[m]=[],xt=0;xt<M;++xt)(X=S[xt])&&e.call(X,X.__data__,xt,S)&&Z.push(X);return new me(g,this._parents)},data:function Bt(e,r){if(!arguments.length)return Array.from(this,Tt);var u=r?Et:a,g=this._parents,m=this._groups;"function"!=typeof e&&(e=function St(e){return function(){return e}}(e));for(var S=m.length,M=new Array(S),Z=new Array(S),X=new Array(S),xt=0;xt<S;++xt){var kt=g[xt],Xt=m[xt],Yt=Xt.length,he=Ct(e.call(kt,kt&&kt.__data__,xt,g)),ri=he.length,di=Z[xt]=new Array(ri),Zt=M[xt]=new Array(ri);u(kt,Xt,di,Zt,X[xt]=new Array(Yt),he,r);for(var Be,Ve,Ee=0,fe=0;Ee<ri;++Ee)if(Be=di[Ee]){for(Ee>=fe&&(fe=Ee+1);!(Ve=Zt[fe])&&++fe<ri;);Be._next=Ve||null}}return(M=new me(M,g))._enter=Z,M._exit=X,M},enter:function jt(){return new me(this._enter||this._groups.map(Lt),this._parents)},exit:function At(){return new me(this._exit||this._groups.map(Lt),this._parents)},join:function rt(e,r,u){var g=this.enter(),m=this,S=this.exit();return"function"==typeof e?(g=e(g))&&(g=g.selection()):g=g.append(e+""),null!=r&&(m=r(m))&&(m=m.selection()),null==u?S.remove():u(S),g&&m?g.merge(m).order():m},merge:function Ht(e){for(var r=e.selection?e.selection():e,u=this._groups,g=r._groups,m=u.length,M=Math.min(m,g.length),Z=new Array(m),X=0;X<M;++X)for(var he,xt=u[X],kt=g[X],Xt=xt.length,Yt=Z[X]=new Array(Xt),ri=0;ri<Xt;++ri)(he=xt[ri]||kt[ri])&&(Yt[ri]=he);for(;X<m;++X)Z[X]=u[X];return new me(Z,this._parents)},selection:function $e(){return this},order:function Jt(){for(var e=this._groups,r=-1,u=e.length;++r<u;)for(var M,g=e[r],m=g.length-1,S=g[m];--m>=0;)(M=g[m])&&(S&&4^M.compareDocumentPosition(S)&&S.parentNode.insertBefore(M,S),S=M);return this},sort:function Qt(e){function r(Xt,Yt){return Xt&&Yt?e(Xt.__data__,Yt.__data__):!Xt-!Yt}e||(e=Oe);for(var u=this._groups,g=u.length,m=new Array(g),S=0;S<g;++S){for(var xt,M=u[S],Z=M.length,X=m[S]=new Array(Z),kt=0;kt<Z;++kt)(xt=M[kt])&&(X[kt]=xt);X.sort(r)}return new me(m,this._parents).order()},call:function Se(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function ve(){return Array.from(this)},node:function it(){for(var e=this._groups,r=0,u=e.length;r<u;++r)for(var g=e[r],m=0,S=g.length;m<S;++m){var M=g[m];if(M)return M}return null},size:function st(){let e=0;for(const r of this)++e;return e},empty:function _(){return!this.node()},each:function K(e){for(var r=this._groups,u=0,g=r.length;u<g;++u)for(var Z,m=r[u],S=0,M=m.length;S<M;++S)(Z=m[S])&&e.call(Z,Z.__data__,S,m);return this},attr:function ee(e,r){var u=le(e);if(arguments.length<2){var g=this.node();return u.local?g.getAttributeNS(u.space,u.local):g.getAttribute(u)}return this.each((null==r?u.local?oe:pe:"function"==typeof r?u.local?Le:Ue:u.local?Ae:se)(u,r))},style:function Nt(e,r,u){return arguments.length>1?this.each((null==r?_t:"function"==typeof r?vt:E)(e,r,null==u?"":u)):U(this.node(),e)},property:function Rt(e,r){return arguments.length>1?this.each((null==r?at:"function"==typeof r?gt:nt)(e,r)):this.node()[e]},classed:function je(e,r){var u=Ut(e+"");if(arguments.length<2){for(var g=ht(this.node()),m=-1,S=u.length;++m<S;)if(!g.contains(u[m]))return!1;return!0}return this.each(("function"==typeof r?ye:r?te:ge)(u,r))},text:function tn(e){return arguments.length?this.each(null==e?Ce:("function"==typeof e?Ze:Me)(e)):this.node().textContent},html:function En(e){return arguments.length?this.each(null==e?Ei:("function"==typeof e?nn:en)(e)):this.node().innerHTML},raise:function ji(){return this.each(ni)},lower:function $i(){return this.each(Ii)},append:function rn(e){var r="function"==typeof e?e:Bi(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function Wt(e,r){var u="function"==typeof e?e:Bi(e),g=null==r?an:"function"==typeof r?r:R(r);return this.select(function(){return this.insertBefore(u.apply(this,arguments),g.apply(this,arguments)||null)})},remove:function l(){return this.each(H)},clone:function f(e){return this.select(e?s:d)},datum:function p(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function C(e,r,u){var m,M,g=function N(e){return e.trim().split(/^|\s+/).map(function(r){var u="",g=r.indexOf(".");return g>=0&&(u=r.slice(g+1),r=r.slice(0,g)),{type:r,name:u}})}(e+""),S=g.length;if(!(arguments.length<2)){for(Z=r?Y:k,m=0;m<S;++m)this.each(Z(g[m],r,u));return this}var Z=this.node().__on;if(Z)for(var kt,X=0,xt=Z.length;X<xt;++X)for(m=0,kt=Z[X];m<S;++m)if((M=g[m]).type===kt.type&&M.name===kt.name)return kt.value},dispatch:function pt(e,r){return this.each(("function"==typeof r?lt:V)(e,r))},[Symbol.iterator]:function*mt(){for(var e=this._groups,r=0,u=e.length;r<u;++r)for(var M,g=e[r],m=0,S=g.length;m<S;++m)(M=g[m])&&(yield M)}};const qe=ei;var Xe={value:()=>{}};function ai(){for(var g,e=0,r=arguments.length,u={};e<r;++e){if(!(g=arguments[e]+"")||g in u||/[\s.]/.test(g))throw new Error("illegal type: "+g);u[g]=[]}return new Nn(u)}function Nn(e){this._=e}function ar(e,r){for(var m,u=0,g=e.length;u<g;++u)if((m=e[u]).name===r)return m.value}function Sr(e,r,u){for(var g=0,m=e.length;g<m;++g)if(e[g].name===r){e[g]=Xe,e=e.slice(0,g).concat(e.slice(g+1));break}return null!=u&&e.push({name:r,value:u}),e}Nn.prototype=ai.prototype={constructor:Nn,on:function(e,r){var m,u=this._,g=function Hr(e,r){return e.trim().split(/^|\s+/).map(function(u){var g="",m=u.indexOf(".");if(m>=0&&(g=u.slice(m+1),u=u.slice(0,m)),u&&!r.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:g}})}(e+"",u),S=-1,M=g.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++S<M;)if(m=(e=g[S]).type)u[m]=Sr(u[m],e.name,r);else if(null==r)for(m in u)u[m]=Sr(u[m],e.name,null);return this}for(;++S<M;)if((m=(e=g[S]).type)&&(m=ar(u[m],e.name)))return m},copy:function(){var e={},r=this._;for(var u in r)e[u]=r[u].slice();return new Nn(e)},call:function(e,r){if((m=arguments.length-2)>0)for(var m,S,u=new Array(m),g=0;g<m;++g)u[g]=arguments[g+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(g=0,m=(S=this._[e]).length;g<m;++g)S[g].value.apply(r,u)},apply:function(e,r,u){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var g=this._[e],m=0,S=g.length;m<S;++m)g[m].value.apply(r,u)}};const Ur=ai;var yi,Ji,cn=0,On=0,hn=0,or=1e3,fn=0,vn=0,Hn=0,gn="object"==typeof performance&&performance.now?performance:Date,lr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sn(){return vn||(lr(Tr),vn=gn.now()+Hn)}function Tr(){vn=0}function Un(){this._call=this._time=this._next=null}function Cr(e,r,u){var g=new Un;return g.restart(e,r,u),g}function sr(){vn=(fn=gn.now())+Hn,cn=On=0;try{!function Wi(){Sn(),++cn;for(var r,e=yi;e;)(r=vn-e._time)>=0&&e._call.call(void 0,r),e=e._next;--cn}()}finally{cn=0,function Fr(){for(var e,u,r=yi,g=1/0;r;)r._call?(g>r._time&&(g=r._time),e=r,r=r._next):(u=r._next,r._next=null,r=e?e._next=u:yi=u);Ji=e,ur(g)}(),vn=0}}function In(){var e=gn.now(),r=e-fn;r>or&&(Hn-=r,fn=e)}function ur(e){cn||(On&&(On=clearTimeout(On)),e-vn>24?(e<1/0&&(On=setTimeout(sr,e-gn.now()-Hn)),hn&&(hn=clearInterval(hn))):(hn||(fn=gn.now(),hn=setInterval(In,or)),cn=1,lr(sr)))}function on(e,r,u){var g=new Un;return g.restart(m=>{g.stop(),e(m+r)},r=null==r?0:+r,u),g}Un.prototype=Cr.prototype={constructor:Un,restart:function(e,r,u){if("function"!=typeof e)throw new TypeError("callback is not a function");u=(null==u?Sn():+u)+(null==r?0:+r),!this._next&&Ji!==this&&(Ji?Ji._next=this:yi=this,Ji=this),this._call=e,this._time=u,ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,ur())}};var pn=Ur("start","end","cancel","interrupt"),dr=[],kr=0,Cn=3;function Pn(e,r,u,g,m,S){var M=e.__transition;if(M){if(u in M)return}else e.__transition={};!function Gr(e,r,u){var m,g=e.__transition;function M(xt){var kt,Xt,Yt,he;if(1!==u.state)return X();for(kt in g)if((he=g[kt]).name===u.name){if(he.state===Cn)return on(M);4===he.state?(he.state=6,he.timer.stop(),he.on.call("interrupt",e,e.__data__,he.index,he.group),delete g[kt]):+kt<r&&(he.state=6,he.timer.stop(),he.on.call("cancel",e,e.__data__,he.index,he.group),delete g[kt])}if(on(function(){u.state===Cn&&(u.state=4,u.timer.restart(Z,u.delay,u.time),Z(xt))}),u.state=2,u.on.call("start",e,e.__data__,u.index,u.group),2===u.state){for(u.state=Cn,m=new Array(Yt=u.tween.length),kt=0,Xt=-1;kt<Yt;++kt)(he=u.tween[kt].value.call(e,e.__data__,u.index,u.group))&&(m[++Xt]=he);m.length=Xt+1}}function Z(xt){for(var kt=xt<u.duration?u.ease.call(null,xt/u.duration):(u.timer.restart(X),u.state=5,1),Xt=-1,Yt=m.length;++Xt<Yt;)m[Xt].call(e,kt);5===u.state&&(u.on.call("end",e,e.__data__,u.index,u.group),X())}function X(){for(var xt in u.state=6,u.timer.stop(),delete g[r],g)return;delete e.__transition}g[r]=u,u.timer=Cr(function S(xt){u.state=1,u.timer.restart(M,u.delay,u.time),u.delay<=xt&&M(xt-u.delay)},0,u.time)}(e,u,{name:r,index:g,group:m,on:pn,tween:dr,time:S.time,delay:S.delay,duration:S.duration,ease:S.ease,timer:null,state:kr})}function hr(e,r){var u=Mi(e,r);if(u.state>kr)throw new Error("too late; already scheduled");return u}function Vi(e,r){var u=Mi(e,r);if(u.state>Cn)throw new Error("too late; already running");return u}function Mi(e,r){var u=e.__transition;if(!u||!(u=u[r]))throw new Error("transition not found");return u}function ln(e,r){return e=+e,r=+r,function(u){return e*(1-u)+r*u}}var Dn,Ar=180/Math.PI,fr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mr(e,r,u,g,m,S){var M,Z,X;return(M=Math.sqrt(e*e+r*r))&&(e/=M,r/=M),(X=e*u+r*g)&&(u-=e*X,g-=r*X),(Z=Math.sqrt(u*u+g*g))&&(u/=Z,g/=Z,X/=Z),e*g<r*u&&(e=-e,r=-r,X=-X,M=-M),{translateX:m,translateY:S,rotate:Math.atan2(r,e)*Ar,skewX:Math.atan(X)*Ar,scaleX:M,scaleY:Z}}function Jn(e,r,u,g){function m(xt){return xt.length?xt.pop()+" ":""}return function(xt,kt){var Xt=[],Yt=[];return xt=e(xt),kt=e(kt),function S(xt,kt,Xt,Yt,he,ri){if(xt!==Xt||kt!==Yt){var di=he.push("translate(",null,r,null,u);ri.push({i:di-4,x:ln(xt,Xt)},{i:di-2,x:ln(kt,Yt)})}else(Xt||Yt)&&he.push("translate("+Xt+r+Yt+u)}(xt.translateX,xt.translateY,kt.translateX,kt.translateY,Xt,Yt),function M(xt,kt,Xt,Yt){xt!==kt?(xt-kt>180?kt+=360:kt-xt>180&&(xt+=360),Yt.push({i:Xt.push(m(Xt)+"rotate(",null,g)-2,x:ln(xt,kt)})):kt&&Xt.push(m(Xt)+"rotate("+kt+g)}(xt.rotate,kt.rotate,Xt,Yt),function Z(xt,kt,Xt,Yt){xt!==kt?Yt.push({i:Xt.push(m(Xt)+"skewX(",null,g)-2,x:ln(xt,kt)}):kt&&Xt.push(m(Xt)+"skewX("+kt+g)}(xt.skewX,kt.skewX,Xt,Yt),function X(xt,kt,Xt,Yt,he,ri){if(xt!==Xt||kt!==Yt){var di=he.push(m(he)+"scale(",null,",",null,")");ri.push({i:di-4,x:ln(xt,Xt)},{i:di-2,x:ln(kt,Yt)})}else(1!==Xt||1!==Yt)&&he.push(m(he)+"scale("+Xt+","+Yt+")")}(xt.scaleX,xt.scaleY,kt.scaleX,kt.scaleY,Xt,Yt),xt=kt=null,function(he){for(var Zt,ri=-1,di=Yt.length;++ri<di;)Xt[(Zt=Yt[ri]).i]=Zt.x(he);return Xt.join("")}}}var Ir=Jn(function vr(e){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?fr:Mr(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Pr=Jn(function Nr(e){return null!=e&&(Dn||(Dn=document.createElementNS("http://www.w3.org/2000/svg","g")),Dn.setAttribute("transform",e),e=Dn.transform.baseVal.consolidate())?Mr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):fr},", ",")",")");function gr(e,r){var u,g;return function(){var m=Vi(this,e),S=m.tween;if(S!==u)for(var M=0,Z=(g=u=S).length;M<Z;++M)if(g[M].name===r){(g=g.slice()).splice(M,1);break}m.tween=g}}function Vr(e,r,u){var g,m;if("function"!=typeof u)throw new Error;return function(){var S=Vi(this,e),M=S.tween;if(M!==g){m=(g=M).slice();for(var Z={name:r,value:u},X=0,xt=m.length;X<xt;++X)if(m[X].name===r){m[X]=Z;break}X===xt&&m.push(Z)}S.tween=m}}function pr(e,r,u){var g=e._id;return e.each(function(){var m=Vi(this,g);(m.value||(m.value={}))[r]=u.apply(this,arguments)}),function(m){return Mi(m,g).value[r]}}function yn(e,r,u){e.prototype=r.prototype=u,u.constructor=e}function yr(e,r){var u=Object.create(e.prototype);for(var g in r)u[g]=r[g];return u}function mn(){}var Vn=1/.7,kn="\\s*([+-]?\\d+)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n=/^#([0-9a-f]{3,8})$/,o=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),c=new RegExp(`^rgb\\(${i},${i},${i}\\)$`),h=new RegExp(`^rgba\\(${kn},${kn},${kn},${t}\\)$`),v=new RegExp(`^rgba\\(${i},${i},${i},${t}\\)$`),I=new RegExp(`^hsl\\(${t},${i},${i}\\)$`),O=new RegExp(`^hsla\\(${t},${i},${i},${t}\\)$`),J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ot(){return this.rgb().formatHex()}function Ft(){return this.rgb().formatRgb()}function xe(e){var r,u;return e=(e+"").trim().toLowerCase(),(r=n.exec(e))?(u=r[1].length,r=parseInt(r[1],16),6===u?Je(r):3===u?new li(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===u?De(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===u?De(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=o.exec(e))?new li(r[1],r[2],r[3],1):(r=c.exec(e))?new li(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=h.exec(e))?De(r[1],r[2],r[3],r[4]):(r=v.exec(e))?De(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=I.exec(e))?Qn(r[1],r[2]/100,r[3]/100,1):(r=O.exec(e))?Qn(r[1],r[2]/100,r[3]/100,r[4]):J.hasOwnProperty(e)?Je(J[e]):"transparent"===e?new li(NaN,NaN,NaN,0):null}function Je(e){return new li(e>>16&255,e>>8&255,255&e,1)}function De(e,r,u,g){return g<=0&&(e=r=u=NaN),new li(e,r,u,g)}function ui(e,r,u,g){return 1===arguments.length?function mi(e){return e instanceof mn||(e=xe(e)),e?new li((e=e.rgb()).r,e.g,e.b,e.opacity):new li}(e):new li(e,r,u,null==g?1:g)}function li(e,r,u,g){this.r=+e,this.g=+r,this.b=+u,this.opacity=+g}function Ki(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}`}function sn(){const e=Ge(this.opacity);return`${1===e?"rgb(":"rgba("}${Ye(this.r)}, ${Ye(this.g)}, ${Ye(this.b)}${1===e?")":`, ${e})`}`}function Ge(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ye(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zi(e){return((e=Ye(e))<16?"0":"")+e.toString(16)}function Qn(e,r,u,g){return g<=0?e=r=u=NaN:u<=0||u>=1?e=r=NaN:r<=0&&(e=NaN),new hi(e,r,u,g)}function Hi(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof mn||(e=xe(e)),!e)return new hi;if(e instanceof hi)return e;var r=(e=e.rgb()).r/255,u=e.g/255,g=e.b/255,m=Math.min(r,u,g),S=Math.max(r,u,g),M=NaN,Z=S-m,X=(S+m)/2;return Z?(M=r===S?(u-g)/Z+6*(u<g):u===S?(g-r)/Z+2:(r-u)/Z+4,Z/=X<.5?S+m:2-S-m,M*=60):Z=X>0&&X<1?0:M,new hi(M,Z,X,e.opacity)}function hi(e,r,u,g){this.h=+e,this.s=+r,this.l=+u,this.opacity=+g}function Zi(e){return(e=(e||0)%360)<0?e+360:e}function Ui(e){return Math.max(0,Math.min(1,e||0))}function Si(e,r,u){return 255*(e<60?r+(u-r)*e/60:e<180?u:e<240?r+(u-r)*(240-e)/60:r)}function Zn(e,r,u,g,m){var S=e*e,M=S*e;return((1-3*e+3*S-M)*r+(4-6*S+3*M)*u+(1+3*e+3*S-3*M)*g+M*m)/6}yn(mn,xe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ot,formatHex:Ot,formatHex8:function Dt(){return this.rgb().formatHex8()},formatHsl:function ft(){return Hi(this).formatHsl()},formatRgb:Ft,toString:Ft}),yn(li,ui,yr(mn,{brighter(e){return e=null==e?Vn:Math.pow(Vn,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new li(Ye(this.r),Ye(this.g),Ye(this.b),Ge(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ki,formatHex:Ki,formatHex8:function Fe(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}${zi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:sn,toString:sn})),yn(hi,function Ln(e,r,u,g){return 1===arguments.length?Hi(e):new hi(e,r,u,null==g?1:g)},yr(mn,{brighter(e){return e=null==e?Vn:Math.pow(Vn,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),r=isNaN(e)||isNaN(this.s)?0:this.s,u=this.l,g=u+(u<.5?u:1-u)*r,m=2*u-g;return new li(Si(e>=240?e-240:e+120,m,g),Si(e,m,g),Si(e<120?e+240:e-120,m,g),this.opacity)},clamp(){return new hi(Zi(this.h),Ui(this.s),Ui(this.l),Ge(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ge(this.opacity);return`${1===e?"hsl(":"hsla("}${Zi(this.h)}, ${100*Ui(this.s)}%, ${100*Ui(this.l)}%${1===e?")":`, ${e})`}`}}));const Dr=e=>()=>e;function Pi(e,r){var u=r-e;return u?function Rr(e,r){return function(u){return e+u*r}}(e,u):Dr(isNaN(e)?r:e)}const _n=function e(r){var u=function qn(e){return 1==(e=+e)?Pi:function(r,u){return u-r?function Zr(e,r,u){return e=Math.pow(e,u),r=Math.pow(r,u)-e,u=1/u,function(g){return Math.pow(e+g*r,u)}}(r,u,e):Dr(isNaN(r)?u:r)}}(r);function g(m,S){var M=u((m=ui(m)).r,(S=ui(S)).r),Z=u(m.g,S.g),X=u(m.b,S.b),xt=Pi(m.opacity,S.opacity);return function(kt){return m.r=M(kt),m.g=Z(kt),m.b=X(kt),m.opacity=xt(kt),m+""}}return g.gamma=e,g}(1);function Lr(e){return function(r){var M,Z,u=r.length,g=new Array(u),m=new Array(u),S=new Array(u);for(M=0;M<u;++M)Z=ui(r[M]),g[M]=Z.r||0,m[M]=Z.g||0,S[M]=Z.b||0;return g=e(g),m=e(m),S=e(S),Z.opacity=1,function(X){return Z.r=g(X),Z.g=m(X),Z.b=S(X),Z+""}}}Lr(function qi(e){var r=e.length-1;return function(u){var g=u<=0?u=0:u>=1?(u=1,r-1):Math.floor(u*r),m=e[g],S=e[g+1];return Zn((u-g/r)*r,g>0?e[g-1]:2*m-S,m,S,g<r-1?e[g+2]:2*S-m)}}),Lr(function Xi(e){var r=e.length;return function(u){var g=Math.floor(((u%=1)<0?++u:u)*r);return Zn((u-g/r)*r,e[(g+r-1)%r],e[g%r],e[(g+1)%r],e[(g+2)%r])}});var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jn=new RegExp(Yi.source,"g");function Bn(e,r){var g,m,S,u=Yi.lastIndex=jn.lastIndex=0,M=-1,Z=[],X=[];for(e+="",r+="";(g=Yi.exec(e))&&(m=jn.exec(r));)(S=m.index)>u&&(S=r.slice(u,S),Z[M]?Z[M]+=S:Z[++M]=S),(g=g[0])===(m=m[0])?Z[M]?Z[M]+=m:Z[++M]=m:(Z[++M]=null,X.push({i:M,x:ln(g,m)})),u=jn.lastIndex;return u<r.length&&(S=r.slice(u),Z[M]?Z[M]+=S:Z[++M]=S),Z.length<2?X[0]?function jr(e){return function(r){return e(r)+""}}(X[0].x):function un(e){return function(){return e}}(r):(r=X.length,function(xt){for(var Xt,kt=0;kt<r;++kt)Z[(Xt=X[kt]).i]=Xt.x(xt);return Z.join("")})}function Wn(e,r){var u;return("number"==typeof r?ln:r instanceof xe?_n:(u=xe(r))?(r=u,_n):Bn)(e,r)}function Xn(e){return function(){this.removeAttribute(e)}}function mr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xr(e,r,u){var g,S,m=u+"";return function(){var M=this.getAttribute(e);return M===m?null:M===g?S:S=r(g=M,u)}}function Yn(e,r,u){var g,S,m=u+"";return function(){var M=this.getAttributeNS(e.space,e.local);return M===m?null:M===g?S:S=r(g=M,u)}}function _r(e,r,u){var g,m,S;return function(){var M,X,Z=u(this);return null==Z?void this.removeAttribute(e):(M=this.getAttribute(e))===(X=Z+"")?null:M===g&&X===m?S:(m=X,S=r(g=M,Z))}}function br(e,r,u){var g,m,S;return function(){var M,X,Z=u(this);return null==Z?void this.removeAttributeNS(e.space,e.local):(M=this.getAttributeNS(e.space,e.local))===(X=Z+"")?null:M===g&&X===m?S:(m=X,S=r(g=M,Z))}}function w(e,r){var u,g;function m(){var S=r.apply(this,arguments);return S!==g&&(u=(g=S)&&function Br(e,r){return function(u){this.setAttributeNS(e.space,e.local,r.call(this,u))}}(e,S)),u}return m._value=r,m}function z(e,r){var u,g;function m(){var S=r.apply(this,arguments);return S!==g&&(u=(g=S)&&function wr(e,r){return function(u){this.setAttribute(e,r.call(this,u))}}(e,S)),u}return m._value=r,m}function bt(e,r){return function(){hr(this,e).delay=+r.apply(this,arguments)}}function Pt(e,r){return r=+r,function(){hr(this,e).delay=r}}function ne(e,r){return function(){Vi(this,e).duration=+r.apply(this,arguments)}}function ce(e,r){return r=+r,function(){Vi(this,e).duration=r}}var Ea=qe.prototype.constructor;function la(e){return function(){this.style.removeProperty(e)}}var za=0;function bn(e,r,u,g){this._groups=e,this._parents=r,this._name=u,this._id=g}function sa(){return++za}var wn=qe.prototype;bn.prototype=function Ha(e){return qe().transition(e)}.prototype={constructor:bn,select:function Oi(e){var r=this._name,u=this._id;"function"!=typeof e&&(e=R(e));for(var g=this._groups,m=g.length,S=new Array(m),M=0;M<m;++M)for(var kt,Xt,Z=g[M],X=Z.length,xt=S[M]=new Array(X),Yt=0;Yt<X;++Yt)(kt=Z[Yt])&&(Xt=e.call(kt,kt.__data__,Yt,Z))&&("__data__"in kt&&(Xt.__data__=kt.__data__),xt[Yt]=Xt,Pn(xt[Yt],r,u,Yt,xt,Mi(kt,u)));return new bn(S,this._parents,r,u)},selectAll:function xa(e){var r=this._name,u=this._id;"function"!=typeof e&&(e=y(e));for(var g=this._groups,m=g.length,S=[],M=[],Z=0;Z<m;++Z)for(var kt,X=g[Z],xt=X.length,Xt=0;Xt<xt;++Xt)if(kt=X[Xt]){for(var he,Yt=e.call(kt,kt.__data__,Xt,X),ri=Mi(kt,u),di=0,Zt=Yt.length;di<Zt;++di)(he=Yt[di])&&Pn(he,r,u,di,Yt,ri);S.push(Yt),M.push(kt)}return new bn(S,M,r,u)},selectChild:wn.selectChild,selectChildren:wn.selectChildren,filter:function _e(e){"function"!=typeof e&&(e=A(e));for(var r=this._groups,u=r.length,g=new Array(u),m=0;m<u;++m)for(var X,S=r[m],M=S.length,Z=g[m]=[],xt=0;xt<M;++xt)(X=S[xt])&&e.call(X,X.__data__,xt,S)&&Z.push(X);return new bn(g,this._parents,this._name,this._id)},merge:function ii(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,u=e._groups,g=r.length,S=Math.min(g,u.length),M=new Array(g),Z=0;Z<S;++Z)for(var Yt,X=r[Z],xt=u[Z],kt=X.length,Xt=M[Z]=new Array(kt),he=0;he<kt;++he)(Yt=X[he]||xt[he])&&(Xt[he]=Yt);for(;Z<g;++Z)M[Z]=r[Z];return new bn(M,this._parents,this._name,this._id)},selection:function Oa(){return new Ea(this._groups,this._parents)},transition:function Wa(){for(var e=this._name,r=this._id,u=sa(),g=this._groups,m=g.length,S=0;S<m;++S)for(var X,M=g[S],Z=M.length,xt=0;xt<Z;++xt)if(X=M[xt]){var kt=Mi(X,r);Pn(X,e,u,xt,M,{time:kt.time+kt.delay+kt.duration,delay:0,duration:kt.duration,ease:kt.ease})}return new bn(g,this._parents,e,u)},call:wn.call,nodes:wn.nodes,node:wn.node,size:wn.size,empty:wn.empty,each:wn.each,on:function Di(e,r){var u=this._id;return arguments.length<2?Mi(this.node(),u).on.on(e):this.each(function xi(e,r,u){var g,m,S=function Ti(e){return(e+"").trim().split(/^|\s+/).every(function(r){var u=r.indexOf(".");return u>=0&&(r=r.slice(0,u)),!r||"start"===r})}(r)?hr:Vi;return function(){var M=S(this,e),Z=M.on;Z!==g&&(m=(g=Z).copy()).on(r,u),M.on=m}}(u,e,r))},attr:function Yr(e,r){var u=le(e),g="transform"===u?Pr:Wn;return this.attrTween(e,"function"==typeof r?(u.local?br:_r)(u,g,pr(this,"attr."+e,r)):null==r?(u.local?mr:Xn)(u):(u.local?Yn:Xr)(u,g,r))},attrTween:function dt(e,r){var u="attr."+e;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==r)return this.tween(u,null);if("function"!=typeof r)throw new Error;var g=le(e);return this.tween(u,(g.local?w:z)(g,r))},style:function Aa(e,r,u){var g="transform"==(e+="")?Ir:Wn;return null==r?this.styleTween(e,function Sa(e,r){var u,g,m;return function(){var S=U(this,e),M=(this.style.removeProperty(e),U(this,e));return S===M?null:S===u&&M===g?m:m=r(u=S,g=M)}}(e,g)).on("end.style."+e,la(e)):"function"==typeof r?this.styleTween(e,function Ca(e,r,u){var g,m,S;return function(){var M=U(this,e),Z=u(this),X=Z+"";return null==Z&&(this.style.removeProperty(e),X=Z=U(this,e)),M===X?null:M===g&&X===m?S:(m=X,S=r(g=M,Z))}}(e,g,pr(this,"style."+e,r))).each(function ka(e,r){var u,g,m,Z,S="style."+r,M="end."+S;return function(){var X=Vi(this,e),xt=X.on,kt=null==X.value[S]?Z||(Z=la(r)):void 0;(xt!==u||m!==kt)&&(g=(u=xt).copy()).on(M,m=kt),X.on=g}}(this._id,e)):this.styleTween(e,function Ta(e,r,u){var g,S,m=u+"";return function(){var M=U(this,e);return M===m?null:M===g?S:S=r(g=M,u)}}(e,g,r),u).on("end.style."+e,null)},styleTween:function Ia(e,r,u){var g="style."+(e+="");if(arguments.length<2)return(g=this.tween(g))&&g._value;if(null==r)return this.tween(g,null);if("function"!=typeof r)throw new Error;return this.tween(g,function Na(e,r,u){var g,m;function S(){var M=r.apply(this,arguments);return M!==m&&(g=(m=M)&&function Ma(e,r,u){return function(g){this.style.setProperty(e,r.call(this,g),u)}}(e,M,u)),g}return S._value=r,S}(e,r,null==u?"":u))},text:function Ra(e){return this.tween("text","function"==typeof e?function Da(e){return function(){var r=e(this);this.textContent=null==r?"":r}}(pr(this,"text",e)):function Pa(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Ba(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function ja(e){var r,u;function g(){var m=e.apply(this,arguments);return m!==u&&(r=(u=m)&&function La(e){return function(r){this.textContent=e.call(this,r)}}(m)),r}return g._value=e,g}(e))},remove:function An(){return this.on("end.remove",function Qi(e){return function(){var r=this.parentNode;for(var u in this.__transition)if(+u!==e)return;r&&r.removeChild(this)}}(this._id))},tween:function Qr(e,r){var u=this._id;if(e+="",arguments.length<2){for(var M,g=Mi(this.node(),u).tween,m=0,S=g.length;m<S;++m)if((M=g[m]).name===e)return M.value;return null}return this.each((null==r?gr:Vr)(u,e,r))},delay:function Vt(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?bt:Pt)(r,e)):Mi(this.node(),r).delay},duration:function re(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?ne:ce)(r,e)):Mi(this.node(),r).duration},ease:function ke(e){var r=this._id;return arguments.length?this.each(function ze(e,r){if("function"!=typeof r)throw new Error;return function(){Vi(this,e).ease=r}}(r,e)):Mi(this.node(),r).ease},easeVarying:function He(e){if("function"!=typeof e)throw new Error;return this.each(function Ie(e,r){return function(){var u=r.apply(this,arguments);if("function"!=typeof u)throw new Error;Vi(this,e).ease=u}}(this._id,e))},end:function Ka(){var e,r,u=this,g=u._id,m=u.size();return new Promise(function(S,M){var Z={value:M},X={value:function(){0==--m&&S()}};u.each(function(){var xt=Vi(this,g),kt=xt.on;kt!==e&&((r=(e=kt).copy())._.cancel.push(Z),r._.interrupt.push(Z),r._.end.push(X)),xt.on=r}),0===m&&S()})},[Symbol.iterator]:wn[Symbol.iterator]};var Fa={time:null,delay:0,duration:250,ease:function Ua(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ga(e,r){for(var u;!(u=e.__transition)||!(u=u[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return u}qe.prototype.interrupt=function Jr(e){return this.each(function(){!function $r(e,r){var g,m,M,u=e.__transition,S=!0;if(u){for(M in r=null==r?null:r+"",u)(g=u[M]).name===r?(m=g.state>2&&g.state<5,g.state=6,g.timer.stop(),g.on.call(m?"interrupt":"cancel",e,e.__data__,g.index,g.group),delete u[M]):S=!1;S&&delete e.__transition}}(this,e)})},qe.prototype.transition=function $a(e){var r,u;e instanceof bn?(r=e._id,e=e._name):(r=sa(),(u=Fa).time=Sn(),e=null==e?null:e+"");for(var g=this._groups,m=g.length,S=0;S<m;++S)for(var X,M=g[S],Z=M.length,xt=0;xt<Z;++xt)(X=M[xt])&&Pn(X,e,r,xt,M,u||Ga(X,r));return new bn(g,this._parents,e,r)};Math;function xr(e){return{type:e}}function ir(e){return function(){return e}}function va(e){this._context=e}function eo(e){return new va(e)}["w","e"].map(xr),["n","s"].map(xr),["n","w","e","s","nw","ne","sw","se"].map(xr),va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r)}}};const ra=Math.PI,aa=2*ra,Kn=1e-6,io=aa-Kn;function ga(e){this._+=e[0];for(let r=1,u=e.length;r<u;++r)this._+=arguments[r]+e[r]}class zr{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==r?ga:function no(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return ga;const u=10**r;return function(g){this._+=g[0];for(let m=1,S=g.length;m<S;++m)this._+=Math.round(arguments[m]*u)/u+g[m]}}(r)}moveTo(r,u){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+u}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,u){this._append`L${this._x1=+r},${this._y1=+u}`}quadraticCurveTo(r,u,g,m){this._append`Q${+r},${+u},${this._x1=+g},${this._y1=+m}`}bezierCurveTo(r,u,g,m,S,M){this._append`C${+r},${+u},${+g},${+m},${this._x1=+S},${this._y1=+M}`}arcTo(r,u,g,m,S){if(r=+r,u=+u,g=+g,m=+m,(S=+S)<0)throw new Error(`negative radius: ${S}`);let M=this._x1,Z=this._y1,X=g-r,xt=m-u,kt=M-r,Xt=Z-u,Yt=kt*kt+Xt*Xt;if(null===this._x1)this._append`M${this._x1=r},${this._y1=u}`;else if(Yt>Kn)if(Math.abs(Xt*X-xt*kt)>Kn&&S){let he=g-M,ri=m-Z,di=X*X+xt*xt,Zt=he*he+ri*ri,$t=Math.sqrt(di),Ee=Math.sqrt(Yt),fe=S*Math.tan((ra-Math.acos((di+Yt-Zt)/(2*$t*Ee)))/2),Be=fe/Ee,Ve=fe/$t;Math.abs(Be-1)>Kn&&this._append`L${r+Be*kt},${u+Be*Xt}`,this._append`A${S},${S},0,0,${+(Xt*he>kt*ri)},${this._x1=r+Ve*X},${this._y1=u+Ve*xt}`}else this._append`L${this._x1=r},${this._y1=u}`}arc(r,u,g,m,S,M){if(r=+r,u=+u,M=!!M,(g=+g)<0)throw new Error(`negative radius: ${g}`);let Z=g*Math.cos(m),X=g*Math.sin(m),xt=r+Z,kt=u+X,Xt=1^M,Yt=M?m-S:S-m;null===this._x1?this._append`M${xt},${kt}`:(Math.abs(this._x1-xt)>Kn||Math.abs(this._y1-kt)>Kn)&&this._append`L${xt},${kt}`,g&&(Yt<0&&(Yt=Yt%aa+aa),Yt>io?this._append`A${g},${g},0,1,${Xt},${r-Z},${u-X}A${g},${g},0,1,${Xt},${this._x1=xt},${this._y1=kt}`:Yt>Kn&&this._append`A${g},${g},0,${+(Yt>=ra)},${Xt},${this._x1=r+g*Math.cos(S)},${this._y1=u+g*Math.sin(S)}`)}rect(r,u,g,m){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+u}h${g=+g}v${+m}h${-g}Z`}toString(){return this._}}function oo(e){return e[0]}function lo(e){return e[1]}function so(e,r){var u=ir(!0),g=null,m=eo,S=null,M=function ao(e){let r=3;return e.digits=function(u){if(!arguments.length)return r;if(null==u)r=null;else{const g=Math.floor(u);if(!(g>=0))throw new RangeError(`invalid digits: ${u}`);r=g}return e},()=>new zr(r)}(Z);function Z(X){var xt,Xt,he,kt=(X=function to(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(X)).length,Yt=!1;for(null==g&&(S=m(he=M())),xt=0;xt<=kt;++xt)!(xt<kt&&u(Xt=X[xt],xt,X))===Yt&&((Yt=!Yt)?S.lineStart():S.lineEnd()),Yt&&S.point(+e(Xt,xt,X),+r(Xt,xt,X));if(he)return S=null,he+""||null}return e="function"==typeof e?e:void 0===e?oo:ir(e),r="function"==typeof r?r:void 0===r?lo:ir(r),Z.x=function(X){return arguments.length?(e="function"==typeof X?X:ir(+X),Z):e},Z.y=function(X){return arguments.length?(r="function"==typeof X?X:ir(+X),Z):r},Z.defined=function(X){return arguments.length?(u="function"==typeof X?X:ir(!!X),Z):u},Z.curve=function(X){return arguments.length?(m=X,null!=g&&(S=m(g)),Z):m},Z.context=function(X){return arguments.length?(null==X?g=S=null:S=m(g=X),Z):g},Z}function pa(e,r,u){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+u)/6)}function ya(e){this._context=e}function uo(e){return new ya(e)}function nr(e,r,u){this.k=e,this.x=r,this.y=u}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pa(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},nr.prototype={constructor:nr,scale:function(e){return 1===e?this:new nr(this.k*e,this.x,this.y)},translate:function(e,r){return 0===e&0===r?this:new nr(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new nr(1,0,0)}}]);