"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3130],{311:(q,v,c)=>{c.r(v),c.d(v,{UserPageModule:()=>Se});var u=c(6814),A=c(6223),l=c(3536),x=c(6916),d=c(5861),T=c(4459),U=c(203),m=c(3377),P=c(9416),f=c(3300),M=c(5511),Z=c(2695),e=c(5879),Q=c(6593),Y=c(6318);let N=(()=>{var n;class i{constructor(){this.APP_ROUTE=Z.z}ngOnInit(){}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-info"]],inputs:{user:"user"},decls:9,vars:3,consts:[[1,"container","py-4"],["onerror","errorAvatar(this)",3,"src"],[1,"user-name","text-ellipsis","my-3"],[1,"text-center","mt-0","mb-1"],[1,"text-center","text-muted"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"ion-thumbnail"),e._UZ(2,"img",1),e.qZA(),e.TgZ(3,"div",2)(4,"h5",3)(5,"b"),e._uU(6),e.qZA()(),e.TgZ(7,"div",4),e._uU(8),e.qZA()()()),2&t){let s;e.xp6(2),e.Q6J("src",null!==(s=null==o.user?null:o.user.url_profilephoto)&&void 0!==s?s:"../../../assets/image/user-avatar-default.png",e.LSH),e.xp6(4),e.Oqu(null==o.user?null:o.user.fullname),e.xp6(2),e.Oqu(null==o.user?null:o.user.emailaddr)}},dependencies:[l.Bs],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 140px;--border-radius: 50%;margin:auto}"]}),i})();var D=c(6676),y=c.n(D),J=c(2654),k=c(3999);function w(n,i){1&n&&e.GkF(0)}function b(n,i){1&n&&e.GkF(0)}function E(n,i){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"ion-spinner",7),e.qZA())}function S(n,i){1&n&&(e.TgZ(0,"small",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DataNotFound")))}function L(n,i){if(1&n&&e.YNc(0,S,3,3,"small",8),2&n){const a=e.oxw();e.Q6J("ngIf",!1===a.response.loading)}}function R(n,i){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&n){const a=e.oxw(2);e.xp6(1),e.hij("",e.lcZ(2,2,"AppliedTo")," "),e.xp6(3),e.Oqu(a.renderDate(null==a.productpackageapplied?null:a.productpackageapplied.expirateddate,"DD/MM/YYYY"))}}function F(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-badge",16),e._uU(2),e.qZA(),e.BQk()),2&n){const a=e.oxw().$implicit;e.xp6(2),e.Oqu(a.datavalue)}}function B(n,i){1&n&&(e.ynx(0),e._UZ(1,"ion-icon",17),e.BQk())}function $(n,i){1&n&&(e.ynx(0),e._UZ(1,"ion-icon",18),e.BQk())}function H(n,i){if(1&n&&(e.ynx(0)(1,14),e.YNc(2,B,2,0,"ng-container",15),e.YNc(3,$,2,0,"ng-container",15),e.BQk()()),2&n){const a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngSwitch",a.datavalue),e.xp6(1),e.Q6J("ngSwitchCase","1"),e.xp6(1),e.Q6J("ngSwitchCase","0")}}function W(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-badge",16),e._uU(2),e.qZA(),e.BQk()),2&n){const a=e.oxw().$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(t.renderTemplate(a.datavalue,a.template))}}function G(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-badge",16),e._uU(2),e.qZA(),e.BQk()),2&n){const a=e.oxw().$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(t.renderDate(a.datavalue))}}function z(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-item")(2,"ion-label"),e._uU(3),e.qZA(),e.ynx(4,14),e.YNc(5,F,3,1,"ng-container",15),e.YNc(6,H,4,3,"ng-container",15),e.YNc(7,W,3,1,"ng-container",15),e.YNc(8,G,3,1,"ng-container",15),e.BQk(),e.qZA(),e.BQk()),2&n){const a=i.$implicit;e.xp6(3),e.Oqu(a.productpackagecontent_title),e.xp6(1),e.Q6J("ngSwitch",a.v_datatype),e.xp6(1),e.Q6J("ngSwitchCase",800),e.xp6(1),e.Q6J("ngSwitchCase",801),e.xp6(1),e.Q6J("ngSwitchCase",802),e.xp6(1),e.Q6J("ngSwitchCase",803)}}function j(n,i){if(1&n&&(e.TgZ(0,"h3",10),e._uU(1),e.qZA(),e.YNc(2,R,5,4,"p",11),e.TgZ(3,"ion-list",12),e.YNc(4,z,9,6,"ng-container",13),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.AsE("",null==a.productpackageapplied?null:a.productpackageapplied.productpackage_key," - ",null==a.productpackageapplied?null:a.productpackageapplied.productpackage_title,""),e.xp6(1),e.Q6J("ngIf",null==a.productpackageapplied?null:a.productpackageapplied.expirateddate),e.xp6(2),e.Q6J("ngForOf",a.filterData(a.response.productpackagecontents))}}let X=(()=>{var n;class i{constructor(){this.response={}}ngOnInit(){this.loadData()}onIonRefresher(t){this.loadData(()=>{t.target.complete()})}loadData(t){var o,s;(0,J.A)({loading:r=>{this.response.loading=r},params:{userid:null===(o=this.user)||void 0===o?void 0:o.userid,productpackage_id:null===(s=this.productpackageapplied)||void 0===s?void 0:s.productpackage_id},callback:r=>{var p;this.response.productpackagecontents=null!==(p=null==r?void 0:r.productpackagecontents)&&void 0!==p?p:[],t&&t()}})}filterData(t){var o;return null!==(o=null==t?void 0:t.filter(s=>s.iseffect))&&void 0!==o?o:[]}renderTemplate(t,o){return o?o.replace(/\{0\}/gm,null!=t?t:""):t}renderDate(t,o){return y()(t).format(null!=o?o:"DD/MM/YYYY HH:mm")}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-membership"]],inputs:{user:"user",productpackageapplied:"productpackageapplied"},decls:13,vars:8,consts:[["slot","fixed",3,"ionRefresh"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],["templateLoading",""],["templateNoData",""],["templateYesData",""],[1,"text-center"],["name","dots"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[1,"text-primary"],[4,"ngIf"],["mode","ios"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","end"],["slot","end","color","primary","name","checkmark-outline"],["slot","end","color","danger","name","close-outline"]],template:function(t,o){if(1&t&&(e.TgZ(0,"ion-refresher",0),e.NdJ("ionRefresh",function(r){return o.onIonRefresher(r)}),e._UZ(1,"ion-refresher-content"),e.qZA(),e.TgZ(2,"h5"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,w,1,0,"ng-container",1),e.YNc(6,b,1,0,"ng-container",2),e.YNc(7,E,2,0,"ng-template",null,3,e.W1O),e.YNc(9,L,1,1,"ng-template",null,4,e.W1O),e.YNc(11,j,5,4,"ng-template",null,5,e.W1O)),2&t){const s=e.MAs(8),r=e.MAs(10),p=e.MAs(12);e.xp6(3),e.Oqu(e.lcZ(4,6,"ProductPackageApplied")),e.xp6(2),e.Q6J("ngIf",o.productpackageapplied)("ngIfThen",p)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",!1!==o.response.loading)("ngIfThen",s)}},dependencies:[u.sg,u.O5,u.RF,u.n9,l.yp,l.gu,l.Ie,l.Q$,l.q_,l.nJ,l.Wo,l.PQ,k.X$]}),i})();var O=c(1862);function V(n,i){1&n&&e.GkF(0)}function ee(n,i){1&n&&e.GkF(0)}function ne(n,i){if(1&n){const a=e.EpF();e.TgZ(0,"ion-infinite-scroll",9),e.NdJ("ionInfinite",function(o){e.CHM(a);const s=e.oxw();return e.KtG(s.onIonInfiniteScroll(o))}),e._UZ(1,"ion-infinite-scroll-content"),e.qZA()}}function te(n,i){1&n&&(e.TgZ(0,"div",10),e._UZ(1,"ion-spinner",11),e.qZA())}function ae(n,i){1&n&&(e.TgZ(0,"small",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DataNotFound")))}function oe(n,i){if(1&n&&e.YNc(0,ae,3,3,"small",12),2&n){const a=e.oxw();e.Q6J("ngIf",!1===a.response.loading)}}function ie(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",13),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"NotYetApplied")))}function re(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Applying")))}function se(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Expired")))}function pe(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e.ynx(9,15),e.YNc(10,ie,4,3,"ng-container",16),e.YNc(11,re,4,3,"ng-container",16),e.YNc(12,se,4,3,"ng-container",16),e.BQk(),e.qZA()(),e.BQk()),2&n){const a=i.$implicit,t=e.oxw(2);e.xp6(3),e.AsE("",a.productpackage_key," - ",a.productpackage_title,""),e.xp6(2),e.Oqu(t.renderDate(a.applieddate,"DD/M/YYYY HH:mm")),e.xp6(2),e.Oqu(t.renderDate(a.expirateddate,"DD/M/YYYY HH:mm")),e.xp6(2),e.Q6J("ngSwitch",a.statusapply),e.xp6(1),e.Q6J("ngSwitchCase",-1),e.xp6(1),e.Q6J("ngSwitchCase",0),e.xp6(1),e.Q6J("ngSwitchCase",1)}}const le=function(){return[]};function ce(n,i){if(1&n&&e.YNc(0,pe,13,8,"ng-container",14),2&n){const a=e.oxw();let t;e.Q6J("ngForOf",null!==(t=a.response.productpackagepaids)&&void 0!==t?t:e.DdM(1,le))}}let ue=(()=>{var n;class i{constructor(){this.APP_ROUTE=Z.z,this.paging={page:1,limit:20,active:!0},this.response={}}ngOnInit(){this.refreshData()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}onIonInfiniteScroll(t){this.loadMore(()=>{t.target.complete()})}refreshData(t){this.paging.page=1,this.paging.active=!0,this.loadData_Paging(t,!0)}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}loadData_Paging(t,o){var s,r;(n=>{var i,a,t,o,s,r,p;n.params=n.params||{},n.params.page=n.params.page||1,n.params.limit=n.params.limit||1,(0,T.cd)({url:"api/ProductPackagePaid/Search",params:{getby:null!==(i=n.params.userid)&&void 0!==i?i:null,userid:null!==(a=n.params.userid)&&void 0!==a?a:null,productpackage_id:null!==(t=n.params.productpackage_id)&&void 0!==t?t:null,productpackage_key:null!==(o=n.params.productpackage_key)&&void 0!==o?o:null,name:null!==(s=n.params.name)&&void 0!==s?s:null,sortfield:null!==(r=n.params.sortfield)&&void 0!==r?r:null,sorttype:null!==(p=n.params.sorttype)&&void 0!==p?p:null,posstart:(n.params.page-1)*n.params.limit,numofrow:n.params.limit},success:g=>{var _;"function"==typeof n.callback&&n.callback(null!==(_=g.data)&&void 0!==_?_:null)},error:g=>{"function"==typeof n.callback&&n.callback(),console.error(g)},loading:n.loading})})({loading:p=>{this.response.loading=p},params:{userid:null===(s=this.user)||void 0===s?void 0:s.userid,name:null===(r=this.user)||void 0===r?void 0:r.emailaddr,page:this.paging.page,limit:this.paging.limit},callback:p=>{var g,_,h,C,I;this.response.productpackagepaids=o?null!==(g=null==p?void 0:p.productpackagepaids)&&void 0!==g?g:[]:(null!==(_=this.response.productpackagepaids)&&void 0!==_?_:[]).concat(null!==(h=null==p?void 0:p.productpackagepaids)&&void 0!==h?h:[]),(!(null!=p&&null!==(C=p.productpackagepaids)&&void 0!==C&&C.length)||(null==p||null===(I=p.productpackagepaids)||void 0===I?void 0:I.length)<this.paging.limit)&&(this.paging.active=!1),t&&t()}})}renderMoney(t){return(0,O.lb)(t,".")}renderDate(t,o){return y()(t).format(null!=o?o:"DD/MM/YYYY HH:mm")}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-product-package-paid"]],inputs:{user:"user"},decls:35,vars:21,consts:[["slot","fixed",3,"ionRefresh"],[1,"table","table-hover"],["width","25%"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],[3,"ionInfinite",4,"ngIf"],["templateLoading",""],["templateNoData",""],["templateYesData",""],[3,"ionInfinite"],[1,"text-center"],["name","dots","slot","center"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"text-success"],[1,"text-danger"]],template:function(t,o){if(1&t&&(e.TgZ(0,"ion-refresher",0),e.NdJ("ionRefresh",function(r){return o.onIonRefresher(r)}),e._UZ(1,"ion-refresher-content"),e.qZA(),e.TgZ(2,"h5"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"table",1)(6,"colgroup"),e._UZ(7,"col")(8,"col",2)(9,"col",2)(10,"col",2),e.qZA(),e.TgZ(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,V,1,0,"ng-container",3),e.qZA()(),e.YNc(27,ee,1,0,"ng-container",4),e.YNc(28,ne,2,0,"ion-infinite-scroll",5),e.YNc(29,te,2,0,"ng-template",null,6,e.W1O),e.YNc(31,oe,1,1,"ng-template",null,7,e.W1O),e.YNc(33,ce,1,2,"ng-template",null,8,e.W1O)),2&t){const s=e.MAs(30),r=e.MAs(32),p=e.MAs(34);e.xp6(3),e.Oqu(e.lcZ(4,11,"PurchaseHistory")),e.xp6(11),e.Oqu(e.lcZ(15,13,"Package")),e.xp6(3),e.Oqu(e.lcZ(18,15,"AppliedFrom")),e.xp6(3),e.Oqu(e.lcZ(21,17,"ExpiredTime")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Status")),e.xp6(3),e.Q6J("ngIf",null==o.response.productpackagepaids?null:o.response.productpackagepaids.length)("ngIfThen",p)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",!1!==o.response.loading)("ngIfThen",s),e.xp6(1),e.Q6J("ngIf",o.paging.active)}},dependencies:[u.sg,u.O5,u.RF,u.n9,l.ju,l.MB,l.nJ,l.Wo,l.PQ,k.X$],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0}"]}),i})();var ge=c(5844);function _e(n,i){1&n&&e.GkF(0)}function me(n,i){1&n&&e.GkF(0)}function de(n,i){if(1&n){const a=e.EpF();e.TgZ(0,"ion-infinite-scroll",9),e.NdJ("ionInfinite",function(o){e.CHM(a);const s=e.oxw();return e.KtG(s.onIonInfiniteScroll(o))}),e._UZ(1,"ion-infinite-scroll-content"),e.qZA()}}function fe(n,i){1&n&&(e.TgZ(0,"div",10),e._UZ(1,"ion-spinner",11),e.qZA())}function he(n,i){1&n&&(e.TgZ(0,"small",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DataNotFound")))}function xe(n,i){if(1&n&&e.YNc(0,he,3,3,"small",12),2&n){const a=e.oxw();e.Q6J("ngIf",!1===a.response.loading)}}function Ze(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"a",19),e._uU(2),e.qZA(),e.BQk()),2&n){const a=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("href",t.APP_ROUTE.HOME_STATUS_PAYMENT+"?poi="+a.pay_orderid,e.LSH),e.xp6(1),e.Oqu(a.order_code)}}function Te(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",20),e._uU(2),e.qZA(),e.BQk()),2&n){const a=e.oxw().$implicit;e.xp6(2),e.Oqu(a.v_feesstatus_name)}}function Ue(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",21),e._uU(2),e.qZA(),e.BQk()),2&n){const a=e.oxw().$implicit;e.xp6(2),e.Oqu(a.v_feesstatus_name)}}function Pe(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",13),e._uU(2),e.qZA(),e.BQk()),2&n){const a=e.oxw().$implicit;e.xp6(2),e.Oqu(a.v_feesstatus_name)}}function ve(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td"),e.YNc(3,Ze,3,2,"ng-container",15),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e.ynx(9,16),e.YNc(10,Te,3,1,"ng-container",17),e.YNc(11,Ue,3,1,"ng-container",17),e.YNc(12,Pe,3,1,"ng-container",18),e.BQk(),e.qZA()(),e.BQk()),2&n){const a=i.$implicit,t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",a.order_code),e.xp6(2),e.hij("",t.renderMoney(a.amount)," VN\u0110"),e.xp6(2),e.Oqu(t.renderDate(a.order_date)),e.xp6(2),e.Q6J("ngSwitch",a.v_feesstatus),e.xp6(1),e.Q6J("ngSwitchCase",10201),e.xp6(1),e.Q6J("ngSwitchCase",10203)}}const Ae=function(){return[]};function ke(n,i){if(1&n&&e.YNc(0,ve,13,6,"ng-container",14),2&n){const a=e.oxw();let t;e.Q6J("ngForOf",null!==(t=a.response.payorderinfos)&&void 0!==t?t:e.DdM(1,Ae))}}let ye=(()=>{var n;class i{constructor(){this.APP_ROUTE=Z.z,this.paging={page:1,limit:20,active:!0},this.response={}}ngOnInit(){this.refreshData()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}onIonInfiniteScroll(t){this.loadMore(()=>{t.target.complete()})}refreshData(t){this.paging.page=1,this.paging.active=!0,this.loadData_Paging(t,!0)}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}loadData_Paging(t,o){var s;(0,ge.Sz)({loading:r=>{this.response.loading=r},params:{userid:null===(s=this.user)||void 0===s?void 0:s.userid,page:this.paging.page,limit:this.paging.limit},callback:r=>{var p;this.response.payorderinfos=o?null!=r?r:[]:(null!==(p=this.response.payorderinfos)&&void 0!==p?p:[]).concat(null!=r?r:[]),(!(null!=r&&r.length)||(null==r?void 0:r.length)<this.paging.limit)&&(this.paging.active=!1),t&&t()}})}renderMoney(t){return(0,O.lb)(t,".")}renderDate(t,o){return y()(t).format(null!=o?o:"DD/MM/YYYY HH:mm")}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-payment"]],inputs:{user:"user"},decls:35,vars:21,consts:[["slot","fixed",3,"ionRefresh"],[1,"table","table-hover"],["width","25%"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],[3,"ionInfinite",4,"ngIf"],["templateLoading",""],["templateNoData",""],["templateYesData",""],[3,"ionInfinite"],[1,"text-center"],["name","dots","slot","center"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"href"],[1,"text-success"],[1,"text-danger"]],template:function(t,o){if(1&t&&(e.TgZ(0,"ion-refresher",0),e.NdJ("ionRefresh",function(r){return o.onIonRefresher(r)}),e._UZ(1,"ion-refresher-content"),e.qZA(),e.TgZ(2,"h5"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"table",1)(6,"colgroup"),e._UZ(7,"col")(8,"col",2)(9,"col",2)(10,"col",2),e.qZA(),e.TgZ(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,_e,1,0,"ng-container",3),e.qZA()(),e.YNc(27,me,1,0,"ng-container",4),e.YNc(28,de,2,0,"ion-infinite-scroll",5),e.YNc(29,fe,2,0,"ng-template",null,6,e.W1O),e.YNc(31,xe,1,1,"ng-template",null,7,e.W1O),e.YNc(33,ke,1,2,"ng-template",null,8,e.W1O)),2&t){const s=e.MAs(30),r=e.MAs(32),p=e.MAs(34);e.xp6(3),e.Oqu(e.lcZ(4,11,"PaymentHistory")),e.xp6(11),e.Oqu(e.lcZ(15,13,"OrderCode")),e.xp6(3),e.Oqu(e.lcZ(18,15,"TransactionAmount")),e.xp6(3),e.Oqu(e.lcZ(21,17,"Time")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Status")),e.xp6(3),e.Q6J("ngIf",null==o.response.payorderinfos?null:o.response.payorderinfos.length)("ngIfThen",p)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",!1!==o.response.loading)("ngIfThen",s),e.xp6(1),e.Q6J("ngIf",o.paging.active)}},dependencies:[u.sg,u.O5,u.RF,u.n9,u.ED,l.ju,l.MB,l.nJ,l.Wo,l.PQ,k.X$],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0}"]}),i})();function Ce(n,i){1&n&&e.GkF(0)}function Ie(n,i){1&n&&e._UZ(0,"ion-spinner",18)}function Oe(n,i){1&n&&e.GkF(0)}function qe(n,i){if(1&n&&e.YNc(0,Oe,1,0,"ng-container",13),2&n){const a=e.oxw(),t=e.MAs(57),o=e.MAs(55);e.Q6J("ngIf",a.params.component)("ngIfThen",t)("ngIfElse",o)}}function Me(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-user-info",19),e.qZA(),e.TgZ(2,"div",20),e._UZ(3,"app-user-membership",21),e.qZA(),e.TgZ(4,"div",20),e._UZ(5,"app-user-product-package-paid",19),e.qZA(),e.TgZ(6,"div",20),e._UZ(7,"app-user-payment",19),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.Q6J("user",a.user),e.xp6(2),e.Q6J("user",a.user)("productpackageapplied",a.response.productpackageapplied),e.xp6(2),e.Q6J("user",a.user),e.xp6(2),e.Q6J("user",a.user)}}function Qe(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-info",19),e.BQk()),2&n){const a=e.oxw(2);e.xp6(1),e.Q6J("user",a.user)}}function Ye(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-membership",21),e.BQk()),2&n){const a=e.oxw(2);e.xp6(1),e.Q6J("user",a.user)("productpackageapplied",a.response.productpackageapplied)}}function Ne(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-product-package-paid",19),e.BQk()),2&n){const a=e.oxw(2);e.xp6(1),e.Q6J("user",a.user)}}function De(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-payment",19),e.BQk()),2&n){const a=e.oxw(2);e.xp6(1),e.Q6J("user",a.user)}}function Je(n,i){if(1&n&&(e.ynx(0,22),e.YNc(1,Qe,2,1,"ng-container",23),e.YNc(2,Ye,2,2,"ng-container",23),e.YNc(3,Ne,2,1,"ng-container",23),e.YNc(4,De,2,1,"ng-container",23),e.BQk()),2&n){const a=e.oxw();e.Q6J("ngSwitch",a.params.component),e.xp6(1),e.Q6J("ngSwitchCase","info"),e.xp6(1),e.Q6J("ngSwitchCase","membership"),e.xp6(1),e.Q6J("ngSwitchCase","product-package-paid"),e.xp6(1),e.Q6J("ngSwitchCase","payment")}}const we=[{path:"",component:(()=>{var n;class i{constructor(t,o,s,r){var p,g;if(this.router=t,this.activatedRoute=o,this.titleService=s,this.modalController=r,this.appsettings={},this.APP_ROUTE=Z.z,this.params={},this.response={},this.params.component=null!==(p=o.snapshot.params.component)&&void 0!==p?p:"",this.params.to=null!==(g=o.snapshot.queryParamMap.get("to"))&&void 0!==g?g:"",this.params.to)t.navigate([Z.z.USER_COMPONENT.replace(":component",this.params.to)],{replaceUrl:!0});else switch(this.params.component){case"info":s.setTitle("Th\xf4ng tin t\xe0i kho\u1ea3n");break;case"membership":s.setTitle("G\xf3i h\u1ed9i vi\xean");break;case"product-package-paid":s.setTitle("L\u1ecbch s\u1eed mua h\xe0ng");break;case"payment":s.setTitle("L\u1ecbch s\u1eed thanh to\xe1n");break;default:var _,h;s.setTitle(null!==(_=null===(h=this.user)||void 0===h?void 0:h.fullname)&&void 0!==_?_:"T\xe0i kho\u1ea3n")}}ngOnInit(){var t=this;(0,d.Z)(function*(){t.appsettings=yield(0,T.H0)(),t.appsettings.madonvi&&(t.user=yield(0,M.R)(t.appsettings),t.refreshData())})()}refreshData(){var t,o,s;this.titleService.setTitle(null!==(o=null===(s=this.user)||void 0===s?void 0:s.fullname)&&void 0!==o?o:"T\xe0i kho\u1ea3n"),(0,U.nC)({loading:r=>{this.response.loading=r},params:{userid:null===(t=this.user)||void 0===t?void 0:t.userid},callback:r=>{this.response.productpackageapplied=r}})}swichComponent(t,o){this.params.component=o,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{to:o},queryParamsHandling:"merge",replaceUrl:!0})}presentModalUserChangeInfo(t){var o=this;return(0,d.Z)(function*(){const s=yield o.modalController.create({component:P.w,componentProps:{user:o.user},mode:"md",cssClass:"ion-modal ion-modal-change-info",backdropDismiss:!0,keyboardClose:!0});s.onDidDismiss().then(function(){var r=(0,d.Z)(function*(p){"confirm"==p.role&&(0,m.LE)({params:p.data,callback:g=>{o.user=g}})});return function(p){return r.apply(this,arguments)}}()),s.present()})()}presentModalUserChangePwd(t){var o=this;return(0,d.Z)(function*(){(yield o.modalController.create({component:f.B,componentProps:{user:o.user},mode:"md",cssClass:"ion-modal ion-modal-change-pwd",backdropDismiss:!0,keyboardClose:!0})).present()})()}signOut(){return(0,d.Z)(function*(){yield(0,T.rt)(),(0,m.Kr)({callback:()=>{window.location.replace(Z.z.LANDING_PAGE)}})})()}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(x.F0),e.Y36(x.gz),e.Y36(Q.Dx),e.Y36(l.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user"]],decls:58,vars:38,consts:[[3,"isFullWidth"],["when","md","contentId","main"],[1,"ion-no-padding"],["mode","ios"],[1,"font-weight-normal","text-muted"],[1,"text-dark"],["button","","detail","true","detail-icon","chevron-forward-outline",3,"href"],[3,"color"],["button","","detail","true","detail-icon","chevron-forward-outline",3,"click"],["button","","detail","true","detail-icon","log-out-outline",3,"click"],["color","danger"],["id","main",1,"ion-page"],[1,"ion-padding"],[4,"ngIf","ngIfThen","ngIfElse"],["templateLoading",""],["templateData",""],["templateDataAll",""],["templateDataSwitch",""],["name","dots"],[3,"user"],[1,"mb-5"],[3,"user","productpackageapplied"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,o){if(1&t&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content")(2,"ion-split-pane",1)(3,"ion-content",2)(4,"ion-list",3)(5,"ion-list-header")(6,"ion-label")(7,"span",4),e._uU(8),e.ALo(9,"translate"),e.TgZ(10,"b",5),e._uU(11),e.qZA(),e._uU(12,"."),e.qZA()()(),e.TgZ(13,"ion-item",6)(14,"ion-label",7),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"ion-item",8),e.NdJ("click",function(r){return o.presentModalUserChangeInfo(r)}),e.TgZ(18,"ion-label"),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"ion-item",8),e.NdJ("click",function(r){return o.presentModalUserChangePwd(r)}),e.TgZ(22,"ion-label"),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"ion-item",9),e.NdJ("click",function(){return o.signOut()}),e.TgZ(26,"ion-label",10),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.TgZ(29,"ion-list-header")(30,"ion-label"),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"ion-item",8),e.NdJ("click",function(r){return o.swichComponent(r,"membership")}),e.TgZ(34,"ion-label",7),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"ion-badge"),e._uU(38),e.qZA()(),e.TgZ(39,"ion-item",8),e.NdJ("click",function(r){return o.swichComponent(r,"product-package-paid")}),e.TgZ(40,"ion-label",7),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"ion-item",8),e.NdJ("click",function(r){return o.swichComponent(r,"payment")}),e.TgZ(44,"ion-label",7),e._uU(45),e.ALo(46,"translate"),e.qZA()()()(),e.TgZ(47,"div",11)(48,"ion-content",12),e.YNc(49,Ce,1,0,"ng-container",13),e.qZA()()()(),e.YNc(50,Ie,1,0,"ng-template",null,14,e.W1O),e.YNc(52,qe,1,3,"ng-template",null,15,e.W1O),e.YNc(54,Me,8,5,"ng-template",null,16,e.W1O),e.YNc(56,Je,5,5,"ng-template",null,17,e.W1O)),2&t){const s=e.MAs(51),r=e.MAs(53);e.Q6J("isFullWidth",!0),e.xp6(8),e.hij("",e.lcZ(9,20,"Welcome")," "),e.xp6(3),e.Oqu(null==o.user?null:o.user.fullname),e.xp6(2),e.Q6J("href",o.APP_ROUTE.USER),e.xp6(1),e.Q6J("color",o.params.component&&"info"!=o.params.component?"":"primary"),e.xp6(1),e.Oqu(e.lcZ(16,22,"AccountInfo")),e.xp6(4),e.Oqu(e.lcZ(20,24,"ChangeInfo")),e.xp6(4),e.Oqu(e.lcZ(24,26,"ChangePassword")),e.xp6(4),e.Oqu(e.lcZ(28,28,"SignOut")),e.xp6(4),e.Oqu(e.lcZ(32,30,"Membership")),e.xp6(3),e.Q6J("color","membership"==o.params.component?"primary":""),e.xp6(1),e.Oqu(e.lcZ(36,32,"MemberInfo")),e.xp6(3),e.Oqu(null==o.response.productpackageapplied?null:o.response.productpackageapplied.productpackage_key),e.xp6(2),e.Q6J("color","product-package-paid"==o.params.component?"primary":""),e.xp6(1),e.Oqu(e.lcZ(42,34,"PurchaseHistory")),e.xp6(3),e.Q6J("color","payment"==o.params.component?"primary":""),e.xp6(1),e.Oqu(e.lcZ(46,36,"PaymentHistory")),e.xp6(4),e.Q6J("ngIf",!1!==o.response.loading)("ngIfThen",s)("ngIfElse",r)}},dependencies:[u.O5,u.RF,u.n9,l.yp,l.W2,l.Ie,l.Q$,l.q_,l.yh,l.PQ,l.jI,Y.G,N,X,ue,ye,k.X$],styles:["ion-split-pane[_ngcontent-%COMP%]{--side-max-width: 360px}"]}),i})()}];let be=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[x.Bz.forChild(we),x.Bz]}),i})();var Ee=c(9074);let Se=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,A.u5,l.Pc,be,Ee.V]}),i})()},5511:(q,v,c)=>{c.d(v,{R:()=>T,v:()=>d});var u=c(5861),A=c(3377),l=c(2695),x=c(4459);const d=function(){var U=(0,u.Z)(function*(){return yield(0,A.iA)()});return function(){return U.apply(this,arguments)}}(),T=function(){var U=(0,u.Z)(function*(m){let P=null!=m?m:yield(0,x.H0)(),f=yield(0,A.iA)();return(!P.madonvi||!f.userid||P.madonvi!=(null==f?void 0:f.madonvi))&&window.location.replace(l.z.LANDING_PAGE+`?require=signin&returnurl=${encodeURIComponent(window.location.href)}`),f});return function(P){return U.apply(this,arguments)}}()}}]);