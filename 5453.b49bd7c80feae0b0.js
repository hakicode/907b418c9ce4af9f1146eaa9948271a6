(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5453],{1814:(De,Qt,b)=>{"use strict";b.d(Qt,{In:()=>st,MA:()=>U,Mo:()=>ot,NV:()=>L,S3:()=>D,dt:()=>G,h8:()=>_,k0:()=>O});const D={fill:"transparent",stroke:"#129bff",strokeWidth:1},L={stroke:"#5F6CE1",strokeWidth:1,strokeLinecap:"round",strokeDasharrays:[4,2,1,2]},st={fill:"#FFFFFF",stroke:"#5F6CE1",strokeWidth:1,width:7,height:7},ot={fill:"transparent",stroke:"transparent",strokeWidth:1},G={fill:"none",stroke:"#5F6CE1",strokeWidth:1},_={stroke:"#129bff",strokeWidth:1,strokeLinecap:"round",strokeDasharray:8},U={fill:"transparent"},O={fill:"none",stroke:"#999",strokeWidth:1,strokeDasharray:2}},644:(De,Qt,b)=>{"use strict";b.d(Qt,{Dx:()=>G,aY:()=>O,qp:()=>U,qz:()=>ot,sV:()=>_,yR:()=>B});var D=b(5861),L=b(2014);const st=new L.K({name:"_localDataDB",driverOrder:[L.N.IndexedDB,L.N.LocalStorage]}),ot=function(){var k=(0,D.Z)(function*(R){yield st.create();var lt=(yield st.get("icdt-data"))||[];"function"==typeof R.callback&&R.callback(lt)});return function(lt){return k.apply(this,arguments)}}(),G=function(){var k=(0,D.Z)(function*(R){yield st.create(),R.params=R.params||{};try{yield st.set("icdt-data",R.params),"function"==typeof R.callback&&R.callback(R.params)}catch(lt){"function"==typeof R.callback&&R.callback(null),console.error(lt)}});return function(lt){return k.apply(this,arguments)}}(),_=function(){var k=(0,D.Z)(function*(R){yield st.create();try{var lt=(yield st.get("icdt-config"))||{};"function"==typeof R.callback&&R.callback(lt)}catch(xt){"function"==typeof R.callback&&R.callback(null),console.error(xt)}});return function(lt){return k.apply(this,arguments)}}(),U=function(){var k=(0,D.Z)(function*(R){yield st.create(),R.params=R.params||{};try{yield st.set("icdt-config",R.params),"function"==typeof R.callback&&R.callback(R.params)}catch(lt){"function"==typeof R.callback&&R.callback(null),console.error(lt)}});return function(lt){return k.apply(this,arguments)}}(),O=function(){var k=(0,D.Z)(function*(R){yield st.create();try{var lt=(yield st.get("icdt-clipboard"))||{};"function"==typeof R.callback&&R.callback(lt)}catch(xt){"function"==typeof R.callback&&R.callback(null),console.error(xt)}});return function(lt){return k.apply(this,arguments)}}(),B=function(){var k=(0,D.Z)(function*(R){yield st.create(),R.params=R.params||{};try{yield st.set("icdt-clipboard",R.params),"function"==typeof R.callback&&R.callback(R.params)}catch(lt){"function"==typeof R.callback&&R.callback(null),console.error(lt)}});return function(lt){return k.apply(this,arguments)}}()},1687:(De,Qt,b)=>{"use strict";b.d(Qt,{O:()=>D});const D={RESIZE_GROUP:"icdt-resize-g",SELECT_GROUP:"icdt-select-g",SCAN_GROUP:"icdt-scan-g",CREATE_GROUP:"icdt-create-g",INTERACTIVE_GROUP:"icdt-interactive-g",INDEX_GROUP:"icdt-index-g",BACKGROUND_GROUP:"icdt-background-g",TEST_GROUP:"icdt-test-g"}},9125:(De,Qt,b)=>{"use strict";b.d(Qt,{D:()=>D});const D={DRAW:1,HIGHTLIGH:2,INTERACTIVE:3}},968:(De,Qt,b)=>{"use strict";b.d(Qt,{_:()=>D});const D={POINTER:0,HAND:1,PEN:2,SHAPE:3,FOREIGNOBJECT:6,IMAGE:7,TEXT:4,ERASER:5,INDEX:8}},4714:(De,Qt,b)=>{"use strict";b.d(Qt,{D:()=>D});const D={TRIANGLE_ISOSCELES:3,TRIANGLE_EQUILATERAL:31,RECTANGLE:4,PENTAGON:5,HEXAGON:6,BOOKMARK:101,COMMENT:102,CROSS:104,ARROW_ONEWAY:201,ARROW_TWOWAY:202,STAR_FOUR:304,STAR_FIVE:305,STAR_SIX:306}},9054:(De,Qt,b)=>{"use strict";b.d(Qt,{$:()=>D});const D={GROUP:0,CIRCLE:1,ELLIPSE:2,LINE:5,RECT:3,POLYGON:4,FOREIGNOBJECT:6,IMAGE:9,TEXT:7,PATH:8}},4981:(De,Qt,b)=>{"use strict";b.d(Qt,{icdt:()=>Bt});var D=b(2276),L=b(968),st=b(4080),ot=b(1687),G=b(9054),_=b(4318),U=b(6816),O=b(666),B=b(2966);const lt=H=>{var l,d,s;let f=(null===(l=H.mouseEvent)||void 0===l?void 0:l.target)||(null===(d=H.touchEvent)||void 0===d?void 0:d.target),p=(null==f?void 0:f.getAttribute("id"))||"",C=null==f?void 0:f.nodeName,I=(null==f||null===(s=f.parentNode)||void 0===s?void 0:s.getAttribute("id"))||"";var M,Z;if([ot.O.RESIZE_GROUP,ot.O.SELECT_GROUP].includes(I))return null===(M=H.mouseEvent)||void 0===M||M.stopPropagation(),void(null===(Z=H.mouseEvent)||void 0===Z||Z.preventDefault());if(p&&!p.match(/[^0-9]/)&&Bt.dataSelect.nodeName.includes(C)){var q,J;let ut=parseFloat(p||"0");Bt.dataSelect.ids=null!==(q=H.mouseEvent)&&void 0!==q&&q.shiftKey||null!==(J=H.touchEvent)&&void 0!==J&&J.shiftKey?[ut].concat(Bt.dataSelect.ids).filter((yt,de,me)=>me.indexOf(yt)==de):[ut];let pt=Bt.dataSelect.nodes;pt.length>1||1==pt.length&&pt[0].type==G.$.PATH?(0,B.Q)(pt):1==pt.length&&(0,O.y)(pt[0])}else{var A;Bt.dataSelect.ids.length&&(Bt.dataSelect.ids=[]),(0==(null===(A=H.mouseEvent)||void 0===A?void 0:A.button)||H.touchEvent)&&(H=>{let p=(0,st.g1)(ot.O.SCAN_GROUP,"g"),C=(0,_.bH)(0,0,1,1);(0,st.vl)(p,C),((H,l,d)=>{(0,U.A)(H,{start:p=>{},move:(p,C)=>{((p,C,I,M)=>{l=(0,_.bH)(p,C,I,M),(0,st.vl)(d,l)})(C[0][0],C[0][1],p.x,p.y)},end:(p,C)=>{null==d||d.remove(),Bt.dataSelect.ids=Bt.data.getNodeInArea(Math.min(C[0][0],p.x),Math.min(C[0][1],p.y),Math.max(C[0][0],p.x),Math.max(C[0][1],p.y));let I=Bt.dataSelect.nodes;1==I.length?(0,O.y)(I[0]):I.length>1&&(0,B.Q)(I)}})})(H,C,p)})(H)}};class et{constructor(){var l=Bt.screen.position,d=(s,f,p,C)=>{Bt.screen.positionTo={x:l.x+(p-s),y:l.y+(C-f)}};return{start:s=>{},move:(s,f)=>{d(f[0][0],f[0][1],s.x,s.y)},end:(s,f)=>{d(f[0][0],f[0][1],s.x,s.y)}}}}var j=b(4714);const tt=[{name:"tam gi\xe1c vu\xf4ng",type:j.D.TRIANGLE_ISOSCELES,ratios:[[0,0],[1,1],[0,1]]},{name:"tam gi\xe1c c\xe2n",type:j.D.TRIANGLE_EQUILATERAL,ratios:[[.5,0],[0,1],[1,1]]},{name:"h\xecnh ch\u1eef nh\u1eadt",type:j.D.RECTANGLE,ratios:[[0,0],[1,0],[1,1],[0,1]]},{name:"h\xecnh ng\u0169 gi\xe1c \u0111\u1ec1u",type:j.D.PENTAGON,ratios:[[.5,0],[1,.4],[.8,1],[.2,1],[0,.4]]},{name:"h\xecnh l\u1ee5c gi\xe1c \u0111\u1ec1u",type:j.D.HEXAGON,ratios:[[.5,0],[1,.25],[1,.75],[.5,1],[0,.75],[0,.25]]},{name:"khung \u0111\xe1nh d\u1ea5u v\u1ecb tr\xed",type:j.D.BOOKMARK,ratios:[[0,0],[1,0],[1,.8],[.5,1],[0,.8]]},{name:"khung \u0111\xe1nh tr\xf2 chuy\u1ec7n",type:j.D.COMMENT,ratios:[[0,0],[1,0],[1,.9],[.3,.9],[.2,1],[.1,.9],[0,.9]]},{name:"h\xecnh ch\u1eef th\u1eadp",type:j.D.CROSS,ratios:[[0,.3],[.3,.3],[.3,0],[.7,0],[.7,.3],[1,.3],[1,.7],[.7,.7],[.7,1],[.3,1],[.3,.7],[0,.7]]},{name:"h\xecnh m\u0169i t\xean 1 chi\u1ec1u",type:j.D.ARROW_ONEWAY,ratios:[[0,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[0,.8]]},{name:"h\xecnh m\u0169i t\xean 2 chi\u1ec1u",type:j.D.ARROW_TWOWAY,ratios:[[.2,0],[.2,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[.2,.8],[.2,1],[0,.5]]},{name:"h\xecnh ng\xf4i sao 4 c\xe1nh",type:j.D.STAR_FOUR,ratios:[[.5,0],[.65,.35],[1,.5],[.65,.65],[.5,1],[.35,.65],[0,.5],[.35,.35]]},{name:"h\xecnh ng\xf4i sao 5 c\xe1nh",type:j.D.STAR_FIVE,ratios:[[.5,0],[.625,.4],[1,.4],[.675,.625],[.8,1],[.5,.775],[.2,1],[.325,.625],[0,.4],[.375,.4]]},{name:"h\xecnh ng\xf4i sao 6 c\xe1nh",type:j.D.STAR_SIX,ratios:[[.5,0],[.667,.25],[1,.25],[.5+.334,.5],[1,.75],[.667,.75],[.5,1],[.334,.75],[0,.75],[.167,.5],[0,.25],[.334,.25]]}];var it=b(8619),w=b(5811);class Ot{constructor(){let l=(0,st.g1)(ot.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,it._)(Math.ceil(1e9*Math.random())),C=(I,M,Z,A)=>{p=(0,_.bH)(I,M,Z,A,{ratio:1}),p.x=(0,w.q)(p.x),p.y=(0,w.q)(p.y),p.width=(0,w.q)(p.width),p.height=(0,w.q)(p.height),Object.assign(f,(0,_.sg)(G.$.CIRCLE,p)),(0,st.__)(s,f),(0,st.g$)(l,p)};return{start:I=>{s.setAttribute("cx",I.x.toString()),s.setAttribute("cy",I.y.toString()),s.setAttribute("r","1")},move:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y)},end:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y),Bt.data.node=Object.assign({id:d,type:G.$.CIRCLE,name:"Circle"},{size:p,attribute:f}),null==l||l.remove()}}}}var It=b(8785);class Et{constructor(){let l=(0,st.g1)(ot.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,It.r)(Math.ceil(1e9*Math.random()));var C=(I,M,Z,A)=>{p=(0,_.bH)(I,M,Z,A),p.x=(0,w.q)(p.x),p.y=(0,w.q)(p.y),p.width=(0,w.q)(p.width),p.height=(0,w.q)(p.height),Object.assign(f,(0,_.sg)(G.$.ELLIPSE,p)),(0,st.__)(s,f),(0,st.g$)(l,p)};return{start:I=>{s.setAttribute("cx",I.x.toString()),s.setAttribute("cy",I.y.toString()),s.setAttribute("rx","1"),s.setAttribute("ry","1")},move:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y)},end:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y),Bt.data.node=Object.assign({id:d,type:G.$.ELLIPSE,name:"Ellipse"},{size:p,attribute:f}),null==l||l.remove()}}}}var Y=b(8054);class Ct{constructor(){let l=(0,st.g1)(ot.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,Y.f)(Math.ceil(1e9*Math.random()));var C=(I,M,Z,A)=>{p=(0,_.bH)(I,M,Z,A),p.x=(0,w.q)(p.x),p.y=(0,w.q)(p.y),p.width=(0,w.q)(p.width),p.height=(0,w.q)(p.height),Object.assign(f,(0,_.sg)(G.$.RECT,p)),(0,st.__)(s,f),(0,st.g$)(l,p)};return{start:I=>{C(I.x,I.y,I.x+p.width,I.y+p.height)},move:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y)},end:(I,M)=>{p.width>=10&&p.height>=10?Bt.data.node=Object.assign({id:d,type:G.$.RECT,name:"Rect"},{size:p,attribute:f}):null==s||s.remove(),null==l||l.remove()}}}}var a=b(2282);class te{constructor(l){let d=(0,st.g1)(ot.O.CREATE_GROUP,"g"),s=l||[[0,0],[1,1],[0,1]],{nodeId:f,element:p,attribute:C,size:I}=(0,a.l)(Math.ceil(1e9*Math.random()));I.ratios=s;var M=(Z,A,q,J)=>{I=(0,_.bH)(Z,A,q,J,{ratios:s}),I.x=(0,w.q)(I.x),I.y=(0,w.q)(I.y),I.width=(0,w.q)(I.width),I.height=(0,w.q)(I.height),Object.assign(C,(0,_.sg)(G.$.POLYGON,I)),(0,st.__)(p,C),(0,st.g$)(d,I)};return{start:Z=>{},move:(Z,A)=>{M(A[0][0],A[0][1],Z.x,Z.y)},end:(Z,A)=>{M(A[0][0],A[0][1],Z.x,Z.y),Bt.data.node=Object.assign({id:f,type:G.$.POLYGON,name:"Polygon"},{size:I,attribute:C}),null==d||d.remove()}}}}var zt=b(4921);class Xt{constructor(){let l=(0,st.g1)(ot.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p}=(0,zt.W)(Math.ceil(1e9*Math.random()));var C=(I,M,Z,A)=>{p=(0,_.bH)(I,M,Z,A),p.x=(0,w.q)(p.x),p.y=(0,w.q)(p.y),p.width=(0,w.q)(p.width),p.height=(0,w.q)(p.height),Object.assign(f,(0,_.sg)(G.$.LINE,p)),(0,st.__)(s,f),(0,st.g$)(l,p)};return{start:I=>{},move:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y)},end:(I,M)=>{C(M[0][0],M[0][1],I.x,I.y),Bt.data.node=Object.assign({id:d,type:G.$.LINE,name:"Line"},{size:p,attribute:f}),null==l||l.remove()}}}}var Ht=b(8419);class Ie{constructor(){let{nodeId:l,element:d,attribute:s,size:f}=(0,Ht.G)(Math.ceil(1e9*Math.random())),C="";var I=(M,Z)=>{C+=` ${M} ${Z}`,d.setAttribute("d",C)};return{start:M=>{C=`M ${M.x} ${M.y} L ${M.x} ${M.y}`},move:(M,Z)=>{I(M.x,M.y)},end:(M,Z)=>{I(M.x,M.y),(M=>{let Z=9999,A=9999,q=-9999,J=-9999;M.forEach(ut=>{Z=Math.min(Z,ut[0]),A=Math.min(A,ut[1]),q=Math.max(q,ut[0]),J=Math.max(J,ut[1])}),f=(0,_.bH)(Z,A,q,J,{points:M}),Object.assign(s,(0,_.sg)(G.$.PATH,f)),(0,st.__)(d,s)})(Z),Bt.data.node=Object.assign({id:l,type:G.$.PATH,name:"Path"},{size:f,attribute:s})}}}}var W=b(2875);class Wt{constructor(){let l=(0,st.g1)(ot.O.CREATE_GROUP,"g"),{nodeId:d,element:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()));var M=(Z,A,q,J)=>{f=(0,_.bH)(Z,A,q,J),f.x=(0,w.q)(f.x),f.y=(0,w.q)(f.y),f.width=(0,w.q)(f.width),f.height=(0,w.q)(f.height),Object.assign(p,(0,_.sg)(G.$.FOREIGNOBJECT,f)),(0,st.__)(s,p),(0,st.g$)(l,f)};return{start:Z=>{M(Z.x,Z.y,Z.x+f.width,Z.y+f.height)},move:(Z,A)=>{M(A[0][0],A[0][1],Z.x,Z.y)},end:(Z,A)=>{f.width>=10&&f.height>=10?Bt.data.node=Object.assign({id:d,type:G.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I}):null==s||s.remove(),null==l||l.remove()}}}}var $t=b(7210);class Ut{constructor(){var l,d;let s=(0,st.g1)(ot.O.CREATE_GROUP,"g"),{nodeId:f,element:p,size:C,attribute:I,source:M}=(0,$t.G)(Math.ceil(1e9*Math.random())),Z=1;(q=>{if(!q)return;let J=new Image;J.onload=()=>{Z=(0,w.q)(J.naturalWidth/J.naturalHeight,100)},J.onerror=ut=>{console.error(`ImgSrc load failed -> ${q}`,ut)},J.src=q})(null!==(l=null===(d=M.image)||void 0===d?void 0:d.url)&&void 0!==l?l:"");var A=(q,J,ut,pt)=>{C=(0,_.bH)(q,J,ut,pt,{ratio:Z}),C.x=(0,w.q)(C.x),C.y=(0,w.q)(C.y),C.width=(0,w.q)(C.width),C.height=(0,w.q)(C.height),Object.assign(I,(0,_.sg)(G.$.IMAGE,C)),(0,st.__)(p,I),(0,st.g$)(s,C)};return{start:q=>{A(q.x,q.y,q.x+C.width,q.y+C.height)},move:(q,J)=>{A(J[0][0],J[0][1],q.x,q.y)},end:(q,J)=>{C.width>=10&&C.height>=10?Bt.data.node=Object.assign({id:f,type:G.$.IMAGE,name:"Image"},{size:C,attribute:I,source:M}):null==p||p.remove(),null==s||s.remove()}}}}var Oe=b(4578),Se=b(9623);function y(H,l,d,s){return Math.sqrt(Math.pow(d-H,2)+Math.pow(s-l,2))}function rt(H,l,d,s,f){return y(H,l,d,s)<f?1:0}function Lt(H,l,d,s,f,p,C){var I=[];return I.push(rt(H,l,d,s,C)),I.push(rt(H,l,f,p,C)),I.push(function Mt(H,l,d,s,f,p,C){var I=[f-d,p-s],M=[H-d,l-s],Z=[-I[1],I[0]],A=Math.sqrt(Math.pow(Z[0],2)+Math.pow(Z[1],2)),q=[Z[0]/A,Z[1]/A],J=Math.sqrt(Math.pow(I[0],2)+Math.pow(I[1],2)),ut=[I[0]/J,I[1]/J],pt=M[0]*ut[0]+M[1]*ut[1];if(pt<=0||pt>=J)return 0;var yt=M[0]*q[0]+M[1]*q[1];return yt>=C||yt<=-C?0:1}(H,l,d,s,f,p,C)),I}function ee(H,l,d,s,f){var p=[d-H,s-l],C=[-p[1],p[0]],I=Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2)),M=[C[0]/I,C[1]/I];return[[H+f*M[0],l+f*M[1]],[H-f*M[0],l-f*M[1]],[d-f*M[0],s-f*M[1]],[d+f*M[0],s+f*M[1]]]}function ce(H,l,d,s,f,p,C){var pt,I=[f-H,p-l],M=[d-H,s-l],Z=Math.sqrt(Math.pow(M[0],2)+Math.pow(M[1],2)),A=[M[0]/Z,M[1]/Z],q=I[0]*A[0]+I[1]*A[1],J=[H+q*A[0],l+q*A[1]],ut=Math.sqrt(Math.pow(f-J[0],2)+Math.pow(p-J[1],2));pt=0===ut?C:Math.sqrt(Math.pow(C,2)-Math.pow(ut,2));var yt=[H+q*A[0]+pt*A[0],l+q*A[1]+pt*A[1]];return yt[0]===H&&yt[1]===l?null:yt}function jt(H,l,d,s,f,p,C){var I=[f-H,p-l],M=[d-H,s-l],Z=[-M[1],M[0]],A=Math.sqrt(Math.pow(Z[0],2)+Math.pow(Z[1],2)),q=[Z[0]/A,Z[1]/A],J=I[0]*q[0]+I[1]*q[1],ut=je([H,l],[d,s],[f,p]);if(Ne([ut[0]-f,ut[1]-p])>=C)return null;var yt=Math.sqrt(Math.pow(C,2)-Math.pow(J,2)),de=[f-J*q[0],p-J*q[1]],me=Math.sqrt(Math.pow(M[0],2)+Math.pow(M[1],2)),ei=[M[0]/me,M[1]/me],Je=[[de[0]-ei[0]*yt,de[1]-ei[1]*yt],[de[0]+ei[0]*yt,de[1]+ei[1]*yt]];return Je[0][0]===H&&Je[0][1]===l?null:Je}function Pt(H,l,d,s,f,p,C,I){var M,Z,A,q,J,ut;return-(A=C-f)*(Z=s-l)+(M=d-H)*(q=I-p)==0?null:(ut=(A*(l-p)-q*(H-f))/(-A*Z+M*q),(J=(-Z*(H-f)+M*(l-p))/(-A*Z+M*q))>=0&&J<=1&&ut>=0&&ut<=1?[H+ut*M,l+ut*Z]:null)}function ue(H,l,d,s,f,p,C,I,M,Z){var A=ee(p,C,I,M,Z),q=[];if(d[0]&&!d[1])q.push(ce(H,l,s,f,p,C,Z)),q.push(Pt(H,l,s,f,A[0][0],A[0][1],A[3][0],A[3][1])),q.push(Pt(H,l,s,f,A[1][0],A[1][1],A[2][0],A[2][1])),(J=jt(H,l,s,f,I,M,Z))&&q.push(J[0],J[1]);else if(!d[0]&&d[1])q.push(ce(H,l,s,f,I,M,Z)),q.push(Pt(H,l,s,f,A[0][0],A[0][1],A[3][0],A[3][1])),q.push(Pt(H,l,s,f,A[1][0],A[1][1],A[2][0],A[2][1])),(J=jt(H,l,s,f,p,C,Z))&&q.push(J[0],J[1]);else if(d[0]&&d[1])q.push(ce(H,l,s,f,p,C,Z)),q.push(Pt(H,l,s,f,A[0][0],A[0][1],A[3][0],A[3][1])),q.push(Pt(H,l,s,f,A[1][0],A[1][1],A[2][0],A[2][1])),q.push(ce(H,l,s,f,I,M,Z));else{var J=jt(H,l,s,f,I,M,Z),ut=jt(H,l,s,f,p,C,Z);J&&q.push(J[0],J[1]),ut&&q.push(ut[0],ut[1]),q.push(Pt(H,l,s,f,A[0][0],A[0][1],A[3][0],A[3][1])),q.push(Pt(H,l,s,f,A[1][0],A[1][1],A[2][0],A[2][1]))}for(var pt=[H,l],yt=0;yt<q.length;yt++)q[yt]&&y(q[yt][0],q[yt][1],s,f)<y(pt[0],pt[1],s,f)&&(pt=q[yt]);return pt[0]===H&&pt[1]===l?null:pt}function We(H,l,d,s,f,p,C,I,M){var Z=ee(f,p,C,I,M),A=[],q=jt(H,l,d,s,f,p,M);q&&A.push(q[0],q[1]),(q=jt(H,l,d,s,C,I,M))&&A.push(q[0],q[1]),A.push(Pt(H,l,d,s,Z[0][0],Z[0][1],Z[3][0],Z[3][1])),A.push(Pt(H,l,d,s,Z[1][0],Z[1][1],Z[2][0],Z[2][1]));for(var J=[d,s],ut=[H,l],pt=0;pt<A.length;pt++)A[pt]&&y(A[pt][0],A[pt][1],H,l)<y(J[0],J[1],H,l)&&(J=A[pt]);for(var yt=0;yt<A.length;yt++)A[yt]&&y(A[yt][0],A[yt][1],d,s)<y(ut[0],ut[1],d,s)&&(ut=A[yt]);return J[0]===d&&J[1]===s||ut[0]===H&&ut[1]===l?null:[J,ut]}var Ne=function(H){return Math.sqrt(H[0]*H[0]+H[1]*H[1])},je=function(H,l,d){var s=[l[0]-H[0],l[1]-H[1]],f=Ne(s);if(f<1e-6)return H;var p=[d[0]-H[0],d[1]-H[1]],C=(s[0]*p[0]+s[1]*p[1])/f;return C<0?H:C>f?l:[H[0]+s[0]*C/f,H[1]+s[1]*C/f]};class mt{constructor(){let{element:s,size:p}=(0,Ht.G)(Math.ceil(1e9*Math.random()));(0,st.__)(s,{stroke:"#ddd",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"});let C="";return{start:Z=>{C=`M ${Z.x} ${Z.y} L ${Z.x} ${Z.y}`},move:(Z,A)=>{((Z,A)=>{C+=` ${Z} ${A}`,s.setAttribute("d",C)})(Z.x,Z.y)},end:(Z,A)=>{s.remove(),(Z=>{let A=9999,q=9999,J=-9999,ut=-9999;Z.forEach(yt=>{A=Math.min(A,yt[0]),q=Math.min(q,yt[1]),J=Math.max(J,yt[0]),ut=Math.max(ut,yt[1])}),p=(0,_.bH)(A,q,J,ut,{points:Z}),Bt.data.getNodeInArea(0,0,1920,1920,G.$.PATH).forEach(yt=>{let me=((H,l,d)=>{d=d||20;var s=[],f=function(A){var q=l[0][0],J=l[0][1],ut=0,pt=0;if(1!==A.length||rt(A[0][0],A[0][1],q,J,d)){for(var yt;ut<A.length-1;){var de=A[ut],me=A[ut+1],ei=rt(de[0],de[1],q,J,d),Je=rt(me[0],me[1],q,J,d);if(ei&&Je)pt=++ut;else if(ei&&!Je)(Ze=ce(de[0],de[1],me[0],me[1],q,J,d))?(A[ut]=Ze,pt=ut):ut++;else if(!ei&&Je){var Ze;(Ze=ce(me[0],me[1],de[0],de[1],q,J,d))&&((yt=A.slice(pt,ut+1)).push(Ze),s.push(yt)),pt=++ut}else{var qe=jt(de[0],de[1],me[0],me[1],q,J,d);qe?(((yt=A.slice(pt,ut+1))[yt.length-1][0]!==qe[0][0]||yt[yt.length-1][1]!==qe[0][1])&&yt.push(qe[0]),yt.length>1&&s.push(yt),A[ut]=qe[1],A[ut+1]&&A[ut+1][0]==qe[1][0]&&A[ut+1][1]==qe[1][1]&&ut++,pt=ut):ut++}}pt!==ut&&(yt=A.slice(pt,A.length))&&s.push(yt)}else s.push(A)},p=function(A,q){var me,J=l[q],ut=l[q+1],pt=0,yt=0;if(1!==A.length||-1!==(de=Lt(A[0][0],A[0][1],J[0],J[1],ut[0],ut[1],d)).indexOf(1)){for(;pt<A.length-1;){var ei=A[pt],Je=A[pt+1],de=Lt(ei[0],ei[1],J[0],J[1],ut[0],ut[1],d),Ze=Lt(Je[0],Je[1],J[0],J[1],ut[0],ut[1],d);if(-1!==de.indexOf(1)&&-1!==Ze.indexOf(1))yt=++pt;else if(-1!==de.indexOf(1)&&-1===Ze.indexOf(1))(qe=ue(ei[0],ei[1],de,Je[0],Je[1],J[0],J[1],ut[0],ut[1],d))?(A[pt]=qe,yt=pt):pt++;else if(-1===de.indexOf(1)&&-1!==Ze.indexOf(1)){var qe;(qe=ue(Je[0],Je[1],Ze,ei[0],ei[1],J[0],J[1],ut[0],ut[1],d))?((me=A.slice(yt,pt+1)).push(qe),s.push(me),yt=++pt):pt++}else{var ai=We(ei[0],ei[1],Je[0],Je[1],J[0],J[1],ut[0],ut[1],d);ai?(((me=A.slice(yt,pt+1))[me.length-1][0]!==ai[0][0]||me[me.length-1][1]!==ai[0][1])&&me.push(ai[0]),me.length>1&&s.push(me),A[pt]=ai[1],A[pt+1]&&A[pt+1][0]==ai[1][0]&&A[pt+1][1]==ai[1][1]&&pt++,yt=pt):pt++}}yt!==pt&&(me=A.slice(yt,A.length))&&s.push(me)}else s.push(A)};if(l=function dt(H){var l=[];if(1===H.length)l=H;else{for(var d=0;d<H.length-1;)(H[d][0]!==H[d+1][0]||H[d][1]!==H[d+1][1])&&l.push(H[d]),d++;0!==H.length&&0===l.length&&l.push(H[0]),(H[H.length-1][0]!==H[l.length-1][0]||H[H.length-1][1]!==H[l.length-1][1])&&l.push(H[d])}return l}(l),1===l.length){for(var C=0;C<H.length;C++)f(H[C]);H=s}else for(var I=0;I<l.length-1;I++){for(C=0;C<H.length;C++)p(H[C],I);H=s,s=[]}for(var M=0;M<H.length;M++)for(var Z=0;Z<H[M].length;Z++)H[M][Z][0]=Math.round(H[M][Z][0]),H[M][Z][1]=Math.round(H[M][Z][1]);return H})(Bt.data.getNode(yt).size.points,Z,2);console.log(me)})})(A)}}}}var ft=b(1105);class St{constructor(){let l=(0,st.g1)(ot.O.CREATE_GROUP,"g"),{nodeId:d,element:s,attribute:f,size:p,source:C}=(0,ft.$)(Math.ceil(1e9*Math.random())),I=(M,Z,A,q)=>{p=(0,_.bH)(M,Z,A,q),p.x=(0,w.q)(p.x),p.y=(0,w.q)(p.y),p.width=(0,w.q)(p.width),p.height=(0,w.q)(p.height),Object.assign(f,(0,_.sg)(G.$.TEXT,p)),(0,st.__)(s,f),(0,st.g$)(l,p)};return{start:M=>{I(M.x,M.y,M.x+p.width,M.y+p.height)},move:(M,Z)=>{I(Z[0][0],Z[0][1],M.x,M.y)},end:(M,Z)=>{p.width>=10&&p.height>=10?Bt.data.node=Object.assign({id:d,type:G.$.TEXT,name:"Text"},{size:p,attribute:f,source:C}):null==s||s.remove(),null==l||l.remove()}}}}var ct=b(4113),Dt=b(9125);var vt=b(6358);class Jt{constructor(){this._nodeName=["circle","ellipse","line","polygon","rect","text","path","foreignObject","image"],this._selected_Ids=[],this._fnChanges=[]}get nodeName(){return this._nodeName}get ids(){return this._selected_Ids}set ids(l){this._selected_Ids=l,this.change(this.ids)}get nodes(){return this._selected_Ids.map(l=>Bt.data.getNode(l)).filter(l=>!l.isfake)}set onchange(l){this._fnChanges.push(l)}change(l){var d,s,f,p,C;null===(d=window.document.getElementById(ot.O.RESIZE_GROUP))||void 0===d||d.remove(),null===(s=window.document.getElementById(ot.O.SELECT_GROUP))||void 0===s||s.remove(),null===(f=window.document.getElementById(ot.O.SCAN_GROUP))||void 0===f||f.remove(),null===(p=window.document.getElementById(ot.O.CREATE_GROUP))||void 0===p||p.remove(),null===(C=window.document.getElementById(ot.O.INTERACTIVE_GROUP))||void 0===C||C.remove(),$('[id^="icdt-temp-"]').remove(),this._fnChanges.forEach(I=>I(l))}deleteNode(){for(let l of this._selected_Ids){let d=Bt.data.deleteNode(l);Bt.history.push([{type:"delete",from:{id:d},to:{id:d}}])}Bt.dataSelect.ids=[]}groupNode(){let l=[];if(Bt.dataSelect.ids.length>=2){let d=Bt.data.getNode(Bt.dataSelect.ids[0]),{nodeId:s,attribute:f,size:p}=(0,vt.m)(Math.ceil(1e9*Math.random()),void 0,d.pid);Bt.data.node=Object.assign({id:s,type:G.$.GROUP,name:"G"},{size:p,attribute:f});for(let C of Bt.dataSelect.ids)l.push(Bt.data.addGroup(C,s))}if(l.length){Bt.dataSelect.ids=l;let d=Bt.dataSelect.nodes;1==d.length?(0,O.y)(d[0]):d.length>1&&(0,B.Q)(d)}}ungroupNode(){let l=[];for(let d of Bt.dataSelect.ids)l.push(Bt.data.unGroup(d));if(l.length){Bt.dataSelect.ids=l;let d=Bt.dataSelect.nodes;1==d.length?(0,O.y)(d[0]):d.length>1&&(0,B.Q)(d)}}}var ae=b(6623);class Te{createNodeImage(l){var d,s;let{nodeId:f,element:p,size:C,attribute:I,source:M}=(0,$t.G)(Math.ceil(1e9*Math.random()),{source:{type:"image",image:(0,ae.I)(l)}}),Z=1;(J=>{if(!J)return;let ut=new Image;ut.onload=()=>{var pt;Z=(0,w.q)(ut.naturalHeight/ut.naturalWidth,100);let yt=(null===(pt=Bt.data.slide)||void 0===pt||null===(pt=pt.svg)||void 0===pt?void 0:pt.viewBox)||{x:0,y:0,width:100,height:100};((J,ut,pt,yt)=>{C=(0,_.bH)(J,ut,pt,yt,{ratio:Z}),Object.assign(I,(0,_.sg)(G.$.IMAGE,C)),(0,st.__)(p,I)})(yt.width/2-ut.naturalWidth/2,yt.height/2-ut.naturalHeight/2,yt.width/2+ut.naturalWidth/2,yt.height/2+ut.naturalHeight/2),Bt.data.node=Object.assign({id:f,type:G.$.IMAGE,name:"Image"},{size:C,attribute:I,source:M})},ut.onerror=pt=>{console.error(`ImgSrc load failed -> ${J}`,pt)},ut.src=J})(null!==(d=null===(s=M.image)||void 0===s?void 0:s.url)&&void 0!==d?d:"")}createNodeIframe(l){let{nodeId:d,element:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()),{style:{},source:{type:"iframe",iframe:(0,ae.I)(l)}});(A=>{let q=(null===(A=Bt.data.slide)||void 0===A||null===(A=A.svg)||void 0===A?void 0:A.viewBox)||{x:0,y:0,width:100,height:100};((A,q,J,ut)=>{f=(0,_.bH)(A,q,J,ut),Object.assign(p,(0,_.sg)(G.$.IMAGE,f)),(0,st.__)(s,p)})(q.width/2-f.width/2,q.height/2-f.height/2,q.width/2+f.width/2,q.height/2+f.height/2),Bt.data.node=Object.assign({id:d,type:G.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I})})()}createNodeEmbed(l){let{nodeId:d,element:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()),{size:{x:0,y:0,width:640,height:360},style:{},source:{type:"embed",embed:Object.assign(l,(0,ae.I)(l))}});(A=>{let q=(null===(A=Bt.data.slide)||void 0===A||null===(A=A.svg)||void 0===A?void 0:A.viewBox)||{x:0,y:0,width:100,height:100};((A,q,J,ut)=>{f=(0,_.bH)(A,q,J,ut),Object.assign(p,(0,_.sg)(G.$.IMAGE,f)),(0,st.__)(s,p)})(q.width/2-f.width/2,q.height/2-f.height/2,q.width/2+f.width/2,q.height/2+f.height/2),Bt.data.node=Object.assign({id:d,type:G.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I})})()}createNodeMedia(l){var d,s;let{nodeId:f,element:p,size:C,attribute:I,source:M}=(0,$t.G)(Math.ceil(1e9*Math.random()),{source:{type:"image",image:(0,ae.I)(l.cover)}}),Z={click:{media:l.media}},A=1;(ut=>{if(!ut)return;let pt=new Image;pt.onload=()=>{var yt;A=(0,w.q)(pt.naturalHeight/pt.naturalWidth,100);let de=(null===(yt=Bt.data.slide)||void 0===yt||null===(yt=yt.svg)||void 0===yt?void 0:yt.viewBox)||{x:0,y:0,width:100,height:100};((ut,pt,yt,de)=>{C=(0,_.bH)(ut,pt,yt,de,{ratio:A}),Object.assign(I,(0,_.sg)(G.$.IMAGE,C)),(0,st.__)(p,I)})(de.width/2-pt.naturalWidth/2,de.height/2-pt.naturalHeight/2,de.width/2+pt.naturalWidth/2,de.height/2+pt.naturalHeight/2),Bt.data.node=Object.assign({id:f,type:G.$.IMAGE,name:"Image"},{size:C,attribute:I,source:M,interactive:Z})},pt.onerror=yt=>{console.error(`ImgSrc load failed -> ${ut}`,yt)},pt.src=ut})(null!==(d=null===(s=M.image)||void 0===s?void 0:s.url)&&void 0!==d?d:"")}insert(l){var d;if(Bt.data.insertSlide(Bt.data.slideId,1),l.title){let{nodeId:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()),{size:{x:100,y:100,width:800,height:150},source:{type:"html",html:{htmlContent:`<span style="font-size: 40px;">${l.title}</span>`}}});Bt.data.node=Object.assign({id:s,type:G.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I})}if(l.description){let{nodeId:s,size:f,attribute:p,style:C,source:I}=(0,W.e)(Math.ceil(1e9*Math.random()),{size:{x:100,y:300,width:600,height:300},source:{type:"html",html:{htmlContent:`<span style="font-size: 24px;">${l.description.replace(/\n/g,"<br/>")}</span>`}}});Bt.data.node=Object.assign({id:s,type:G.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:C,source:I})}null!==(d=l.media)&&void 0!==d&&d.prompt&&((()=>{let{nodeId:s,size:f,attribute:p}=(0,Y.f)(Math.ceil(1e9*Math.random()),{size:{x:775,y:275,width:350,height:350},attribute:{fill:"#FFFFFF",stroke:"#E6E6E6",strokeWidth:1,strokeDasharray:1,rx:4}});Bt.data.node=Object.assign({id:s,type:G.$.RECT,name:"Rect"},{size:f,attribute:p})})(),(s=>{let{nodeId:f,size:p,attribute:C,style:I,source:M}=(0,W.e)(Math.ceil(1e9*Math.random()),{size:{x:800,y:300,width:300,height:300},source:{type:"html",html:{htmlContent:`<span style="font-size: 18px; color: #6633cc"><i>${null===(s=l.media)||void 0===s?void 0:s.prompt}</i></span>`}}});Bt.data.node=Object.assign({id:f,type:G.$.FOREIGNOBJECT,name:"ForeignObject"},{size:p,attribute:C,style:I,source:M})})())}}var re=b(5226);class pe{get newSlideId(){return Math.ceil(1e9*Math.random())}get _defaultSlide(){return JSON.parse(JSON.stringify({id:this.newSlideId,name:"Trang m\u1edbi",svg:{viewBox:{x:0,y:0,width:Bt.screen.default_width,height:Bt.screen.default_height},nodes:[]}}))}constructor(){this._dataSource={slides:[],resources:[]},this._slideIdx=0,this._fnChangeSlides=[],this.getNodeAll=()=>{var l;let d=null===(l=this._dataSource.slides)||void 0===l?void 0:l.find((p,C)=>C==this._slideIdx),s=null==d?void 0:d.svg,f=p=>{let C=[];return p.filter(I=>!I.isdeleted).forEach(I=>{I.type==G.$.GROUP?C=C.concat(f(I.nodes||[])):C.push(I.id)}),C};return f((null==s?void 0:s.nodes)||[])}}get get(){var l;let d=s=>{var f,p;return null===(f=s)||void 0===f||f.filter(C=>C.type==G.$.GROUP).forEach(C=>{var I;C.nodes=d(null===(I=C.nodes)||void 0===I?void 0:I.filter(M=>!M.isdeleted))}),(s=null===(p=s)||void 0===p?void 0:p.filter(C=>{var I,M;return C.type!=G.$.GROUP||(null!==(I=null===(M=C.nodes)||void 0===M?void 0:M.length)&&void 0!==I?I:0)>0}))||[]};return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f;s.svg&&(s.svg.nodes=d(null===(f=s.svg)||void 0===f||null===(f=f.nodes)||void 0===f?void 0:f.filter(p=>!p.isdeleted)))}),this._dataSource}get getResource(){var l;let d=[];return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f,p,C,I,M,Z,A,q;d.push(null===(f=s.svg)||void 0===f||null===(f=f.background)||void 0===f?void 0:f.path),null===(p=s.svg)||void 0===p||p.nodes.forEach(J=>{var ut,pt,yt,de,me,ei,Je,Ze,qe,ai;d.push(null===(ut=J.source)||void 0===ut||null===(ut=ut.image)||void 0===ut?void 0:ut.path),d.push(null===(pt=J.source)||void 0===pt||null===(pt=pt.audio)||void 0===pt?void 0:pt.path),d.push(null===(yt=J.source)||void 0===yt||null===(yt=yt.video)||void 0===yt?void 0:yt.path),d.push(null===(de=J.source)||void 0===de||null===(de=de.file)||void 0===de?void 0:de.path),d.push(null===(me=J.source)||void 0===me||null===(me=me.iframe)||void 0===me?void 0:me.path),d.push(null===(ei=J.source)||void 0===ei||null===(ei=ei.track)||void 0===ei?void 0:ei.path),d.push(null===(Je=J.interactive)||void 0===Je||null===(Je=Je.show)||void 0===Je||null===(Je=Je.audio)||void 0===Je||null===(Je=Je.source)||void 0===Je?void 0:Je.path),d.push(null===(Ze=J.interactive)||void 0===Ze||null===(Ze=Ze.click)||void 0===Ze||null===(Ze=Ze.audio)||void 0===Ze||null===(Ze=Ze.source)||void 0===Ze?void 0:Ze.path),d.push(null===(qe=J.interactive)||void 0===qe||null===(qe=qe.click)||void 0===qe||null===(qe=qe.image)||void 0===qe||null===(qe=qe.source)||void 0===qe?void 0:qe.path),d.push(null===(ai=J.interactive)||void 0===ai||null===(ai=ai.click)||void 0===ai||null===(ai=ai.video)||void 0===ai||null===(ai=ai.source)||void 0===ai?void 0:ai.path)}),d.push(null===(C=s.test)||void 0===C||null===(C=C.audiotrue)||void 0===C?void 0:C.path),d.push(null===(I=s.test)||void 0===I||null===(I=I.audiofalse)||void 0===I?void 0:I.path),d.push(null===(M=s.test)||void 0===M||null===(M=M.effecttrue)||void 0===M?void 0:M.path),d.push(null===(Z=s.test)||void 0===Z||null===(Z=Z.effectfalse)||void 0===Z?void 0:Z.path),d.push(null===(A=s.test)||void 0===A||null===(A=A.icontrue)||void 0===A?void 0:A.path),d.push(null===(q=s.test)||void 0===q||null===(q=q.iconfalse)||void 0===q?void 0:q.path)}),d.filter(s=>s).map(s=>s.replace(/(\?|\#)[^\?\#]+/g,"").toLowerCase()).filter((s,f,p)=>p.indexOf(s)==f)}set set(l){this._dataSource=l,this._dataSource.slides||(this._dataSource.slides=[]),this._dataSource.slides.length||(this._slideIdx=0,this._dataSource.slides.push(JSON.parse(JSON.stringify(this._defaultSlide)))),(0,st.wM)(),this.changeSlide(this.slides,this.slideIdx,this._dataSource.slides.length,this.slide)}get dataSource(){var l;let d=s=>{var f,p;return null===(f=s)||void 0===f||f.filter(C=>C.type==G.$.GROUP).forEach(C=>{var I;C.nodes=d(null===(I=C.nodes)||void 0===I?void 0:I.filter(M=>!M.isdeleted))}),(s=null===(p=s)||void 0===p?void 0:p.filter(C=>{var I,M;return C.type!=G.$.GROUP||(null!==(I=null===(M=C.nodes)||void 0===M?void 0:M.length)&&void 0!==I?I:0)>0}))||[]};return null===(l=this._dataSource.slides)||void 0===l||l.forEach(s=>{var f;s.svg&&(s.svg.nodes=d(null===(f=s.svg)||void 0===f||null===(f=f.nodes)||void 0===f?void 0:f.filter(p=>!p.isdeleted)))}),this._dataSource.resources=this.getResource,this._dataSource}set dataSource(l){this._dataSource=l,this._dataSource.slides||(this._dataSource.slides=[]),this._dataSource.slides.length||(this._slideIdx=0,this._dataSource.slides.push(JSON.parse(JSON.stringify(this._defaultSlide)))),(0,st.wM)(),this.changeSlide(this.slides,this.slideIdx,this._dataSource.slides.length,this.slide)}get slideId(){var l,d;return null!==(l=null===(d=this.slide)||void 0===d?void 0:d.id)&&void 0!==l?l:0}get slideIdx(){return this._slideIdx}get slide(){var l;return null===(l=this._dataSource.slides)||void 0===l?void 0:l.find((d,s)=>s==this._slideIdx)}get slides(){return this._dataSource.slides||[]}backSlide(){this._slideIdx>0&&(this._slideIdx-=1,this.openSlide(void 0,this._slideIdx))}nextSlide(){var l,d;this._slideIdx<(null!==(l=null===(d=this._dataSource.slides)||void 0===d?void 0:d.length)&&void 0!==l?l:0)-1&&(this._slideIdx+=1,this.openSlide(void 0,this._slideIdx))}openSlide(l,d){var s,f,p,C;if(l)for(let A=0,q=null!==(I=null===(M=this._dataSource.slides)||void 0===M?void 0:M.length)&&void 0!==I?I:0;A<q;A++){var I,M,Z;if((null!==(Z=this._dataSource.slides)&&void 0!==Z?Z:[])[A].id==l){this._slideIdx=A;break}}else this._slideIdx=d&&d>=0&&d<(null!==(s=null===(f=this._dataSource.slides)||void 0===f?void 0:f.length)&&void 0!==s?s:0)&&null!=d?d:0;(0,st.wM)(),(0,re.E)(this.slide),this.changeSlide(this.slides,this.slideIdx,null!==(p=null===(C=this._dataSource.slides)||void 0===C?void 0:C.length)&&void 0!==p?p:0,this.slide)}addSlide(){var l,d,s;null===(l=this._dataSource.slides)||void 0===l||l.push(this._defaultSlide),this._slideIdx=(null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.length)&&void 0!==d?d:0)-1,this.openSlide(void 0,this._slideIdx)}insertSlide(l,d,s){var f,p,C,I,M;let Z=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.find(J=>J.id==l))&&void 0!==f?f:this._defaultSlide,A=(null!==(C=null===(I=this._dataSource.slides)||void 0===I?void 0:I.indexOf(Z))&&void 0!==C?C:0)+d;var q;s?(s.id=this.newSlideId,s.code=void 0,s.name="Trang m\u1edbi",null!==(q=s.svg)&&void 0!==q&&q.viewBox||s.svg&&(s.svg.viewBox={x:0,y:0,width:Bt.screen.default_width,height:Bt.screen.default_height})):s=this._defaultSlide,null===(M=this._dataSource.slides)||void 0===M||M.splice(A,0,s),this._slideIdx=A,this.openSlide(void 0,this._slideIdx)}copySlide(l){var d,s,f,p,C,I,M;let Z=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(J=>J.id==l))&&void 0!==d?d:this._defaultSlide,A=(null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(Z))&&void 0!==f?f:0)+1,q=Object.assign(JSON.parse(JSON.stringify(Z)),{id:this.newSlideId,code:void 0,name:`${Z.name} + (Copy)`});null===(C=this._dataSource.slides)||void 0===C||C.splice(A,0,q),this.changeSlide(this.slides,this.slideIdx,null!==(I=null===(M=this._dataSource.slides)||void 0===M?void 0:M.length)&&void 0!==I?I:0,this.slide)}moveSlide(l,d){var s,f,p,C,I,M;let Z=null!==(s=null===(f=this._dataSource.slides)||void 0===f?void 0:f.find(q=>q.id==l))&&void 0!==s?s:this._defaultSlide,A=null!==(p=null===(C=this._dataSource.slides)||void 0===C?void 0:C.indexOf(Z))&&void 0!==p?p:0;null===(I=this._dataSource.slides)||void 0===I||I.splice(A+d,0,null===(M=this._dataSource.slides)||void 0===M?void 0:M.splice(A,1)[0])}deleteSlide(l){var d,s,f,p,C,I;let M=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(J=>J.id==l))&&void 0!==d?d:this._defaultSlide,Z=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(M))&&void 0!==f?f:0;if(null===(C=this._dataSource.slides)||void 0===C||C.splice(Z,1),null!==(I=this._dataSource.slides)&&void 0!==I&&I.length)if(Z<this._slideIdx){var A,q;--this._slideIdx,this.changeSlide(this.slides,this.slideIdx,null!==(A=null===(q=this._dataSource.slides)||void 0===q?void 0:q.length)&&void 0!==A?A:0,this.slide)}else Z==this._slideIdx&&(--this._slideIdx,this.openSlide(void 0,this._slideIdx));else this.addSlide()}deleteSlide1(l){var d,s,f,p,C;let I=null!==(d=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find(Z=>Z.id==l))&&void 0!==d?d:this._defaultSlide,M=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(I))&&void 0!==f?f:0;if(I.isdeleted=!0,null!==(C=this._dataSource.slides)&&void 0!==C&&null!==(C=C.filter(Z=>!Z.isdeleted))&&void 0!==C&&C.length){let Z=!0;for(;I.isdeleted;)Z?M++:M--,this._dataSource.slides[M]?I=this._dataSource.slides[M]:Z=!Z;this.openSlide(I.id)}else this.addSlide()}set onChangeSlide(l){this._fnChangeSlides.push(l)}changeSlide(l,d,s,f){this._fnChangeSlides.forEach(p=>p(l,d,s,f))}set node(l){var d,s;let f=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((C,I)=>I==this._slideIdx),p=null==f?void 0:f.svg;null!=p&&p.nodes&&(null==p||p.nodes.push(l)),Bt.history.push([{type:"add",from:{id:l.id},to:{id:l.id}}]),(0,re.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id)}findNode(l){var d;let s=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((J,ut)=>ut==this._slideIdx),f=null==s?void 0:s.svg,p=(J,ut)=>{let pt=null==J?void 0:J.find(me=>me.id==l);if(pt)return pt.pid=ut,pt;let yt=0,de=J.length||0;for(;yt<de&&!pt&&(pt=p(J[yt].nodes||[],J[yt].id),!pt);)yt++;return pt},C=p((null==f?void 0:f.nodes)||[]);var I,M,Z,A,q;return C?(C.style=null!==(I=C.style)&&void 0!==I?I:{},C.source=null!==(M=C.source)&&void 0!==M?M:{},C.animate=null!==(Z=C.animate)&&void 0!==Z?Z:{},C.interactive=null!==(A=C.interactive)&&void 0!==A?A:{},C.variable=null!==(q=C.variable)&&void 0!==q?q:{},C):{id:0,size:{x:0,y:0,width:0,height:0},attribute:{},isfake:!0}}getNode(l){var d;let s=null===(d=this._dataSource.slides)||void 0===d?void 0:d.find((I,M)=>M==this._slideIdx),f=null==s?void 0:s.svg,C=I=>{let M=(null==I?void 0:I.find(pt=>pt.id==l))||(I=>{let M=null,Z=0,A=I.length||0;for(;Z<A&&!M;){if(M=C(I[Z].nodes),M){M.pid=I[Z].id;break}Z++}var q,J,ut,pt,yt;return M&&(M.style=null!==(q=M.style)&&void 0!==q?q:{},M.source=null!==(J=M.source)&&void 0!==J?J:{},M.animate=null!==(ut=M.animate)&&void 0!==ut?ut:{},M.interactive=null!==(pt=M.interactive)&&void 0!==pt?pt:{},M.variable=null!==(yt=M.variable)&&void 0!==yt?yt:{}),M})((null==I?void 0:I.filter(pt=>pt.type==G.$.GROUP))||[]);var Z,A,q,J,ut;return M&&(M.style=null!==(Z=M.style)&&void 0!==Z?Z:{},M.source=null!==(A=M.source)&&void 0!==A?A:{},M.animate=null!==(q=M.animate)&&void 0!==q?q:{},M.interactive=null!==(J=M.interactive)&&void 0!==J?J:{},M.variable=null!==(ut=M.variable)&&void 0!==ut?ut:{}),M};return C((null==f?void 0:f.nodes)||[])||{id:null,element:document.createElement("div"),size:{x:0,y:0,width:0,height:0},attribute:{},style:{},source:{},animate:{},interactive:{},variable:{},isfake:!0}}getNodeInArea(l,d,s,f,p){var C;let I=null===(C=this._dataSource.slides)||void 0===C?void 0:C.find((A,q)=>q==this._slideIdx),M=null==I?void 0:I.svg,Z=A=>{let q=[];return A.filter(J=>!J.isdeleted).forEach(J=>{J.type==G.$.GROUP?q=q.concat(Z(J.nodes||[])):l>J.size.x||d>J.size.y||s<J.size.x+J.size.width||f<J.size.y+J.size.height||(p?J.type==p&&q.push(J.id):q.push(J.id))}),q};return Z((null==M?void 0:M.nodes)||[])}getNodeOnArea(l,d,s,f,p){var C;let I=null===(C=this._dataSource.slides)||void 0===C?void 0:C.find((A,q)=>q==this._slideIdx),M=null==I?void 0:I.svg,Z=A=>{let q=[];return A.filter(J=>!J.isdeleted).forEach(J=>{J.type==G.$.GROUP?q=q.concat(Z(J.nodes||[])):J.size.x+J.size.width<l||J.size.y+J.size.height<d||J.size.x>s||J.size.y>f||(p?J.type==p&&q.push(J.id):q.push(J.id))}),q};return Z((null==M?void 0:M.nodes)||[])}deleteNode(l,d){var s;return this.getNode(l).isdeleted=null==d||d,(0,re.E)(this.slide),(0,re.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),l}unGroup(l){var d,s;let f=this.getNode(l),p=Math.ceil(1e9*Math.random());return null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.push(Object.assign(JSON.parse(JSON.stringify(f)),{id:p})),Object.assign(f,{isdeleted:!0}),(0,re.E)(this.slide),(0,re.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),p}addGroup(l,d){var s;let f=this.getNode(l),p=this.getNode(d);p.nodes=p.nodes||[];let C=Math.ceil(1e9*Math.random());return p.nodes.push(Object.assign(JSON.parse(JSON.stringify(f)),{id:C})),Object.assign(f,{isdeleted:!0}),(0,re.E)(this.slide),(0,re.E)(this.slide,null===(s=this.slide)||void 0===s?void 0:s.id),C}setNodeP(l,d){var s;let f=null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s?void 0:s.nodes.find(p=>p.id==l);f&&(f.pid=d||null)}bringToFront(l){var d,s,f;let p=l.map(ut=>Bt.data.getNode(ut)).filter(ut=>!ut.isfake),{x1:C,y1:I,x2:M,y2:Z}=ye(p),A=this.getNodeOnArea(C,I,M,Z);null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.forEach((ut,pt)=>{ut.idx=pt+1});let q=A.map(ut=>{var pt,yt;return null!==(pt=null===(yt=this.slide)||void 0===yt||null===(yt=yt.svg)||void 0===yt||null===(yt=yt.nodes.find(de=>de.id==ut))||void 0===yt?void 0:yt.idx)&&void 0!==pt?pt:0}),J=Math.max.apply(null,q);l.forEach((ut,pt)=>{var yt;null===(yt=this.slide)||void 0===yt||null===(yt=yt.svg)||void 0===yt||yt.nodes.filter(de=>de.id==ut).forEach(de=>{de.idx=J+(pt+1)/100})}),null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.sort((ut,pt)=>{var yt,de;return(null!==(yt=ut.idx)&&void 0!==yt?yt:0)-(null!==(de=pt.idx)&&void 0!==de?de:0)}),(0,re.T)(this.slide),null===(f=window.document.getElementById(ot.O.SELECT_GROUP))||void 0===f||f.remove(),(0,B.Q)(p)}sendToBack(l){var d,s,f;let p=l.map(ut=>Bt.data.getNode(ut)).filter(ut=>!ut.isfake),{x1:C,y1:I,x2:M,y2:Z}=ye(p),A=this.getNodeOnArea(C,I,M,Z);null===(d=this.slide)||void 0===d||null===(d=d.svg)||void 0===d||d.nodes.forEach((ut,pt)=>{ut.idx=pt+1});let q=A.map(ut=>{var pt,yt;return null!==(pt=null===(yt=this.slide)||void 0===yt||null===(yt=yt.svg)||void 0===yt||null===(yt=yt.nodes.find(de=>de.id==ut))||void 0===yt?void 0:yt.idx)&&void 0!==pt?pt:0}),J=Math.min.apply(null,q)-1;l.forEach((ut,pt)=>{var yt;null===(yt=this.slide)||void 0===yt||null===(yt=yt.svg)||void 0===yt||yt.nodes.filter(de=>de.id==ut).forEach(de=>{de.idx=J+(pt+1)/100})}),null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.sort((ut,pt)=>{var yt,de;return(null!==(yt=ut.idx)&&void 0!==yt?yt:0)-(null!==(de=pt.idx)&&void 0!==de?de:0)}),(0,re.T)(this.slide),null===(f=window.document.getElementById(ot.O.SELECT_GROUP))||void 0===f||f.remove(),(0,B.Q)(p)}}const ye=H=>{let l=999999,d=999999,s=-999999,f=-999999;return H.forEach(p=>{l=Math.min(l,p.size.x),d=Math.min(d,p.size.y),s=Math.max(s,p.size.x+p.size.width),f=Math.max(f,p.size.y+p.size.height)}),{x1:l,y1:d,x2:s,y2:f}};class Be{constructor(){this._index=-1,this._dataSource=[],this.undoExecute=l=>{l.forEach(function(d){switch(d.type){case"add":Bt.data.deleteNode(d.from.id);break;case"edit":break;case"delete":Bt.data.deleteNode(d.from.id,!1);break;case"size":{let{id:s,type:f,size:p,attribute:C}=Bt.data.getNode(d.from.id);Object.assign(p,d.from.size),Object.assign(C,(0,_.sg)(f,p)),(0,st.__)(window.document.getElementById(s),C);break}case"attribute":{let{id:s,attribute:f}=Bt.data.getNode(d.from.id);Object.assign(f,d.from.attribute),(0,st.__)(window.document.getElementById(s),f);break}case"style":{let{id:s,style:f}=Bt.data.getNode(d.from.id);Object.assign(null!=f?f:{},d.from.style),(0,st.DB)(window.document.getElementById(s),f);break}case"source":{let{id:s,type:f,source:p}=Bt.data.getNode(d.from.id);Object.assign(null!=p?p:{},d.from.source),(0,st.QI)(window.document.getElementById(s),f,null!=p?p:{});break}case"animate":{let{animate:s}=Bt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.animate);break}case"interactive":{let{interactive:s}=Bt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.interactive);break}case"variable":{let{variable:s}=Bt.data.getNode(d.from.id);Object.assign(null!=s?s:{},d.from.variable);break}}}),Bt.dataSelect.ids=[]},this.redoExecute=l=>{l.forEach(function(d){switch(d.type){case"add":Bt.data.deleteNode(d.to.id,!1);break;case"edit":break;case"delete":Bt.data.deleteNode(d.to.id,!0);break;case"size":{let{id:s,type:f,size:p,attribute:C}=Bt.data.getNode(d.to.id);Object.assign(p,d.to.size),Object.assign(C,(0,_.sg)(f,p)),(0,st.__)(window.document.getElementById(s),C);break}case"attribute":{let{id:s,attribute:f}=Bt.data.getNode(d.to.id);Object.assign(f,d.to.attribute),(0,st.__)(window.document.getElementById(s),f);break}case"style":{let{id:s,style:f}=Bt.data.getNode(d.to.id);Object.assign(null!=f?f:{},d.to.style),(0,st.DB)(window.document.getElementById(s),f);break}case"source":{let{id:s,type:f,source:p}=Bt.data.getNode(d.to.id);Object.assign(null!=p?p:{},d.to.source),(0,st.QI)(window.document.getElementById(s),f,null!=p?p:{});break}case"animate":{let{animate:s}=Bt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.animate);break}case"interactive":{let{interactive:s}=Bt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.interactive);break}case"variable":{let{variable:s}=Bt.data.getNode(d.to.id);Object.assign(null!=s?s:{},d.to.variable);break}}}),Bt.dataSelect.ids=[]},this._fnChanges=[],this._index=-1,this._dataSource=[]}get index(){return this._index}get total(){return this._dataSource.length}get dataSource(){return this._dataSource}renew(){this._index=-1,this._dataSource=[],this.change()}push(l){this._index<0?(this._index=0,this._dataSource.length=0,this._dataSource[this._index]={data:l}):(this._index<this._dataSource.length-1&&this._dataSource.splice(this._index+1,this._dataSource.length-this._index-1),this._index++,this._dataSource.push({data:l})),this.change()}undo(){this._index<0||(this.undoExecute(this._dataSource[this._index].data),this._index--,this.change())}redo(){this._index>=this._dataSource.length-1||(this._index++,this.redoExecute(this._dataSource[this._index].data),this.change())}set onchange(l){this._fnChanges.push(l)}change(){this._fnChanges.forEach(l=>l(this.index,this.total))}}var Ce=b(7797);class Ae{constructor(l){var d,s,f;this._default_width=1080,this._default_height=1080,this._scale=1,this._position={x:0,y:0},this._offset={x:0,y:0},this._actived=!1,this._fnZoomChanges=[],this._default_width=null!==(d=null==l?void 0:l.default_width)&&void 0!==d?d:this._default_width,this._default_height=null!==(s=null!==(f=null==l?void 0:l.default_height)&&void 0!==f?f:null==l?void 0:l.default_width)&&void 0!==s?s:this._default_height,this._x=0,this._y=0,this._width=this._default_width,this._height=this._default_height,this._posScale={x:Math.ceil(window.innerWidth/2),y:Math.ceil(window.innerHeight/2)}}get actived(){return this._actived}set actived(l){this._actived=l}get default_width(){return this._default_width}set default_width(l){this._default_width=l}get default_height(){return this._default_height}set default_height(l){this._default_height=l}get get(){return{x:this._x,y:this._y,w:this._default_width,h:this._default_height,width:this._default_width,height:this._default_height}}set set(l){this._default_width=l.width,this._default_height=l.height,this.zoomTo="fit"}get width(){return this._width}get height(){return this._height}get scale(){return this._scale}set position(l){this._position=l}get position(){return this._position}set offset(l){this._offset=l}get offset(){return this._offset}refScreen(){(0,st.eb)()}scaleTo(l,d){if(!(l<.1||l>10)){var s=this._scale-l;this._posScale=d||this._posScale;var f=(0,Ce.p)(this._posScale,this._scale,this._position,this._offset),p={x:Math.max(0,Math.min((0,w.q)(f.x/this._default_width,100),1)),y:Math.max(0,Math.min((0,w.q)(f.y/this._default_height,100),1))},C={x:this._default_width*s*p.x,y:this._default_height*s*p.y};this._width=this._default_width*l,this._height=this._default_height*l,this._scale=(0,w.q)(l,1e4),this._position={x:(0,w.q)(this._position.x+C.x,1e4),y:(0,w.q)(this._position.y+C.y,1e4)},this.zoomChange(this.scale),this.refScreen()}}set positionTo(l){this._position=l,this.refScreen()}set positionToWithType(l){"center"===l.type&&(this._position={x:(l.width-this._default_width)/2,y:(l.height-this._default_height)/2}),this.refScreen()}set offsetTo(l){this._offset=l}set zoomTo(l){let d=D(Bt.container).width()||1,s=D(Bt.container).height()||1;var p;this._scale="fit"===(this._offset={x:(null==(p=D(Bt.container).offset())?void 0:p.left)||0,y:(null==p?void 0:p.top)||0},l)?Math.min((0,w.q)((d-60)/Bt.screen._default_width,1e3),(0,w.q)((s-60)/Bt.screen._default_height,1e3)):(0,w.q)(l/100,100),this._width=this._default_width*this._scale,this._height=this._default_height*this._scale,this._position={x:(0,w.q)((d-this._width)/2,1e3),y:(0,w.q)((s-this._height)/2,1e3)},this.zoomChange(this.scale),this.refScreen()}set onZoomChange(l){this._fnZoomChanges.push(l)}zoomChange(l){this._fnZoomChanges.forEach(d=>d(l))}}var Xe=b(644);class tn{constructor(){this._fill="#D9D9D9",this._stroke="#AAAAAA",this._strokeWidth=1,this._strokeLinecap="round",this._strokeLinejoin="round",this._fontFamily=null,this._fontSize=20,this._textLength=null,this._fnChangeFills=[],this._fnChangeStrokes=[],this._fnChangeStrokeWidths=[],this.loadConfig()}loadConfig(){(0,Xe.sV)({callback:l=>{this._fill=(null==l?void 0:l.fill)||this._fill,this._stroke=(null==l?void 0:l.stroke)||this._stroke,this._strokeWidth=(null==l?void 0:l.strokeWidth)||this._strokeWidth,this._strokeLinecap=(null==l?void 0:l.strokeLinecap)||this._strokeLinecap,this._strokeLinejoin=(null==l?void 0:l.strokeLinejoin)||this._strokeLinejoin,this.changeFill(this.fill),this.changeStroke(this.stroke),this.changeStrokeWidth(this.strokeWidth)}})}saveConfig(){(0,Xe.qp)({params:{fill:this._fill,stroke:this._stroke,strokeWidth:this._strokeWidth,strokeLinecap:this._strokeLinecap,strokeLinejoin:this._strokeLinejoin}})}get fill(){return this._fill}set fill(l){this._fill=l,this.changeFill(this.fill)}get stroke(){return this._stroke}set stroke(l){this._stroke=l,this.changeStroke(this.stroke)}get strokeWidth(){return this._strokeWidth}set strokeWidth(l){this._strokeWidth=l,this.changeStrokeWidth(this.strokeWidth)}get strokeLinecap(){return this._strokeLinecap}set strokeLinecap(l){this._strokeLinecap=l}get strokeLinejoin(){return this._strokeLinejoin}set strokeLinejoin(l){this._strokeLinejoin=l}get fontFamily(){return this._fontFamily}get fontSize(){return this._fontSize}get textLength(){return this._textLength}set onchangefill(l){this._fnChangeFills.push(l)}changeFill(l){this._fnChangeFills.forEach(d=>d(l)),this.saveConfig()}set onchangestroke(l){this._fnChangeStrokes.push(l)}changeStroke(l){this._fnChangeStrokes.forEach(d=>d(l)),this.saveConfig()}set onchangestrokewidth(l){this._fnChangeStrokeWidths.push(l)}changeStrokeWidth(l){this._fnChangeStrokeWidths.forEach(d=>d(l)),this.saveConfig()}}var Ei=b(1690),en=b(5973),nn=b(4787),ni=function(H){return H&&JSON.parse(JSON.stringify(H))},Ii=[{key:"FinishedTest",type:"boolean",value:!1,note:"Ho\xe0n th\xe0nh BKT",system:!0,readonly:!1},{key:"TotalTest",type:"number",value:0,note:"T\u1ed5ng s\u1ed1 BKT",system:!0,readonly:!1},{key:"TotalTestDidNotPass",type:"number",value:0,note:"S\u1ed1 BKT kh\xf4ng v\u01b0\u1ee3t qua",system:!0,readonly:!1},{key:"TotalTestPassed",type:"number",value:0,note:"S\u1ed1 BKT \u0111\xe3 v\u01b0\u1ee3t qua",system:!0,readonly:!1}],$i=[],pi={key:"BienSo",value:"0",type:"number",note:null,readonly:!1},ci={if:[{type:"variable",variable:"BienSo",variables:null,slide:null,node:null,condition:">",operator:null,valuetype:"value",value:5}],then:[{type:"variable",variable:"BienChu",variables:null,slide:null,node:null,condition:null,operator:"=",valuetype:"value",value:"BienSo > 5"}],else:[{type:"variable",variable:"BienChu",variables:null,slide:null,node:null,condition:null,operator:"=",valuetype:"value",value:"BienSo <= 5"}],id:"57623302",idx:1,variables:["BienSo"]};class Bi{constructor(){this._data_variables=ni(Ii).concat(ni($i)),this._data_conditions=[],this.GetActionExecutings=[],this.GetActionExecuteds=[],this.FuncGetExecuteds=l=>{"function"==typeof l&&this.GetActionExecuteds.push(l)},this.OnGetActionExecuted=l=>{this.GetActionExecuteds.forEach(d=>{d(l)})},this.SetActionExecutings=[],this.FuncSetExecutings=l=>{"function"==typeof l&&this.SetActionExecutings.push(l)},this.OnSetActionExecuting=l=>{this.SetActionExecutings.forEach(d=>{d(l)})},this.SetActionExecuteds=[],this.FuncSetExecuteds=l=>{"function"==typeof l&&this.SetActionExecuteds.push(l)},this.OnSetActionExecuted=l=>{for(var d of(this.SetActionExecuteds.forEach(s=>{s(l)}),this.getCondition(l.key)||[]))d.if&&d.if.length>0&&(this.checkValueConditions(d.if)?this.setValueOperators(d.then||[]):this.setValueOperators(d.else||[]))}}renew(){this._data_variables=ni(Ii).concat(ni($i)),this._data_conditions=[]}get totalVariable(){return this._data_variables.length}get totalCondition(){return this._data_conditions.length}get get(){return{variables:this._data_variables||[],conditions:this._data_conditions||[]}}set set(l){if(!l)return;let d={};"string"==typeof l?d=JSON.parse(l):"object"==typeof l&&(d=l),this._data_variables=d.variables||[],this._data_conditions=d.conditions||(s=>(this._data_variables.map(f=>f.change||[]).forEach(f=>{s=s.concat(f)}),s))([]),Ii.forEach(s=>{var f=this._data_variables.filter(p=>p.key==s.key);f.length?f.forEach(function(p,C,I){p.type=s.type,p.readonly=s.readonly,p.system=s.system}):this._data_variables.push(s)})}getVariableTemp(){return ni(pi)}getConditionTemp(){return ni(ci)}getKeys(){return this._data_variables.map(function(l){return l.key}).sort(function(l,d){return l.localeCompare(d)})}getVariableAll(){return this._data_variables.length?ni((H=this._data_variables,l="key",function(d){for(var s of H.map(function(f){return f[l]}).sort())H.filter(function(f){return f[l]==s}).forEach(function(f){d.push(f)}),H=H.filter(function(f){return f[l]!=s});return d}([]))):ni(Ii).concat(ni($i));var H,l}setVariableAll(l){l&&("string"==typeof l&&(l=JSON.parse(l)),"object"==typeof l&&(this._data_variables=l),Ii.forEach(d=>{var s=this._data_variables.filter(f=>f.key==d.key);s.length?s.forEach((f,p,C)=>{f.type=d.type,f.readonly=d.readonly,f.system=d.system}):this._data_variables.push(d)}))}getVariable(l){return l?ni(this._data_variables.filter(d=>d.key==l)[0]||{}):{}}setVariable(l,d,s){if(l){switch([null,void 0,NaN,1/0].indexOf(d)>=0&&(d=""),s||(s=(this._data_variables.filter(p=>p.key==l)[0]||{}).type||null),s){case"string":"string"!=typeof d&&(d=d.toString().trim());break;case"number":"number"!=typeof d&&(d=parseFloat(d)||0);break;case"boolean":"string"==typeof d&&(d=d.toLowerCase()),"boolean"!=typeof d&&(d="1"==d||"true"==d||"yes"==d||"dung"==d)}var f=this._data_variables.filter(p=>p.key==l);f.length?f.forEach(function(p,C,I){p.value=d,p.type=s}):this._data_variables.push({key:l,value:d,type:s})}}getValue(l,d){if(!l)return"";var s=this._data_variables.filter(function(C){return C.key==l});if(s.length){var p,f=s[0]||{};switch(this.OnGetActionExecuting(f),d||(d=f.type||null),d){case"string":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":"string"==typeof f.value?f.value||"":f.value.toString().trim();break;case"number":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?0:"number"==typeof f.value?f.value||0:parseFloat(f.value)||0;break;case"boolean":[null,void 0,NaN,1/0].indexOf(f.value)>=0?p=!1:"boolean"==typeof f.value?p=f.value:(p=(f.value+"").toLowerCase(),p="1"==f.value||"true"==f.value||"yes"==f.value||"dung"==f.value);break;case"audio-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<audio controls style="width:280px;vertical-align:middle;"><source src="${f.value}"></source></audio>`:"";break;case"video-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<video controls style="width:280px;vertical-align:middle;"><source src="${f.value}"></source></video>`:"";break;case"img-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<img style="width:100%;vertical-align:middle;" src="${f.value}"/>`:"";break;default:p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value}return this.OnGetActionExecuted(f),p}return null}setValue(l,d,s){if(l){switch([null,void 0,NaN,1/0].indexOf(d)>=0&&(d=""),s||(s=(this._data_variables.filter(function(C){return C.key==l})[0]||{}).type||null),s){case"string":"string"!=typeof d&&(d=d.toString().trim());break;case"number":"number"!=typeof d&&(d=parseFloat(d)||0);break;case"boolean":"string"==typeof d&&(d=d.toLowerCase()),"boolean"!=typeof d&&(d="1"==d||"true"==d||"yes"==d||"dung"==d)}var f=this._data_variables.filter(function(C){return C.key==l});if(f.length){var p=f[0];this.OnSetActionExecuting(p),p&&(p.value=d),this.OnSetActionExecuted(p)}}}getConditionAll(){return ni(this._data_conditions.sort(function(l,d){return l.idx-d.idx}))}setConditionAll(l){l&&("string"==typeof l&&(l=JSON.parse(l)),"object"==typeof l&&(this._data_conditions=l))}getCondition(l){return l?ni(this._data_conditions.filter(d=>d.variable==l||(d.variables||[]).indexOf(l)>=0).sort(function(d,s){return d.idx-s.idx})):{}}switchCondition(l,d,s){switch(l){case"==":return"string"==typeof s?(s=s.toLowerCase().trim(),"string"==typeof d&&(d=d.toLowerCase().trim()),s.split(";").map(function(f){return d==f.trim()?1:0}).reduce(function(f,p){return f+p})>0):d==s;case"!=":return"string"==typeof s?(s=s.toLowerCase().trim(),"string"==typeof d&&(d=d.toLowerCase().trim()),0==s.split(";").map(function(f){return d==f.trim()?1:0}).reduce(function(f,p){return f+p})):d!=s;case">=":return d>=s;case"<=":return d<=s;case">":return d>s;case"<":return d<s;case"\u2208":return s=(s+"").toLowerCase().trim(),d=(d+"").toLowerCase().trim(),s.split(";").map(function(f){return d.indexOf(f.trim())>=0?1:0}).reduce(function(f,p){return f+p})>0;case"\u2209":return s=(s+"").toLowerCase().trim(),d=(d+"").toLowerCase().trim(),0==s.split(";").map(function(f){return d.indexOf(f.trim())>=0?1:0}).reduce(function(f,p){return f+p});default:return!1}}switchOperator(l,d,s){switch(l){case"+":return d+s;case"-":return d-s;case"*":return d*s;case"/":return d/s;case"=":return s;case"=!":return!s;case"==":return d==s;case"!=":return d!=s}}switchFormula(l,d){switch(l){case"sum":return d.reduce(function(f,p){return f+p});case"sub":return d.reduce(function(f,p){return f-p});case"pro":return d.reduce(function(f,p){return f*p});case"div":return d.reduce(function(f,p){return f/p});case"avg":var s=d.reduce(function(f,p){return f+p})/(d.length||1);return Math.round(1e4*(s+Number.EPSILON))/1e4;case"min":return Math.min.apply(null,d);case"max":return Math.max.apply(null,d);case"and":return d.reduce(function(f,p){return f&&p});case"or":return d.reduce(function(f,p){return f||p});default:return 0}}switchValueType_Condition(l){switch(l.valuetype){case"value":return this.switchCondition(l.condition,this.getValue(l.variable),l.value);case"variable":return this.switchCondition(l.condition,this.getValue(l.variable),this.getValue(l.value));default:return 0}}switchValueType_Operator(l){switch(l.valuetype){case"value":return this.switchOperator(l.operator,this.getValue(l.variable),l.value);case"variable":return this.switchOperator(l.operator,this.getValue(l.variable),this.getValue(l.value));case"variables":var d=this.switchFormula(l.valueformula,l.value.map(s=>this.getValue(s)));return this.switchOperator(l.operator,this.getValue(l.variable),d)}}checkValueCondition(l){return this.switchValueType_Condition(l)}getValueOperator(l){return this.switchValueType_Operator(l)}setValueOperator(l){null!=l&&l.variable&&this.setValue(l.variable,this.getValueOperator(l))}checkValueConditions(l){return 0==l.map(d=>{switch(d.type){case"variable":return this.switchValueType_Condition(d)?0:1;case"variables":return 0==d.variables.map(s=>this.switchValueType_Condition(Object.assign(ni(d),{variable:s}))?0:1).reduce(function(s,f){return s+f})?0:1;default:return 0}}).reduce((d,s)=>(null!=d?d:0)+(null!=s?s:0))}setValueOperators(l){for(var d of l)switch(d.type){case"variable":this.setValue(d.variable,this.getValueOperator(d));break;case"variables":for(var s of d.variables)this.setValue(s,this.getValueOperator(Object.assign(ni(d),{variable:s})));break;case"slide":Ei.$.runSlide(void 0,void 0,d.slide);break;case"node":{var f;(0,nn.L5)({id:d.node,nodeStatus:Ei.$.nodeStatus,slideStatus:Ei.$.slideStatus});let p=Ei.$.findNode(d.node);null!=p&&null!==(f=p.interactive)&&void 0!==f&&f.click&&(0,en.F)(p,Ei.$.nodeStatus,Ei.$.slideStatus);break}}}FuncGetExecutings(l){"function"==typeof l&&this.GetActionExecutings.push(l)}OnGetActionExecuting(l){this.GetActionExecutings.forEach(d=>{d(l)})}}class rn{constructor(){this._fnChangePointerTypes=[],this._fnChangePointerTypeTemps=[],this._fnChangePenTypes=[],this._fnChangeShapeTypes=[],this._fnChangePolygonTypes=[],this._fnChanges=[],this._pointer_type=0,this._pointer_type_temp=0,this._pen_type=0,this._shape_type=0,this._polygon_type=0}setPointer_nochange(l,d,s){if(this._pointer_type=l,d)switch(l){case L._.PEN:this._pen_type=d;break;case L._.SHAPE:this._shape_type=d,s&&d===G.$.POLYGON&&(this._polygon_type=s)}}get pointer_type(){return this._pointer_type}set pointer_type(l){this._pointer_type=l,this.changePointerType(this.pointer_type),this.change(this.pointer_type)}get pointer_type_temp(){return this._pointer_type_temp}set pointer_type_temp(l){this._pointer_type_temp=l,this.changePointerTypeTemp(this.pointer_type),this.change(this.pointer_type_temp)}get pen_type(){return this._pen_type}set pen_type(l){this._pen_type=l,this.changePenType(this.pointer_type,this.pen_type),this.change(this.pointer_type,this.pen_type)}get shape_type(){return this._shape_type}set shape_type(l){this._shape_type=l,this.changeShapeType(this.pointer_type,this.shape_type),this.change(this.pointer_type,this.shape_type)}get polygon_type(){return this._polygon_type}set polygon_type(l){this._polygon_type=l,this.changePolygonType(this.pointer_type,this.shape_type,this.polygon_type),this.change(this.pointer_type,this.shape_type,this.polygon_type)}set onchangePointerType(l){this._fnChangePointerTypes.push(l)}changePointerType(l,d,s){this._fnChangePointerTypes.forEach(f=>f(l,d,s))}set onchangePointerTypeTemp(l){this._fnChangePointerTypeTemps.push(l)}changePointerTypeTemp(l,d,s){this._fnChangePointerTypeTemps.forEach(f=>f(l,d,s))}set onchangePenType(l){this._fnChangePenTypes.push(l)}changePenType(l,d,s){this._fnChangePenTypes.forEach(f=>f(l,d,s))}set onchangeShapeType(l){this._fnChangeShapeTypes.push(l)}changeShapeType(l,d,s){this._fnChangeShapeTypes.forEach(f=>f(l,d,s))}set onchangePolygonType(l){this._fnChangePolygonTypes.push(l)}changePolygonType(l,d,s){this._fnChangePolygonTypes.forEach(f=>f(l,d,s))}set onchange(l){this._fnChanges.push(l)}change(l,d,s){this._fnChanges.forEach(f=>f(l,d,s))}}const Bt=new class an{constructor(){this._container="",this._svg="",this._screen=Ae.prototype,this._data=pe.prototype,this._dataSelect=Jt.prototype,this._slide=Te.prototype,this._history=Be.prototype,this._attribute=tn.prototype,this._pointer=rn.prototype,this._variable=Bi.prototype,this._data=new pe,this._dataSelect=new Jt,this._slide=new Te,this._history=new Be,this._attribute=new tn,this._pointer=new rn,this._variable=new Bi,this._pointer.onchangePointerType=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])},this._pointer.onchangePointerTypeTemp=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])},this._data.onChangeSlide=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])}}get config(){return this._config}set config(l){this._config=l}get dataSource(){return{modules:"icdtV2",screen:this._screen.get,data:this._data.get,resources:this._data.getResource,variable:this._variable.get,info:{}}}set dataSource(l){this._screen.set=l.screen||{width:1280,height:720},this._data.set=l.data||{},this._variable.set=l.variable||{}}get container(){return this._container}set container(l){this._container=l}get svg(){return this._svg}set svg(l){this._svg=l}get target(){return window.document.querySelector(this._svg)}get screen(){return this._screen}get data(){return this._data}get dataSelect(){return this._dataSelect}get slide(){return this._slide}get history(){return this._history}get attribute(){return this._attribute}get pointer(){return this._pointer}get variable(){return this._variable}reloadOffset(){var l;this._screen.offsetTo={x:(null==(l=jQuery(this._container).offset())?void 0:l.left)||0,y:(null==l?void 0:l.top)||0}}init(l){this._container=l.container,this._svg=l.target,this._screen=new Ae({default_width:l.width,default_height:l.height}),(H=>{new st.Mh(H.container,H.target),Bt.pointer.onchange=(s,f,p)=>{switch(s){case L._.POINTER:D(H.target).css({cursor:"auto"});break;case L._.HAND:D(H.target).css({cursor:"grab"});break;case L._.PEN:switch(f){case Dt.D.DRAW:D(H.target).css({cursor:"url(assets/images/svg/icon/viet.png) 12 32,default"});break;case Dt.D.HIGHTLIGH:D(H.target).css({cursor:"url(assets/images/svg/icon/highlight1.png) 12 32,default"})}break;case L._.ERASER:D(H.target).css({cursor:"url(assets/images/svg/icon/gom.png) 22 22,default"});break;case L._.SHAPE:D(H.target).css({cursor:"url(assets/images/svg/icon/point.png) 22 22,default"});break;case L._.TEXT:case L._.FOREIGNOBJECT:D(H.target).css({cursor:"url(assets/images/svg/icon/textmouse.png) 22 22,default"})}},D(H.container).off("mousedown.icdt-init-icon").on("mousedown.icdt-init-icon",s=>{Bt.pointer.pointer_type==L._.HAND&&D(H.target).css({cursor:"grabbing"})}).off("mouseup.icdt-init-icon").on("mouseup.icdt-init-icon",s=>{Bt.pointer.pointer_type==L._.HAND&&D(H.target).css({cursor:"grab"})}),D(H.container).off("mousewheel.icdt-init").on("mousewheel.icdt-init",s=>{var f;s.preventDefault();var p=Bt.screen.scale,C=(null!==(f=s.originalEvent)&&void 0!==f?f:s).deltaY>0?1:-1;Bt.screen.scaleTo(p-.04*p*C,{x:s.clientX,y:s.clientY})}),D(window).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{Bt.screen.actived=!!D(s.target).parents("app-main").length}),D(H.container).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{0==s.button&&(H.container.includes("#")&&H.container.includes(s.target.getAttribute("id"))||H.container.includes(".")&&H.container.includes(s.target.getAttribute("class"))||H.container.includes(s.target.nodeName))&&(Bt.pointer.pointer_type_temp||Bt.pointer.pointer_type)===L._.POINTER&&(Bt.dataSelect.ids=[])}),D(H.container).off("touchmove.icdt-init").on("touchmove.icdt-init",s=>{s.preventDefault()});const l=s=>{switch(Bt.pointer.pointer_type_temp||Bt.pointer.pointer_type){case L._.POINTER:lt(s);break;case L._.HAND:(H=>{(0,U.A)(H,new et,1)})(s);break;case L._.PEN:(0,Se.i)(s);break;case L._.SHAPE:(H=>{var l=null;switch(Bt.pointer.shape_type){case G.$.CIRCLE:l=new Ot;break;case G.$.ELLIPSE:l=new Et;break;case G.$.LINE:l=new Xt;break;case G.$.RECT:l=new Ct;break;case G.$.POLYGON:var d;l=new te(null===(d=tt.find(s=>s.type==Bt.pointer.polygon_type))||void 0===d?void 0:d.ratios);break;case G.$.FOREIGNOBJECT:l=new Wt;break;case G.$.IMAGE:l=new Ut;break;case G.$.TEXT:case G.$.PATH:l=new Ie}l&&(0,U.A)(H,l)})(s);break;case L._.FOREIGNOBJECT:(H=>{(0,U.A)(H,new Wt)})(s);break;case L._.IMAGE:(H=>{(0,U.A)(H,new Ut)})(s);break;case L._.TEXT:(H=>{(0,U.A)(H,new St)})(s);break;case L._.ERASER:(H=>{(0,U.A)(H,new mt)})(s);break;case L._.INDEX:(0,ct.s)(s)}};let d=!1;D(H.target).off("touchstart.icdt-init").on("touchstart.icdt-init",s=>{d=!0,l({touchEvent:s})}),D(H.target).off("mousedown.icdt-init").on("mousedown.icdt-init",s=>{if(1!=s.button){if(d)return void(d=!1);l({mouseEvent:s})}}),H.iskeyboard&&(D(window).off("keydown.icdt-init").on("keydown.icdt-init",s=>{Bt.screen.actived&&((s.ctrlKey||s.altKey)&&(s.stopPropagation(),s.preventDefault()),(0,Oe.t)(s))}),D(window).off("keyup.icdt-init").on("keyup.icdt-init",s=>{Bt.screen.actived&&((s.ctrlKey||s.altKey)&&(s.stopPropagation(),s.preventDefault()),(0,Oe.t)(s))}))})({container:l.container,target:l.target,iskeyboard:l.iskeyboard})}}},4113:(De,Qt,b)=>{"use strict";b.d(Qt,{s:()=>O,Q:()=>k});var D=b(1687),L=b(4981),st=b(4318),ot=b(6816),G=b(4080);const O=R=>{var lt,xt;let et=(null===(lt=R.mouseEvent)||void 0===lt?void 0:lt.target)||(null===(xt=R.touchEvent)||void 0===xt?void 0:xt.target),j=(null==et?void 0:et.getAttribute("id"))||"",tt=null==et?void 0:et.nodeName,it=$(et).parents("g[id]").attr("id")||"";if(![D.O.INDEX_GROUP].includes(it))if(j&&!j.match(/[^0-9]/)&&L.icdt.dataSelect.nodeName.includes(tt)){var Ot,It;let Et=parseFloat(j||"0");L.icdt.dataSelect.ids=null!==(Ot=R.mouseEvent)&&void 0!==Ot&&Ot.shiftKey||null!==(It=R.touchEvent)&&void 0!==It&&It.shiftKey?[Et].concat(L.icdt.dataSelect.ids).filter((Ct,a,te)=>te.indexOf(Ct)==a):[Et],B(L.icdt.dataSelect.nodes)}else{var w;L.icdt.dataSelect.ids.length&&(L.icdt.dataSelect.ids=[]),(0==(null===(w=R.mouseEvent)||void 0===w?void 0:w.button)||R.touchEvent)&&((R,lt)=>{let it=(0,G.g1)(D.O.SCAN_GROUP,"g"),w=(0,st.bH)(0,0,1,1);(0,G.vl)(it,w),((R,lt,xt,et)=>{(0,ot.A)(R,{start:it=>{},move:(it,w)=>{((it,w,Ot,It)=>{lt=(0,st.bH)(it,w,Ot,It),(0,G.vl)(xt,lt)})(w[0][0],w[0][1],it.x,it.y)},end:(it,w)=>{null==xt||xt.remove(),L.icdt.dataSelect.ids=L.icdt.data.getNodeInArea(Math.min(w[0][0],it.x),Math.min(w[0][1],it.y),Math.max(w[0][0],it.x),Math.max(w[0][1],it.y)),et(L.icdt.dataSelect.nodes)}})})(R,w,it,lt)})(R,B)}},B=R=>{var lt,xt;let et=1;var j,tt;if(R.length&&(et=Math.max.apply(null,null!==(j=null===(tt=L.icdt.data.slide)||void 0===tt||null===(tt=tt.svg)||void 0===tt?void 0:tt.nodes.map(w=>{var Ot;return null!==(Ot=w.idx)&&void 0!==Ot?Ot:0}))&&void 0!==j?j:[0])+1),1==R.length)R[0].idx||(R[0].idx=et,R[0].time=0);else if(R.length>=0){let w=R.map(It=>{var Et;return null!==(Et=It.idx)&&void 0!==Et?Et:0}).filter(It=>It>0),Ot=w.length?Math.min.apply(null,w):et;R.forEach(It=>{var Et;It.idx=Ot,It.time=null!==(Et=It.time)&&void 0!==Et?Et:0})}let it=(0,G.g1)(D.O.INDEX_GROUP,"g");(0,G.mo)(it,null!==(lt=null===(xt=L.icdt.data.slide)||void 0===xt||null===(xt=xt.svg)||void 0===xt?void 0:xt.nodes)&&void 0!==lt?lt:[])},k=R=>{var lt,xt,et;null!=R&&null!==(lt=R.svg)&&void 0!==lt&&lt.nodes&&R.svg.nodes.forEach(tt=>{tt.idx=0});let j=(0,G.g1)(D.O.INDEX_GROUP,"g");(0,G.mo)(j,null!==(xt=null===(et=L.icdt.data.slide)||void 0===et||null===(et=et.svg)||void 0===et?void 0:et.nodes)&&void 0!==xt?xt:[])}},4578:(De,Qt,b)=>{"use strict";b.d(Qt,{h:()=>lt,t:()=>xt});var D=b(644),L=b(7308),st=b(968),ot=b(4981),G=b(666),_=b(2966),U=b(5226),O=b(3423),B=b(5811),k=b(3385);const lt=new class R{constructor(){this._fnChanges=[],this.onchange={type:"keydown",key:L.s.Escape,fn:()=>{ot.icdt.dataSelect.ids.length&&(ot.icdt.dataSelect.ids=[])}},this.onchange={type:"keydown",key:L.s.Delete,fn:()=>{ot.icdt.dataSelect.deleteNode()}},this.onchange={type:"keydown",key:L.s.Space,fn:()=>{ot.icdt.pointer.pointer_type_temp=st._.HAND}},this.onchange={type:"keyup",key:L.s.Space,fn:()=>{ot.icdt.pointer.pointer_type_temp=st._.POINTER}},this.onchange={type:"keydown",key:L.s.ArrowLeft,fn:()=>{ot.icdt.dataSelect.ids.length||ot.icdt.data.backSlide()}},this.onchange={type:"keydown",key:L.s.ArrowRight,fn:()=>{ot.icdt.dataSelect.ids.length||ot.icdt.data.nextSlide()}},this.onchange={type:"keydown",key:L.s.ArrowLeft,fn:()=>{ot.icdt.dataSelect.ids.length&&(ot.icdt.dataSelect.nodes.forEach(j=>{(0,k.k6)(j,(0,B.q)(j.size.x-(0,O.v)(1)))}),1==ot.icdt.dataSelect.ids.length?(0,G.y)(ot.icdt.dataSelect.nodes[0]):(0,_.Q)(ot.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:L.s.ArrowRight,fn:()=>{ot.icdt.dataSelect.ids.length&&(ot.icdt.dataSelect.nodes.forEach(j=>{(0,k.k6)(j,(0,B.q)(j.size.x+(0,O.v)(1)))}),1==ot.icdt.dataSelect.ids.length?(0,G.y)(ot.icdt.dataSelect.nodes[0]):(0,_.Q)(ot.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:L.s.ArrowUp,fn:()=>{ot.icdt.dataSelect.ids.length&&(ot.icdt.dataSelect.nodes.forEach(j=>{(0,k.co)(j,(0,B.q)(j.size.y-(0,O.v)(1)))}),1==ot.icdt.dataSelect.ids.length?(0,G.y)(ot.icdt.dataSelect.nodes[0]):(0,_.Q)(ot.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:L.s.ArrowDown,fn:()=>{ot.icdt.dataSelect.ids.length&&(ot.icdt.dataSelect.nodes.forEach(j=>{(0,k.co)(j,(0,B.q)(j.size.y+(0,O.v)(1)))}),1==ot.icdt.dataSelect.ids.length?(0,G.y)(ot.icdt.dataSelect.nodes[0]):(0,_.Q)(ot.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:L.s.Digit1,fn:j=>{j.shiftKey&&(ot.icdt.screen.zoomTo="fit")}},this.onchange={type:"keydown",key:L.s.KeyA,fn:j=>{if(j.ctrlKey){ot.icdt.dataSelect.ids=ot.icdt.data.getNodeAll();let tt=ot.icdt.dataSelect.nodes;1==tt.length?(0,G.y)(tt[0]):tt.length>1&&(0,_.Q)(tt)}}},this.onchange={type:"keydown",key:L.s.KeyC,fn:j=>{if(j.ctrlKey){let tt=ot.icdt.dataSelect.nodes;tt&&(0,D.yR)({params:{type:"nodes",nodes:tt}})}}},this.onchange={type:"keydown",key:L.s.KeyV,fn:j=>{j.ctrlKey&&(0,D.aY)({callback:tt=>{var it,w;"nodes"==(null==tt?void 0:tt.type)&&null!=tt&&null!==(it=tt.nodes)&&void 0!==it&&it.length&&(null==tt||null===(w=tt.nodes)||void 0===w||w.forEach(Ot=>{Ot.id=Math.ceil(1e9*Math.random()),ot.icdt.data.node=Ot}),(0,U.E)(ot.icdt.data.slide))}})}},this.onchange={type:"keydown",key:L.s.KeyZ,fn:j=>{j.ctrlKey&&j.shiftKey?ot.icdt.history.redo():j.ctrlKey&&ot.icdt.history.undo()}}}set onchange(j){let tt=this._fnChanges.find(it=>it.eventType==j.type&&it.eventKey==j.key);tt?tt.fns.push(j.fn):this._fnChanges.push({eventType:j.type,eventKey:j.key,fns:[j.fn]})}change(j,tt,it){var w;null===(w=this._fnChanges.find(Ot=>Ot.eventType==j&&Ot.eventKey==tt))||void 0===w||w.fns.forEach(Ot=>Ot(it))}},xt=et=>{lt.change(et.type,et.keyCode||et.which||et.charCode||0,et)}},410:(De,Qt,b)=>{"use strict";b.d(Qt,{a:()=>O});var D=b(4318),L=b(8419),st=b(9054),ot=b(4080),G=b(511),_=b(3423),U=b(1687);class O{constructor(k){var R;let lt={stroke:"#FF0000",strokeWidth:(0,_.v)(2),strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:(0,_.v)(8)},{element:et,attribute:j,size:tt}=(0,L.G)(Math.ceil(1e9*Math.random()),{size:k});window.document.getElementById(U.O.INTERACTIVE_GROUP).querySelectorAll("path").forEach(Et=>null==Et?void 0:Et.remove()),null===(R=window.document.getElementById(U.O.INTERACTIVE_GROUP))||void 0===R||R.appendChild(et),(0,ot.__)(et,lt);let w="";return{start:Et=>{w=`M ${Et.x} ${Et.y} L ${Et.x} ${Et.y}`},move:(Et,Y)=>{((Et,Y)=>{w+=` ${Et} ${Y}`,et.setAttribute("d",w)})(Et.x,Et.y)},end:(Et,Y)=>{(Et=>{let Ct=G.jvg().x(a=>a[0]).y(a=>a[1]).curve(G.$0Z)(Et);et.setAttribute("d",Ct),Et.length>=2&&(window.interactivePoints=Et)})(Y),(Et=>{let Y=9999,Ct=9999,a=-9999,te=-9999;Et.forEach(zt=>{Y=Math.min(Y,zt[0]),Ct=Math.min(Ct,zt[1]),a=Math.max(a,zt[0]),te=Math.max(te,zt[1])}),tt=(0,D.bH)(Y,Ct,a,te,{points:Et}),Object.assign(j,(0,D.sg)(st.$.PATH,tt),lt)})(Y)}}}}},9623:(De,Qt,b)=>{"use strict";b.d(Qt,{U:()=>et,i:()=>xt});var D=b(1687),L=b(9125),st=b(4981),ot=b(6816),G=b(4080),_=b(4318),U=b(8419),O=b(9054),B=b(511);class k{constructor(){let tt={strokeLinecap:"round",strokeLinejoin:"round"},{nodeId:it,element:w,attribute:Ot,size:It}=(0,U.G)(Math.ceil(1e9*Math.random()));(0,G.__)(w,Ot);let Y="";return{start:te=>{Y=`M ${te.x} ${te.y} L ${te.x} ${te.y}`},move:(te,zt)=>{((te,zt)=>{Y+=` ${te} ${zt}`,w.setAttribute("d",Y)})(te.x,te.y)},end:(te,zt)=>{(te=>{let Xt=B.jvg().x(Ht=>Ht[0]).y(Ht=>Ht[1]).curve(B.$0Z)(te);w.setAttribute("d",Xt)})(zt),(te=>{let zt=9999,Xt=9999,Ht=-9999,Ie=-9999;te.forEach(W=>{zt=Math.min(zt,W[0]),Xt=Math.min(Xt,W[1]),Ht=Math.max(Ht,W[0]),Ie=Math.max(Ie,W[1])}),It=(0,_.bH)(zt,Xt,Ht,Ie,{points:te}),Object.assign(Ot,(0,_.sg)(O.$.PATH,It),tt)})(zt),st.icdt.data.node=Object.assign({id:it,type:O.$.PATH,name:"Path"},{size:It,attribute:Ot})}}}}class R{constructor(){let tt={strokeOpacity:.4,strokeLinecap:"round",strokeLinejoin:"round"},{nodeId:it,element:w,attribute:Ot,size:It}=(0,U.G)(Math.ceil(1e9*Math.random()));(0,G.__)(w,Ot);let Y="";var Ct=(a,te)=>{Y+=` ${a} ${te}`,w.setAttribute("d",Y)};return{start:a=>{Y=`M ${a.x} ${a.y} L ${a.x} ${a.y}`},move:(a,te)=>{Ct(a.x,a.y)},end:(a,te)=>{Ct(a.x,a.y),(a=>{let te=9999,zt=9999,Xt=-9999,Ht=-9999;a.forEach(Ie=>{te=Math.min(te,Ie[0]),zt=Math.min(zt,Ie[1]),Xt=Math.max(Xt,Ie[0]),Ht=Math.max(Ht,Ie[1])}),It=(0,_.bH)(te,zt,Xt,Ht,{points:a}),Object.assign(Ot,(0,_.sg)(O.$.PATH,It),tt)})(te),st.icdt.data.node=Object.assign({id:it,type:O.$.PATH,name:"Path"},{size:It,attribute:Ot})}}}}var lt=b(410);const xt=j=>{switch(st.icdt.pointer.pen_type){case L.D.DRAW:(0,ot.A)(j,new k);break;case L.D.HIGHTLIGH:(0,ot.A)(j,new R);break;case L.D.INTERACTIVE:et(j)}},et=j=>{var tt,it;let w=(0,G.g1)(D.O.INTERACTIVE_GROUP,"g"),Ot=null!==(tt=null===(it=st.icdt.data.slide)||void 0===it||null===(it=it.svg)||void 0===it?void 0:it.viewBox)&&void 0!==tt?tt:(()=>{let{width:It,height:Et}=st.icdt.screen.get;return{x:0,y:0,width:It,height:Et}})();(0,G.XH)(w,Ot),j&&(0,ot.A)(j,new lt.a)}},666:(De,Qt,b)=>{"use strict";b.d(Qt,{y:()=>U});var D=b(1687),L=b(4981),st=b(4318),ot=b(6816),G=b(4080),_=b(5811);const U=k=>{let R=(0,G.g1)(D.O.RESIZE_GROUP,"g");(0,G.hJ)(R,k).forEach(lt=>{O(lt.element,lt.posType,k,R)})},O=(k,R,lt,xt)=>{let et=!1;null==k||k.addEventListener("touchstart",j=>{et=!0,B({touchEvent:j},R,lt,xt)}),null==k||k.addEventListener("mousedown",j=>{if(0==j.button){if(et)return void(et=!1);B({mouseEvent:j},R,lt,xt)}})},B=(k,R,lt,xt)=>{let Ct,{id:et,type:j,size:tt,attribute:it}=lt,{x:w,y:Ot,width:It,height:Et}=tt,Y=(It||1)/(Et||1),te=null,Ht=!1;(0,ot.A)(k,{start:W=>{te=JSON.parse(JSON.stringify({id:et,size:tt,attribute:it}))},move:(W,Wt)=>{((W,Wt,$t,Ut)=>{switch(R){case"rect-center":var Rt,Oe;Ct=null!==(Rt=k.mouseEvent)&&void 0!==Rt&&Rt.shiftKey||null!==(Oe=k.touchEvent)&&void 0!==Oe&&Oe.shiftKey?Math.abs($t-W)>=Math.abs(Ut-Wt)?{x:w+$t-W,y:Ot,width:It,height:Et}:{x:w,y:Ot+Ut-Wt,width:It,height:Et}:{x:w+$t-W,y:Ot+Ut-Wt,width:It,height:Et};break;case"rect-top-left":var Se,nt,dt,y,rt,Mt,Lt,ee;Ct=(null!==(Se=k.mouseEvent)&&void 0!==Se&&Se.shiftKey||null!==(nt=k.touchEvent)&&void 0!==nt&&nt.shiftKey)&&(null!==(dt=k.mouseEvent)&&void 0!==dt&&dt.altKey||null!==(y=k.touchEvent)&&void 0!==y&&y.altKey)?Y>=1?{x:w+($t-W),y:Ot+($t-W)/Y,width:It-2*($t-W),height:Et-2*($t-W)/Y}:{x:w+(Ut-Wt)*Y,y:Ot+(Ut-Wt),width:It-2*(Ut-Wt)*Y,height:Et-2*(Ut-Wt)}:null!==(rt=k.mouseEvent)&&void 0!==rt&&rt.shiftKey||null!==(Mt=k.touchEvent)&&void 0!==Mt&&Mt.shiftKey?Y>=1?{x:w+($t-W),y:Ot+($t-W)/Y,width:It-($t-W),height:Et-($t-W)/Y}:{x:w+(Ut-Wt)*Y,y:Ot+(Ut-Wt),width:It-(Ut-Wt)*Y,height:Et-(Ut-Wt)}:null!==(Lt=k.mouseEvent)&&void 0!==Lt&&Lt.altKey||null!==(ee=k.touchEvent)&&void 0!==ee&&ee.altKey?{x:w+($t-W),y:Ot+(Ut-Wt),width:It-2*($t-W),height:Et-2*(Ut-Wt)}:{x:w+($t-W),y:Ot+(Ut-Wt),width:It-($t-W),height:Et-(Ut-Wt)};break;case"rect-top-right":var ce,jt,Pt,ue,We,Ne,Zt,je;Ct=(null!==(ce=k.mouseEvent)&&void 0!==ce&&ce.shiftKey||null!==(jt=k.touchEvent)&&void 0!==jt&&jt.shiftKey)&&(null!==(Pt=k.mouseEvent)&&void 0!==Pt&&Pt.altKey||null!==(ue=k.touchEvent)&&void 0!==ue&&ue.altKey)?Y>=1?{x:w-($t-W),y:Ot-($t-W)/Y,width:It+2*($t-W),height:Et+2*($t-W)/Y}:{x:w+(Ut-Wt)*Y,y:Ot+(Ut-Wt),width:It-2*(Ut-Wt)*Y,height:Et-2*(Ut-Wt)}:null!==(We=k.mouseEvent)&&void 0!==We&&We.shiftKey||null!==(Ne=k.touchEvent)&&void 0!==Ne&&Ne.shiftKey?Y>=1?{x:w,y:Ot-($t-W)/Y,width:It+($t-W),height:Et+($t-W)/Y}:{x:w,y:Ot+(Ut-Wt),width:It-(Ut-Wt)*Y,height:Et-(Ut-Wt)}:null!==(Zt=k.mouseEvent)&&void 0!==Zt&&Zt.altKey||null!==(je=k.touchEvent)&&void 0!==je&&je.altKey?{x:w-($t-W),y:Ot+(Ut-Wt),width:It+2*($t-W),height:Et-2*(Ut-Wt)}:{x:w,y:Ot+(Ut-Wt),width:It+($t-W),height:Et-(Ut-Wt)};break;case"rect-bottom-left":var mt,E,ft,St,K,at,Q,ct;Ct=(null!==(mt=k.mouseEvent)&&void 0!==mt&&mt.shiftKey||null!==(E=k.touchEvent)&&void 0!==E&&E.shiftKey)&&(null!==(ft=k.mouseEvent)&&void 0!==ft&&ft.altKey||null!==(St=k.touchEvent)&&void 0!==St&&St.altKey)?Y>=1?{x:w+($t-W),y:Ot+($t-W)/Y,width:It-2*($t-W),height:Et-2*($t-W)/Y}:{x:w-(Ut-Wt)*Y,y:Ot-(Ut-Wt),width:It+2*(Ut-Wt)*Y,height:Et+2*(Ut-Wt)}:null!==(K=k.mouseEvent)&&void 0!==K&&K.shiftKey||null!==(at=k.touchEvent)&&void 0!==at&&at.shiftKey?Y>=1?{x:w+($t-W),y:Ot,width:It-($t-W),height:Et-($t-W)/Y}:{x:w-(Ut-Wt)*Y,y:Ot,width:It+(Ut-Wt)*Y,height:Et+(Ut-Wt)}:null!==(Q=k.mouseEvent)&&void 0!==Q&&Q.altKey||null!==(ct=k.touchEvent)&&void 0!==ct&&ct.altKey?{x:w+($t-W),y:Ot-(Ut-Wt),width:It-2*($t-W),height:Et+2*(Ut-Wt)}:{x:w+($t-W),y:Ot,width:It-($t-W),height:Et+(Ut-Wt)};break;case"rect-bottom-right":var Dt,Ft,vt,Jt,ae,Te,re,pe;Ct=(null!==(Dt=k.mouseEvent)&&void 0!==Dt&&Dt.shiftKey||null!==(Ft=k.touchEvent)&&void 0!==Ft&&Ft.shiftKey)&&(null!==(vt=k.mouseEvent)&&void 0!==vt&&vt.altKey||null!==(Jt=k.touchEvent)&&void 0!==Jt&&Jt.altKey)?Y>=1?{x:w-($t-W),y:Ot-($t-W)/Y,width:It+2*($t-W),height:Et+2*($t-W)/Y}:{x:w-(Ut-Wt)*Y,y:Ot-(Ut-Wt),width:It+2*(Ut-Wt)*Y,height:Et+2*(Ut-Wt)}:null!==(ae=k.mouseEvent)&&void 0!==ae&&ae.shiftKey||null!==(Te=k.touchEvent)&&void 0!==Te&&Te.shiftKey?Y>=1?{x:w,y:Ot,width:It+($t-W),height:Et+($t-W)/Y}:{x:w,y:Ot,width:It+(Ut-Wt)*Y,height:Et+(Ut-Wt)}:null!==(re=k.mouseEvent)&&void 0!==re&&re.altKey||null!==(pe=k.touchEvent)&&void 0!==pe&&pe.altKey?{x:w-($t-W),y:Ot-(Ut-Wt),width:It+2*($t-W),height:Et+2*(Ut-Wt)}:{x:w,y:Ot,width:It+($t-W),height:Et+(Ut-Wt)};break;default:Ct={x:w+$t-W,y:Ot+Ut-Wt,width:It,height:Et}}Ct.width<0&&(Ct.width=0),Ct.height<0&&(Ct.height=0),Ct.x=(0,_.q)(Ct.x),Ct.y=(0,_.q)(Ct.y),Ct.width=(0,_.q)(Ct.width),Ct.height=(0,_.q)(Ct.height),Object.assign(tt,Ct),Object.assign(it,(0,st.sg)(j,tt)),(0,G.__)(window.document.getElementById(et),it),(0,G.hJ)(xt,lt)})(Wt[0][0],Wt[0][1],W.x,W.y),Ht=!0},end:(W,Wt)=>{Ht&&te&&L.icdt.history.push([{type:"size",from:te,to:JSON.parse(JSON.stringify({id:et,size:tt,attribute:it}))}])}})}},2966:(De,Qt,b)=>{"use strict";b.d(Qt,{Q:()=>O});var D=b(1687),L=b(4981),st=b(4318),ot=b(6816),G=b(4080),_=b(3423),U=b(5811);const O=R=>{let lt=999999,xt=999999,et=-999999,j=-999999;null==R||R.forEach(w=>{lt=Math.min(lt,w.size.x),xt=Math.min(xt,w.size.y),et=Math.max(et,w.size.x+w.size.width),j=Math.max(j,w.size.y+w.size.height)});let tt=(0,G.g1)(D.O.SELECT_GROUP,"g"),it=(0,st.bH)(lt,xt,et,j);(0,G.yD)(tt,R,it).forEach(w=>{B(w.element,w.posType,it,R,tt)})},B=(R,lt,xt,et,j)=>{let tt=!1;null==R||R.addEventListener("touchstart",it=>{tt=!0,k({touchEvent:it},lt,xt,et,j)}),null==R||R.addEventListener("mousedown",it=>{if(0==it.button){if(tt)return void(tt=!1);k({mouseEvent:it},lt,xt,et,j)}})},k=(R,lt,xt,et,j)=>{let{x:tt,y:it,width:w,height:Ot}=xt,It=et.map(zt=>Object.assign({},zt.size)),Y=[];(0,ot.A)(R,{start:zt=>{et.forEach((zt,Xt)=>{let{id:Ht,size:W,attribute:Wt}=zt;Y.push(JSON.parse(JSON.stringify({id:Ht,size:W,attribute:Wt})))})},move:(zt,Xt)=>{((zt,Xt,Ht,Ie)=>{(()=>{let W;W="rect-center"===lt?{x:tt+Ht-zt,y:it+Ie-Xt,width:w,height:Ot}:{x:tt,y:it,width:w,height:Ot},(0,_.v)(L.icdt.screen.width),(0,_.v)(L.icdt.screen.height),W.width<0&&(W.width=0),W.height<0&&(W.height=0),Object.assign(xt,W),(0,G.yD)(j,et,xt)})(),et.forEach((W,Wt)=>{let rt,{x:$t,y:Ut,width:Rt,height:Oe}=It[Wt],{id:Se,type:nt,size:dt,attribute:y}=W;rt="rect-center"===lt?{x:$t+Ht-zt,y:Ut+Ie-Xt,width:Rt,height:Oe}:{x:$t,y:Ut,width:Rt,height:Oe},(0,_.v)(L.icdt.screen.width),(0,_.v)(L.icdt.screen.height),rt.width<0&&(rt.width=0),rt.height<0&&(rt.height=0),rt.x=(0,U.q)(rt.x),rt.y=(0,U.q)(rt.y),rt.width=(0,U.q)(rt.width),rt.height=(0,U.q)(rt.height),Object.assign(dt,rt),Object.assign(y,(0,st.sg)(nt,dt)),(0,G.__)(window.document.getElementById(Se),y)})})(Xt[0][0],Xt[0][1],zt.x,zt.y)},end:(zt,Xt)=>{Y.length&&L.icdt.history.push(et.map((zt,Xt)=>{let{id:Ht,size:W,attribute:Wt}=zt;return{type:"size",from:Y[Xt],to:JSON.parse(JSON.stringify({id:Ht,size:W,attribute:Wt}))}}))}})}},5226:(De,Qt,b)=>{"use strict";b.d(Qt,{E:()=>j,T:()=>tt});var D=b(1687),L=b(8619),st=b(8785),ot=b(2282),G=b(8054),_=b(4921),U=b(6358),O=b(9054),B=b(8419),k=b(1105),R=b(2875),lt=b(7210),xt=b(4981),et=b(4080);const j=(it,w)=>{var Ot;if("localhost"==window.location.hostname&&console.log(`icdt_RenderComponent(slide, ${w})`,it),w&&!window.document.getElementById(w))return;if(w){let Et=window.document.getElementById(w);$(Et).find("#"+D.O.BACKGROUND_GROUP).empty();let Y=(0,et.g1)(D.O.BACKGROUND_GROUP,"g",void 0,Et);(0,et.x0)(Y,it)}else{$(xt.icdt.target).find("#"+D.O.BACKGROUND_GROUP).empty();let Et=(0,et.g1)(D.O.BACKGROUND_GROUP,"g",void 0,xt.icdt.target);(0,et.x0)(Et,it)}let It=(Et,Y)=>{Y=Y?parseFloat(`${w}0${Y}`):w,null==Et||Et.forEach(Ct=>{let a=w?parseFloat(`${w}0${Ct.id}`):Ct.id;var te;if(Ct.isdeleted)null===(te=window.document.getElementById(a))||void 0===te||te.remove();else switch(Ct.type){case O.$.GROUP:(0,U.m)(a,{},Y),It(Ct.nodes,Ct.id);break;case O.$.CIRCLE:(0,L._)(a,{size:Ct.size,attribute:Ct.attribute},Y?window.document.getElementById(Y):null);break;case O.$.ELLIPSE:(0,st.r)(a,{size:Ct.size,attribute:Ct.attribute},Y);break;case O.$.LINE:(0,_.W)(a,{size:Ct.size,attribute:Ct.attribute},Y);break;case O.$.RECT:(0,G.f)(a,{size:Ct.size,attribute:Ct.attribute},Y?window.document.getElementById(Y):null);break;case O.$.POLYGON:(0,ot.l)(a,{size:Ct.size,attribute:Ct.attribute},Y);break;case O.$.FOREIGNOBJECT:(0,R.e)(a,{size:Ct.size,attribute:Ct.attribute,style:Ct.style,source:Ct.source},Y?window.document.getElementById(Y):null);break;case O.$.IMAGE:(0,lt.G)(a,{size:Ct.size,attribute:Ct.attribute,source:Ct.source},Y?window.document.getElementById(Y):null);break;case O.$.TEXT:(0,k.$)(a,{size:Ct.size,attribute:Ct.attribute,source:Ct.source},Y);break;case O.$.PATH:(0,B.G)(a,{size:Ct.size,attribute:Ct.attribute},Y)}})};It(null==it||null===(Ot=it.svg)||void 0===Ot?void 0:Ot.nodes)},tt=(it,w)=>{var Ot;if(w&&!window.document.getElementById(w))return;let It=(Et,Y)=>{Y=Y?parseFloat(`${w}0${Y}`):w,null==Et||Et.forEach(Ct=>{let a=w?parseFloat(`${w}0${Ct.id}`):Ct.id;$("#"+a).appendTo(Y?window.document.getElementById(Y):xt.icdt.target),Ct.type==O.$.GROUP&&It(Ct.nodes,Ct.id)})};It(null==it||null===(Ot=it.svg)||void 0===Ot?void 0:Ot.nodes)}},8619:(De,Qt,b)=>{"use strict";b.d(Qt,{_:()=>G});var D=b(9054),L=b(4981),st=b(4318),ot=b(4080);const G=(_,U,O)=>{let B=(null==U?void 0:U.size)||{x:0,y:0,width:10,height:10},k=(null==U?void 0:U.attribute)||{fill:L.icdt.attribute.fill,stroke:L.icdt.attribute.stroke,strokeWidth:L.icdt.attribute.strokeWidth};return Object.assign(k,(0,st.sg)(D.$.CIRCLE,B)),{nodeId:_,element:(0,ot.it)(_,D.$.CIRCLE,"circle",{size:B,attribute:k},O),size:B,attribute:k}}},8785:(De,Qt,b)=>{"use strict";b.d(Qt,{r:()=>G});var D=b(9054),L=b(4981),st=b(4318),ot=b(4080);const G=(_,U,O)=>{let B=(null==U?void 0:U.size)||{x:0,y:0,width:10,height:10},k=(null==U?void 0:U.attribute)||{fill:L.icdt.attribute.fill,stroke:L.icdt.attribute.stroke,strokeWidth:L.icdt.attribute.strokeWidth};return Object.assign(k,(0,st.sg)(D.$.ELLIPSE,B)),{nodeId:_,element:(0,ot.it)(_,D.$.ELLIPSE,"ellipse",{size:B,attribute:k},O?window.document.getElementById(O):null),size:B,attribute:k}}},2875:(De,Qt,b)=>{"use strict";b.d(Qt,{e:()=>ot});var D=b(9054),L=b(4318),st=b(4080);const ot=(G,_,U)=>{let O=(null==_?void 0:_.size)||{x:0,y:0,width:180,height:180},B=(null==_?void 0:_.attribute)||{};Object.assign(B,(0,L.sg)(D.$.FOREIGNOBJECT,O));let k=(null==_?void 0:_.source)||{type:"html",html:{htmlContent:'<span style="font-family: Roboto; font-size: 24px;">H\xe3y nh\u1eadp n\u1ed9i dung c\u1ee7a b\u1ea1n!</span>'}},R=(null==_?void 0:_.style)||{};return{nodeId:G,element:(0,st.it)(G,D.$.FOREIGNOBJECT,"foreignObject",{size:O,attribute:B,style:R,source:k},U),size:O,attribute:B,style:R,source:k}}},6358:(De,Qt,b)=>{"use strict";b.d(Qt,{m:()=>ot});var D=b(9054),L=b(4318),st=b(4080);const ot=(G,_,U)=>{let O=(null==_?void 0:_.size)||{x:0,y:0,width:10,height:10},B=(null==_?void 0:_.attribute)||{};return Object.assign(B,(0,L.sg)(D.$.GROUP,O)),{nodeId:G,element:(0,st.it)(G,D.$.GROUP,"g",{size:O,attribute:B},U?window.document.getElementById(U):null),size:O,attribute:B}}},7210:(De,Qt,b)=>{"use strict";b.d(Qt,{G:()=>ot});var D=b(9054),L=b(4318),st=b(4080);const ot=(G,_,U)=>{let O=(null==_?void 0:_.size)||{x:0,y:0,width:200,height:100},B=(null==_?void 0:_.attribute)||{preserveAspectRatio:"none"};Object.assign(B,(0,L.sg)(D.$.IMAGE,O));let k=(null==_?void 0:_.source)||{type:"image",image:{url:"../../assets/image-svg/logo.svg",path:"assets/image-svg/logo.svg",name:"logo.svg"}};return{nodeId:G,element:(0,st.it)(G,D.$.IMAGE,"image",{size:O,attribute:B,source:k},U),size:O,attribute:B,source:k}}},4921:(De,Qt,b)=>{"use strict";b.d(Qt,{W:()=>G});var D=b(9054),L=b(4981),st=b(4318),ot=b(4080);const G=(_,U,O)=>{let B=(null==U?void 0:U.size)||{x:0,y:0,width:10,height:10},k=(null==U?void 0:U.attribute)||{stroke:L.icdt.attribute.stroke,strokeWidth:L.icdt.attribute.strokeWidth,strokeLinecap:L.icdt.attribute.strokeLinecap};return Object.assign(k,(0,st.sg)(D.$.LINE,B)),{nodeId:_,element:(0,ot.it)(_,D.$.LINE,"line",{size:B,attribute:k},O?window.document.getElementById(O):null),size:B,attribute:k}}},8419:(De,Qt,b)=>{"use strict";b.d(Qt,{G:()=>G});var D=b(9054),L=b(4981),st=b(4318),ot=b(4080);const G=(_,U,O)=>{let B=(null==U?void 0:U.size)||{x:0,y:0,width:10,height:10},k=(null==U?void 0:U.attribute)||{stroke:L.icdt.attribute.stroke,strokeWidth:L.icdt.attribute.strokeWidth};return Object.assign(k,(0,st.sg)(D.$.PATH,B)),{nodeId:_,element:(0,ot.it)(_,D.$.PATH,"path",{size:B,attribute:k},O?window.document.getElementById(O):null),size:B,attribute:k}}},2282:(De,Qt,b)=>{"use strict";b.d(Qt,{l:()=>G});var D=b(9054),L=b(4981),st=b(4318),ot=b(4080);const G=(_,U,O)=>{let B=(null==U?void 0:U.size)||{x:0,y:0,width:10,height:10},k=(null==U?void 0:U.attribute)||{fill:L.icdt.attribute.fill,stroke:L.icdt.attribute.stroke,strokeWidth:L.icdt.attribute.strokeWidth};return Object.assign(k,(0,st.sg)(D.$.POLYGON,B)),{nodeId:_,element:(0,ot.it)(_,D.$.POLYGON,"polygon",{size:B,attribute:k},O?window.document.getElementById(O):null),size:B,attribute:k}}},8054:(De,Qt,b)=>{"use strict";b.d(Qt,{f:()=>G});var D=b(9054),L=b(4981),st=b(4318),ot=b(4080);const G=(_,U,O)=>{let B=(null==U?void 0:U.size)||{x:0,y:0,width:10,height:10},k=(null==U?void 0:U.attribute)||{fill:L.icdt.attribute.fill,stroke:L.icdt.attribute.stroke,strokeWidth:L.icdt.attribute.strokeWidth};return Object.assign(k,(0,st.sg)(D.$.RECT,B)),{nodeId:_,element:(0,ot.it)(_,D.$.RECT,"rect",{size:B,attribute:k},O),size:B,attribute:k}}},1105:(De,Qt,b)=>{"use strict";b.d(Qt,{$:()=>G});var D=b(9054),L=b(4981),st=b(4318),ot=b(4080);const G=(_,U,O)=>{let B=(null==U?void 0:U.size)||{x:0,y:0,width:100,height:50},k=(null==U?void 0:U.attribute)||{fill:L.icdt.attribute.stroke,fontFamily:L.icdt.attribute.fontFamily,fontSize:L.icdt.attribute.fontSize,textLength:L.icdt.attribute.textLength};Object.assign(k,(0,st.sg)(D.$.TEXT,B));let R=(null==U?void 0:U.source)||{type:"text",text:{textContent:"H\xe3y nh\u1eadp n\u1ed9i dung c\u1ee7a b\u1ea1n!"}};return{nodeId:_,element:(0,ot.it)(_,D.$.TEXT,"text",{size:B,attribute:k,source:R},O?window.document.getElementById(O):null),size:B,attribute:k,source:R}}},4318:(De,Qt,b)=>{"use strict";b.d(Qt,{bH:()=>L,sg:()=>st});var D=b(9054);const L=(G,_,U,O,B)=>{let k={x:Math.min(G,U),y:Math.min(_,O),width:Math.abs(U-G)||1,height:Math.abs(O-_)||1};return null!=B&&B.ratio&&(k.width<=k.height?k.height=k.width*(null==B?void 0:B.ratio):k.width=k.height/(null==B?void 0:B.ratio)),Object.assign(k,{ratios:(null==B?void 0:B.ratios)||[[(G-k.x)/(k.width||1),(_-k.y)/(k.height||1)],[(U-k.x)/(k.width||1),(O-k.y)/(k.height||1)]]}),null!=B&&B.points&&(k.points=null==B?void 0:B.points),k},st=(G,_,U)=>{var O=(()=>{switch(G){case D.$.CIRCLE:return{cx:_.x+_.width/2,cy:_.y+_.height/2,r:Math.min(_.width/2,_.height/2)};case D.$.ELLIPSE:return{cx:_.x+_.width/2,cy:_.y+_.height/2,rx:_.width/2,ry:_.height/2};case D.$.LINE:{var B;let xt={};return null===(B=_.ratios)||void 0===B||B.forEach((et,j)=>{xt[`x${j+1}`]=_.x+_.width*et[0],xt[`y${j+1}`]=_.y+_.height*et[1]}),xt}case D.$.RECT:return{x:_.x,y:_.y,width:_.width,height:_.height,rx:_.rx,ry:_.ry};case D.$.POLYGON:var k;return{points:((null===(k=_.ratios)||void 0===k?void 0:k.map(xt=>[_.x+_.width*xt[0],_.y+_.height*xt[1]]))||[]).map(xt=>xt.join(" ")).join(",")};case D.$.FOREIGNOBJECT:case D.$.IMAGE:return{x:_.x,y:_.y,width:_.width,height:_.height};case D.$.TEXT:var R;return{x:_.x,y:_.y+(null!==(R=null==U?void 0:U.fontSize)&&void 0!==R?R:20)-4};case D.$.PATH:{var lt;let xt=null!==(lt=_.points)&&void 0!==lt?lt:[];return xt.length?{d:`M ${xt[0][0]} ${xt[0][1]} L `+(xt.map(et=>[et[0],et[1]])||[]).map(et=>et.join(" ")).join(" ")}:{d:""}}}return{}})();return _.rotate?(O.transform=`rotate(${_.rotate})`,O.transformOrigin=`${_.x+_.width/2} ${_.y+_.height/2}`):(O.transform=null,O.transformOrigin=null),O}},5811:(De,Qt,b)=>{"use strict";b.d(Qt,{q:()=>D});const D=(L,st)=>{var ot;return st=null!==(ot=st)&&void 0!==ot?ot:100,Math.round((L+Number.EPSILON)*st)/st}},3423:(De,Qt,b)=>{"use strict";b.d(Qt,{v:()=>st});var D=b(4981),L=b(5811);const st=ot=>(0,L.q)(ot/D.icdt.screen.scale)},3385:(De,Qt,b)=>{"use strict";b.d(Qt,{NC:()=>k,SM:()=>B,VW:()=>R,Vs:()=>O,co:()=>_,k6:()=>G,lO:()=>U,mr:()=>lt});var D=b(4981),L=b(4080),st=b(4318),ot=b(5811);const G=(xt,et)=>{let{id:j,type:tt,size:it,attribute:w}=xt,Ot=JSON.parse(JSON.stringify({id:j,size:it,attribute:w}));it.x=(0,ot.q)(et),Object.assign(w,(0,st.sg)(tt,it)),(0,L.__)(window.document.getElementById(j),w),D.icdt.history.push([{type:"size",from:Ot,to:JSON.parse(JSON.stringify({id:j,size:it,attribute:w}))}])},_=(xt,et)=>{let{id:j,type:tt,size:it,attribute:w}=xt,Ot=JSON.parse(JSON.stringify({id:j,size:it,attribute:w}));it.y=(0,ot.q)(et),Object.assign(w,(0,st.sg)(tt,it)),(0,L.__)(window.document.getElementById(j),w),D.icdt.history.push([{type:"size",from:Ot,to:JSON.parse(JSON.stringify({id:j,size:it,attribute:w}))}])},U=(xt,et,j)=>{let{id:tt,type:it,size:w,attribute:Ot}=xt,It=JSON.parse(JSON.stringify({id:tt,size:w,attribute:Ot}));j&&(w.height=(0,ot.q)(et*w.height/w.width)),w.width=(0,ot.q)(et),Object.assign(Ot,(0,st.sg)(it,w)),(0,L.__)(window.document.getElementById(tt),Ot),D.icdt.history.push([{type:"size",from:It,to:JSON.parse(JSON.stringify({id:tt,size:w,attribute:Ot}))}])},O=(xt,et,j)=>{let{id:tt,type:it,size:w,attribute:Ot}=xt,It=JSON.parse(JSON.stringify({id:tt,size:w,attribute:Ot}));j&&(w.width=(0,ot.q)(et*w.width/w.height)),w.height=(0,ot.q)(et),Object.assign(Ot,(0,st.sg)(it,w)),(0,L.__)(window.document.getElementById(tt),Ot),D.icdt.history.push([{type:"size",from:It,to:JSON.parse(JSON.stringify({id:tt,size:w,attribute:Ot}))}])},B=(xt,et)=>{let{id:j,type:tt,size:it,attribute:w}=xt,Ot=JSON.parse(JSON.stringify({id:j,size:it,attribute:w}));it.r=(0,ot.q)(et),Object.assign(w,(0,st.sg)(tt,it)),(0,L.__)(window.document.getElementById(j),w),D.icdt.history.push([{type:"size",from:Ot,to:JSON.parse(JSON.stringify({id:j,size:it,attribute:w}))}])},k=(xt,et)=>{let{id:j,type:tt,size:it,attribute:w}=xt,Ot=JSON.parse(JSON.stringify({id:j,size:it,attribute:w}));it.rx=(0,ot.q)(et),Object.assign(w,(0,st.sg)(tt,it)),(0,L.__)(window.document.getElementById(j),w),D.icdt.history.push([{type:"size",from:Ot,to:JSON.parse(JSON.stringify({id:j,size:it,attribute:w}))}])},R=(xt,et)=>{let{id:j,type:tt,size:it,attribute:w}=xt,Ot=JSON.parse(JSON.stringify({id:j,size:it,attribute:w}));it.ry=(0,ot.q)(et),Object.assign(w,(0,st.sg)(tt,it)),(0,L.__)(window.document.getElementById(j),w),D.icdt.history.push([{type:"size",from:Ot,to:JSON.parse(JSON.stringify({id:j,size:it,attribute:w}))}])},lt=(xt,et)=>{let{id:j,type:tt,size:it,attribute:w}=xt,Ot=JSON.parse(JSON.stringify({id:j,size:it,attribute:w}));it.rotate=(0,ot.q)(et),Object.assign(w,(0,st.sg)(tt,it)),(0,L.__)(window.document.getElementById(j),w),D.icdt.history.push([{type:"size",from:Ot,to:JSON.parse(JSON.stringify({id:j,size:it,attribute:w}))}])}},6816:(De,Qt,b)=>{"use strict";b.d(Qt,{A:()=>_});var D=b(968),L=b(4981);class st{constructor(O){this._points=[],this._options=O}start(O){this._points.length=0,this._points.push([O.x,O.y]),this._options.start(O)}move(O){this._points.push([O.x,O.y]),this._options.move(O,this._points)}end(){this._options.end(this.offsetLast,this._points)}get offsetFirst(){return this._points.length>=1?{x:(O=this._points[0])[0],y:O[1]}:{x:0,y:0};var O}get offsetLast(){return this._points.length>=1?{x:(O=this._points[this._points.length-1])[0],y:O[1]}:{x:0,y:0};var O}}var ot=b(7797);const _=(U,O,B,k,R)=>{var lt,xt,et;let j=null,tt=0,it=0;U.mouseEvent?(j=U.mouseEvent.target,tt=U.mouseEvent.offsetX,it=U.mouseEvent.offsetY):U.touchEvent&&(j=U.touchEvent.target,U.touchEvent.touches.length&&(tt=U.touchEvent.touches[0].clientX,it=U.touchEvent.touches[0].clientY));let w=null!=B?B:L.icdt.screen.scale,Ot=null!=k?k:L.icdt.screen.position,It=null!=R?R:L.icdt.screen.offset,Et=()=>{};var Y=new st({start:null!==(lt=null==O?void 0:O.start)&&void 0!==lt?lt:Et,move:null!==(xt=null==O?void 0:O.move)&&void 0!==xt?xt:Et,end:null!==(et=null==O?void 0:O.end)&&void 0!==et?et:Et});U.mouseEvent?Y.start((0,ot.p)({x:tt,y:it},w,{x:0,y:0},{x:0,y:0})):U.touchEvent&&Y.start((0,ot.p)({x:tt,y:it},w,Ot,It));let Ct=W=>{Y.move((0,ot.p)({x:W.clientX,y:W.clientY},w,Ot,It))},a=W=>{Y.end(),[D._.SHAPE,D._.FOREIGNOBJECT,D._.IMAGE,D._.TEXT].includes(L.icdt.pointer.pointer_type)&&(W.shiftKey||(L.icdt.pointer.pointer_type=D._.POINTER))},te=W=>{W.touches.length&&Ct({clientX:W.touches[0].clientX,clientY:W.touches[0].clientY})},zt=W=>{a({shiftKey:W.shiftKey,ctrlKey:W.ctrlKey,altKey:W.altKey}),window.removeEventListener("touchmove",te,!1),window.removeEventListener("touchend",zt,!1)},Xt=W=>{0==W.button&&Ct({clientX:W.clientX,clientY:W.clientY})},Ht=W=>{0==W.button&&(a({shiftKey:W.shiftKey,ctrlKey:W.ctrlKey,altKey:W.altKey}),window.removeEventListener("mousemove",Xt,!1),window.removeEventListener("mouseup",Ht,!1))};if(U.mouseEvent)window.addEventListener("mousemove",Xt,!1),window.addEventListener("mouseup",Ht,!1);else if(U.touchEvent){var Ie;window.addEventListener("touchmove",te,!1),window.addEventListener("touchend",zt,!1),null===(Ie=j)||void 0===Ie||Ie.addEventListener("touchmove",function(W){W.preventDefault()})}}},7797:(De,Qt,b)=>{"use strict";b.d(Qt,{p:()=>L});var D=b(5811);const L=(st,ot,G,_)=>(st.x-=_.x,st.y-=_.y,st.x-=G.x,st.y-=G.y,st.x/=ot,st.y/=ot,st.x=(0,D.q)(st.x),st.y=(0,D.q)(st.y),st)},1690:(De,Qt,b)=>{"use strict";b.d(Qt,{$:()=>Zt});var D=b(4981),L=b(9054),st=b(2276),ot=b(5973),G=b(2336),_=b(861),U=b(157),O=b(4787),k=b(1105),R=b(6358);const w=function(mt){var E,ft,St=$("#"+mt),K=null===(E=St.attr("class"))||void 0===E?void 0:E.match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm),at=null===(ft=St.attr("class"))||void 0===ft?void 0:ft.match(/animate((__[a-zA-Z0-9]+)+)?(\s+||\")/gm);K&&K.forEach(function(ct){$(St).removeClass(ct)}),at&&at.forEach(function(ct){$(St).removeClass(ct)});let Q=St.attr("data-class");Q&&(St.attr("class",Q),St.removeAttr("data-class")),$(St).data("animation-running",!1)};var Ot=b(6623),It=b(7210),Et=b(5811);const Y=(mt,E,ft)=>{var St,K,at,Q;let ct=1,Dt=new Image;Dt.onload=()=>{var Ft,vt,Jt,ae;ct=(0,Et.q)(Dt.naturalWidth/Dt.naturalHeight,100);let Te=0,re=0,pe=0,ye=0;var Be,Ce,Ae,Xe;ct>=1?(pe=Math.min(Dt.naturalWidth,null!==(Be=null===(Ce=Zt.slide.svg)||void 0===Ce||null===(Ce=Ce.viewBox)||void 0===Ce?void 0:Ce.width)&&void 0!==Be?Be:0),ye=pe/ct):(ye=Math.min(Dt.naturalHeight,null!==(Ae=null===(Xe=Zt.slide.svg)||void 0===Xe||null===(Xe=Xe.viewBox)||void 0===Xe?void 0:Xe.height)&&void 0!==Ae?Ae:0),pe=ye/ct),Te=((null!==(Ft=null===(vt=Zt.slide.svg)||void 0===vt||null===(vt=vt.viewBox)||void 0===vt?void 0:vt.width)&&void 0!==Ft?Ft:0)-pe)/2,re=((null!==(Jt=null===(ae=Zt.slide.svg)||void 0===ae||null===(ae=ae.viewBox)||void 0===ae?void 0:ae.height)&&void 0!==Jt?Jt:0)-ye)/2,E.size={x:Te,y:re,width:pe,height:ye},Ct(E,ft)},Dt.onerror=Ft=>{console.error(`ImgSrc load failed -> ${JSON.stringify(E.source)}`,Ft)},Dt.src=null!==(St=null!==(K=null===(at=E.source)||void 0===at?void 0:at.url)&&void 0!==K?K:null===(Q=E.source)||void 0===Q?void 0:Q.path)&&void 0!==St?St:""},Ct=(mt,E)=>{if(mt.slideStatus!=Zt.slideStatus)return void E();let{element:ft}=(0,It.G)(Math.ceil(1e9*Math.random()),{size:mt.size,source:{type:"image",image:null==mt?void 0:mt.source}});setTimeout(()=>{null==ft||ft.remove(),E()},3e3)},a=(mt,E,ft)=>{var St,K,at,Q;let ct=new Image;ct.onload=()=>{te(mt,{width:ct.naturalWidth,height:ct.naturalHeight},E,ft)},ct.onerror=Dt=>{console.error(`ImgSrc load failed -> ${JSON.stringify(E.source)}`,Dt),ft()},ct.src=null!==(St=null!==(K=null===(at=E.source)||void 0===at?void 0:at.url)&&void 0!==K?K:null===(Q=E.source)||void 0===Q?void 0:Q.path)&&void 0!==St?St:""},te=(mt,E,ft,St)=>{if(ft.slideStatus!=Zt.slideStatus)return void St();let K=(0,Et.q)(E.width/E.height,100),at=0,Q=0,ct=0,Dt=0;K>=1?(ct=E.width,ct=Math.max(ct,40),ct=Math.min(ct,100),Dt=ct/K):(Dt=E.height,Dt=Math.max(Dt,40),Dt=Math.min(Dt,100),ct=Dt/K);let{size:Ft}=mt;at=Ft.x+Ft.width/2-ct/2,Q=Ft.y+Ft.height/2-Dt/2;let{element:vt}=(0,It.G)(Math.ceil(1e9*Math.random()),{size:{x:at,y:Q,width:ct,height:Dt},source:{type:"image",image:null==ft?void 0:ft.source}});setTimeout(()=>{null==vt||vt.remove(),St()},3e3)};var zt=b(1687),Xt=b(4080);const Ht=(mt,E,ft)=>{var St,K,at;if(E.slideStatus!=Zt.slideStatus)return void ft();if(null===(St=E.source)||void 0===St||!St.url)return console.warn(`${mt.id} -> audio no source!`),void ft();var Q=$("#"+mt.id);let ct=null!==(K=E.iteration)&&void 0!==K?K:0;if(ct<0&&(ft(),ft=function(){}),!(Q.data("audio-running")&&ct<0)){Q.data("audio-running",!0);var Dt=new Audio;return Dt.autoplay=!0,Dt.loop=0!=ct,Dt.preload="auto",Dt.controls=!0,Dt.setAttributeNode(document.createAttribute("playsinline")),Dt.addEventListener("canplay",function(){var Ft=Dt.play();Ft&&Ft.then(function(vt){Q.data("audio-running",!0)}).catch(function(vt){Q.data("audio-running",!1),E.slideStatus===Zt.slideStatus&&ft()})}),Dt.addEventListener("timeupdate",function(){var vt;E.slideStatus!==Zt.slideStatus&&((vt=this).pause(),vt.remove(),Q.data("audio-running",!1))}),Dt.addEventListener("canplaythrough",function(){this.loop&&(ct>0?ct--:0==ct&&(this.loop=!1))}),Dt.addEventListener("play",function(){}),Dt.addEventListener("pause",function(){}),Dt.addEventListener("ended",function(){this.remove(),Q.data("audio-running",!1),E.slideStatus===Zt.slideStatus&&ft()}),Dt.onerror=function(){this.remove(),Q.data("audio-running",!1),E.slideStatus===Zt.slideStatus&&ft()},Dt.src=(null===(at=E.source)||void 0===at?void 0:at.url)||"",Dt}},Rt=(mt,E,ft)=>{var St;null===(St=E.test)||void 0===St||null===(St=St.answer)||void 0===St||null===(St=St.matching)||void 0===St||St.filter(K=>K.value==ft.key).forEach(K=>K.value="")},Se=(mt,E,ft,St,K,at)=>{var Q,ct,Dt,Ft,vt,Jt,ae,Te,re,pe,ye,Be;K.iscorrect?(null!==(Q=E.test)&&void 0!==Q&&null!==(Q=Q.audiotrue)&&void 0!==Q&&Q.path&&Ht(mt,{source:(0,Ot.I)(null===(Ft=E.test)||void 0===Ft?void 0:Ft.audiotrue),iteration:0,nodeStatus:ft,slideStatus:St},at),null!==(ct=E.test)&&void 0!==ct&&null!==(ct=ct.icontrue)&&void 0!==ct&&ct.path&&a(mt,{source:(0,Ot.I)(null===(vt=E.test)||void 0===vt?void 0:vt.icontrue),iteration:0,nodeStatus:ft,slideStatus:St},at),null!==(Dt=E.test)&&void 0!==Dt&&null!==(Dt=Dt.effecttrue)&&void 0!==Dt&&Dt.path&&Y(0,{source:(0,Ot.I)(null===(Jt=E.test)||void 0===Jt?void 0:Jt.effecttrue),iteration:0,nodeStatus:ft,slideStatus:St},at)):(null!==(ae=E.test)&&void 0!==ae&&null!==(ae=ae.audiofalse)&&void 0!==ae&&ae.path&&Ht(mt,{source:(0,Ot.I)(null===(pe=E.test)||void 0===pe?void 0:pe.audiofalse),iteration:0,nodeStatus:ft,slideStatus:St},at),null!==(Te=E.test)&&void 0!==Te&&null!==(Te=Te.iconfalse)&&void 0!==Te&&Te.path&&a(mt,{source:(0,Ot.I)(null===(ye=E.test)||void 0===ye?void 0:ye.iconfalse),iteration:0,nodeStatus:ft,slideStatus:St},at),null!==(re=E.test)&&void 0!==re&&null!==(re=re.effectfalse)&&void 0!==re&&re.path&&Y(0,{source:(0,Ot.I)(null===(Be=E.test)||void 0===Be?void 0:Be.effectfalse),iteration:0,nodeStatus:ft,slideStatus:St},at))},nt=(mt,E,ft,St)=>{var K,at,Q,ct,Dt;E.animate&&((mt,E,ft)=>{var St;let{value:at}=null!==(St=mt.animate)&&void 0!==St?St:{};((mt,E,ft)=>{var St;let K=$("#"+mt),at="",Q=null!==(St=E.iteration)&&void 0!==St?St:0,ct=[];(E.value||"").match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm)?ct.push(E.value):E.value?["top-left","top","top-right","left","right","bottom-left","bottom","bottom-right"].includes(E.value)?(ct.push("animation"),ct.push(`animation-${E.value}`)):(ct.push("animate__animated"),ct.push(`animate__${E.value}`)):(ct.push("animation"),ct.push("animation-fadein")),Q<0?(ct.push("animation-iteration-infinite"),ft(),ft=function(){}):Q>0&&ct.push("animation-iteration-"+(Q+1)),at=ct.join(" "),function(Ft){let vt=function(){K.data("animate-running")?K.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){K.data("animate-running",!1),setTimeout(function(){Ft()},100)}):Ft()};K.hasClass("animation")?setTimeout(function(){vt()}):vt()}(function(){var Ft;w(mt),(Q>0||Q<0)&&K.one("animationiteration",function(){E.slideStatus===Zt.slideStatus||(K.data("animate-running",!1),w(mt),E.slideStatus===Zt.slideStatus&&ft())}),K.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){switch(K.data("animate-running",!1),w(mt),E.finish){default:case 0:case 1:break;case 2:K.addClass("hide")}E.slideStatus===Zt.slideStatus&&ft()}),K.attr("data-class",null!==(Ft=K.attr("class"))&&void 0!==Ft?Ft:""),K.addClass(at),K.data("animate-running",!0)})})(mt.id,{value:at,nodeStatus:E,slideStatus:ft},()=>{})})(E,ft.nodeStatus,ft.slideStatus),null!==(K=E.interactive)&&void 0!==K&&K.show?((mt,E,ft,St)=>{var K,at,Q;console.log("icdt_Run_Interactive_NodeShow",mt,E,ft);let ct={total:0,counter:0},{triggershow:Dt,triggerrun:Ft,triggerhide:vt,action:Jt,audio:ae}=null!==(K=null===(at=mt.interactive)||void 0===at?void 0:at.show)&&void 0!==K?K:{};if(Dt){let{id:re,ids:pe,time:ye,async:Be}=Dt;"asynctrue"==Be?(0,O.L5)({id:re,ids:pe,nodeStatus:E,slideStatus:ft}):"time"==Be&&setTimeout(()=>{(0,O.L5)({id:re,ids:pe,nodeStatus:E,slideStatus:ft})},1e3*(null!=ye?ye:0))}if(Ft){let{id:re,ids:pe,time:ye,async:Be}=Ft;"asynctrue"==Be?(0,O.Ar)({id:re,ids:pe,nodeStatus:E,slideStatus:ft}):"time"==Be&&setTimeout(()=>{(0,O.Ar)({id:re,ids:pe,nodeStatus:E,slideStatus:ft})},1e3*(null!=ye?ye:0))}if(vt){let{id:re,ids:pe,time:ye,async:Be}=vt;"asynctrue"==Be?(0,O.WT)({id:re,ids:pe,nodeStatus:E,slideStatus:ft}):"time"==Be&&setTimeout(()=>{(0,O.WT)({id:re,ids:pe,nodeStatus:E,slideStatus:ft})},1e3*(null!=ye?ye:0))}let Te=()=>{setTimeout(()=>{if(ct.counter>=ct.total){if(St&&St(),Dt){let{id:re,ids:pe,async:ye}=Dt;"asyncfalse"==ye&&(0,O.L5)({id:re,ids:pe,nodeStatus:E,slideStatus:ft})}if(Ft){let{id:re,ids:pe,async:ye}=Ft;"asyncfalse"==ye&&(0,O.Ar)({id:re,ids:pe,nodeStatus:E,slideStatus:ft})}if(vt){let{id:re,ids:pe,async:ye}=vt;"asyncfalse"==ye&&(0,O.WT)({id:re,ids:pe,nodeStatus:E,slideStatus:ft})}}})};if(Jt&&null!=Jt&&Jt.value){ct.total+=1;let re=()=>{ct.counter+=1,Te()};switch(null==Jt?void 0:Jt.value){case"hide":$("#"+mt.id).addClass("hide"),re();break;case"points":{let{points:pe,time:ye,iteration:Be,finish:Ce}=Jt;(0,_.G)(mt.id,{points:pe,time:ye,iteration:Be,finish:Ce,nodeStatus:E,slideStatus:ft},re);break}default:{let{value:pe,time:ye,iteration:Be,finish:Ce}=Jt;(0,G.Q)(mt.id,{value:pe,time:ye,iteration:Be,finish:Ce,nodeStatus:E,slideStatus:ft},re);break}}}if(ae&&null!==(Q=ae.source)&&void 0!==Q&&Q.path){ct.total+=1;let re=()=>{ct.counter+=1,Te()};(0,U.R)(mt.id,ae,ct,{nodeStatus:E,slideStatus:ft},re)}ct.total||Te()})(E,ft.nodeStatus,ft.slideStatus,St):St&&St(),null!==(at=E.interactive)&&void 0!==at&&at.click&&st("#"+E.id).click(Ft=>{var vt;Ft.preventDefault(),null!==(vt=E.interactive)&&void 0!==vt&&null!==(vt=vt.click)&&void 0!==vt&&vt.action&&st("#"+E.id).addClass("interactive-click"),ft.nodeStatus=Zt.refreshNodeStatus(),(0,ot.F)(E,ft.nodeStatus,ft.slideStatus)}),null!==(Q=E.variable)&&void 0!==Q&&Q.input&&st("#"+E.id).on("change","input,textarea",Ft=>{Ft.preventDefault(),((mt,E,ft)=>{var St,K;D.icdt.variable.setValue(null!==(St=null===(K=E.variable)||void 0===K||null===(K=K.input)||void 0===K?void 0:K.variable)&&void 0!==St?St:"",mt),(mt=>{var E;let ft=(St,K)=>{null==St||St.forEach(at=>{switch(at.type){case L.$.GROUP:(0,R.m)(at.id,{},K),ft(at.nodes,at.id);break;case L.$.POLYGON:break;case L.$.TEXT:(0,k.$)(at.id,{size:at.size,attribute:at.attribute,source:at.source},K)}})};ft(null===(E=mt.svg)||void 0===E?void 0:E.nodes)})(ft)})(Ft.target.value,E,mt)}),null!==(ct=E.variable)&&void 0!==ct&&ct.click&&st("#"+E.id).click(Ft=>{var vt;Ft.preventDefault(),null!==(vt=E.variable)&&void 0!==vt&&null!==(vt=vt.click)&&void 0!==vt&&vt.variable&&st("#"+E.id).addClass("variable-click"),((mt,E)=>{var ft;D.icdt.variable.setValueOperator(null===(ft=mt.variable)||void 0===ft?void 0:ft.click),(mt=>{var E;let ft=(St,K)=>{null==St||St.forEach(at=>{switch(at.type){case L.$.GROUP:(0,R.m)(at.id,{},K),ft(at.nodes,at.id);break;case L.$.POLYGON:break;case L.$.TEXT:(0,k.$)(at.id,{size:at.size,attribute:at.attribute,source:at.source},K)}})};ft(null===(E=mt.svg)||void 0===E?void 0:E.nodes)})(E)})(E,mt)}),"test"==(null===(Dt=E.source)||void 0===Dt?void 0:Dt.type)&&((mt,E)=>{var ft;let St=()=>{};switch(null===(ft=mt.source)||void 0===ft||null===(ft=ft.test)||void 0===ft?void 0:ft.type){case"singlechoice":jQuery("#"+mt.id).click(K=>{K.preventDefault(),((mt,E,ft,St,K)=>{var at,Q;let ct=null===(at=mt.source)||void 0===at||null===(at=at.test)||void 0===at||null===(at=at.singlechoice)||void 0===at?void 0:at.iscorrect;null!==(Q=E.svg)&&void 0!==Q&&Q.nodes.find(Ft=>{var vt;return"submit"==(null===(vt=Ft.source)||void 0===vt||null===(vt=vt.test)||void 0===vt?void 0:vt.type)})||Se(mt,E,ft,St,{iscorrect:ct},K),E.test?E.test.answer?E.test.answer.singlechoice={value:mt.id,iscorrect:ct}:E.test.answer={singlechoice:{value:mt.id,iscorrect:ct}}:E.test={answer:{singlechoice:{value:mt.id,iscorrect:ct}}};let Dt=(0,Xt.g1)(zt.O.TEST_GROUP,"g",void 0,D.icdt.target);(0,Xt.Yw)(Dt,E),console.log("node source ->",mt.source),console.log("slide test ->",E.test)})(mt,E,Zt.nodeStatus,Zt.slideStatus,St)});break;case"multichoice":jQuery("#"+mt.id).click(K=>{K.preventDefault(),((mt,E,ft,St,K)=>{var at,Q;let Dt,ct=null===(at=mt.source)||void 0===at||null===(at=at.test)||void 0===at||null===(at=at.multichoice)||void 0===at?void 0:at.iscorrect;null!==(Q=E.svg)&&void 0!==Q&&Q.nodes.find(vt=>{var Jt;return"submit"==(null===(Jt=vt.source)||void 0===Jt||null===(Jt=Jt.test)||void 0===Jt?void 0:Jt.type)})||Se(mt,E,ft,St,{iscorrect:ct},K),E.test?E.test.answer?E.test.answer.multichoice?E.test.answer.multichoice.find(vt=>vt.value==mt.id)?(E.test.answer.multichoice=E.test.answer.multichoice.filter(vt=>vt.value!=mt.id),Dt=!0):E.test.answer.multichoice.push({value:mt.id,iscorrect:ct}):E.test.answer.multichoice=[{value:mt.id,iscorrect:ct}]:E.test.answer={multichoice:[{value:mt.id,iscorrect:ct}]}:E.test={answer:{multichoice:[{value:mt.id,iscorrect:ct}]}};let Ft=(0,Xt.g1)(zt.O.TEST_GROUP,"g",void 0,D.icdt.target);(0,Xt.Yw)(Ft,E),console.log("node source ->",mt.source),console.log("slide test ->",E.test)})(mt,E,Zt.nodeStatus,Zt.slideStatus,St)});break;case"fill":jQuery("#"+mt.id).on("keyup",'input[type="text"]',K=>{var at;let Q=$("<div/>").css({"font-size":$(K.target).css("font-size"),visibility:"hidden",float:"left"}).text(K.target.value).appendTo(window.document.body);$(K.target).css({width:(null!==(at=Q.width())&&void 0!==at?at:0)+30})}).on("keypress",'input[type="text"]',K=>{13===(K.keyCode||K.charCode||K.which)&&(K.preventDefault(),K.stopPropagation(),$(K.target).blur())}).on("change",'input[type="text"]',K=>{var at,Q;let ct=Zt.nodeStatus,Dt=Zt.slideStatus,Ft=null===(at=K.target)||void 0===at?void 0:at.getAttribute("data-key"),vt=null===(Q=K.target)||void 0===Q||null===(Q=Q.value)||void 0===Q||null===(Q=Q.toLowerCase())||void 0===Q?void 0:Q.trim();((mt,E,ft,St,K,at)=>{var Q,ct,Dt;let{value:Ft}=null!==(Q=null===(ct=mt.source)||void 0===ct||null===(ct=ct.test)||void 0===ct||null===(ct=ct.fill)||void 0===ct?void 0:ct.find(Jt=>Jt.key==`[[${K.key}]]`))&&void 0!==Q?Q:{},vt=Ft&&Ft.includes(K.value);null!==(Dt=E.svg)&&void 0!==Dt&&Dt.nodes.find(Jt=>{var ae;return"submit"==(null===(ae=Jt.source)||void 0===ae||null===(ae=ae.test)||void 0===ae?void 0:ae.type)})||Se(mt,E,ft,St,{iscorrect:vt},at),K.iscorrect=vt,E.test?E.test.answer?E.test.answer.fill?E.test.answer.fill.find(Jt=>Jt.key==K.key)?E.test.answer.fill.filter(Jt=>Jt.key==K.key).forEach(Jt=>{Jt.value=K.value,Jt.iscorrect=K.iscorrect}):E.test.answer.fill.push(K):E.test.answer.fill=[K]:E.test.answer={fill:[K]}:E.test={answer:{fill:[K]}},console.log("node source ->",mt.source),console.log("slide test ->",E.test)})(mt,E,ct,Dt,{key:Ft,value:vt},St),jQuery("#"+mt.id).find(`input[type="text"][data-key="${Ft}"]`).val(vt)});break;case"matching-empty":jQuery("#"+mt.id).on("touchmove",".ondrag-item",function(K){K.preventDefault()}).kendoDraggable({filter:".ondrag-item",hint:function(K){return`<div style="width:64px;height:${mt.size.height/mt.size.width*64}px;border-radius:8px;border:1px dashed #DADADA;padding:8px;box-sizing:content-box;background-color:rgba(255,255,255,0.4);">${K.prop("outerHTML")}</div>`.replace(/\s+/g," ")},dragstart:function(K){$('svg foreignObject .ondrop-here[data-type="matching"]:empty').addClass("actived")},drag:function(K){},dragend:function(K){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")},dragcancel:function(){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")}}),jQuery(`#${mt.id} .ondrop-here`).kendoDropTarget({dragenter:function(K){K.dropTarget.hasClass("actived")&&K.dropTarget.addClass("focused")},dragleave:function(K){K.dropTarget.hasClass("actived")&&K.dropTarget.removeClass("focused")},drop:function(K){if(!K.dropTarget.hasClass("actived"))return;K.dropTarget.removeClass("focused");let Q=K.draggable.currentTarget;Q.appendTo(K.dropTarget),((mt,E,ft,St,K,at)=>{var Q,ct,Dt;let{key:Ft}=null!==(Q=null===(ct=mt.source)||void 0===ct||null===(ct=ct.test)||void 0===ct?void 0:ct.matching)&&void 0!==Q?Q:{key:"KIEN"},vt=K.key==Ft;null!==(Dt=E.svg)&&void 0!==Dt&&Dt.nodes.find(ae=>{var Te;return"submit"==(null===(Te=ae.source)||void 0===Te||null===(Te=Te.test)||void 0===Te?void 0:Te.type)})||Se(mt,E,ft,St,{iscorrect:vt},at),Rt(mt,E,K);let Jt={key:null!=Ft?Ft:"",value:K.key};E.test?E.test.answer?E.test.answer.matching?E.test.answer.matching.find(ae=>ae.key==Ft)?E.test.answer.matching.filter(ae=>ae.key==Ft).forEach(ae=>ae.value=Jt.value):E.test.answer.matching.push(Jt):E.test.answer.matching=[Jt]:E.test.answer={matching:[Jt]}:E.test={answer:{matching:[Jt]}},console.log("node source ->",mt.source),console.log("slide test ->",E.test)})(mt,E,Zt.nodeStatus,Zt.slideStatus,{key:Q.data("key")},St)}});break;case"matching-content":jQuery("#"+mt.id).on("touchmove",".ondrag-item",function(K){K.preventDefault()}).kendoDraggable({filter:".ondrag-item",hint:function(K){return`<div style="width:64px;height:${mt.size.height/mt.size.width*64}px;border-radius:8px;border:1px dashed #DADADA;padding:8px;box-sizing:content-box;background-color:rgba(255,255,255,0.4);">${K.prop("outerHTML")}</div>`.replace(/\s+/g," ")},dragstart:function(K){$('svg foreignObject .ondrop-here[data-type="matching"]:empty').addClass("actived")},drag:function(K){},dragend:function(K){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")},dragcancel:function(){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")}}),jQuery(`#${mt.id} .ondrop-here`).kendoDropTarget({dragenter:function(K){K.dropTarget.hasClass("actived")&&K.dropTarget.addClass("focused")},dragleave:function(K){K.dropTarget.hasClass("actived")&&K.dropTarget.removeClass("focused")},drop:function(K){if(!K.dropTarget.hasClass("actived"))return;K.dropTarget.removeClass("focused");let Q=K.draggable.currentTarget;Q.appendTo(K.dropTarget),Rt(mt,E,{key:Q.data("key")})}});break;case"speech":break;case"submit":jQuery("#"+mt.id).click(K=>{K.preventDefault(),((mt,E,ft,St,K)=>{var at,Q,ct,Dt;let Ft;var vt;if(null!=E&&null!==(at=E.test)&&void 0!==at&&null!==(at=at.answer)&&void 0!==at&&at.singlechoice)Ft=null==E||null===(vt=E.test)||void 0===vt||null===(vt=vt.answer)||void 0===vt||null===(vt=vt.singlechoice)||void 0===vt?void 0:vt.iscorrect;else if(null!=E&&null!==(Q=E.test)&&void 0!==Q&&null!==(Q=Q.answer)&&void 0!==Q&&Q.multichoice){var Jt,ae,Te;Ft=1==[null==E||null===(Jt=E.test)||void 0===Jt||null===(Jt=Jt.answer)||void 0===Jt||null===(Jt=Jt.multichoice)||void 0===Jt?void 0:Jt.length,null==E||null===(ae=E.test)||void 0===ae||null===(ae=ae.answer)||void 0===ae||null===(ae=ae.multichoice)||void 0===ae||null===(ae=ae.map(Ce=>Ce.iscorrect?1:0))||void 0===ae?void 0:ae.reduce((Ce,Ae)=>Ce+Ae),null==E||null===(Te=E.svg)||void 0===Te||null===(Te=Te.nodes)||void 0===Te||null===(Te=Te.filter(Ce=>{var Ae,Xe;return"multichoice"==(null===(Ae=Ce.source)||void 0===Ae||null===(Ae=Ae.test)||void 0===Ae?void 0:Ae.type)&&(null===(Xe=Ce.source)||void 0===Xe||null===(Xe=Xe.test)||void 0===Xe||null===(Xe=Xe.multichoice)||void 0===Xe?void 0:Xe.iscorrect)}))||void 0===Te?void 0:Te.length].filter((Ce,Ae,Xe)=>Xe.indexOf(Ce)==Ae).length}else if(null!=E&&null!==(ct=E.test)&&void 0!==ct&&null!==(ct=ct.answer)&&void 0!==ct&&ct.fill){var re,pe;Ft=(null==E||null===(re=E.test)||void 0===re||null===(re=re.answer)||void 0===re||null===(re=re.fill)||void 0===re||null===(re=re.map(Ce=>Ce.iscorrect?1:0))||void 0===re?void 0:re.reduce((Ce,Ae)=>Ce+Ae))==(null===(pe=E.svg)||void 0===pe||null===(pe=pe.nodes)||void 0===pe||null===(pe=pe.filter(Ce=>{var Ae;return"fill"==(null===(Ae=Ce.source)||void 0===Ae||null===(Ae=Ae.test)||void 0===Ae?void 0:Ae.type)}))||void 0===pe?void 0:pe.length)}else if(null!=E&&null!==(Dt=E.test)&&void 0!==Dt&&null!==(Dt=Dt.answer)&&void 0!==Dt&&Dt.matching){var ye,Be;Ft=(null===(ye=E.svg)||void 0===ye||null===(ye=ye.nodes)||void 0===ye||null===(ye=ye.filter(Ce=>{var Ae;return"matching-empty"==(null===(Ae=Ce.source)||void 0===Ae||null===(Ae=Ae.test)||void 0===Ae?void 0:Ae.type)}))||void 0===ye?void 0:ye.length)==((null==E||null===(Be=E.test)||void 0===Be||null===(Be=Be.answer)||void 0===Be?void 0:Be.matching)||[]).map(Ce=>Ce.key==Ce.value?1:0).reduce((Ce,Ae)=>Ce+Ae)}Se(mt,E,ft,St,{iscorrect:Ft},K),console.log("node source ->",mt.source),console.log("slide test ->",E.test)})(mt,E,Zt.nodeStatus,Zt.slideStatus,St)})}})(E,mt)};var dt=b(8619),y=b(8785),rt=b(4921),Mt=b(8054),Lt=b(2282),ee=b(2875),ce=b(8419);const ue=(mt,E,ft)=>{if(ft.slideStatus!=Zt.slideStatus||!E.length)return;let St=E.shift(),K=mt.filter(Dt=>Dt.idx==St);if(!K.length)return;let at=Math.max.apply(null,K.map(Dt=>{var Ft;return null!==(Ft=Dt.time)&&void 0!==Ft?Ft:0})),Q=!1,ct=at<.5?0:setTimeout(()=>{Q||(Q=!0,ue(mt,E,ft))},1e3*at);We(mt,E,K,0,ft,{idx:St,total:K.length,counter:0,isRecursive:Q,timeoutRecursive:ct,maxTimeCoundown:at,uid:Math.floor(1e9*Math.random())})},We=(mt,E,ft,St,K,at)=>{if(K.slideStatus!=Zt.slideStatus)return;let Q=ft[St];if(Q){switch(Q.type){case L.$.GROUP:break;case L.$.CIRCLE:(0,dt._)(Q.id,{size:Q.size,attribute:Q.attribute},K.pId?window.document.getElementById(K.pId):null);break;case L.$.ELLIPSE:(0,y.r)(Q.id,{size:Q.size,attribute:Q.attribute},K.pId);break;case L.$.LINE:(0,rt.W)(Q.id,{size:Q.size,attribute:Q.attribute},K.pId);break;case L.$.RECT:(0,Mt.f)(Q.id,{size:Q.size,attribute:Q.attribute},K.pId?window.document.getElementById(K.pId):null);break;case L.$.POLYGON:(0,Lt.l)(Q.id,{size:Q.size,attribute:Q.attribute},K.pId);break;case L.$.FOREIGNOBJECT:(0,ee.e)(Q.id,{size:Q.size,attribute:Q.attribute,style:Q.style,source:Q.source},K.pId?window.document.getElementById(K.pId):null);break;case L.$.IMAGE:(0,It.G)(Q.id,{size:Q.size,attribute:Q.attribute,source:Q.source},K.pId?window.document.getElementById(K.pId):null);break;case L.$.TEXT:(0,k.$)(Q.id,{size:Q.size,attribute:Q.attribute,source:Q.source},K.pId);break;case L.$.PATH:(0,ce.G)(Q.id,{size:Q.size,attribute:Q.attribute},K.pId)}nt(K.slide,Q,K,()=>{at.counter+=1,at.maxTimeCoundown<.5&&at.counter>=at.total&&(at.total=at.counter=0,at.isRecursive||(clearTimeout(at.timeoutRecursive),at.isRecursive=!0,setTimeout(()=>{ue(mt,E,K)},250)))}),We(mt,E,ft,++St,K,at)}},Zt=new class Ne{constructor(){this._nodeStatus=0,this._slideStatus=0,this._slideIdx=0,this._fnChangeSlides=[]}set data(E){this._dataSource=E.data||{},D.icdt.variable.set=E.variable||{}}get nodeStatus(){return this._nodeStatus}refreshNodeStatus(){return this._nodeStatus=Math.floor(999999999*Math.random()),this._nodeStatus}get slideStatus(){return this._slideStatus}refreshSlideStatus(){return this._slideStatus=Math.floor(999999999*Math.random()),this._slideStatus}get slideIdx(){return this._slideIdx}get slideTotal(){var E,ft;return null!==(E=null===(ft=this._dataSource)||void 0===ft||null===(ft=ft.slides)||void 0===ft?void 0:ft.length)&&void 0!==E?E:0}get slides(){var E;return(null===(E=this._dataSource)||void 0===E?void 0:E.slides)||[]}get slide(){var E;return((null===(E=this._dataSource)||void 0===E?void 0:E.slides)||[])[this._slideIdx]||{}}findNode(E){var ft;let St=null===(ft=this._dataSource)||void 0===ft||null===(ft=ft.slides)||void 0===ft?void 0:ft.find((ae,Te)=>Te==this._slideIdx),K=null==St?void 0:St.svg,at=(ae,Te)=>{let re=null==ae?void 0:ae.find(Be=>Be.id==E);if(re)return re.pid=Te,re;let pe=0,ye=ae.length||0;for(;pe<ye&&!re&&(re=at(ae[pe].nodes||[],ae[pe].id),!re);)pe++;return re},Q=at((null==K?void 0:K.nodes)||[]);var ct,Dt,Ft,vt,Jt;return Q?(Q.style=null!==(ct=Q.style)&&void 0!==ct?ct:{},Q.source=null!==(Dt=Q.source)&&void 0!==Dt?Dt:{},Q.animate=null!==(Ft=Q.animate)&&void 0!==Ft?Ft:{},Q.interactive=null!==(vt=Q.interactive)&&void 0!==vt?vt:{},Q.variable=null!==(Jt=Q.variable)&&void 0!==Jt?Jt:{},Q):{id:0,size:{x:0,y:0,width:0,height:0},attribute:{},isfake:!0}}runSlide(E,ft,St){var K;let at;var Q,ct;if(this.refreshNodeStatus(),this.refreshSlideStatus(),St)at=null===(Q=this._dataSource)||void 0===Q||null===(Q=Q.slides)||void 0===Q?void 0:Q.find(Jt=>Jt.code==St||Jt.id==St),at&&(this._slideIdx=(null===(ct=this._dataSource)||void 0===ct||null===(ct=ct.slides)||void 0===ct?void 0:ct.indexOf(at))||0);else if(ft){var Dt,Ft;at=null===(Dt=this._dataSource)||void 0===Dt||null===(Dt=Dt.slides)||void 0===Dt?void 0:Dt.find(Jt=>Jt.id==ft),at&&(this._slideIdx=(null===(Ft=this._dataSource)||void 0===Ft||null===(Ft=Ft.slides)||void 0===Ft?void 0:Ft.indexOf(at))||0)}else this._slideIdx=Math.min(Math.max(E||0,0),this.slideTotal-1),at=this.slide;if(at){var vt;je(D.icdt.container,D.icdt.svg,at),null===(vt=$(D.icdt.svg).find("#"+zt.O.BACKGROUND_GROUP))||void 0===vt||vt.empty();let Jt=(0,Xt.g1)(zt.O.BACKGROUND_GROUP,"g",void 0,D.icdt.svg);(0,Xt.x0)(Jt,at),(mt=>{var E,ft,St;let K=Zt.nodeStatus,at=Zt.slideStatus,Q=null===(E=mt.svg)||void 0===E||null===(E=E.nodes)||void 0===E?void 0:E.map(ct=>ct.idx).filter((ct,Dt,Ft)=>Ft.indexOf(ct)==Dt).sort((ct,Dt)=>(null!=ct?ct:0)-(null!=Dt?Dt:0));ue(null!==(ft=null===(St=mt.svg)||void 0===St?void 0:St.nodes)&&void 0!==ft?ft:[],null!=Q?Q:[],{slide:mt,nodeStatus:K,slideStatus:at})})(at)}this.changeSlide(this.slides,null===(K=this.slide)||void 0===K?void 0:K.id,this.slideIdx,this.slides.length)}set onChangeSlide(E){this._fnChangeSlides.push(E)}changeSlide(E,ft,St,K){this._fnChangeSlides.forEach(at=>at(E,ft,St,K))}},je=(mt,E,ft)=>{var St,K,at,Q;let ct=window.document.querySelector(E);var Dt;ct||(ct=document.createElementNS("http://www.w3.org/2000/svg","svg"),null===(Dt=window.document.querySelector(mt))||void 0===Dt||Dt.appendChild(ct)),ct.textContent=null;let{x:Ft,y:vt,width:Jt,height:ae}=null!==(St=null==ft||null===(K=ft.svg)||void 0===K?void 0:K.viewBox)&&void 0!==St?St:{x:0,y:0,width:null!==(at=D.icdt.screen.default_width)&&void 0!==at?at:1080,height:null!==(Q=D.icdt.screen.default_height)&&void 0!==Q?Q:1080};ct.setAttributeNS(null,"viewBox",Ft+" "+vt+" "+Jt+" "+ae),ct.setAttribute("id",E.replace("#",""))}},2336:(De,Qt,b)=>{"use strict";b.d(Qt,{Q:()=>L});var D=b(1690);const L=(ot,G,_)=>{var U;if(!G.value)return void _();let O=$("#"+ot),B="",k=null!==(U=G.iteration)&&void 0!==U?U:0,R=[];(G.value||"").match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm)?R.push(G.value):(R.push("animation"),R.push(G.value?"animation-"+G.value:"animation-fadein")),k<0?(R.push("animation-iteration-infinite"),_(),_=function(){}):k>0&&R.push("animation-iteration-"+(k+1)),B=R.join(" "),function(xt){let et=function(){O.data("animate-running")?O.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){O.data("animate-running",!1),setTimeout(function(){xt()},100)}):xt()};O.hasClass("animation")?setTimeout(function(){et()}):et()}(function(){var xt;st(ot),(k>0||k<0)&&O.one("animationiteration",function(){G.slideStatus===D.$.slideStatus||(O.data("animate-running",!1),st(ot),G.slideStatus===D.$.slideStatus&&_())}),O.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){switch(O.data("animate-running",!1),st(ot),G.finish){default:case 0:case 1:break;case 2:O.addClass("hide")}G.slideStatus===D.$.slideStatus&&_()}),O.attr("data-class",null!==(xt=O.attr("class"))&&void 0!==xt?xt:""),O.addClass(B),O.data("animate-running",!0)})},st=function(ot){var G,_=$("#"+ot),U=null===(G=_.attr("class"))||void 0===G?void 0:G.match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm);U&&U.forEach(function(B){$(_).removeClass(B)});let O=_.attr("data-class");O&&(_.attr("class",O),_.removeAttr("data-class")),$(_).data("animation-running",!1)}},861:(De,Qt,b)=>{"use strict";b.d(Qt,{G:()=>ot});var D=b(4318),L=b(1690),st=b(4080);const ot=(_,U,O)=>{var B;if(!U.points||!U.points.length)return void O();let k=$("#"+_),R=function G(_){let U=[];2===_.length&&_.splice(1,0,[(_[0][0]+_[1][0])/2,(_[0][1]+_[1][1])/2]);let lt,xt,et,O=1,B=_.length;for(;O<B;){if(lt=_[O-1],xt=_[O],et=_[O+1],(Math.abs(lt[0]-xt[0])>=15||Math.abs(lt[1]-xt[1])>=15)&&Math.pow(lt[0]-xt[0],2)+Math.pow(lt[1]-xt[1],2)>=Math.pow(15,2)&&et&&(Math.abs(lt[0]-et[0])<=20||Math.abs(lt[1]-et[1])<=20)&&Math.pow(lt[0]-et[0],2)+Math.pow(lt[1]-et[1],2)<=Math.pow(20,2))U.push(xt);else{let tt=xt[0]-lt[0],it=xt[1]-lt[1],w=Math.max(Math.abs(tt),Math.abs(it));for(var j=0;j<w;j+=15)U.push([lt[0]+tt*j/w,lt[1]+it*j/w])}O++}return B>0&&(U.splice(0,0,_[0]),U.push(_[B-1])),U}(U.points||[]),lt=null!==(B=U.iteration)&&void 0!==B?B:0;if(lt<0&&(O(),O=function(){}),k.data("work-running")&&lt<0)return;k.data("work-running",!0);let Ot,xt=R.length,et=Math.max(20,1e3*(U.time||3)/xt),{id:j,type:tt,size:it,attribute:w}=L.$.findNode(_),It=function(Et){if(U.slideStatus!==L.$.slideStatus)return k.data("work-running",!1),void(U.slideStatus===L.$.slideStatus&&O());if(Et<xt){let Y=R[Et];Y&&(Ot=Object.assign({},it,{x:Y[0]-it.width/2,y:Y[1]-it.height/2}),Object.assign(w,(0,D.sg)(tt,Ot)),(0,st.__)(window.document.getElementById(j),w),setTimeout(function(){It(++Et)},et))}else if(lt>0)lt--,It(1);else if(lt<0)It(1);else switch(k.data("work-running",!1),U.slideStatus===L.$.slideStatus&&O(),U.finish){default:case 0:break;case 1:Object.assign(w,(0,D.sg)(tt,it)),(0,st.__)(window.document.getElementById(j),w);break;case 2:k.addClass("hide")}};It(1)}},157:(De,Qt,b)=>{"use strict";b.d(Qt,{R:()=>L});var D=b(1690);const L=(ot,G,_,U,O)=>{var B,k,R;if(U.slideStatus!=D.$.slideStatus)return G.async&&"change-slide"!=G.async?void 0:void O();if(U.nodeStatus!=D.$.nodeStatus&&(!G.async||"change-node"==G.async))return void O();if(null===(B=G.source)||void 0===B||!B.url)return console.warn(`${ot} -> audio no source!`),O(),void(O=()=>{});var lt=$("#"+ot);let xt=null!==(k=G.iteration)&&void 0!==k?k:0;if(xt<0&&(O(),O=function(){}),!(lt.data("audio-running")&&xt<0)){lt.data("audio-running",!0);var et=function(tt){tt.pause(),tt.remove(),lt.data("audio-running",!1)},j=new Audio;return j.autoplay=!0,j.loop=0!=xt,j.preload="auto",j.controls=!0,j.setAttributeNode(document.createAttribute("playsinline")),j.addEventListener("canplay",function(){var tt=j.play();tt&&tt.then(function(it){var w;lt.data("audio-running",!0),"time"==G.async?setTimeout(()=>{et(j),O(),O=()=>{}},1e3*(null!==(w=G.time)&&void 0!==w?w:1)):"non-stop"==G.async&&(O(),O=()=>{})}).catch(function(it){lt.data("audio-running",!1),U.slideStatus===D.$.slideStatus&&(O(),O=()=>{})})}),j.addEventListener("timeupdate",function(){switch(G.async){case"time":case"non-stop":break;case"finish-action":_.total>=2&&_.total-_.counter==1&&(et(this),O(),O=()=>{});break;default:case"change-node":U.nodeStatus!==D.$.nodeStatus&&(et(this),O(),O=()=>{});break;case"change-slide":U.slideStatus!==D.$.slideStatus&&(et(this),O(),O=()=>{})}}),j.addEventListener("canplaythrough",function(){this.loop&&(xt>0?xt--:0==xt&&(this.loop=!1))}),j.addEventListener("play",function(){}),j.addEventListener("pause",function(){}),j.addEventListener("ended",function(){this.remove(),lt.data("audio-running",!1),U.slideStatus===D.$.slideStatus&&(O(),O=()=>{})}),j.onerror=function(){this.remove(),lt.data("audio-running",!1),U.slideStatus===D.$.slideStatus&&(O(),O=()=>{})},j.src=(null===(R=G.source)||void 0===R?void 0:R.url)||"",j}}},5973:(De,Qt,b)=>{"use strict";b.d(Qt,{F:()=>O});var D=b(3217),L=b(1690),st=b(2336),ot=b(861),G=b(157),_=b(4787),U=b(4981);const O=(B,k,R,lt)=>{var xt,et,j;let tt={total:0,counter:0},{triggershow:it,triggerrun:w,triggerhide:Ot,action:It,audio:Et,slide:Y,media:Ct}=null!==(xt=null===(et=B.interactive)||void 0===et?void 0:et.click)&&void 0!==xt?xt:{};if(it){let{id:zt,ids:Xt,time:Ht,async:Ie}=it;"asynctrue"==Ie?(0,_.L5)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R}):"time"==Ie&&setTimeout(()=>{(0,_.L5)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R})},1e3*(null!=Ht?Ht:0))}if(w){let{id:zt,ids:Xt,time:Ht,async:Ie}=w;"asynctrue"==Ie?(0,_.Ar)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R}):"time"==Ie&&setTimeout(()=>{(0,_.Ar)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R})},1e3*(null!=Ht?Ht:0))}if(Ot){let{id:zt,ids:Xt,time:Ht,async:Ie}=Ot;"asynctrue"==Ie?(0,_.WT)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R}):"time"==Ie&&setTimeout(()=>{(0,_.WT)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R})},1e3*(null!=Ht?Ht:0))}let a=()=>{setTimeout(()=>{if(tt.counter>=tt.total){if(lt&&lt(),it){let{id:zt,ids:Xt,async:Ht}=it;"asyncfalse"==Ht&&(0,_.L5)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R})}if(w){let{id:zt,ids:Xt,async:Ht}=w;"asyncfalse"==Ht&&(0,_.Ar)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R})}if(Ot){let{id:zt,ids:Xt,async:Ht}=Ot;"asyncfalse"==Ht&&(0,_.WT)({id:zt,ids:Xt,nodeStatus:k,slideStatus:R})}}})};if(It&&It.value){tt.total+=1;let zt=()=>{tt.counter+=1,a()};switch(It.value){case"hide":$("#"+B.id).addClass("hide"),zt();break;case"points":{let{points:Xt,time:Ht,iteration:Ie,finish:W}=It;Xt&&(0,ot.G)(B.id,{points:Xt,time:Ht,iteration:Ie,finish:W,nodeStatus:k,slideStatus:R},zt);break}default:{let{value:Xt,time:Ht,iteration:Ie,finish:W}=It;(0,st.Q)(B.id,{value:Xt,time:Ht,iteration:Ie,finish:W,nodeStatus:k,slideStatus:R},zt);break}}}if(Et&&null!==(j=Et.source)&&void 0!==j&&j.path){tt.total+=1;let zt=()=>{tt.counter+=1,a()};(0,G.R)(B.id,Et,tt,{nodeStatus:k,slideStatus:R},zt)}if(tt.total||a(),Y&&Y.id)switch(console.log(`InteractiveNode #${B.id} slide(undefined,${Y.id},${Y.code}) success!`),Y.id){case-1:L.$.runSlide(L.$.slideIdx-1);break;case-2:L.$.runSlide(L.$.slideIdx+1);break;default:L.$.runSlide(void 0,Y.id,`${Y.code}`)}if(Ct&&Ct.type){var te;let Xt=`<div class="popup-media-viewer"><iframe src="${(0,D.ei)({readfileuploadurl:null===(te=U.icdt.config)||void 0===te?void 0:te.readfileuploadurl,type:null==Ct?void 0:Ct.type,oss:null==Ct?void 0:Ct.oss,path:null==Ct?void 0:Ct.path,pathExtract:null==Ct?void 0:Ct.pathExtract,url:null==Ct?void 0:Ct.url})}" frameborder="0" allowfullscreen\n        webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen"></iframe><div class="btn-close"><img src="assets/icon-svg/close-outline.svg"/></div></div>`,Ht=$(Xt).appendTo(window.document.body);Ht.find(".btn-close").click(function(Ie){Ie.preventDefault(),Ht.remove()})}}},4787:(De,Qt,b)=>{"use strict";b.d(Qt,{Ar:()=>ot,L5:()=>st,WT:()=>G});var D=b(1690),L=b(5973);const st=_=>{console.log("icdt_Run_Interactive_TriggerShow",_),_.id?$("#"+_.id).removeClass("hide"):_.ids&&_.ids.forEach(U=>{$("#"+U).removeClass("hide")})},ot=_=>{console.log("icdt_Run_Interactive_TriggerRun",_),_.id?($("#"+_.id).removeClass("hide"),(0,L.F)(D.$.findNode(_.id),_.nodeStatus,_.slideStatus)):_.ids&&_.ids.forEach(U=>{$("#"+U).removeClass("hide"),(0,L.F)(D.$.findNode(U),_.nodeStatus,_.slideStatus)})},G=_=>{console.log("icdt_Run_Interactive_TriggerHide",_),_.id?$("#"+_.id).addClass("hide"):_.ids&&_.ids.forEach(U=>{$("#"+U).addClass("hide")})}},4080:(De,Qt,b)=>{"use strict";b.d(Qt,{Mh:()=>Ot,wM:()=>Y,x_:()=>It,it:()=>Ct,g1:()=>Ht,__:()=>a,QI:()=>zt,DB:()=>te,eb:()=>Et,x0:()=>Oe,g$:()=>Ie,mo:()=>Rt,XH:()=>Ut,hJ:()=>W,vl:()=>$t,yD:()=>Wt,Yw:()=>Se});var D=b(2276),L=b(9054),G=/^#?[a-fA-F0-9]+$/;const O=(nt,dt)=>{var y;if("none"==(nt=null!==(y=nt)&&void 0!==y?y:""))return"none";if("transparent"==nt)return"rgba(0,0,0,0)";if(nt.includes("rgba("))return nt;if(nt.includes("rgb(")&&(nt=((nt,dt)=>{if(!nt)return"";let y=nt.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),rt=(y&&y[4]||"").trim(),Mt=y?(256|y[1]).toString(16).slice(1)+(256|y[2]).toString(16).slice(1)+(256|y[3]).toString(16).slice(1):nt;return"0"==rt?"transparent":`#${Mt}`})(nt)),!(nt=nt.replace(/[^0-9a-fA-F]/g,"")))return"";if(!G.test(nt))return console.error(`hex2rgba -> ${nt}: first argument has invalid hexadecimal characters`),"";if("#"===nt[0]&&(nt=nt.slice(1)),3===nt.length){let Mt=nt.split("");Mt.splice(2,0,nt[2]),Mt.splice(1,0,nt[1]),Mt.splice(0,0,nt[0]),nt=Mt.join("")}if(6!==nt.length)return console.error("hex2rgba: first argument has invalid hexadecimal length"),"";var rt=[parseInt(nt.slice(0,2),16),parseInt(nt.slice(2,4),16),parseInt(nt.slice(4,6),16)];return dt="number"==typeof dt?dt:parseFloat(dt),rt.push(dt>=0&&dt<=1?dt:1),"rgba("+rt.join(",")+")"};var B=b(1814),k=b(4981),R=b(3423),lt=b(8054),xt=b(7210),et=b(8619),j=b(1690),tt=b(2875),it=b(1687),w=b(3217);class Ot{constructor(dt,y){let rt=window.document.querySelector(y);var Mt;rt||(rt=window.document.createElementNS("http://www.w3.org/2000/svg","svg"),null===(Mt=window.document.querySelector(dt))||void 0===Mt||Mt.appendChild(rt));let{width:Lt,height:ee}=k.icdt.screen.get;rt.setAttributeNS(null,"viewBox","0 0 "+Lt+" "+ee),rt.setAttributeNS(null,"width",Lt.toString()),rt.setAttributeNS(null,"height",ee.toString()),rt.setAttribute("id",y.replace("#","")),rt.style.display="block",rt.style.position="absolute",rt.style.top="0px",rt.style.left="0px",rt.style.backgroundColor="#fafafa",rt.style.cursor="default"}}const It=nt=>{var dt,y,rt,Mt,Lt,ee;k.icdt.target.setAttributeNS(null,"viewBox",`${null!==(dt=null==nt||null===(y=nt.svg)||void 0===y?void 0:y.viewBox.x)&&void 0!==dt?dt:0} ${null!==(rt=null==nt||null===(Mt=nt.svg)||void 0===Mt?void 0:Mt.viewBox.y)&&void 0!==rt?rt:0} ${null==nt||null===(Lt=nt.svg)||void 0===Lt?void 0:Lt.viewBox.width} ${null==nt||null===(ee=nt.svg)||void 0===ee?void 0:ee.viewBox.height}`),$(k.icdt.target).find("#"+it.O.BACKGROUND_GROUP).empty();let ce=Ht(it.O.BACKGROUND_GROUP,"g",void 0,k.icdt.target);Oe(ce,nt),(()=>{let jt=window.document.getElementById(null==nt?void 0:nt.id);$(jt).find("#"+it.O.BACKGROUND_GROUP).empty();let Pt=Ht(it.O.BACKGROUND_GROUP,"g",void 0,jt);Oe(Pt,nt)})()},Et=()=>{let nt=k.icdt.screen.position;D(k.icdt.target).css({left:nt.x,top:nt.y,width:k.icdt.screen.width,height:k.icdt.screen.height})},Y=()=>{D(k.icdt.target).find(">*:not(defs)").remove();let{width:nt,height:dt}=k.icdt.screen.get;k.icdt.target.setAttributeNS(null,"viewBox",`0 0 ${nt} ${dt}`)},Ct=(nt,dt,y,rt,Mt)=>{let Lt;return nt?(Lt=D(Mt||k.icdt.target).find("#"+nt).get(0),Lt||(Lt=window.document.createElementNS("http://www.w3.org/2000/svg",y),Lt.setAttribute("id",nt),D(Lt).appendTo(Mt||k.icdt.target))):(Lt=window.document.createElementNS("http://www.w3.org/2000/svg",y),D(Lt).appendTo(Mt||k.icdt.target)),null!=rt&&rt.attribute&&a(Lt,null==rt?void 0:rt.attribute),null!=rt&&rt.style&&te(Lt,null==rt?void 0:rt.style),null!=rt&&rt.source&&zt(Lt,dt,null==rt?void 0:rt.source),Lt},a=(nt,dt)=>{return D(nt).attr((y=Object.assign({},dt||{}),null===(rt=Object.keys(y))||void 0===rt||rt.forEach(ee=>{switch(ee){case"fill":break;case"stroke":var ce;Object.assign(y,{"stroke-width":null!==(ce=y.strokeWidth)&&void 0!==ce?ce:null,strokeWidth:null});break;case"strokeLinecap":var jt;Object.assign(y,{"stroke-linecap":null!==(jt=y.strokeLinecap)&&void 0!==jt?jt:null,strokeLinecap:null});break;case"strokeLinejoin":var Pt;Object.assign(y,{"stroke-linejoin":null!==(Pt=y.strokeLinejoin)&&void 0!==Pt?Pt:null,strokeLinejoin:null});break;case"strokeDasharray":var ue;Object.assign(y,{"stroke-dasharray":null!==(ue=y.strokeDasharray)&&void 0!==ue?ue:null,strokeDasharray:null});break;case"strokeDasharrays":var We,Ne;Object.assign(y,{"stroke-dasharray":null!==(We=null===(Ne=y.strokeDasharrays)||void 0===Ne?void 0:Ne.join(" "))&&void 0!==We?We:null,strokeDasharrays:null});break;case"fontFamily":var Zt;Object.assign(y,{"font-family":null!==(Zt=y.fontFamily)&&void 0!==Zt?Zt:null,fontFamily:null});break;case"fontSize":var je;Object.assign(y,{"font-size":null!==(je=y.fontSize)&&void 0!==je?je:null,fontSize:null});break;case"textLength":Object.assign(y,{textLength:y.textLength?`${y.textLength}px`:null});break;case"transformOrigin":var mt;Object.assign(y,{"transform-origin":null!==(mt=y.transformOrigin)&&void 0!==mt?mt:null,transformOrigin:null})}}),Object.assign({},null!=y?y:{},{fill:null!=y&&y.fill?O(y.fill,null!==(Mt=null==y?void 0:y.fillOpacity)&&void 0!==Mt?Mt:1):"rgba(0,0,0,0)",fillOpacity:null,stroke:null!=y&&y.stroke?O(y.stroke,null!==(Lt=null==y?void 0:y.strokeOpacity)&&void 0!==Lt?Lt:1):"rgba(0,0,0,0)",strokeOpacity:null}))),nt;var y,rt,Mt,Lt},te=(nt,dt)=>{return D(nt).css((y=Object.assign({},dt||{}),null===(rt=Object.keys(y))||void 0===rt||rt.forEach(Mt=>{switch(Mt){case"padding":Object.assign(y,{padding:y.padding?`${y.padding}px`:null});break;case"borderWidth":var Lt;Object.assign(y,y.borderWidth&&y.borderStyle&&y.borderColor?{"border-width":`${y.borderWidth}px`,"border-style":y.borderStyle,"border-color":O(y.borderColor,null!==(Lt=y.borderOpacity)&&void 0!==Lt?Lt:1)}:{"border-width":"","border-style":"","border-color":""}),Object.assign(y,{borderWidth:null,borderStyle:null,borderColor:null,borderOpacity:null});break;case"borderRadius":Object.assign(y,{"border-radius":y.borderRadius?`${y.borderRadius}px`:null,borderRadius:null});break;case"backgroundColor":var ee;y.backgroundColor&&Object.assign(y,{"background-color":O(y.backgroundColor,null!==(ee=y.backgroundOpacity)&&void 0!==ee?ee:1)}),Object.assign(y,{backgroundColor:null,backgroundOpacity:null})}}),y)),nt;var y,rt},zt=(nt,dt,y)=>{switch(dt){case L.$.TEXT:var rt,Mt;D(nt).text(null!==(rt=null==y||null===(Mt=y.text)||void 0===Mt?void 0:Mt.textContent)&&void 0!==rt?rt:"");break;case L.$.IMAGE:var Lt,ee,ce,jt,Pt,ue,We;D(nt).attr("href",(null==y||null===(Lt=y.image)||void 0===Lt?void 0:Lt.base64)||(null!=y&&null!==(ee=y.image)&&void 0!==ee&&ee.path?`${null!==(ce=null===(jt=k.icdt.config)||void 0===jt?void 0:jt.readfileuploadurl)&&void 0!==ce?ce:""}${null!==(Pt=null==y||null===(ue=y.image)||void 0===ue?void 0:ue.path)&&void 0!==Pt?Pt:""}`:"")||(null==y||null===(We=y.image)||void 0===We?void 0:We.url)||"");break;case L.$.FOREIGNOBJECT:switch(null==y?void 0:y.type){case"text":var Ne,Zt;if(null!==(Ne=y.text)&&void 0!==Ne&&Ne.variableKeywords&&null!==(Zt=y.text)&&void 0!==Zt&&Zt.variableKeywords.length){var je;let A=k.icdt.variable.getKeys(),q=(null===(je=y.text)||void 0===je?void 0:je.textContent)||"";y.text.variableKeywords.forEach(J=>{var ut=J.replace(/[^a-zA-Z0-9_]/gm,"");if(A.indexOf(ut)>=0){var pt=k.icdt.variable.getValue(ut);q=q.replace(J,pt)}}),D(nt).text(q)}else{var mt;D(nt).text((null===(mt=y.text)||void 0===mt?void 0:mt.textContent)||"")}break;case"html":{var E,ft,St;let A=(null==y||null===(E=y.html)||void 0===E?void 0:E.htmlContent)||"";if(null!==(ft=y.html)&&void 0!==ft&&ft.variableKeywords&&null!==(St=y.html)&&void 0!==St&&St.variableKeywords.length){let q=k.icdt.variable.getKeys();y.html.variableKeywords.forEach(J=>{var ut=J.replace(/[^a-zA-Z0-9_]/gm,"");if(q.indexOf(ut)>=0){var pt=k.icdt.variable.getValue(ut);A=A.replace(J,pt)}})}D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;">${A}</div>`).find("img[path],video[path],iframe[path]").each((q,J)=>{var ut,pt,yt;J.setAttribute("src",(null!==(ut=null===(pt=k.icdt.config)||void 0===pt?void 0:pt.readfileuploadurl)&&void 0!==ut?ut:"")+(null!==(yt=J.getAttribute("path"))&&void 0!==yt?yt:"")),J.removeAttribute("path")});break}case"input":var K,at,Q,ct;if(null!==(K=y.input)&&void 0!==K&&K.input)D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><input type="text" placeholder="${null!==(Q=null===(ct=y.input)||void 0===ct?void 0:ct.placeholder)&&void 0!==Q?Q:""}" maxlength="100" /></div>`);else if(null!==(at=y.input)&&void 0!==at&&at.textarea){var Dt,Ft;D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><textarea placeholder="${null!==(Dt=null===(Ft=y.input)||void 0===Ft?void 0:Ft.placeholder)&&void 0!==Dt?Dt:""}" maxlength="1000"></textarea></div>`)}break;case"image":var vt,Jt,ae,Te,re,pe,ye;D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><img src="${(null===(vt=y.image)||void 0===vt?void 0:vt.base64)||(null!==(Jt=y.image)&&void 0!==Jt&&Jt.path?`${null!==(ae=null===(Te=k.icdt.config)||void 0===Te?void 0:Te.readfileuploadurl)&&void 0!==ae?ae:""}${null!==(re=null===(pe=y.image)||void 0===pe?void 0:pe.path)&&void 0!==re?re:""}`:"")||(null===(ye=y.image)||void 0===ye?void 0:ye.url)||""}" style="width:100%;height:100%;display:block;"/></div>`);break;case"iframe":var Be,Ce,Ae,Xe,tn,Ei,en;D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><iframe src="${null!==(Be=y.iframe)&&void 0!==Be&&Be.path?`${null!==(Ce=null===(Ae=k.icdt.config)||void 0===Ae?void 0:Ae.readfileuploadurl)&&void 0!==Ce?Ce:""}${null!==(Xe=null===(tn=y.iframe)||void 0===tn?void 0:tn.path)&&void 0!==Xe?Xe:""}`:null!==(Ei=null===(en=y.iframe)||void 0===en?void 0:en.url)&&void 0!==Ei?Ei:""}" frameborder="0" allowfullscreen\n                    webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="width:100%;height:100%;display:block;"></iframe></div>`);break;case"embed":{var nn,En,ni,ji,Ii,$i;let A=(0,w.ei)({readfileuploadurl:null===(nn=k.icdt.config)||void 0===nn?void 0:nn.readfileuploadurl,type:null===(En=y.embed)||void 0===En?void 0:En.type,oss:null===(ni=y.embed)||void 0===ni?void 0:ni.oss,path:null===(ji=y.embed)||void 0===ji?void 0:ji.path,pathExtract:null===(Ii=y.embed)||void 0===Ii?void 0:Ii.pathExtract,url:null===($i=y.embed)||void 0===$i?void 0:$i.url});D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><iframe src="${A}" frameborder="0" allowfullscreen\n                    webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="width:100%;height:100%;display:block;"></iframe></div>`);break}case"svg":var pi,ci;D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;">${null!==(pi=null===(ci=y.svg)||void 0===ci?void 0:ci.svgContent)&&void 0!==pi?pi:""}</div>`);break;case"test":{var Bi,rn,an,Bt;let A=(null==y||null===(Bi=y.html)||void 0===Bi?void 0:Bi.htmlContent)||"";if(null!==(rn=y.html)&&void 0!==rn&&rn.variableKeywords&&null!==(an=y.html)&&void 0!==an&&an.variableKeywords.length){let q=k.icdt.variable.getKeys();y.html.variableKeywords.forEach(J=>{var ut=J.replace(/[^a-zA-Z0-9_]/gm,"");if(q.indexOf(ut)>=0){var pt=k.icdt.variable.getValue(ut);A=A.replace(J,pt)}})}switch(null==y||null===(Bt=y.test)||void 0===Bt?void 0:Bt.type){case"matching-empty":D(nt).html('<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" class="ondrop-here" data-node="test" data-type="matching"></div>');break;case"matching-content":var H,l;D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" class="ondrop-here" data-node="test" data-type="matching"><div class="ondrag-item" data-key="${null!==(H=null==y||null===(l=y.test)||void 0===l||null===(l=l.matching)||void 0===l?void 0:l.key)&&void 0!==H?H:"KIEN"}" style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;">${A}</div></div>`);break;case"singlechoice":case"multichoice":D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;">${A}</div></div>`);break;case"fill":var d;((null===(d=y.html)||void 0===d?void 0:d.fillKeywords)||[]).forEach(q=>{var J=`<input type="text" maxlength="128" style="display:inline-block;width:80px;min-width:100px;max-width:100%;padding:0px 10px;margin:0px;box-sizing:content-box;outline:none;box-shadow:none;border-width:0px 0px 1px;border-top-style:initial;border-right-style:initial;border-left-style:initial;border-top-color:initial;border-right-color:initial;border-left-color:initial;border-image:initial;border-bottom-style:dashed;border-bottom-color:rgb(123,146,254);background:transparent;animation:0.3s ease-in-out 0s 1 normal none running width;text-align:left;" data-key="${q.replace(/[^a-zA-Z0-9]+/gm,"")}"/>`;A=A.replace(new RegExp(q.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),"g"),J)}),D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:start;align-items:center;width:100%;height:100%;">${A}</div></div>`);break;case"speech":D(nt).html('<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;"><img src="images/svg/component/microphone4.svg" width="60" height="60"/></div></div>');break;case"submit":var s,f,p,C,I,M,Z;D(nt).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><img src="${null!==(s=null!==(f=null===(p=y.image)||void 0===p?void 0:p.url)&&void 0!==f?f:`${null!==(C=null===(I=k.icdt.config)||void 0===I?void 0:I.readfileuploadurl)&&void 0!==C?C:""}${null!==(M=null===(Z=y.image)||void 0===Z?void 0:Z.path)&&void 0!==M?M:""}`)&&void 0!==s?s:""}" style="width:100%;height:100%;display:block;"/></div>`)}D(nt).find("img[path],video[path],iframe[path]").each((q,J)=>{var ut,pt,yt;J.setAttribute("src",(null!==(ut=null===(pt=k.icdt.config)||void 0===pt?void 0:pt.readfileuploadurl)&&void 0!==ut?ut:"")+(null!==(yt=J.getAttribute("path"))&&void 0!==yt?yt:"")),J.removeAttribute("path")})}}}},Ht=(nt,dt,y,rt)=>{let Mt=D(rt||k.icdt.target).find("#"+nt).get(0);return Mt||(Mt=window.document.createElementNS("http://www.w3.org/2000/svg",dt),Mt.setAttribute("id",nt),D(Mt).appendTo(rt||k.icdt.target)),D(Mt).attr((null==y?void 0:y.attribute)||{}),D(Mt).css((null==y?void 0:y.style)||{}),Mt},Ie=(nt,dt)=>{let y=(0,R.v)(2),rt={fill:B.S3.fill,stroke:B.S3.stroke,"stroke-width":(0,R.v)(B.S3.strokeWidth)};return[{element:Ht("icdt-temp-create-rect-center","rect",{attribute:Object.assign({x:dt.x-y,y:dt.y-y,width:dt.width+2*y,height:dt.height+2*y},rt)},nt),posType:"rect-center"}]},W=(nt,dt)=>{let{size:y}=dt,rt=(0,R.v)(1),Mt=(0,R.v)(2),Lt=(0,R.v)(5),ee={stroke:B.NV.stroke,"stroke-width":(0,R.v)(B.NV.strokeWidth),"stroke-linecap":B.NV.strokeLinecap},ce={fill:B.Mo.fill,stroke:B.Mo.stroke,"stroke-width":(0,R.v)(B.Mo.strokeWidth)},jt={fill:B.In.fill,stroke:B.In.stroke,"stroke-width":(0,R.v)(B.In.strokeWidth),width:(0,R.v)(B.In.width),height:(0,R.v)(B.In.height)};return Ht("icdt-temp-resize-line-left","line",{attribute:Object.assign({x1:y.x-rt,y1:y.y,x2:y.x-rt,y2:y.y+y.height},ee)},nt),Ht("icdt-temp-resize-line-top","line",{attribute:Object.assign({x1:y.x,y1:y.y-rt,x2:y.x+y.width,y2:y.y-rt},ee)},nt),Ht("icdt-temp-resize-line-right","line",{attribute:Object.assign({x1:y.x+y.width+rt,y1:y.y,x2:y.x+y.width+rt,y2:y.y+y.height},ee)},nt),Ht("icdt-temp-resize-line-bottom","line",{attribute:Object.assign({x1:y.x,y1:y.y+y.height+rt,x2:y.x+y.width,y2:y.y+y.height+rt},ee)},nt),[{element:Ht("icdt-temp-resize-rect-center","rect",{attribute:Object.assign({x:y.x,y:y.y,width:y.width,height:y.height},ce),style:{cursor:"move"}},nt),posType:"rect-center"},{element:Ht("icdt-temp-resize-rect-top-left","rect",{attribute:Object.assign({x:y.x-Lt,y:y.y-Lt},jt),style:{cursor:"nw-resize"}},nt),posType:"rect-top-left"},{element:Ht("icdt-temp-resize-rect-top-right","rect",{attribute:Object.assign({x:y.x+y.width-Mt,y:y.y-Lt},jt),style:{cursor:"ne-resize"}},nt),posType:"rect-top-right"},{element:Ht("icdt-temp-resize-rect-bottom-left","rect",{attribute:Object.assign({x:y.x-Lt,y:y.y+y.height-Mt},jt),style:{cursor:"sw-resize"}},nt),posType:"rect-bottom-left"},{element:Ht("icdt-temp-resize-rect-bottom-right","rect",{attribute:Object.assign({x:y.x+y.width-Mt,y:y.y+y.height-Mt},jt),style:{cursor:"se-resize"}},nt),posType:"rect-bottom-right"}]},Wt=(nt,dt,y)=>{let rt=(0,R.v)(1),Mt={stroke:B.NV.stroke,"stroke-width":(0,R.v)(B.NV.strokeWidth),"stroke-linecap":B.NV.strokeLinecap},Lt={fill:B.Mo.fill,stroke:B.Mo.stroke,"stroke-width":(0,R.v)(B.Mo.strokeWidth)},ee={fill:B.dt.fill,stroke:B.dt.stroke,"stroke-width":(0,R.v)(B.dt.strokeWidth)},We=(Ht("icdt-temp-select-line-left","line",{attribute:Object.assign({x1:y.x-rt,y1:y.y,x2:y.x-rt,y2:y.y+y.height},Mt)},nt),Ht("icdt-temp-select-line-top","line",{attribute:Object.assign({x1:y.x,y1:y.y-rt,x2:y.x+y.width,y2:y.y-rt},Mt)},nt),Ht("icdt-temp-select-line-right","line",{attribute:Object.assign({x1:y.x+y.width+rt,y1:y.y,x2:y.x+y.width+rt,y2:y.y+y.height},Mt)},nt),Ht("icdt-temp-select-line-bottom","line",{attribute:Object.assign({x1:y.x,y1:y.y+y.height+rt,x2:y.x+y.width,y2:y.y+y.height+rt},Mt)},nt),Ht("icdt-temp-select-rect-center","rect",{attribute:Object.assign({x:y.x,y:y.y,width:y.width,height:y.height},Lt)},nt));return dt.forEach(Ne=>{let{size:Zt}=Ne;Ht("icdt-temp-select-rect-node-"+Ne.id,"rect",{attribute:Object.assign({x:Zt.x,y:Zt.y,width:Zt.width,height:Zt.height},ee)},nt)}),[{element:We,posType:"rect-center"}]},$t=(nt,dt)=>{let y=(0,R.v)(1),rt={stroke:B.NV.stroke,"stroke-width":(0,R.v)(B.NV.strokeWidth),"stroke-linecap":B.NV.strokeLinecap},Mt={fill:B.Mo.fill,stroke:B.Mo.stroke,"stroke-width":(0,R.v)(B.Mo.strokeWidth)};return Ht("icdt-temp-scan-line-left","line",{attribute:Object.assign({x1:dt.x-y,y1:dt.y,x2:dt.x-y,y2:dt.y+dt.height},rt)},nt),Ht("icdt-temp-scan-line-top","line",{attribute:Object.assign({x1:dt.x,y1:dt.y-y,x2:dt.x+dt.width,y2:dt.y-y},rt)},nt),Ht("icdt-temp-scan-line-right","line",{attribute:Object.assign({x1:dt.x+dt.width+y,y1:dt.y,x2:dt.x+dt.width+y,y2:dt.y+dt.height},rt)},nt),Ht("icdt-temp-scan-line-bottom","line",{attribute:Object.assign({x1:dt.x,y1:dt.y+dt.height+y,x2:dt.x+dt.width,y2:dt.y+dt.height+y},rt)},nt),[{element:Ht("icdt-temp-scan-rect-center","rect",{attribute:Object.assign({x:dt.x,y:dt.y,width:dt.width,height:dt.height},Mt)},nt),posType:"rect-center"}]},Ut=(nt,dt)=>{let y=(0,R.v)(-1),rt={stroke:B.h8.stroke,"stroke-width":(0,R.v)(B.h8.strokeWidth),"stroke-linecap":B.h8.strokeLinecap,"stroke-dasharray":(0,R.v)(B.h8.strokeDasharray)},Mt={fill:B.MA.fill};return Ht("icdt-temp-interactive-line-left","line",{attribute:Object.assign({x1:dt.x-y,y1:dt.y,x2:dt.x-y,y2:dt.y+dt.height},rt)},nt),Ht("icdt-temp-interactive-line-top","line",{attribute:Object.assign({x1:dt.x,y1:dt.y-y,x2:dt.x+dt.width,y2:dt.y-y},rt)},nt),Ht("icdt-temp-interactive-line-right","line",{attribute:Object.assign({x1:dt.x+dt.width+y,y1:dt.y,x2:dt.x+dt.width+y,y2:dt.y+dt.height},rt)},nt),Ht("icdt-temp-interactive-line-bottom","line",{attribute:Object.assign({x1:dt.x,y1:dt.y+dt.height+y,x2:dt.x+dt.width,y2:dt.y+dt.height+y},rt)},nt),Ht("icdt-temp-interactive-rect-center","rect",{attribute:Object.assign({x:dt.x,y:dt.y,width:dt.width,height:dt.height},Mt)},nt),[]},Rt=(nt,dt)=>{let y={fill:B.k0.fill,stroke:B.k0.stroke,"stroke-width":(0,R.v)(B.k0.strokeWidth),"stroke-dasharray":(0,R.v)(B.k0.strokeDasharray)};$(nt).empty(),dt.forEach(rt=>{var Mt,Lt;let{size:ee}=rt;if(!rt.idx)return;Ht("icdt-temp-index-rect-node-"+rt.id,"rect",{attribute:Object.assign({x:ee.x-5,y:ee.y-5,width:ee.width+10,height:ee.height+10},y)},nt);let{element:ce}=(0,tt.e)(Math.ceil(1e9*Math.random()),{size:{x:ee.x-76,y:ee.y-6,width:70,height:80},attribute:{},style:{},source:{type:"html",html:{htmlContent:`<div class="position-slide" style="position:relative;width:100%;height:100%;">\n                  <div style="position:absolute;top:0;right:0;line-height:22px;">\n                    <div title="Th\u1ee9 t\u1ef1 xu\u1ea5t hi\u1ec7n">\n                        <div style="float:right;">\n                          <span style="display:block;width:18px;float:left;text-align:center;">\n                            <i class="fa fa-play" style="margin:6px 0;color:#7da7d9;font-size:12px;"></i>\n                          </span>\n                          <span style="display:block;width:50px;float:left;">\n                            <input type="number" name="idx" value="${null!==(Mt=rt.idx)&&void 0!==Mt?Mt:0}" min="0" max="999" step="1" style="box-sizing:border-box;width:100%;padding:0;border:1px solid #ddd;outline:0;text-align:center;background:#eee;background: radial-gradient(#fff, #eee);font-size:12px;">\n                          </span>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                    <div title="Th\u1eddi gian \u0111\u1ee3i(s), n\u1ebfu gi\xe1 tr\u1ecb = 0 s\u1ebd chuy\u1ec3n sang \u0111\u1ee3i ho\xe0n t\u1ea5t ho\u1ea1t \u0111\u1ed9ng v\xe0 \xe2m thanh" style="margin-top:2px;">\n                        <div style="float:right;">\n                          <span style="display:block;width:18px;float:left;text-align:center;">\n                            <i class="fa fa-clock-o" style="margin:5px 0;color:#7da7d9;font-size:14px;"></i>\n                          </span>\n                          <span style="display:block;width:50px;float:left;">\n                            <input type="number" name="time" value="${null!==(Lt=rt.time)&&void 0!==Lt?Lt:0}" min="0" max="999" step="0.5" style="box-sizing:border-box;width:100%;padding:0;border:1px solid #ddd;outline:0;text-align:center;background:#eee;background: radial-gradient(#fff, #eee);font-size:12px;">\n                          </span>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                    <div title="H\u1ee7y thi\u1ebft l\u1eadp" style="margin-top:2px;">\n                        <div style="float:right;">\n                          <button name="remove" style="box-sizing:border-box;width:24px;height:24px;padding:0;border:1px solid #ddd;line-height: 0;outline:none;background:#eee;background: radial-gradient(#fff, #eee);">\n                            <img src="assets/icon-png/xoa2.png" height="18">\n                          </button>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                  </div>\n              </div>`}}},nt);ce.classList.add("node-input"),$(ce).on("change",'input[name="idx"]',jt=>{var Pt;rt.idx=parseInt(null!==(Pt=jt.target.value)&&void 0!==Pt?Pt:"0")}).on("change",'input[name="time"]',jt=>{var Pt;rt.time=parseFloat(null!==(Pt=jt.target.value)&&void 0!==Pt?Pt:"0")}).on("click",'button[name="remove"]',jt=>{rt.idx=0,rt.time=null,Rt(nt,dt)})})},Oe=(nt,dt)=>{var y,rt,Mt,Lt;let{color:ee,opacity:ce,path:jt,url:Pt,base64:ue}=null!==(y=null==dt||null===(rt=dt.svg)||void 0===rt?void 0:rt.background)&&void 0!==y?y:{},{x:We,y:Ne,width:Zt,height:je}=null!==(Mt=null==dt||null===(Lt=dt.svg)||void 0===Lt?void 0:Lt.viewBox)&&void 0!==Mt?Mt:{x:0,y:0,width:0,height:0};ee&&(0,lt.f)(void 0,{size:{x:We,y:Ne,width:Zt,height:je},attribute:{fill:ee,fillOpacity:ce}},nt),jt&&(0,xt.G)(void 0,{size:{x:We,y:Ne,width:Zt,height:je},source:{type:"image",image:{path:jt,url:Pt,base64:ue}}},nt)},Se=(nt,dt)=>{var y,rt,ce;if($(nt).empty(),null!=dt&&null!==(y=dt.test)&&void 0!==y&&null!==(y=y.answer)&&void 0!==y&&y.singlechoice){var Lt,ee;let jt=j.$.findNode(null==dt||null===(Lt=dt.test)||void 0===Lt||null===(Lt=Lt.answer)||void 0===Lt||null===(Lt=Lt.singlechoice)||void 0===Lt?void 0:Lt.value),{x:Pt,y:ue,width:We,height:Ne}=null!==(ee=null==jt?void 0:jt.size)&&void 0!==ee?ee:{x:0,y:0,width:0,height:0};(0,et._)(Math.ceil(1e9*Math.random()),{size:{x:Pt-2,y:ue-2,width:We+4,height:Ne+4},attribute:{fill:"none",stroke:"#5F6CE1",strokeWidth:4,strokeDasharray:4}},nt)}null!=dt&&null!==(rt=dt.test)&&void 0!==rt&&null!==(rt=rt.answer)&&void 0!==rt&&rt.multichoice&&(null==dt||null===(ce=dt.test)||void 0===ce||null===(ce=ce.answer)||void 0===ce||ce.multichoice.forEach(jt=>{var Pt;let ue=j.$.findNode(jt.value),{x:We,y:Ne,width:Zt,height:je}=null!==(Pt=null==ue?void 0:ue.size)&&void 0!==Pt?Pt:{x:0,y:0,width:0,height:0};(0,lt.f)(Math.ceil(1e9*Math.random()),{size:{x:We-2,y:Ne-2,width:Zt+4,height:je+4},attribute:{fill:"none",stroke:"#5F6CE1",strokeWidth:4,strokeDasharray:4}},nt)}))}},6623:(De,Qt,b)=>{"use strict";b.d(Qt,{w:()=>xt,I:()=>R});var D=b(5811),L=/^#[a-fA-F0-9]+$/i,st=/^rgba\((\d+),(\d+),(\d+),(\d+)\)$/i,ot=/^rgb\((\d+),(\d+),(\d+)\)$/i;const G=et=>{let j=null,tt=null;if(et)if("transparent"==et)j="#000000",tt=0;else if(et.match(L))j=et;else{let it=(et=et.replace(/\s+/g,"")).match(st);if(it)j="#"+(256|it[1]).toString(16).slice(1)+(256|it[2]).toString(16).slice(1)+(256|it[3]).toString(16).slice(1),tt=(0,D.q)(parseFloat(it[4]),100);else{let w=et.match(ot);w&&(j="#"+(256|w[1]).toString(16).slice(1)+(256|w[2]).toString(16).slice(1)+(256|w[3]).toString(16).slice(1))}}return{hex:j,alpha:tt}};var _=b(9054),U=b(4981);const R=et=>lt(null==et?void 0:et.url,null==et?void 0:et.path,null==et?void 0:et.src);var lt=(et,j,tt)=>{var it,w;let Ot,It,Et,Y;var Ct,a;return et&&(Ot=et.replace(/\\/g,"/")),j&&(It=j.replace(/\\/g,"/")),tt&&(Et=tt.replace(/\\/g,"/")),It&&!Ot&&(Ot=(null===(Ct=U.icdt.config)||void 0===Ct?void 0:Ct.readfileuploadurl)+It),!Et||It||Ot||(It=Et.replace(/^[a-zA-Z0-9\-\_\/\\\:\.]+(upload|FileUpload|files|readfileupload|filereader|readfile)\//g,""),Ot=(null===(a=U.icdt.config)||void 0===a?void 0:a.readfileuploadurl)+It),Y=(null!==(it=Ot)&&void 0!==it?it:"").split("/").pop()||(null!==(w=It)&&void 0!==w?w:"").split("/").pop()||"",{url:Ot,path:It,name:Y}};const xt=et=>{let j={x:0,y:0,width:et.screen.w,height:et.screen.h},tt=[];return et.data.forEach((it,w)=>{var Ot;let It={id:U.icdt.data.newSlideId,code:`${it.id}`||void 0,name:"string"==typeof it.id?it.id:`Trang ${w+1}`,svg:{viewBox:j,nodes:[]},test:(Et=it.test2,Et?(Et.audiotrue&&(Et.audiotrue=R({path:Et.audiotrue.path})),Et.audiofalse&&(Et.audiofalse=R({path:Et.audiofalse.path})),Et.effecttrue&&(Et.effecttrue=R({path:Et.effecttrue.path})),Et.effectfalse&&(Et.effectfalse=R({path:Et.effectfalse.path})),Et.icontrue&&(Et.icontrue=R({path:Et.icontrue.path})),Et.iconfalse&&(Et.iconfalse=R({path:Et.iconfalse.path})),Et):{})};var Et;it.background&&It.svg&&(It.svg.background=function(et){return et&&(null!==et.match(/#([a-zA-Z0-9]+)/)||null!==et.match(/rgb\([0-9]+,[0-9]+,[0-9]+\)/)||null!==et.match(/rgba\([0-9]+,[0-9]+,[0-9]+,[0-9]+\)/))}(it.background)?{color:it.background}:function(et){return et&&null!==et.match(/data:[^;]+;base64,/)}(it.background)?{base64:it.background}:function(et){return et&&null!==et.match(/http(s)?:\/\//)}(it.background)?lt(it.background):lt(void 0,it.background)),$(null!==(Ot=it.svg)&&void 0!==Ot?Ot:"").find(".svg-node").each((Et,Y)=>{var Ct,a;let te=$(Y).parents(".indexs"),zt=te.attr("data-index"),Xt=te.attr("data-time"),Ht=null!==(Ct=Y.getAttribute("id"))&&void 0!==Ct?Ct:"0",Ie={id:parseInt(Ht),code:`${Y.nodeName}-${Y.getAttribute("id")}`,name:Y.nodeName,idx:zt?parseInt(zt):0,time:Xt?parseFloat(Xt):0,type:(()=>{switch(Y.nodeName){case"polygon":return _.$.POLYGON;case"circle":return _.$.CIRCLE;case"ellipse":return _.$.ELLIPSE;case"line":return _.$.LINE;case"rect":return _.$.RECT;case"foreignObject":return _.$.FOREIGNOBJECT}return 0})(),size:(W=>{let Wt=0,$t=0,Ut=0,Rt=0,Oe=null,Se=null,nt=parseFloat((null===(W=Y.getAttribute("transform"))||void 0===W?void 0:W.replace("rotate(","").replace(")",""))||"0")||null;switch(Y.nodeName){case"polygon":{var dt,y;let rt=[],Mt=[],Lt=999999999,ee=999999999,ce=0,jt=0;Oe=JSON.parse(Y.getAttribute("ratios")||"[]"),Se=null!==(dt=null===(y=Y.getAttribute("points"))||void 0===y?void 0:y.split(",").map(function(Pt){return Pt.split(" ").map(function(ue){return parseFloat(ue)})}))&&void 0!==dt?dt:[],Se.forEach(function(Pt){rt.push(Pt[0]),Mt.push(Pt[1])}),Lt=Math.min.apply(null,rt),ee=Math.min.apply(null,Mt),ce=Math.max.apply(null,rt),jt=Math.max.apply(null,Mt),Wt=Lt,$t=ee,Ut=ce-Wt,Rt=jt-$t;break}case"circle":{let rt=parseFloat(Y.getAttribute("cx")||"0"),Mt=parseFloat(Y.getAttribute("cy")||"0"),Lt=parseFloat(Y.getAttribute("r")||"0");Wt=rt-Lt,$t=Mt-Lt,Ut=2*Lt,Rt=2*Lt;break}case"ellipse":{let rt=parseFloat(Y.getAttribute("cx")||"0"),Mt=parseFloat(Y.getAttribute("cy")||"0"),Lt=parseFloat(Y.getAttribute("rx")||"0"),ee=parseFloat(Y.getAttribute("ry")||"0");Wt=rt-Lt,$t=Mt-ee,Ut=2*Lt,Rt=2*ee;break}case"line":{let rt=parseFloat(Y.getAttribute("x1")||"0"),Mt=parseFloat(Y.getAttribute("y1")||"0"),Lt=parseFloat(Y.getAttribute("x2")||"0"),ee=parseFloat(Y.getAttribute("y2")||"0"),ce=999999999,jt=999999999,Pt=0,ue=0;ce=Math.min(rt,Lt),jt=Math.min(Mt,ee),Pt=Math.max(rt,Lt),ue=Math.max(Mt,ee),Wt=ce,$t=jt,Ut=Pt-Wt,Rt=ue-$t,Oe=[[(rt-Wt)/(Ut||1),(Mt-$t)/(Rt||1)],[(Lt-Wt)/(Ut||1),(ee-$t)/(Rt||1)]];break}case"rect":case"foreignObject":Wt=parseFloat(Y.getAttribute("x")||"0"),$t=parseFloat(Y.getAttribute("y")||"0"),Ut=parseFloat(Y.getAttribute("width")||"0"),Rt=parseFloat(Y.getAttribute("height")||"0")}return Object.assign({},{x:Wt,y:$t,width:Ut,height:Rt,ratios:Oe,points:Se,rotate:nt})})(),attribute:(()=>{let W={};switch(Y.nodeName){case"polygon":case"circle":case"ellipse":case"line":case"rect":{var Wt,$t,Ut,Rt,Oe,Se;let nt=null!==(Wt=Y.getAttribute("fill"))&&void 0!==Wt?Wt:null,dt=null!==($t=Y.getAttribute("stroke"))&&void 0!==$t?$t:null,y=null!==(Ut=parseFloat(Y.getAttribute("stroke-width")||"0"))&&void 0!==Ut?Ut:null,rt=null!==(Rt=Y.getAttribute("stroke-linecap"))&&void 0!==Rt?Rt:null,Mt=null!==(Oe=Y.getAttribute("stroke-linejoin"))&&void 0!==Oe?Oe:null,Lt=null!==(Se=parseFloat(Y.getAttribute("stroke-dasharray")||"0"))&&void 0!==Se?Se:null;Object.assign(W,{fill:nt,stroke:dt,strokeWidth:y,strokeLinecap:rt,strokeLinejoin:Mt,strokeDasharray:Lt});break}}return W})(),style:(()=>{let W={};switch(Y.nodeName){case"polygon":case"circle":case"ellipse":case"line":case"rect":break;case"foreignObject":{let Oe=$(Y).find(".svg-container");if(Oe.length){var Wt,$t;let nt=null!==(Wt=parseFloat(Oe.css("border-width")||"0"))&&void 0!==Wt?Wt:null,dt=null!==($t=Oe.css("border-style"))&&void 0!==$t?$t:null,y=Oe.css("border-color")||null,rt=null,Mt=Oe.css("background-color")||null,Lt=null;(()=>{let{hex:ee,alpha:ce}=G(y);y=ee,rt=ce})(),(()=>{let{hex:ee,alpha:ce}=G(Mt);Mt=ee,Lt=ce})(),Object.assign(W,{borderWidth:nt,borderStyle:dt,borderColor:y,borderOpacity:rt,backgroundColor:Mt,backgroundOpacity:Lt})}let Se=$(Y).find(".svg-editor-content");if(Se.length){var Ut,Rt;let nt=JSON.parse((Se.attr("data-style")||"{}").replace(/\&quot\;/gm,'"')),{hex:dt,alpha:y}=G(nt.TextColor);Object.assign(W,{fontFamily:null!==(Ut=nt.FontFamily)&&void 0!==Ut?Ut:null,fontSize:null!==(Rt=nt.FontSize)&&void 0!==Rt?Rt:null,color:dt,opacity:y})}break}}return W})(),source:(()=>{let W={};switch(Y.nodeName){case"polygon":case"circle":case"ellipse":case"line":case"rect":break;case"foreignObject":if(te.hasClass("editors")){let jt=$(Y).find(".svg-editor-content");if(jt.length){var Wt;let Pt=jt.html(),ue=null!==(Wt=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==Wt?Wt:[];Object.assign(W,{type:"html",html:{htmlContent:Pt,variableKeywords:ue}})}}else if(te.hasClass("inputs")||te.hasClass("textareas"))Object.assign(W,{type:"input",input:{input:!!$(Y).find("input").length,textarea:!!$(Y).find("textarea").length}});else if(te.hasClass("tests")){let jt=$(Y).find(".svg-test");if(te.hasClass("tests-truefalse")){var $t,Ut;let Pt=jt.find(".svg-editor-content").html(),ue=null!==($t=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==$t?$t:[];Object.assign(W,{type:"test",test:{type:"singlechoice",singlechoice:{iscorrect:null===(Ut=it.test2.truefalse)||void 0===Ut?void 0:Ut.includes(Ht)}},html:{htmlContent:Pt,variableKeywords:ue}})}else if(te.hasClass("tests-singlechoice")){var Rt,Oe;let Pt=jt.find(".svg-editor-content").html(),ue=null!==(Rt=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==Rt?Rt:[];Object.assign(W,{type:"test",test:{type:"singlechoice",singlechoice:{iscorrect:null===(Oe=it.test2.singlechoice)||void 0===Oe?void 0:Oe.includes(Ht)}},html:{htmlContent:Pt,variableKeywords:ue}})}else if(te.hasClass("tests-multichoice")){var Se,nt;let Pt=jt.find(".svg-editor-content").html(),ue=null!==(Se=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==Se?Se:[];Object.assign(W,{type:"test",test:{type:"multichoice",multichoice:{iscorrect:null===(nt=it.test2.multichoice)||void 0===nt?void 0:nt.includes(Ht)}},html:{htmlContent:Pt,variableKeywords:ue}})}else if(te.hasClass("tests-fill")){var dt,y;let Pt=jt.find(".svg-editor-content").html(),ue=null!==(dt=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==dt?dt:[],We=null!==(y=(null!=Pt?Pt:"").match(/\[\[[a-zA-Z0-9]+\]\]/gm))&&void 0!==y?y:[];We=We.filter((Ne,Zt,je)=>je.indexOf(Ne)==Zt),Object.assign(W,{type:"test",test:{type:"fill",fill:We.map(Ne=>{var Zt;return{key:Ne,value:null===(Zt=it.test2.fill)||void 0===Zt||null===(Zt=Zt.find(je=>je.id==Ht))||void 0===Zt||null===(Zt=Zt.vals)||void 0===Zt?void 0:Zt.map(je=>je.text).filter(je=>!["",null,void 0,NaN].includes(je))}})},html:{htmlContent:Pt,variableKeywords:ue,fillKeywords:We}})}else if(te.hasClass("tests-matching")){if(jt.hasClass("svg-test-empty"))Object.assign(W,{type:"test",test:{type:"matching-empty",matching:{key:jt.attr("data-name")||null}}});else if(jt.hasClass("svg-test-content")){var rt;let Pt=jt.find(".svg-editor-content").html(),ue=null!==(rt=(null!=Pt?Pt:"").match(/\{[a-zA-Z0-9_]+\}/gm))&&void 0!==rt?rt:[];Object.assign(W,{type:"test",test:{type:"matching-content",matching:{key:jt.attr("data-name")||null}},html:{htmlContent:Pt,variableKeywords:ue}})}}else if(te.hasClass("tests-speech")){var Mt;Object.assign(W,{type:"speech",speech:{value:null===(Mt=it.test2.speech)||void 0===Mt||null===(Mt=Mt.find(Pt=>Pt.id==Ht))||void 0===Mt||null===(Mt=Mt.vals)||void 0===Mt?void 0:Mt.map(Pt=>Pt.text).filter(Pt=>!["",null,void 0,NaN].includes(Pt))}})}else if(te.hasClass("tests-submit")){let Pt=$(Y).find(".svg-container img");Object.assign(W,{type:"test",test:{type:"submit"},image:lt(Pt.attr("url"),Pt.attr("path"),Pt.attr("src"))})}}else if(te.hasClass("images")){let jt=$(Y).find(".svg-editor-content img");if(jt.length)Object.assign(W,{type:"image",image:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))});else{let Pt=$(Y).find("iframe");Object.assign(W,{type:"iframe",iframe:lt(Pt.attr("url"),Pt.attr("path"),Pt.attr("src"))})}}else if(te.hasClass("sounds")){let jt=$(Y).find(".svg-editor-content img");jt.length&&Object.assign(W,{type:"image",image:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))})}else if(te.hasClass("htmls")){let jt=$(Y).find("iframe");jt.length&&Object.assign(W,{type:"iframe",iframe:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))})}else if(te.hasClass("svgs")){let jt=$(Y).find("svg");var Lt,ee;jt.length&&Object.assign(W,{type:"svg",svg:Object.assign(lt(jt.attr("url"),jt.attr("path"),jt.attr("src")),{svgContent:null!==(Lt=null===(ee=jt.get(0))||void 0===ee?void 0:ee.outerHTML)&&void 0!==Lt?Lt:null})})}else if(te.hasClass("medias")){let jt=$(Y).find(".media-item");if(jt.length)switch(jt.attr("type")){case"audio":Object.assign(W,{type:"audio",audio:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))});break;case"video":Object.assign(W,{type:"video",video:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))});break;case"file":Object.assign(W,{type:"file",file:lt(jt.attr("url"),jt.attr("path"),jt.attr("src"))});break;default:var ce;Object.assign(W,{type:"link",link:{url:null!==(ce=jt.attr("url"))&&void 0!==ce?ce:null}})}let Pt=$(Y).find("img");Pt.length&&(Object.assign(W,{image:lt(Pt.attr("url"),Pt.attr("path"),Pt.attr("src"))}),W.type||Object.assign(W,{type:"image"}))}}return W})(),animate:(W=>{let Wt={},$t=null===(W=it.animates)||void 0===W?void 0:W.find(Ut=>Ut.elementId==Ht);return $t&&Object.assign(Wt,{value:$t.value}),Wt})(),interactive:(()=>{let W={},Wt=it.actions.show.filter(Ut=>Ut.elementId==Ht&&Ut.active);Wt.length&&(W.show={},Wt.forEach(Ut=>{let{source:Rt}=Ut;switch(null==Rt?void 0:Rt.type){case"work":var Oe,Se,nt,dt,y;W.show.action={},Object.assign(W.show.action,{value:null!==(Oe=Rt.value)&&void 0!==Oe?Oe:null,iteration:null!==(Se=Rt.iteration)&&void 0!==Se?Se:null,finish:null!==(nt=Rt.end)&&void 0!==nt?nt:null,time:null!==(dt=Rt.time)&&void 0!==dt?dt:null,points:null!==(y=Rt.points)&&void 0!==y?y:null});break;case"audio":var rt,Mt,Lt;W.show.audio={},Object.assign(W.show.audio,{source:lt(null,null,Rt.url),iteration:null!==(rt=Rt.iteration)&&void 0!==rt?rt:null,finish:null!==(Mt=Rt.end)&&void 0!==Mt?Mt:null,time:null!==(Lt=Rt.time)&&void 0!==Lt?Lt:null,async:-1==Rt.iteration?"change-slide":"change-node"});break;case"node":case"node2":var ee,ce,jt,Pt,ue,We,Ne,Zt,je,mt,E,ft,St,K,at;Rt.options.includes("show")&&(W.show.triggershow={},Object.assign(W.show.triggershow,{id:null!==(ee=parseInt(null!==(ce=Rt.id)&&void 0!==ce?ce:"0"))&&void 0!==ee?ee:null,ids:null===(jt=Rt.ids)||void 0===jt?void 0:jt.map(Q=>parseInt(Q)),async:null!==(Pt=Rt.async)&&void 0!==Pt?Pt:null,time:null!==(ue=Rt.time)&&void 0!==ue?ue:null})),Rt.options.includes("run")&&(W.show.triggerrun={},Object.assign(W.show.triggerrun,{id:null!==(We=parseInt(null!==(Ne=Rt.id)&&void 0!==Ne?Ne:"0"))&&void 0!==We?We:null,ids:null===(Zt=Rt.ids)||void 0===Zt?void 0:Zt.map(Q=>parseInt(Q)),async:null!==(je=Rt.async)&&void 0!==je?je:null,time:null!==(mt=Rt.time)&&void 0!==mt?mt:null})),Rt.options.includes("hide")&&(W.show.triggerhide={},Object.assign(W.show.triggerhide,{id:null!==(E=parseInt(null!==(ft=Rt.id)&&void 0!==ft?ft:"0"))&&void 0!==E?E:null,ids:null===(St=Rt.ids)||void 0===St?void 0:St.map(Q=>parseInt(Q)),async:null!==(K=Rt.async)&&void 0!==K?K:null,time:null!==(at=Rt.time)&&void 0!==at?at:null}))}}));let $t=it.actions.click.filter(Ut=>Ut.elementId==Ht&&Ut.active);return $t&&(W.click={},$t.forEach(Ut=>{let{source:Rt}=Ut;switch(null==Rt?void 0:Rt.type){case"work":var Oe,Se,nt,dt,y;W.click.action={},Object.assign(W.click.action,{value:null!==(Oe=Rt.value)&&void 0!==Oe?Oe:null,iteration:null!==(Se=Rt.iteration)&&void 0!==Se?Se:null,finish:null!==(nt=Rt.end)&&void 0!==nt?nt:null,time:null!==(dt=Rt.time)&&void 0!==dt?dt:null,points:null!==(y=Rt.points)&&void 0!==y?y:null});break;case"audio":var rt,Mt,Lt;W.click.audio={},Object.assign(W.click.audio,{source:lt(null,null,Rt.url),iteration:null!==(rt=Rt.iteration)&&void 0!==rt?rt:null,finish:null!==(Mt=Rt.end)&&void 0!==Mt?Mt:null,time:null!==(Lt=Rt.time)&&void 0!==Lt?Lt:null,async:-1==Rt.iteration?"change-slide":"change-node"});break;case"node":case"node2":var ee,ce,jt,Pt,ue,We,Ne,Zt,je,mt,E,ft,St,K,at;Rt.options.includes("show")&&(W.click.triggershow={},Object.assign(W.click.triggershow,{id:null!==(ee=parseInt(null!==(ce=Rt.id)&&void 0!==ce?ce:"0"))&&void 0!==ee?ee:null,ids:null===(jt=Rt.ids)||void 0===jt?void 0:jt.map(ct=>parseInt(ct)),async:null!==(Pt=Rt.async)&&void 0!==Pt?Pt:null,time:null!==(ue=Rt.time)&&void 0!==ue?ue:null})),Rt.options.includes("run")&&(W.click.triggerrun={},Object.assign(W.click.triggerrun,{id:null!==(We=parseInt(null!==(Ne=Rt.id)&&void 0!==Ne?Ne:"0"))&&void 0!==We?We:null,ids:null===(Zt=Rt.ids)||void 0===Zt?void 0:Zt.map(ct=>parseInt(ct)),async:null!==(je=Rt.async)&&void 0!==je?je:null,time:null!==(mt=Rt.time)&&void 0!==mt?mt:null})),Rt.options.includes("hide")&&(W.click.triggerhide={},Object.assign(W.click.triggerhide,{id:null!==(E=parseInt(null!==(ft=Rt.id)&&void 0!==ft?ft:"0"))&&void 0!==E?E:null,ids:null===(St=Rt.ids)||void 0===St?void 0:St.map(ct=>parseInt(ct)),async:null!==(K=Rt.async)&&void 0!==K?K:null,time:null!==(at=Rt.time)&&void 0!==at?at:null}));break;case"slide":var Q;W.click.slide={},Object.assign(W.click.slide,{id:parseInt(null!==(Q=Rt.id)&&void 0!==Q?Q:"0")||Rt.num||null,code:Rt.id})}})),W})(),variable:(W=>{let Wt={};var $t;Y.getAttribute("data-variable")&&(Wt.input={},Object.assign(Wt.input,{variable:null!==($t=Y.getAttribute("data-variable"))&&void 0!==$t?$t:null}));let Ut=null===(W=it.nodes)||void 0===W||null===(W=W.find(dt=>dt.id==Ht))||void 0===W?void 0:W.variable;var Rt,Oe,Se,nt;return Ut&&(Wt.click={},Object.assign(Wt.click,{variable:null!==(Rt=Ut.variable)&&void 0!==Rt?Rt:null,operator:null!==(Oe=Ut.operator)&&void 0!==Oe?Oe:null,valuetype:null!==(Se=Ut.valuetype)&&void 0!==Se?Se:null,value:null!==(nt=Ut.value)&&void 0!==nt?nt:null})),Wt})()};null===(a=It.svg)||void 0===a||a.nodes.push(Ie)}),tt.push(It)}),console.log(tt),{screen:{width:et.screen.w,height:et.screen.h},data:{slides:tt},variable:et.variable}}},3217:(De,Qt,b)=>{"use strict";b.d(Qt,{HB:()=>_,bw:()=>G,c_:()=>ot,ei:()=>U});var D=b(422),L=b(3130),st=b(1862);const ot=(O,B)=>{G("#body-slide",`#li${O}`,B)},G=(O,B,k)=>{var R,lt,xt,et,j,tt;if(!$(O).length||!$(B).length)return;let it=null!==(R=null===(lt=window.document.getElementById(B.replace(/\#/,"")))||void 0===lt?void 0:lt.offsetTop)&&void 0!==R?R:0,w=null!==(xt=null===(et=window.document.getElementById(B.replace(/\#/,"")))||void 0===et?void 0:et.offsetHeight)&&void 0!==xt?xt:0,Ot=null!==(j=null===(tt=window.document.getElementById(O.replace(/\#/,"")))||void 0===tt?void 0:tt.offsetHeight)&&void 0!==j?j:0,It=Math.max(it+w-Ot/2,0);k?$(O).animate({scrollTop:It}):$(O).scrollTop(It)},_=O=>{switch(O.v_mediatype){case D.t.IMAGE:return"assets/image/media/image.svg";case D.t.AUDIO:return"assets/image/media/audio.svg";case D.t.VIDEO:return"assets/image/media/video.svg";case D.t.OFFICE:switch(O.extension){case"doc":case"docx":return"assets/image/media/word.svg";case"xls":case"xlsx":return"assets/image/media/excel.svg";case"ppt":case"pptx":return"assets/image/media/powerpoint.svg";default:return"assets/image/media/file.svg"}case D.t.PDF:return"assets/image/media/pdf.svg";case D.t.HTML:return"assets/image/media/html.svg";case D.t.IMAGE_ANIMATION:return"assets/image/media/html-animation-2.svg";case D.t.PHET:return"assets/image/media/phet.svg";case D.t.ZIP:case D.t.TRACK:case D.t.TEXT:return"assets/image/media/file.svg";case D.t.LINK:switch(O.v_osstype){case L.e.YOUTUBE:return"assets/image/media/youtube.svg";case L.e.PHET:return"assets/image/media/phet.svg";default:return"assets/image/media/link.svg"}default:return"assets/image/media/file.svg"}},U=O=>{switch(null==O?void 0:O.type){case D.t.IMAGE:return"assets/iframe/lib/mk-image-viewer/viewer.html?url="+O.readfileuploadurl+O.path;case D.t.AUDIO:return"assets/iframe/lib/mk-audio-player/player.html?url="+O.readfileuploadurl+O.path;case D.t.VIDEO:return"assets/iframe/lib/mk-video-player/player.html?url="+O.readfileuploadurl+O.path;case D.t.OFFICE:return"https://view.officeapps.live.com/op/view.aspx?src="+O.readfileuploadurl+O.path;case D.t.PDF:return"assets/iframe/lib/PDFReader/web/viewer.html?file="+O.readfileuploadurl+O.path;case D.t.HTML:case D.t.IMAGE_ANIMATION:case D.t.PHET:return""+O.readfileuploadurl+O.path;case D.t.ZIP:var B;return"imsmanifest.xml"==(null===(B=O.pathExtract)||void 0===B||null===(B=B.split("/"))||void 0===B?void 0:B.pop())?"assets/iframe/lib/ScormPool_Player/player.html?url="+O.readfileuploadurl+O.pathExtract:""+O.readfileuploadurl+O.path;case D.t.TRACK:case D.t.TEXT:return""+O.readfileuploadurl+O.path;case D.t.LINK:switch(O.oss){case L.e.SCORM:return"assets/iframe/lib/ScormPool_Player/player.html?url="+O.url;case L.e.YOUTUBE:var k;return null!==(k=(0,st.eu)(O.url))&&void 0!==k?k:"";case L.e.PHET:var R;return null!==(R=O.url)&&void 0!==R?R:"";default:var lt;return null!==(lt=O.url)&&void 0!==lt?lt:""}default:return""+O.readfileuploadurl+O.path}}},422:(De,Qt,b)=>{"use strict";b.d(Qt,{t:()=>D});const D={TEXT:900,IMAGE:901,AUDIO:902,VIDEO:903,LINK:904,ZIP:905,HTML:906,TRACK:907,OFFICE:908,PDF:909,PHET:910,IMAGE_ANIMATION:911,SCORM:912}},3130:(De,Qt,b)=>{"use strict";b.d(Qt,{e:()=>D});const D={ONEDRIVE:1e3,GOOGLEDRIVE:1001,YOUTUBE:1002,SCORM:1003,PHET:1005,OTHER:1004}},2276:function(De,Qt){var D;!function(L,st){"use strict";"object"==typeof De.exports?De.exports=L.document?st(L,!0):function(ot){if(!ot.document)throw new Error("jQuery requires a window with a document");return st(ot)}:st(L)}(typeof window<"u"?window:this,function(L,st){"use strict";var ot=[],G=Object.getPrototypeOf,_=ot.slice,U=ot.flat?function(t){return ot.flat.call(t)}:function(t){return ot.concat.apply([],t)},O=ot.push,B=ot.indexOf,k={},R=k.toString,lt=k.hasOwnProperty,xt=lt.toString,et=xt.call(Object),j={},tt=function(i){return"function"==typeof i&&"number"!=typeof i.nodeType&&"function"!=typeof i.item},it=function(i){return null!=i&&i===i.window},w=L.document,Ot={type:!0,src:!0,nonce:!0,noModule:!0};function It(t,i,n){var o,c,h=(n=n||w).createElement("script");if(h.text=t,i)for(o in Ot)(c=i[o]||i.getAttribute&&i.getAttribute(o))&&h.setAttribute(o,c);n.head.appendChild(h).parentNode.removeChild(h)}function Et(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?k[R.call(t)]||"object":typeof t}var Y="3.7.1",Ct=/HTML$/i,a=function(t,i){return new a.fn.init(t,i)};function te(t){var i=!!t&&"length"in t&&t.length,n=Et(t);return!tt(t)&&!it(t)&&("array"===n||0===i||"number"==typeof i&&i>0&&i-1 in t)}function zt(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}a.fn=a.prototype={jquery:Y,constructor:a,length:0,toArray:function(){return _.call(this)},get:function(t){return null==t?_.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var i=a.merge(this.constructor(),t);return i.prevObject=this,i},each:function(t){return a.each(this,t)},map:function(t){return this.pushStack(a.map(this,function(i,n){return t.call(i,n,i)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(a.grep(this,function(t,i){return(i+1)%2}))},odd:function(){return this.pushStack(a.grep(this,function(t,i){return i%2}))},eq:function(t){var i=this.length,n=+t+(t<0?i:0);return this.pushStack(n>=0&&n<i?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:O,sort:ot.sort,splice:ot.splice},a.extend=a.fn.extend=function(){var t,i,n,o,c,h,v=arguments[0]||{},P=1,S=arguments.length,F=!1;for("boolean"==typeof v&&(F=v,v=arguments[P]||{},P++),"object"!=typeof v&&!tt(v)&&(v={}),P===S&&(v=this,P--);P<S;P++)if(null!=(t=arguments[P]))for(i in t)o=t[i],"__proto__"!==i&&v!==o&&(F&&o&&(a.isPlainObject(o)||(c=Array.isArray(o)))?(n=v[i],h=c&&!Array.isArray(n)?[]:c||a.isPlainObject(n)?n:{},c=!1,v[i]=a.extend(F,h,o)):void 0!==o&&(v[i]=o));return v},a.extend({expando:"jQuery"+(Y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var i,n;return!(!t||"[object Object]"!==R.call(t)||(i=G(t))&&("function"!=typeof(n=lt.call(i,"constructor")&&i.constructor)||xt.call(n)!==et))},isEmptyObject:function(t){var i;for(i in t)return!1;return!0},globalEval:function(t,i,n){It(t,{nonce:i&&i.nonce},n)},each:function(t,i){var n,o=0;if(te(t))for(n=t.length;o<n&&!1!==i.call(t[o],o,t[o]);o++);else for(o in t)if(!1===i.call(t[o],o,t[o]))break;return t},text:function(t){var i,n="",o=0,c=t.nodeType;if(!c)for(;i=t[o++];)n+=a.text(i);return 1===c||11===c?t.textContent:9===c?t.documentElement.textContent:3===c||4===c?t.nodeValue:n},makeArray:function(t,i){var n=i||[];return null!=t&&(te(Object(t))?a.merge(n,"string"==typeof t?[t]:t):O.call(n,t)),n},inArray:function(t,i,n){return null==i?-1:B.call(i,t,n)},isXMLDoc:function(t){var n=t&&(t.ownerDocument||t).documentElement;return!Ct.test(t&&t.namespaceURI||n&&n.nodeName||"HTML")},merge:function(t,i){for(var n=+i.length,o=0,c=t.length;o<n;o++)t[c++]=i[o];return t.length=c,t},grep:function(t,i,n){for(var c=[],h=0,v=t.length,P=!n;h<v;h++)!i(t[h],h)!==P&&c.push(t[h]);return c},map:function(t,i,n){var o,c,h=0,v=[];if(te(t))for(o=t.length;h<o;h++)null!=(c=i(t[h],h,n))&&v.push(c);else for(h in t)null!=(c=i(t[h],h,n))&&v.push(c);return U(v)},guid:1,support:j}),"function"==typeof Symbol&&(a.fn[Symbol.iterator]=ot[Symbol.iterator]),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,i){k["[object "+i+"]"]=i.toLowerCase()});var Xt=ot.pop,Ht=ot.sort,Ie=ot.splice,W="[\\x20\\t\\r\\n\\f]",Wt=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g");a.contains=function(t,i){var n=i&&i.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var $t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Ut(t,i){return i?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}a.escapeSelector=function(t){return(t+"").replace($t,Ut)};var Rt=w,Oe=O;!function(){var t,i,n,o,c,v,P,S,F,Tt,h=Oe,Nt=a.expando,gt=0,Gt=0,xe=Zn(),Ve=Zn(),Le=Zn(),mi=Zn(),ui=function(x,z){return x===z&&(c=!0),0},li="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ki="(?:\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ge="\\["+W+"*("+Ki+")(?:"+W+"*([*^$|!~]?=)"+W+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ki+"))|)"+W+"*\\]",sn=":("+Ki+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ge+")*)|.*)\\)|)",$e=new RegExp(W+"+","g"),Ye=new RegExp("^"+W+"*,"+W+"*"),zi=new RegExp("^"+W+"*([>+~]|"+W+")"+W+"*"),Qn=new RegExp(W+"|>"),Hi=new RegExp(sn),Ln=new RegExp("^"+Ki+"$"),hi={ID:new RegExp("^#("+Ki+")"),CLASS:new RegExp("^\\.("+Ki+")"),TAG:new RegExp("^("+Ki+"|[*])"),ATTR:new RegExp("^"+Ge),PSEUDO:new RegExp("^"+sn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),bool:new RegExp("^(?:"+li+")$","i"),needsContext:new RegExp("^"+W+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)","i")},Xi=/^(?:input|select|textarea|button)$/i,Ui=/^h\d$/i,Si=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xn=/[+~]/,Zi=new RegExp("\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\([^\\r\\n\\f])","g"),qi=function(x,z){var ht="0x"+x.slice(1)-65536;return z||(ht<0?String.fromCharCode(ht+65536):String.fromCharCode(ht>>10|55296,1023&ht|56320))},Dr=function(){un()},Rr=qn(function(x){return!0===x.disabled&&zt(x,"fieldset")},{dir:"parentNode",next:"legend"});try{h.apply(ot=_.call(Rt.childNodes),Rt.childNodes)}catch{h={apply:function(z,ht){Oe.apply(z,_.call(ht))},call:function(z){Oe.apply(z,_.call(arguments,1))}}}function ti(x,z,ht,_t){var At,qt,oe,fe,le,Ue,ke,Pe=z&&z.ownerDocument,Fe=z?z.nodeType:9;if(ht=ht||[],"string"!=typeof x||!x||1!==Fe&&9!==Fe&&11!==Fe)return ht;if(!_t&&(un(z),z=z||v,S)){if(11!==Fe&&(le=Si.exec(x)))if(At=le[1]){if(9===Fe){if(!(oe=z.getElementById(At)))return ht;if(oe.id===At)return h.call(ht,oe),ht}else if(Pe&&(oe=Pe.getElementById(At))&&ti.contains(z,oe)&&oe.id===At)return h.call(ht,oe),ht}else{if(le[2])return h.apply(ht,z.getElementsByTagName(x)),ht;if((At=le[3])&&z.getElementsByClassName)return h.apply(ht,z.getElementsByClassName(At)),ht}if(!(mi[x+" "]||F&&F.test(x))){if(ke=x,Pe=z,1===Fe&&(Qn.test(x)||zi.test(x))){for(((Pe=Xn.test(x)&&jn(z.parentNode)||z)!=z||!j.scope)&&((fe=z.getAttribute("id"))?fe=a.escapeSelector(fe):z.setAttribute("id",fe=Nt)),qt=(Ue=Bn(x)).length;qt--;)Ue[qt]=(fe?"#"+fe:":scope")+" "+Wn(Ue[qt]);ke=Ue.join(",")}try{return h.apply(ht,Pe.querySelectorAll(ke)),ht}catch{mi(x,!0)}finally{fe===Nt&&z.removeAttribute("id")}}}return Br(x.replace(Wt,"$1"),z,ht,_t)}function Zn(){var x=[];return function z(ht,_t){return x.push(ht+" ")>i.cacheLength&&delete z[x.shift()],z[ht+" "]=_t}}function Pi(x){return x[Nt]=!0,x}function _n(x){var z=v.createElement("fieldset");try{return!!x(z)}catch{return!1}finally{z.parentNode&&z.parentNode.removeChild(z),z=null}}function Lr(x){return function(z){return zt(z,"input")&&z.type===x}}function oa(x){return function(z){return(zt(z,"input")||zt(z,"button"))&&z.type===x}}function Zr(x){return function(z){return"form"in z?z.parentNode&&!1===z.disabled?"label"in z?"label"in z.parentNode?z.parentNode.disabled===x:z.disabled===x:z.isDisabled===x||z.isDisabled!==!x&&Rr(z)===x:z.disabled===x:"label"in z&&z.disabled===x}}function Yi(x){return Pi(function(z){return z=+z,Pi(function(ht,_t){for(var At,qt=x([],ht.length,z),oe=qt.length;oe--;)ht[At=qt[oe]]&&(ht[At]=!(_t[At]=ht[At]))})})}function jn(x){return x&&typeof x.getElementsByTagName<"u"&&x}function un(x){var z,ht=x?x.ownerDocument||x:Rt;return ht==v||9!==ht.nodeType||!ht.documentElement||(P=(v=ht).documentElement,S=!a.isXMLDoc(v),Tt=P.matches||P.webkitMatchesSelector||P.msMatchesSelector,P.msMatchesSelector&&Rt!=v&&(z=v.defaultView)&&z.top!==z&&z.addEventListener("unload",Dr),j.getById=_n(function(_t){return P.appendChild(_t).id=a.expando,!v.getElementsByName||!v.getElementsByName(a.expando).length}),j.disconnectedMatch=_n(function(_t){return Tt.call(_t,"*")}),j.scope=_n(function(){return v.querySelectorAll(":scope")}),j.cssHas=_n(function(){try{return v.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),j.getById?(i.filter.ID=function(_t){var At=_t.replace(Zi,qi);return function(qt){return qt.getAttribute("id")===At}},i.find.ID=function(_t,At){if(typeof At.getElementById<"u"&&S){var qt=At.getElementById(_t);return qt?[qt]:[]}}):(i.filter.ID=function(_t){var At=_t.replace(Zi,qi);return function(qt){var oe=typeof qt.getAttributeNode<"u"&&qt.getAttributeNode("id");return oe&&oe.value===At}},i.find.ID=function(_t,At){if(typeof At.getElementById<"u"&&S){var qt,oe,fe,le=At.getElementById(_t);if(le){if((qt=le.getAttributeNode("id"))&&qt.value===_t)return[le];for(fe=At.getElementsByName(_t),oe=0;le=fe[oe++];)if((qt=le.getAttributeNode("id"))&&qt.value===_t)return[le]}return[]}}),i.find.TAG=function(_t,At){return typeof At.getElementsByTagName<"u"?At.getElementsByTagName(_t):At.querySelectorAll(_t)},i.find.CLASS=function(_t,At){if(typeof At.getElementsByClassName<"u"&&S)return At.getElementsByClassName(_t)},F=[],_n(function(_t){var At;P.appendChild(_t).innerHTML="<a id='"+Nt+"' href='' disabled='disabled'></a><select id='"+Nt+"-\r\\' disabled='disabled'><option selected=''></option></select>",_t.querySelectorAll("[selected]").length||F.push("\\["+W+"*(?:value|"+li+")"),_t.querySelectorAll("[id~="+Nt+"-]").length||F.push("~="),_t.querySelectorAll("a#"+Nt+"+*").length||F.push(".#.+[+~]"),_t.querySelectorAll(":checked").length||F.push(":checked"),(At=v.createElement("input")).setAttribute("type","hidden"),_t.appendChild(At).setAttribute("name","D"),P.appendChild(_t).disabled=!0,2!==_t.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),(At=v.createElement("input")).setAttribute("name",""),_t.appendChild(At),_t.querySelectorAll("[name='']").length||F.push("\\["+W+"*name"+W+"*="+W+"*(?:''|\"\")")}),j.cssHas||F.push(":has"),F=F.length&&new RegExp(F.join("|")),ui=function(_t,At){if(_t===At)return c=!0,0;var qt=!_t.compareDocumentPosition-!At.compareDocumentPosition;return qt||(1&(qt=(_t.ownerDocument||_t)==(At.ownerDocument||At)?_t.compareDocumentPosition(At):1)||!j.sortDetached&&At.compareDocumentPosition(_t)===qt?_t===v||_t.ownerDocument==Rt&&ti.contains(Rt,_t)?-1:At===v||At.ownerDocument==Rt&&ti.contains(Rt,At)?1:o?B.call(o,_t)-B.call(o,At):0:4&qt?-1:1)}),v}for(t in ti.matches=function(x,z){return ti(x,null,null,z)},ti.matchesSelector=function(x,z){if(un(x),S&&!mi[z+" "]&&(!F||!F.test(z)))try{var ht=Tt.call(x,z);if(ht||j.disconnectedMatch||x.document&&11!==x.document.nodeType)return ht}catch{mi(z,!0)}return ti(z,v,null,[x]).length>0},ti.contains=function(x,z){return(x.ownerDocument||x)!=v&&un(x),a.contains(x,z)},ti.attr=function(x,z){(x.ownerDocument||x)!=v&&un(x);var ht=i.attrHandle[z.toLowerCase()],_t=ht&&lt.call(i.attrHandle,z.toLowerCase())?ht(x,z,!S):void 0;return void 0!==_t?_t:x.getAttribute(z)},ti.error=function(x){throw new Error("Syntax error, unrecognized expression: "+x)},a.uniqueSort=function(x){var z,ht=[],_t=0,At=0;if(c=!j.sortStable,o=!j.sortStable&&_.call(x,0),Ht.call(x,ui),c){for(;z=x[At++];)z===x[At]&&(_t=ht.push(At));for(;_t--;)Ie.call(x,ht[_t],1)}return o=null,x},a.fn.uniqueSort=function(){return this.pushStack(a.uniqueSort(_.apply(this)))},(i=a.expr={cacheLength:50,createPseudo:Pi,match:hi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(x){return x[1]=x[1].replace(Zi,qi),x[3]=(x[3]||x[4]||x[5]||"").replace(Zi,qi),"~="===x[2]&&(x[3]=" "+x[3]+" "),x.slice(0,4)},CHILD:function(x){return x[1]=x[1].toLowerCase(),"nth"===x[1].slice(0,3)?(x[3]||ti.error(x[0]),x[4]=+(x[4]?x[5]+(x[6]||1):2*("even"===x[3]||"odd"===x[3])),x[5]=+(x[7]+x[8]||"odd"===x[3])):x[3]&&ti.error(x[0]),x},PSEUDO:function(x){var z,ht=!x[6]&&x[2];return hi.CHILD.test(x[0])?null:(x[3]?x[2]=x[4]||x[5]||"":ht&&Hi.test(ht)&&(z=Bn(ht,!0))&&(z=ht.indexOf(")",ht.length-z)-ht.length)&&(x[0]=x[0].slice(0,z),x[2]=ht.slice(0,z)),x.slice(0,3))}},filter:{TAG:function(x){var z=x.replace(Zi,qi).toLowerCase();return"*"===x?function(){return!0}:function(ht){return zt(ht,z)}},CLASS:function(x){var z=xe[x+" "];return z||(z=new RegExp("(^|"+W+")"+x+"("+W+"|$)"))&&xe(x,function(ht){return z.test("string"==typeof ht.className&&ht.className||typeof ht.getAttribute<"u"&&ht.getAttribute("class")||"")})},ATTR:function(x,z,ht){return function(_t){var At=ti.attr(_t,x);return null==At?"!="===z:!z||(At+="","="===z?At===ht:"!="===z?At!==ht:"^="===z?ht&&0===At.indexOf(ht):"*="===z?ht&&At.indexOf(ht)>-1:"$="===z?ht&&At.slice(-ht.length)===ht:"~="===z?(" "+At.replace($e," ")+" ").indexOf(ht)>-1:"|="===z&&(At===ht||At.slice(0,ht.length+1)===ht+"-"))}},CHILD:function(x,z,ht,_t,At){var qt="nth"!==x.slice(0,3),oe="last"!==x.slice(-4),fe="of-type"===z;return 1===_t&&0===At?function(le){return!!le.parentNode}:function(le,Ue,ke){var Pe,Fe,_e,ii,Ti,xi=qt!==oe?"nextSibling":"previousSibling",Di=le.parentNode,Qi=fe&&le.nodeName.toLowerCase(),An=!ke&&!fe,Oi=!1;if(Di){if(qt){for(;xi;){for(_e=le;_e=_e[xi];)if(fe?zt(_e,Qi):1===_e.nodeType)return!1;Ti=xi="only"===x&&!Ti&&"nextSibling"}return!0}if(Ti=[oe?Di.firstChild:Di.lastChild],oe&&An){for(Oi=(ii=(Pe=(Fe=Di[Nt]||(Di[Nt]={}))[x]||[])[0]===gt&&Pe[1])&&Pe[2],_e=ii&&Di.childNodes[ii];_e=++ii&&_e&&_e[xi]||(Oi=ii=0)||Ti.pop();)if(1===_e.nodeType&&++Oi&&_e===le){Fe[x]=[gt,ii,Oi];break}}else if(An&&(Oi=ii=(Pe=(Fe=le[Nt]||(le[Nt]={}))[x]||[])[0]===gt&&Pe[1]),!1===Oi)for(;(_e=++ii&&_e&&_e[xi]||(Oi=ii=0)||Ti.pop())&&(!(fe?zt(_e,Qi):1===_e.nodeType)||!++Oi||(An&&((Fe=_e[Nt]||(_e[Nt]={}))[x]=[gt,Oi]),_e!==le)););return(Oi-=At)===_t||Oi%_t==0&&Oi/_t>=0}}},PSEUDO:function(x,z){var ht,_t=i.pseudos[x]||i.setFilters[x.toLowerCase()]||ti.error("unsupported pseudo: "+x);return _t[Nt]?_t(z):_t.length>1?(ht=[x,x,"",z],i.setFilters.hasOwnProperty(x.toLowerCase())?Pi(function(At,qt){for(var oe,fe=_t(At,z),le=fe.length;le--;)At[oe=B.call(At,fe[le])]=!(qt[oe]=fe[le])}):function(At){return _t(At,0,ht)}):_t}},pseudos:{not:Pi(function(x){var z=[],ht=[],_t=wr(x.replace(Wt,"$1"));return _t[Nt]?Pi(function(At,qt,oe,fe){for(var le,Ue=_t(At,null,fe,[]),ke=At.length;ke--;)(le=Ue[ke])&&(At[ke]=!(qt[ke]=le))}):function(At,qt,oe){return z[0]=At,_t(z,null,oe,ht),z[0]=null,!ht.pop()}}),has:Pi(function(x){return function(z){return ti(x,z).length>0}}),contains:Pi(function(x){return x=x.replace(Zi,qi),function(z){return(z.textContent||a.text(z)).indexOf(x)>-1}}),lang:Pi(function(x){return Ln.test(x||"")||ti.error("unsupported lang: "+x),x=x.replace(Zi,qi).toLowerCase(),function(z){var ht;do{if(ht=S?z.lang:z.getAttribute("xml:lang")||z.getAttribute("lang"))return(ht=ht.toLowerCase())===x||0===ht.indexOf(x+"-")}while((z=z.parentNode)&&1===z.nodeType);return!1}}),target:function(x){var z=L.location&&L.location.hash;return z&&z.slice(1)===x.id},root:function(x){return x===P},focus:function(x){return x===function Xr(){try{return v.activeElement}catch{}}()&&v.hasFocus()&&!!(x.type||x.href||~x.tabIndex)},enabled:Zr(!1),disabled:Zr(!0),checked:function(x){return zt(x,"input")&&!!x.checked||zt(x,"option")&&!!x.selected},selected:function(x){return!0===x.selected},empty:function(x){for(x=x.firstChild;x;x=x.nextSibling)if(x.nodeType<6)return!1;return!0},parent:function(x){return!i.pseudos.empty(x)},header:function(x){return Ui.test(x.nodeName)},input:function(x){return Xi.test(x.nodeName)},button:function(x){return zt(x,"input")&&"button"===x.type||zt(x,"button")},text:function(x){var z;return zt(x,"input")&&"text"===x.type&&(null==(z=x.getAttribute("type"))||"text"===z.toLowerCase())},first:Yi(function(){return[0]}),last:Yi(function(x,z){return[z-1]}),eq:Yi(function(x,z,ht){return[ht<0?ht+z:ht]}),even:Yi(function(x,z){for(var ht=0;ht<z;ht+=2)x.push(ht);return x}),odd:Yi(function(x,z){for(var ht=1;ht<z;ht+=2)x.push(ht);return x}),lt:Yi(function(x,z,ht){var _t;for(_t=ht<0?ht+z:ht>z?z:ht;--_t>=0;)x.push(_t);return x}),gt:Yi(function(x,z,ht){for(var _t=ht<0?ht+z:ht;++_t<z;)x.push(_t);return x})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=Lr(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=oa(t);function jr(){}function Bn(x,z){var ht,_t,At,qt,oe,fe,le,Ue=Ve[x+" "];if(Ue)return z?0:Ue.slice(0);for(oe=x,fe=[],le=i.preFilter;oe;){for(qt in(!ht||(_t=Ye.exec(oe)))&&(_t&&(oe=oe.slice(_t[0].length)||oe),fe.push(At=[])),ht=!1,(_t=zi.exec(oe))&&(ht=_t.shift(),At.push({value:ht,type:_t[0].replace(Wt," ")}),oe=oe.slice(ht.length)),i.filter)(_t=hi[qt].exec(oe))&&(!le[qt]||(_t=le[qt](_t)))&&(ht=_t.shift(),At.push({value:ht,type:qt,matches:_t}),oe=oe.slice(ht.length));if(!ht)break}return z?oe.length:oe?ti.error(x):Ve(x,fe).slice(0)}function Wn(x){for(var z=0,ht=x.length,_t="";z<ht;z++)_t+=x[z].value;return _t}function qn(x,z,ht){var _t=z.dir,At=z.next,qt=At||_t,oe=ht&&"parentNode"===qt,fe=Gt++;return z.first?function(le,Ue,ke){for(;le=le[_t];)if(1===le.nodeType||oe)return x(le,Ue,ke);return!1}:function(le,Ue,ke){var Pe,Fe,_e=[gt,fe];if(ke){for(;le=le[_t];)if((1===le.nodeType||oe)&&x(le,Ue,ke))return!0}else for(;le=le[_t];)if(1===le.nodeType||oe)if(Fe=le[Nt]||(le[Nt]={}),At&&zt(le,At))le=le[_t]||le;else{if((Pe=Fe[qt])&&Pe[0]===gt&&Pe[1]===fe)return _e[2]=Pe[2];if(Fe[qt]=_e,_e[2]=x(le,Ue,ke))return!0}return!1}}function mr(x){return x.length>1?function(z,ht,_t){for(var At=x.length;At--;)if(!x[At](z,ht,_t))return!1;return!0}:x[0]}function Yn(x,z,ht,_t,At){for(var qt,oe=[],fe=0,le=x.length,Ue=null!=z;fe<le;fe++)(qt=x[fe])&&(!ht||ht(qt,_t,At))&&(oe.push(qt),Ue&&z.push(fe));return oe}function _r(x,z,ht,_t,At,qt){return _t&&!_t[Nt]&&(_t=_r(_t)),At&&!At[Nt]&&(At=_r(At,qt)),Pi(function(oe,fe,le,Ue){var ke,Pe,Fe,_e,ii=[],Ti=[],xi=fe.length,Di=oe||function qr(x,z,ht){for(var _t=0,At=z.length;_t<At;_t++)ti(x,z[_t],ht);return ht}(z||"*",le.nodeType?[le]:le,[]),Qi=!x||!oe&&z?Di:Yn(Di,ii,x,le,Ue);if(ht?ht(Qi,_e=At||(oe?x:xi||_t)?[]:fe,le,Ue):_e=Qi,_t)for(ke=Yn(_e,Ti),_t(ke,[],le,Ue),Pe=ke.length;Pe--;)(Fe=ke[Pe])&&(_e[Ti[Pe]]=!(Qi[Ti[Pe]]=Fe));if(oe){if(At||x){if(At){for(ke=[],Pe=_e.length;Pe--;)(Fe=_e[Pe])&&ke.push(Qi[Pe]=Fe);At(null,_e=[],ke,Ue)}for(Pe=_e.length;Pe--;)(Fe=_e[Pe])&&(ke=At?B.call(oe,Fe):ii[Pe])>-1&&(oe[ke]=!(fe[ke]=Fe))}}else _e=Yn(_e===fe?_e.splice(xi,_e.length):_e),At?At(null,fe,_e,Ue):h.apply(fe,_e)})}function br(x){for(var z,ht,_t,At=x.length,qt=i.relative[x[0].type],oe=qt||i.relative[" "],fe=qt?1:0,le=qn(function(Pe){return Pe===z},oe,!0),Ue=qn(function(Pe){return B.call(z,Pe)>-1},oe,!0),ke=[function(Pe,Fe,_e){var ii=!qt&&(_e||Fe!=n)||((z=Fe).nodeType?le(Pe,Fe,_e):Ue(Pe,Fe,_e));return z=null,ii}];fe<At;fe++)if(ht=i.relative[x[fe].type])ke=[qn(mr(ke),ht)];else{if((ht=i.filter[x[fe].type].apply(null,x[fe].matches))[Nt]){for(_t=++fe;_t<At&&!i.relative[x[_t].type];_t++);return _r(fe>1&&mr(ke),fe>1&&Wn(x.slice(0,fe-1).concat({value:" "===x[fe-2].type?"*":""})).replace(Wt,"$1"),ht,fe<_t&&br(x.slice(fe,_t)),_t<At&&br(x=x.slice(_t)),_t<At&&Wn(x))}ke.push(ht)}return mr(ke)}function wr(x,z){var ht,_t=[],At=[],qt=Le[x+" "];if(!qt){for(z||(z=Bn(x)),ht=z.length;ht--;)(qt=br(z[ht]))[Nt]?_t.push(qt):At.push(qt);qt=Le(x,function Yr(x,z){var ht=z.length>0,_t=x.length>0,At=function(qt,oe,fe,le,Ue){var ke,Pe,Fe,_e=0,ii="0",Ti=qt&&[],xi=[],Di=n,Qi=qt||_t&&i.find.TAG("*",Ue),An=gt+=null==Di?1:Math.random()||.1,Oi=Qi.length;for(Ue&&(n=oe==v||oe||Ue);ii!==Oi&&null!=(ke=Qi[ii]);ii++){if(_t&&ke){for(Pe=0,!oe&&ke.ownerDocument!=v&&(un(ke),fe=!S);Fe=x[Pe++];)if(Fe(ke,oe||v,fe)){h.call(le,ke);break}Ue&&(gt=An)}ht&&((ke=!Fe&&ke)&&_e--,qt&&Ti.push(ke))}if(_e+=ii,ht&&ii!==_e){for(Pe=0;Fe=z[Pe++];)Fe(Ti,xi,oe,fe);if(qt){if(_e>0)for(;ii--;)Ti[ii]||xi[ii]||(xi[ii]=Xt.call(le));xi=Yn(xi)}h.apply(le,xi),Ue&&!qt&&xi.length>0&&_e+z.length>1&&a.uniqueSort(le)}return Ue&&(gt=An,n=Di),Ti};return ht?Pi(At):At}(At,_t)),qt.selector=x}return qt}function Br(x,z,ht,_t){var At,qt,oe,fe,le,Ue="function"==typeof x&&x,ke=!_t&&Bn(x=Ue.selector||x);if(ht=ht||[],1===ke.length){if((qt=ke[0]=ke[0].slice(0)).length>2&&"ID"===(oe=qt[0]).type&&9===z.nodeType&&S&&i.relative[qt[1].type]){if(!(z=(i.find.ID(oe.matches[0].replace(Zi,qi),z)||[])[0]))return ht;Ue&&(z=z.parentNode),x=x.slice(qt.shift().value.length)}for(At=hi.needsContext.test(x)?0:qt.length;At--&&!i.relative[fe=(oe=qt[At]).type];)if((le=i.find[fe])&&(_t=le(oe.matches[0].replace(Zi,qi),Xn.test(qt[0].type)&&jn(z.parentNode)||z))){if(qt.splice(At,1),!(x=_t.length&&Wn(qt)))return h.apply(ht,_t),ht;break}}return(Ue||wr(x,ke))(_t,z,!S,ht,!z||Xn.test(x)&&jn(z.parentNode)||z),ht}jr.prototype=i.filters=i.pseudos,i.setFilters=new jr,j.sortStable=Nt.split("").sort(ui).join("")===Nt,un(),j.sortDetached=_n(function(x){return 1&x.compareDocumentPosition(v.createElement("fieldset"))}),a.find=ti,a.expr[":"]=a.expr.pseudos,a.unique=a.uniqueSort,ti.compile=wr,ti.select=Br,ti.setDocument=un,ti.tokenize=Bn,ti.escape=a.escapeSelector,ti.getText=a.text,ti.isXML=a.isXMLDoc,ti.selectors=a.expr,ti.support=a.support,ti.uniqueSort=a.uniqueSort}();var Se=function(t,i,n){for(var o=[],c=void 0!==n;(t=t[i])&&9!==t.nodeType;)if(1===t.nodeType){if(c&&a(t).is(n))break;o.push(t)}return o},nt=function(t,i){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==i&&n.push(t);return n},dt=a.expr.match.needsContext,y=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function rt(t,i,n){return tt(i)?a.grep(t,function(o,c){return!!i.call(o,c,o)!==n}):i.nodeType?a.grep(t,function(o){return o===i!==n}):"string"!=typeof i?a.grep(t,function(o){return B.call(i,o)>-1!==n}):a.filter(i,t,n)}a.filter=function(t,i,n){var o=i[0];return n&&(t=":not("+t+")"),1===i.length&&1===o.nodeType?a.find.matchesSelector(o,t)?[o]:[]:a.find.matches(t,a.grep(i,function(c){return 1===c.nodeType}))},a.fn.extend({find:function(t){var i,n,o=this.length,c=this;if("string"!=typeof t)return this.pushStack(a(t).filter(function(){for(i=0;i<o;i++)if(a.contains(c[i],this))return!0}));for(n=this.pushStack([]),i=0;i<o;i++)a.find(t,c[i],n);return o>1?a.uniqueSort(n):n},filter:function(t){return this.pushStack(rt(this,t||[],!1))},not:function(t){return this.pushStack(rt(this,t||[],!0))},is:function(t){return!!rt(this,"string"==typeof t&&dt.test(t)?a(t):t||[],!1).length}});var Mt,Lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ee=a.fn.init=function(t,i,n){var o,c;if(!t)return this;if(n=n||Mt,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Lt.exec(t))||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(a.merge(this,a.parseHTML(o[1],(i=i instanceof a?i[0]:i)&&i.nodeType?i.ownerDocument||i:w,!0)),y.test(o[1])&&a.isPlainObject(i))for(o in i)tt(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}return(c=w.getElementById(o[2]))&&(this[0]=c,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):tt(t)?void 0!==n.ready?n.ready(t):t(a):a.makeArray(t,this)};ee.prototype=a.fn,Mt=a(w);var ce=/^(?:parents|prev(?:Until|All))/,jt={children:!0,contents:!0,next:!0,prev:!0};function Pt(t,i){for(;(t=t[i])&&1!==t.nodeType;);return t}a.fn.extend({has:function(t){var i=a(t,this),n=i.length;return this.filter(function(){for(var o=0;o<n;o++)if(a.contains(this,i[o]))return!0})},closest:function(t,i){var n,o=0,c=this.length,h=[],v="string"!=typeof t&&a(t);if(!dt.test(t))for(;o<c;o++)for(n=this[o];n&&n!==i;n=n.parentNode)if(n.nodeType<11&&(v?v.index(n)>-1:1===n.nodeType&&a.find.matchesSelector(n,t))){h.push(n);break}return this.pushStack(h.length>1?a.uniqueSort(h):h)},index:function(t){return t?"string"==typeof t?B.call(a(t),this[0]):B.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,i){return this.pushStack(a.uniqueSort(a.merge(this.get(),a(t,i))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),a.each({parent:function(t){var i=t.parentNode;return i&&11!==i.nodeType?i:null},parents:function(t){return Se(t,"parentNode")},parentsUntil:function(t,i,n){return Se(t,"parentNode",n)},next:function(t){return Pt(t,"nextSibling")},prev:function(t){return Pt(t,"previousSibling")},nextAll:function(t){return Se(t,"nextSibling")},prevAll:function(t){return Se(t,"previousSibling")},nextUntil:function(t,i,n){return Se(t,"nextSibling",n)},prevUntil:function(t,i,n){return Se(t,"previousSibling",n)},siblings:function(t){return nt((t.parentNode||{}).firstChild,t)},children:function(t){return nt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&G(t.contentDocument)?t.contentDocument:(zt(t,"template")&&(t=t.content||t),a.merge([],t.childNodes))}},function(t,i){a.fn[t]=function(n,o){var c=a.map(this,i,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(c=a.filter(o,c)),this.length>1&&(jt[t]||a.uniqueSort(c),ce.test(t)&&c.reverse()),this.pushStack(c)}});var ue=/[^\x20\t\r\n\f]+/g;function Ne(t){return t}function Zt(t){throw t}function je(t,i,n,o){var c;try{t&&tt(c=t.promise)?c.call(t).done(i).fail(n):t&&tt(c=t.then)?c.call(t,i,n):i.apply(void 0,[t].slice(o))}catch(h){n.apply(void 0,[h])}}a.Callbacks=function(t){t="string"==typeof t?function We(t){var i={};return a.each(t.match(ue)||[],function(n,o){i[o]=!0}),i}(t):a.extend({},t);var i,n,o,c,h=[],v=[],P=-1,S=function(){for(c=c||t.once,o=i=!0;v.length;P=-1)for(n=v.shift();++P<h.length;)!1===h[P].apply(n[0],n[1])&&t.stopOnFalse&&(P=h.length,n=!1);t.memory||(n=!1),i=!1,c&&(h=n?[]:"")},F={add:function(){return h&&(n&&!i&&(P=h.length-1,v.push(n)),function Tt(Nt){a.each(Nt,function(gt,Gt){tt(Gt)?(!t.unique||!F.has(Gt))&&h.push(Gt):Gt&&Gt.length&&"string"!==Et(Gt)&&Tt(Gt)})}(arguments),n&&!i&&S()),this},remove:function(){return a.each(arguments,function(Tt,Nt){for(var gt;(gt=a.inArray(Nt,h,gt))>-1;)h.splice(gt,1),gt<=P&&P--}),this},has:function(Tt){return Tt?a.inArray(Tt,h)>-1:h.length>0},empty:function(){return h&&(h=[]),this},disable:function(){return c=v=[],h=n="",this},disabled:function(){return!h},lock:function(){return c=v=[],!n&&!i&&(h=n=""),this},locked:function(){return!!c},fireWith:function(Tt,Nt){return c||(Nt=[Tt,(Nt=Nt||[]).slice?Nt.slice():Nt],v.push(Nt),i||S()),this},fire:function(){return F.fireWith(this,arguments),this},fired:function(){return!!o}};return F},a.extend({Deferred:function(t){var i=[["notify","progress",a.Callbacks("memory"),a.Callbacks("memory"),2],["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),0,"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return c.done(arguments).fail(arguments),this},catch:function(h){return o.then(null,h)},pipe:function(){var h=arguments;return a.Deferred(function(v){a.each(i,function(P,S){var F=tt(h[S[4]])&&h[S[4]];c[S[1]](function(){var Tt=F&&F.apply(this,arguments);Tt&&tt(Tt.promise)?Tt.promise().progress(v.notify).done(v.resolve).fail(v.reject):v[S[0]+"With"](this,F?[Tt]:arguments)})}),h=null}).promise()},then:function(h,v,P){var S=0;function F(Tt,Nt,gt,Gt){return function(){var xe=this,Ve=arguments,Le=function(){var ui,li;if(!(Tt<S)){if((ui=gt.apply(xe,Ve))===Nt.promise())throw new TypeError("Thenable self-resolution");tt(li=ui&&("object"==typeof ui||"function"==typeof ui)&&ui.then)?Gt?li.call(ui,F(S,Nt,Ne,Gt),F(S,Nt,Zt,Gt)):(S++,li.call(ui,F(S,Nt,Ne,Gt),F(S,Nt,Zt,Gt),F(S,Nt,Ne,Nt.notifyWith))):(gt!==Ne&&(xe=void 0,Ve=[ui]),(Gt||Nt.resolveWith)(xe,Ve))}},mi=Gt?Le:function(){try{Le()}catch(ui){a.Deferred.exceptionHook&&a.Deferred.exceptionHook(ui,mi.error),Tt+1>=S&&(gt!==Zt&&(xe=void 0,Ve=[ui]),Nt.rejectWith(xe,Ve))}};Tt?mi():(a.Deferred.getErrorHook?mi.error=a.Deferred.getErrorHook():a.Deferred.getStackHook&&(mi.error=a.Deferred.getStackHook()),L.setTimeout(mi))}}return a.Deferred(function(Tt){i[0][3].add(F(0,Tt,tt(P)?P:Ne,Tt.notifyWith)),i[1][3].add(F(0,Tt,tt(h)?h:Ne)),i[2][3].add(F(0,Tt,tt(v)?v:Zt))}).promise()},promise:function(h){return null!=h?a.extend(h,o):o}},c={};return a.each(i,function(h,v){var P=v[2],S=v[5];o[v[1]]=P.add,S&&P.add(function(){n=S},i[3-h][2].disable,i[3-h][3].disable,i[0][2].lock,i[0][3].lock),P.add(v[3].fire),c[v[0]]=function(){return c[v[0]+"With"](this===c?void 0:this,arguments),this},c[v[0]+"With"]=P.fireWith}),o.promise(c),t&&t.call(c,c),c},when:function(t){var i=arguments.length,n=i,o=Array(n),c=_.call(arguments),h=a.Deferred(),v=function(P){return function(S){o[P]=this,c[P]=arguments.length>1?_.call(arguments):S,--i||h.resolveWith(o,c)}};if(i<=1&&(je(t,h.done(v(n)).resolve,h.reject,!i),"pending"===h.state()||tt(c[n]&&c[n].then)))return h.then();for(;n--;)je(c[n],v(n),h.reject);return h.promise()}});var mt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;a.Deferred.exceptionHook=function(t,i){L.console&&L.console.warn&&t&&mt.test(t.name)&&L.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},a.readyException=function(t){L.setTimeout(function(){throw t})};var E=a.Deferred();function ft(){w.removeEventListener("DOMContentLoaded",ft),L.removeEventListener("load",ft),a.ready()}a.fn.ready=function(t){return E.then(t).catch(function(i){a.readyException(i)}),this},a.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--a.readyWait:a.isReady)||(a.isReady=!0,!(!0!==t&&--a.readyWait>0)&&E.resolveWith(w,[a]))}}),a.ready.then=E.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?L.setTimeout(a.ready):(w.addEventListener("DOMContentLoaded",ft),L.addEventListener("load",ft));var St=function(t,i,n,o,c,h,v){var P=0,S=t.length,F=null==n;if("object"===Et(n))for(P in c=!0,n)St(t,i,P,n[P],!0,h,v);else if(void 0!==o&&(c=!0,tt(o)||(v=!0),F&&(v?(i.call(t,o),i=null):(F=i,i=function(Tt,Nt,gt){return F.call(a(Tt),gt)})),i))for(;P<S;P++)i(t[P],n,v?o:o.call(t[P],P,i(t[P],n)));return c?t:F?i.call(t):S?i(t[0],n):h},K=/^-ms-/,at=/-([a-z])/g;function Q(t,i){return i.toUpperCase()}function ct(t){return t.replace(K,"ms-").replace(at,Q)}var Dt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Ft(){this.expando=a.expando+Ft.uid++}Ft.uid=1,Ft.prototype={cache:function(t){var i=t[this.expando];return i||(i={},Dt(t)&&(t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,configurable:!0}))),i},set:function(t,i,n){var o,c=this.cache(t);if("string"==typeof i)c[ct(i)]=n;else for(o in i)c[ct(o)]=i[o];return c},get:function(t,i){return void 0===i?this.cache(t):t[this.expando]&&t[this.expando][ct(i)]},access:function(t,i,n){return void 0===i||i&&"string"==typeof i&&void 0===n?this.get(t,i):(this.set(t,i,n),void 0!==n?n:i)},remove:function(t,i){var n,o=t[this.expando];if(void 0!==o){if(void 0!==i)for((n=(i=Array.isArray(i)?i.map(ct):(i=ct(i))in o?[i]:i.match(ue)||[]).length);n--;)delete o[i[n]];(void 0===i||a.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var i=t[this.expando];return void 0!==i&&!a.isEmptyObject(i)}};var vt=new Ft,Jt=new Ft,ae=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Te=/[A-Z]/g;function pe(t,i,n){var o;if(void 0===n&&1===t.nodeType)if(o="data-"+i.replace(Te,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(o))){try{n=function re(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:ae.test(t)?JSON.parse(t):t)}(n)}catch{}Jt.set(t,i,n)}else n=void 0;return n}a.extend({hasData:function(t){return Jt.hasData(t)||vt.hasData(t)},data:function(t,i,n){return Jt.access(t,i,n)},removeData:function(t,i){Jt.remove(t,i)},_data:function(t,i,n){return vt.access(t,i,n)},_removeData:function(t,i){vt.remove(t,i)}}),a.fn.extend({data:function(t,i){var n,o,c,h=this[0],v=h&&h.attributes;if(void 0===t){if(this.length&&(c=Jt.get(h),1===h.nodeType&&!vt.get(h,"hasDataAttrs"))){for(n=v.length;n--;)v[n]&&0===(o=v[n].name).indexOf("data-")&&(o=ct(o.slice(5)),pe(h,o,c[o]));vt.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof t?this.each(function(){Jt.set(this,t)}):St(this,function(P){var S;if(h&&void 0===P)return void 0!==(S=Jt.get(h,t))||void 0!==(S=pe(h,t))?S:void 0;this.each(function(){Jt.set(this,t,P)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Jt.remove(this,t)})}}),a.extend({queue:function(t,i,n){var o;if(t)return o=vt.get(t,i=(i||"fx")+"queue"),n&&(!o||Array.isArray(n)?o=vt.access(t,i,a.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,i){var n=a.queue(t,i=i||"fx"),o=n.length,c=n.shift(),h=a._queueHooks(t,i);"inprogress"===c&&(c=n.shift(),o--),c&&("fx"===i&&n.unshift("inprogress"),delete h.stop,c.call(t,function(){a.dequeue(t,i)},h)),!o&&h&&h.empty.fire()},_queueHooks:function(t,i){var n=i+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:a.Callbacks("once memory").add(function(){vt.remove(t,[i+"queue",n])})})}}),a.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?a.queue(this[0],t):void 0===i?this:this.each(function(){var o=a.queue(this,t,i);a._queueHooks(this,t),"fx"===t&&"inprogress"!==o[0]&&a.dequeue(this,t)})},dequeue:function(t){return this.each(function(){a.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,c=a.Deferred(),h=this,v=this.length,P=function(){--o||c.resolveWith(h,[h])};for("string"!=typeof t&&(i=t,t=void 0),t=t||"fx";v--;)(n=vt.get(h[v],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(P));return P(),c.promise(i)}});var ye=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+ye+")([a-z%]*)$","i"),Ce=["Top","Right","Bottom","Left"],Ae=w.documentElement,Xe=function(t){return a.contains(t.ownerDocument,t)},tn={composed:!0};Ae.getRootNode&&(Xe=function(t){return a.contains(t.ownerDocument,t)||t.getRootNode(tn)===t.ownerDocument});var Ei=function(t,i){return"none"===(t=i||t).style.display||""===t.style.display&&Xe(t)&&"none"===a.css(t,"display")};function en(t,i,n,o){var c,h,v=20,P=o?function(){return o.cur()}:function(){return a.css(t,i,"")},S=P(),F=n&&n[3]||(a.cssNumber[i]?"":"px"),Tt=t.nodeType&&(a.cssNumber[i]||"px"!==F&&+S)&&Be.exec(a.css(t,i));if(Tt&&Tt[3]!==F){for(F=F||Tt[3],Tt=+(S/=2)||1;v--;)a.style(t,i,Tt+F),(1-h)*(1-(h=P()/S||.5))<=0&&(v=0),Tt/=h;a.style(t,i,(Tt*=2)+F),n=n||[]}return n&&(Tt=+Tt||+S||0,c=n[1]?Tt+(n[1]+1)*n[2]:+n[2],o&&(o.unit=F,o.start=Tt,o.end=c)),c}var nn={};function En(t){var i,n=t.ownerDocument,o=t.nodeName,c=nn[o];return c||(i=n.body.appendChild(n.createElement(o)),c=a.css(i,"display"),i.parentNode.removeChild(i),"none"===c&&(c="block"),nn[o]=c,c)}function ni(t,i){for(var n,o,c=[],h=0,v=t.length;h<v;h++)(o=t[h]).style&&(n=o.style.display,i?("none"===n&&(c[h]=vt.get(o,"display")||null,c[h]||(o.style.display="")),""===o.style.display&&Ei(o)&&(c[h]=En(o))):"none"!==n&&(c[h]="none",vt.set(o,"display",n)));for(h=0;h<v;h++)null!=c[h]&&(t[h].style.display=c[h]);return t}a.fn.extend({show:function(){return ni(this,!0)},hide:function(){return ni(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ei(this)?a(this).show():a(this).hide()})}});var i,n,ji=/^(?:checkbox|radio)$/i,Ii=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,$i=/^$|^module$|\/(?:java|ecma)script/i;i=w.createDocumentFragment().appendChild(w.createElement("div")),(n=w.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),i.appendChild(n),j.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",j.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,i.innerHTML="<option></option>",j.option=!!i.lastChild;var pi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ci(t,i){var n;return n=typeof t.getElementsByTagName<"u"?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?t.querySelectorAll(i||"*"):[],void 0===i||i&&zt(t,i)?a.merge([t],n):n}function Bi(t,i){for(var n=0,o=t.length;n<o;n++)vt.set(t[n],"globalEval",!i||vt.get(i[n],"globalEval"))}pi.tbody=pi.tfoot=pi.colgroup=pi.caption=pi.thead,pi.th=pi.td,j.option||(pi.optgroup=pi.option=[1,"<select multiple='multiple'>","</select>"]);var rn=/<|&#?\w+;/;function an(t,i,n,o,c){for(var h,v,P,S,F,Tt,Nt=i.createDocumentFragment(),gt=[],Gt=0,xe=t.length;Gt<xe;Gt++)if((h=t[Gt])||0===h)if("object"===Et(h))a.merge(gt,h.nodeType?[h]:h);else if(rn.test(h)){for(v=v||Nt.appendChild(i.createElement("div")),P=(Ii.exec(h)||["",""])[1].toLowerCase(),v.innerHTML=(S=pi[P]||pi._default)[1]+a.htmlPrefilter(h)+S[2],Tt=S[0];Tt--;)v=v.lastChild;a.merge(gt,v.childNodes),(v=Nt.firstChild).textContent=""}else gt.push(i.createTextNode(h));for(Nt.textContent="",Gt=0;h=gt[Gt++];)if(o&&a.inArray(h,o)>-1)c&&c.push(h);else if(F=Xe(h),v=ci(Nt.appendChild(h),"script"),F&&Bi(v),n)for(Tt=0;h=v[Tt++];)$i.test(h.type||"")&&n.push(h);return Nt}var Bt=/^([^.]*)(?:\.(.+)|)/;function H(){return!0}function l(){return!1}function d(t,i,n,o,c,h){var v,P;if("object"==typeof i){for(P in"string"!=typeof n&&(o=o||n,n=void 0),i)d(t,P,n,o,i[P],h);return t}if(null==o&&null==c?(c=n,o=n=void 0):null==c&&("string"==typeof n?(c=o,o=void 0):(c=o,o=n,n=void 0)),!1===c)c=l;else if(!c)return t;return 1===h&&(v=c,c=function(S){return a().off(S),v.apply(this,arguments)},c.guid=v.guid||(v.guid=a.guid++)),t.each(function(){a.event.add(this,i,c,o,n)})}function s(t,i,n){n?(vt.set(t,i,!1),a.event.add(t,i,{namespace:!1,handler:function(o){var c,h=vt.get(this,i);if(1&o.isTrigger&&this[i]){if(h)(a.event.special[i]||{}).delegateType&&o.stopPropagation();else if(h=_.call(arguments),vt.set(this,i,h),this[i](),c=vt.get(this,i),vt.set(this,i,!1),h!==c)return o.stopImmediatePropagation(),o.preventDefault(),c}else h&&(vt.set(this,i,a.event.trigger(h[0],h.slice(1),this)),o.stopPropagation(),o.isImmediatePropagationStopped=H)}})):void 0===vt.get(t,i)&&a.event.add(t,i,H)}a.event={global:{},add:function(t,i,n,o,c){var h,v,P,S,F,Tt,Nt,gt,Gt,xe,Ve,Le=vt.get(t);if(Dt(t))for(n.handler&&(n=(h=n).handler,c=h.selector),c&&a.find.matchesSelector(Ae,c),n.guid||(n.guid=a.guid++),(S=Le.events)||(S=Le.events=Object.create(null)),(v=Le.handle)||(v=Le.handle=function(mi){return typeof a<"u"&&a.event.triggered!==mi.type?a.event.dispatch.apply(t,arguments):void 0}),F=(i=(i||"").match(ue)||[""]).length;F--;)Gt=Ve=(P=Bt.exec(i[F])||[])[1],xe=(P[2]||"").split(".").sort(),Gt&&(Nt=a.event.special[Gt]||{},Nt=a.event.special[Gt=(c?Nt.delegateType:Nt.bindType)||Gt]||{},Tt=a.extend({type:Gt,origType:Ve,data:o,handler:n,guid:n.guid,selector:c,needsContext:c&&a.expr.match.needsContext.test(c),namespace:xe.join(".")},h),(gt=S[Gt])||((gt=S[Gt]=[]).delegateCount=0,(!Nt.setup||!1===Nt.setup.call(t,o,xe,v))&&t.addEventListener&&t.addEventListener(Gt,v)),Nt.add&&(Nt.add.call(t,Tt),Tt.handler.guid||(Tt.handler.guid=n.guid)),c?gt.splice(gt.delegateCount++,0,Tt):gt.push(Tt),a.event.global[Gt]=!0)},remove:function(t,i,n,o,c){var h,v,P,S,F,Tt,Nt,gt,Gt,xe,Ve,Le=vt.hasData(t)&&vt.get(t);if(Le&&(S=Le.events)){for(F=(i=(i||"").match(ue)||[""]).length;F--;)if(Gt=Ve=(P=Bt.exec(i[F])||[])[1],xe=(P[2]||"").split(".").sort(),Gt){for(Nt=a.event.special[Gt]||{},gt=S[Gt=(o?Nt.delegateType:Nt.bindType)||Gt]||[],P=P[2]&&new RegExp("(^|\\.)"+xe.join("\\.(?:.*\\.|)")+"(\\.|$)"),v=h=gt.length;h--;)Tt=gt[h],(c||Ve===Tt.origType)&&(!n||n.guid===Tt.guid)&&(!P||P.test(Tt.namespace))&&(!o||o===Tt.selector||"**"===o&&Tt.selector)&&(gt.splice(h,1),Tt.selector&&gt.delegateCount--,Nt.remove&&Nt.remove.call(t,Tt));v&&!gt.length&&((!Nt.teardown||!1===Nt.teardown.call(t,xe,Le.handle))&&a.removeEvent(t,Gt,Le.handle),delete S[Gt])}else for(Gt in S)a.event.remove(t,Gt+i[F],n,o,!0);a.isEmptyObject(S)&&vt.remove(t,"handle events")}},dispatch:function(t){var i,n,o,c,h,v,P=new Array(arguments.length),S=a.event.fix(t),F=(vt.get(this,"events")||Object.create(null))[S.type]||[],Tt=a.event.special[S.type]||{};for(P[0]=S,i=1;i<arguments.length;i++)P[i]=arguments[i];if(S.delegateTarget=this,!Tt.preDispatch||!1!==Tt.preDispatch.call(this,S)){for(v=a.event.handlers.call(this,S,F),i=0;(c=v[i++])&&!S.isPropagationStopped();)for(S.currentTarget=c.elem,n=0;(h=c.handlers[n++])&&!S.isImmediatePropagationStopped();)(!S.rnamespace||!1===h.namespace||S.rnamespace.test(h.namespace))&&(S.handleObj=h,S.data=h.data,void 0!==(o=((a.event.special[h.origType]||{}).handle||h.handler).apply(c.elem,P))&&!1===(S.result=o)&&(S.preventDefault(),S.stopPropagation()));return Tt.postDispatch&&Tt.postDispatch.call(this,S),S.result}},handlers:function(t,i){var n,o,c,h,v,P=[],S=i.delegateCount,F=t.target;if(S&&F.nodeType&&!("click"===t.type&&t.button>=1))for(;F!==this;F=F.parentNode||this)if(1===F.nodeType&&("click"!==t.type||!0!==F.disabled)){for(h=[],v={},n=0;n<S;n++)void 0===v[c=(o=i[n]).selector+" "]&&(v[c]=o.needsContext?a(c,this).index(F)>-1:a.find(c,this,null,[F]).length),v[c]&&h.push(o);h.length&&P.push({elem:F,handlers:h})}return F=this,S<i.length&&P.push({elem:F,handlers:i.slice(S)}),P},addProp:function(t,i){Object.defineProperty(a.Event.prototype,t,{enumerable:!0,configurable:!0,get:tt(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(t){return t[a.expando]?t:new a.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var i=this||t;return ji.test(i.type)&&i.click&&zt(i,"input")&&s(i,"click",!0),!1},trigger:function(t){var i=this||t;return ji.test(i.type)&&i.click&&zt(i,"input")&&s(i,"click"),!0},_default:function(t){var i=t.target;return ji.test(i.type)&&i.click&&zt(i,"input")&&vt.get(i,"click")||zt(i,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},a.removeEvent=function(t,i,n){t.removeEventListener&&t.removeEventListener(i,n)},a.Event=function(t,i){if(!(this instanceof a.Event))return new a.Event(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?H:l,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,i&&a.extend(this,i),this.timeStamp=t&&t.timeStamp||Date.now(),this[a.expando]=!0},a.Event.prototype={constructor:a.Event,isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=H,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=H,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=H,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},a.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},a.event.addProp),a.each({focus:"focusin",blur:"focusout"},function(t,i){function n(o){if(w.documentMode){var c=vt.get(this,"handle"),h=a.event.fix(o);h.type="focusin"===o.type?"focus":"blur",h.isSimulated=!0,c(o),h.target===h.currentTarget&&c(h)}else a.event.simulate(i,o.target,a.event.fix(o))}a.event.special[t]={setup:function(){var o;if(s(this,t,!0),!w.documentMode)return!1;(o=vt.get(this,i))||this.addEventListener(i,n),vt.set(this,i,(o||0)+1)},trigger:function(){return s(this,t),!0},teardown:function(){var o;if(!w.documentMode)return!1;(o=vt.get(this,i)-1)?vt.set(this,i,o):(this.removeEventListener(i,n),vt.remove(this,i))},_default:function(o){return vt.get(o.target,t)},delegateType:i},a.event.special[i]={setup:function(){var o=this.ownerDocument||this.document||this,c=w.documentMode?this:o,h=vt.get(c,i);h||(w.documentMode?this.addEventListener(i,n):o.addEventListener(t,n,!0)),vt.set(c,i,(h||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,c=w.documentMode?this:o,h=vt.get(c,i)-1;h?vt.set(c,i,h):(w.documentMode?this.removeEventListener(i,n):o.removeEventListener(t,n,!0),vt.remove(c,i))}}}),a.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){a.event.special[t]={delegateType:i,bindType:i,handle:function(n){var o,h=n.relatedTarget,v=n.handleObj;return(!h||h!==this&&!a.contains(this,h))&&(n.type=v.origType,o=v.handler.apply(this,arguments),n.type=i),o}}}),a.fn.extend({on:function(t,i,n,o){return d(this,t,i,n,o)},one:function(t,i,n,o){return d(this,t,i,n,o,1)},off:function(t,i,n){var o,c;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,a(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(c in t)this.off(c,i,t[c]);return this}return(!1===i||"function"==typeof i)&&(n=i,i=void 0),!1===n&&(n=l),this.each(function(){a.event.remove(this,t,n,i)})}});var f=/<script|<style|<link/i,p=/checked\s*(?:[^=]|=\s*.checked.)/i,C=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function I(t,i){return zt(t,"table")&&zt(11!==i.nodeType?i:i.firstChild,"tr")&&a(t).children("tbody")[0]||t}function M(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Z(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function A(t,i){var n,o,c,v,P,S;if(1===i.nodeType){if(vt.hasData(t)&&(S=vt.get(t).events))for(c in vt.remove(i,"handle events"),S)for(n=0,o=S[c].length;n<o;n++)a.event.add(i,c,S[c][n]);Jt.hasData(t)&&(v=Jt.access(t),P=a.extend({},v),Jt.set(i,P))}}function q(t,i){var n=i.nodeName.toLowerCase();"input"===n&&ji.test(t.type)?i.checked=t.checked:("input"===n||"textarea"===n)&&(i.defaultValue=t.defaultValue)}function J(t,i,n,o){i=U(i);var c,h,v,P,S,F,Tt=0,Nt=t.length,gt=Nt-1,Gt=i[0],xe=tt(Gt);if(xe||Nt>1&&"string"==typeof Gt&&!j.checkClone&&p.test(Gt))return t.each(function(Ve){var Le=t.eq(Ve);xe&&(i[0]=Gt.call(this,Ve,Le.html())),J(Le,i,n,o)});if(Nt&&(h=(c=an(i,t[0].ownerDocument,!1,t,o)).firstChild,1===c.childNodes.length&&(c=h),h||o)){for(P=(v=a.map(ci(c,"script"),M)).length;Tt<Nt;Tt++)S=c,Tt!==gt&&(S=a.clone(S,!0,!0),P&&a.merge(v,ci(S,"script"))),n.call(t[Tt],S,Tt);if(P)for(F=v[v.length-1].ownerDocument,a.map(v,Z),Tt=0;Tt<P;Tt++)$i.test((S=v[Tt]).type||"")&&!vt.access(S,"globalEval")&&a.contains(F,S)&&(S.src&&"module"!==(S.type||"").toLowerCase()?a._evalUrl&&!S.noModule&&a._evalUrl(S.src,{nonce:S.nonce||S.getAttribute("nonce")},F):It(S.textContent.replace(C,""),S,F))}return t}function ut(t,i,n){for(var o,c=i?a.filter(i,t):t,h=0;null!=(o=c[h]);h++)!n&&1===o.nodeType&&a.cleanData(ci(o)),o.parentNode&&(n&&Xe(o)&&Bi(ci(o,"script")),o.parentNode.removeChild(o));return t}a.extend({htmlPrefilter:function(t){return t},clone:function(t,i,n){var o,c,h,v,P=t.cloneNode(!0),S=Xe(t);if(!(j.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||a.isXMLDoc(t)))for(v=ci(P),o=0,c=(h=ci(t)).length;o<c;o++)q(h[o],v[o]);if(i)if(n)for(h=h||ci(t),v=v||ci(P),o=0,c=h.length;o<c;o++)A(h[o],v[o]);else A(t,P);return(v=ci(P,"script")).length>0&&Bi(v,!S&&ci(t,"script")),P},cleanData:function(t){for(var i,n,o,c=a.event.special,h=0;void 0!==(n=t[h]);h++)if(Dt(n)){if(i=n[vt.expando]){if(i.events)for(o in i.events)c[o]?a.event.remove(n,o):a.removeEvent(n,o,i.handle);n[vt.expando]=void 0}n[Jt.expando]&&(n[Jt.expando]=void 0)}}}),a.fn.extend({detach:function(t){return ut(this,t,!0)},remove:function(t){return ut(this,t)},text:function(t){return St(this,function(i){return void 0===i?a.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=i)})},null,t,arguments.length)},append:function(){return J(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,t).appendChild(t)})},prepend:function(){return J(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var i=I(this,t);i.insertBefore(t,i.firstChild)}})},before:function(){return J(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return J(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,i=0;null!=(t=this[i]);i++)1===t.nodeType&&(a.cleanData(ci(t,!1)),t.textContent="");return this},clone:function(t,i){return t=null!=t&&t,i=null==i?t:i,this.map(function(){return a.clone(this,t,i)})},html:function(t){return St(this,function(i){var n=this[0]||{},o=0,c=this.length;if(void 0===i&&1===n.nodeType)return n.innerHTML;if("string"==typeof i&&!f.test(i)&&!pi[(Ii.exec(i)||["",""])[1].toLowerCase()]){i=a.htmlPrefilter(i);try{for(;o<c;o++)1===(n=this[o]||{}).nodeType&&(a.cleanData(ci(n,!1)),n.innerHTML=i);n=0}catch{}}n&&this.empty().append(i)},null,t,arguments.length)},replaceWith:function(){var t=[];return J(this,arguments,function(i){var n=this.parentNode;a.inArray(this,t)<0&&(a.cleanData(ci(this)),n&&n.replaceChild(i,this))},t)}}),a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){a.fn[t]=function(n){for(var o,c=[],h=a(n),v=h.length-1,P=0;P<=v;P++)o=P===v?this:this.clone(!0),a(h[P])[i](o),O.apply(c,o.get());return this.pushStack(c)}});var pt=new RegExp("^("+ye+")(?!px)[a-z%]+$","i"),yt=/^--/,de=function(t){var i=t.ownerDocument.defaultView;return(!i||!i.opener)&&(i=L),i.getComputedStyle(t)},me=function(t,i,n){var o,c,h={};for(c in i)h[c]=t.style[c],t.style[c]=i[c];for(c in o=n.call(t),i)t.style[c]=h[c];return o},ei=new RegExp(Ce.join("|"),"i");function Je(t,i,n){var o,c,h,v,P=yt.test(i),S=t.style;return(n=n||de(t))&&(v=n.getPropertyValue(i)||n[i],P&&v&&(v=v.replace(Wt,"$1")||void 0),""===v&&!Xe(t)&&(v=a.style(t,i)),!j.pixelBoxStyles()&&pt.test(v)&&ei.test(i)&&(o=S.width,c=S.minWidth,h=S.maxWidth,S.minWidth=S.maxWidth=S.width=v,v=n.width,S.width=o,S.minWidth=c,S.maxWidth=h)),void 0!==v?v+"":v}function Ze(t,i){return{get:function(){if(!t())return(this.get=i).apply(this,arguments);delete this.get}}}!function(){function t(){if(F){S.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",F.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ae.appendChild(S).appendChild(F);var Tt=L.getComputedStyle(F);n="1%"!==Tt.top,P=12===i(Tt.marginLeft),F.style.right="60%",h=36===i(Tt.right),o=36===i(Tt.width),F.style.position="absolute",c=12===i(F.offsetWidth/3),Ae.removeChild(S),F=null}}function i(Tt){return Math.round(parseFloat(Tt))}var n,o,c,h,v,P,S=w.createElement("div"),F=w.createElement("div");F.style&&(F.style.backgroundClip="content-box",F.cloneNode(!0).style.backgroundClip="",j.clearCloneStyle="content-box"===F.style.backgroundClip,a.extend(j,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),h},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),P},scrollboxSize:function(){return t(),c},reliableTrDimensions:function(){var Tt,Nt,gt,Gt;return null==v&&(Tt=w.createElement("table"),Nt=w.createElement("tr"),gt=w.createElement("div"),Tt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Nt.style.cssText="box-sizing:content-box;border:1px solid",Nt.style.height="1px",gt.style.height="9px",gt.style.display="block",Ae.appendChild(Tt).appendChild(Nt).appendChild(gt),Gt=L.getComputedStyle(Nt),v=parseInt(Gt.height,10)+parseInt(Gt.borderTopWidth,10)+parseInt(Gt.borderBottomWidth,10)===Nt.offsetHeight,Ae.removeChild(Tt)),v}}))}();var qe=["Webkit","Moz","ms"],ai=w.createElement("div").style,Nn={};function ar(t){return a.cssProps[t]||Nn[t]||(t in ai?t:Nn[t]=function Hr(t){for(var i=t[0].toUpperCase()+t.slice(1),n=qe.length;n--;)if((t=qe[n]+i)in ai)return t}(t)||t)}var Sr=/^(none|table(?!-c[ea]).+)/,Ur={position:"absolute",visibility:"hidden",display:"block"},cn={letterSpacing:"0",fontWeight:"400"};function On(t,i,n){var o=Be.exec(i);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):i}function hn(t,i,n,o,c,h){var v="width"===i?1:0,P=0,S=0,F=0;if(n===(o?"border":"content"))return 0;for(;v<4;v+=2)"margin"===n&&(F+=a.css(t,n+Ce[v],!0,c)),o?("content"===n&&(S-=a.css(t,"padding"+Ce[v],!0,c)),"margin"!==n&&(S-=a.css(t,"border"+Ce[v]+"Width",!0,c))):(S+=a.css(t,"padding"+Ce[v],!0,c),"padding"!==n?S+=a.css(t,"border"+Ce[v]+"Width",!0,c):P+=a.css(t,"border"+Ce[v]+"Width",!0,c));return!o&&h>=0&&(S+=Math.max(0,Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-h-S-P-.5))||0),S+F}function or(t,i,n){var o=de(t),h=(!j.boxSizingReliable()||n)&&"border-box"===a.css(t,"boxSizing",!1,o),v=h,P=Je(t,i,o),S="offset"+i[0].toUpperCase()+i.slice(1);if(pt.test(P)){if(!n)return P;P="auto"}return(!j.boxSizingReliable()&&h||!j.reliableTrDimensions()&&zt(t,"tr")||"auto"===P||!parseFloat(P)&&"inline"===a.css(t,"display",!1,o))&&t.getClientRects().length&&(h="border-box"===a.css(t,"boxSizing",!1,o),(v=S in t)&&(P=t[S])),(P=parseFloat(P)||0)+hn(t,i,n||(h?"border":"content"),v,o,P)+"px"}function yi(t,i,n,o,c){return new yi.prototype.init(t,i,n,o,c)}a.extend({cssHooks:{opacity:{get:function(t,i){if(i){var n=Je(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var c,h,v,P=ct(i),S=yt.test(i),F=t.style;if(S||(i=ar(P)),v=a.cssHooks[i]||a.cssHooks[P],void 0===n)return v&&"get"in v&&void 0!==(c=v.get(t,!1,o))?c:F[i];if("string"==(h=typeof n)&&(c=Be.exec(n))&&c[1]&&(n=en(t,i,c),h="number"),null==n||n!=n)return;"number"===h&&!S&&(n+=c&&c[3]||(a.cssNumber[P]?"":"px")),!j.clearCloneStyle&&""===n&&0===i.indexOf("background")&&(F[i]="inherit"),(!v||!("set"in v)||void 0!==(n=v.set(t,n,o)))&&(S?F.setProperty(i,n):F[i]=n)}},css:function(t,i,n,o){var c,h,v,P=ct(i);return yt.test(i)||(i=ar(P)),(v=a.cssHooks[i]||a.cssHooks[P])&&"get"in v&&(c=v.get(t,!0,n)),void 0===c&&(c=Je(t,i,o)),"normal"===c&&i in cn&&(c=cn[i]),""===n||n?(h=parseFloat(c),!0===n||isFinite(h)?h||0:c):c}}),a.each(["height","width"],function(t,i){a.cssHooks[i]={get:function(n,o,c){if(o)return!Sr.test(a.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?or(n,i,c):me(n,Ur,function(){return or(n,i,c)})},set:function(n,o,c){var h,v=de(n),P=!j.scrollboxSize()&&"absolute"===v.position,F=(P||c)&&"border-box"===a.css(n,"boxSizing",!1,v),Tt=c?hn(n,i,c,F,v):0;return F&&P&&(Tt-=Math.ceil(n["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(v[i])-hn(n,i,"border",!1,v)-.5)),Tt&&(h=Be.exec(o))&&"px"!==(h[3]||"px")&&(n.style[i]=o,o=a.css(n,i)),On(0,o,Tt)}}}),a.cssHooks.marginLeft=Ze(j.reliableMarginLeft,function(t,i){if(i)return(parseFloat(Je(t,"marginLeft"))||t.getBoundingClientRect().left-me(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),a.each({margin:"",padding:"",border:"Width"},function(t,i){a.cssHooks[t+i]={expand:function(n){for(var o=0,c={},h="string"==typeof n?n.split(" "):[n];o<4;o++)c[t+Ce[o]+i]=h[o]||h[o-2]||h[0];return c}},"margin"!==t&&(a.cssHooks[t+i].set=On)}),a.fn.extend({css:function(t,i){return St(this,function(n,o,c){var h,v,P={},S=0;if(Array.isArray(o)){for(h=de(n),v=o.length;S<v;S++)P[o[S]]=a.css(n,o[S],!1,h);return P}return void 0!==c?a.style(n,o,c):a.css(n,o)},t,i,arguments.length>1)}}),a.Tween=yi,yi.prototype={constructor:yi,init:function(t,i,n,o,c,h){this.elem=t,this.prop=n,this.easing=c||a.easing._default,this.options=i,this.start=this.now=this.cur(),this.end=o,this.unit=h||(a.cssNumber[n]?"":"px")},cur:function(){var t=yi.propHooks[this.prop];return t&&t.get?t.get(this):yi.propHooks._default.get(this)},run:function(t){var i,n=yi.propHooks[this.prop];return this.pos=i=this.options.duration?a.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):yi.propHooks._default.set(this),this}},yi.prototype.init.prototype=yi.prototype,yi.propHooks={_default:{get:function(t){var i;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(i=a.css(t.elem,t.prop,""))&&"auto"!==i?i:0},set:function(t){a.fx.step[t.prop]?a.fx.step[t.prop](t):1!==t.elem.nodeType||!a.cssHooks[t.prop]&&null==t.elem.style[ar(t.prop)]?t.elem[t.prop]=t.now:a.style(t.elem,t.prop,t.now+t.unit)}}},yi.propHooks.scrollTop=yi.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},a.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},a.fx=yi.prototype.init,a.fx.step={};var Ji,fn,vn=/^(?:toggle|show|hide)$/,Hn=/queueHooks$/;function gn(){fn&&(!1===w.hidden&&L.requestAnimationFrame?L.requestAnimationFrame(gn):L.setTimeout(gn,a.fx.interval),a.fx.tick())}function lr(){return L.setTimeout(function(){Ji=void 0}),Ji=Date.now()}function Sn(t,i){var n,o=0,c={height:t};for(i=i?1:0;o<4;o+=2-i)c["margin"+(n=Ce[o])]=c["padding"+n]=t;return i&&(c.opacity=c.width=t),c}function Tr(t,i,n){for(var o,c=(Wi.tweeners[i]||[]).concat(Wi.tweeners["*"]),h=0,v=c.length;h<v;h++)if(o=c[h].call(n,i,t))return o}function Wi(t,i,n){var o,c,h=0,v=Wi.prefilters.length,P=a.Deferred().always(function(){delete S.elem}),S=function(){if(c)return!1;for(var Nt=Ji||lr(),gt=Math.max(0,F.startTime+F.duration-Nt),xe=1-(gt/F.duration||0),Ve=0,Le=F.tweens.length;Ve<Le;Ve++)F.tweens[Ve].run(xe);return P.notifyWith(t,[F,xe,gt]),xe<1&&Le?gt:(Le||P.notifyWith(t,[F,1,0]),P.resolveWith(t,[F]),!1)},F=P.promise({elem:t,props:a.extend({},i),opts:a.extend(!0,{specialEasing:{},easing:a.easing._default},n),originalProperties:i,originalOptions:n,startTime:Ji||lr(),duration:n.duration,tweens:[],createTween:function(Nt,gt){var Gt=a.Tween(t,F.opts,Nt,gt,F.opts.specialEasing[Nt]||F.opts.easing);return F.tweens.push(Gt),Gt},stop:function(Nt){var gt=0,Gt=Nt?F.tweens.length:0;if(c)return this;for(c=!0;gt<Gt;gt++)F.tweens[gt].run(1);return Nt?(P.notifyWith(t,[F,1,0]),P.resolveWith(t,[F,Nt])):P.rejectWith(t,[F,Nt]),this}}),Tt=F.props;for(function Cr(t,i){var n,o,c,h,v;for(n in t)if(c=i[o=ct(n)],h=t[n],Array.isArray(h)&&(c=h[1],h=t[n]=h[0]),n!==o&&(t[o]=h,delete t[n]),(v=a.cssHooks[o])&&"expand"in v)for(n in h=v.expand(h),delete t[o],h)n in t||(t[n]=h[n],i[n]=c);else i[o]=c}(Tt,F.opts.specialEasing);h<v;h++)if(o=Wi.prefilters[h].call(F,t,Tt,F.opts))return tt(o.stop)&&(a._queueHooks(F.elem,F.opts.queue).stop=o.stop.bind(o)),o;return a.map(Tt,Tr,F),tt(F.opts.start)&&F.opts.start.call(t,F),F.progress(F.opts.progress).done(F.opts.done,F.opts.complete).fail(F.opts.fail).always(F.opts.always),a.fx.timer(a.extend(S,{elem:t,anim:F,queue:F.opts.queue})),F}a.Animation=a.extend(Wi,{tweeners:{"*":[function(t,i){var n=this.createTween(t,i);return en(n.elem,t,Be.exec(i),n),n}]},tweener:function(t,i){tt(t)?(i=t,t=["*"]):t=t.match(ue);for(var n,o=0,c=t.length;o<c;o++)(Wi.tweeners[n=t[o]]=Wi.tweeners[n]||[]).unshift(i)},prefilters:[function Un(t,i,n){var o,c,h,v,P,S,F,Tt,Nt="width"in i||"height"in i,gt=this,Gt={},xe=t.style,Ve=t.nodeType&&Ei(t),Le=vt.get(t,"fxshow");for(o in n.queue||(null==(v=a._queueHooks(t,"fx")).unqueued&&(v.unqueued=0,P=v.empty.fire,v.empty.fire=function(){v.unqueued||P()}),v.unqueued++,gt.always(function(){gt.always(function(){v.unqueued--,a.queue(t,"fx").length||v.empty.fire()})})),i)if(vn.test(c=i[o])){if(delete i[o],h=h||"toggle"===c,c===(Ve?"hide":"show")){if("show"!==c||!Le||void 0===Le[o])continue;Ve=!0}Gt[o]=Le&&Le[o]||a.style(t,o)}if((S=!a.isEmptyObject(i))||!a.isEmptyObject(Gt))for(o in Nt&&1===t.nodeType&&(n.overflow=[xe.overflow,xe.overflowX,xe.overflowY],null==(F=Le&&Le.display)&&(F=vt.get(t,"display")),"none"===(Tt=a.css(t,"display"))&&(F?Tt=F:(ni([t],!0),F=t.style.display||F,Tt=a.css(t,"display"),ni([t]))),("inline"===Tt||"inline-block"===Tt&&null!=F)&&"none"===a.css(t,"float")&&(S||(gt.done(function(){xe.display=F}),null==F&&(F="none"===(Tt=xe.display)?"":Tt)),xe.display="inline-block")),n.overflow&&(xe.overflow="hidden",gt.always(function(){xe.overflow=n.overflow[0],xe.overflowX=n.overflow[1],xe.overflowY=n.overflow[2]})),S=!1,Gt)S||(Le?"hidden"in Le&&(Ve=Le.hidden):Le=vt.access(t,"fxshow",{display:F}),h&&(Le.hidden=!Ve),Ve&&ni([t],!0),gt.done(function(){for(o in Ve||ni([t]),vt.remove(t,"fxshow"),Gt)a.style(t,o,Gt[o])})),S=Tr(Ve?Le[o]:0,o,gt),o in Le||(Le[o]=S.start,Ve&&(S.end=S.start,S.start=0))}],prefilter:function(t,i){i?Wi.prefilters.unshift(t):Wi.prefilters.push(t)}}),a.speed=function(t,i,n){var o=t&&"object"==typeof t?a.extend({},t):{complete:n||!n&&i||tt(t)&&t,duration:t,easing:n&&i||i&&!tt(i)&&i};return a.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration=o.duration in a.fx.speeds?a.fx.speeds[o.duration]:a.fx.speeds._default),(null==o.queue||!0===o.queue)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){tt(o.old)&&o.old.call(this),o.queue&&a.dequeue(this,o.queue)},o},a.fn.extend({fadeTo:function(t,i,n,o){return this.filter(Ei).css("opacity",0).show().end().animate({opacity:i},t,n,o)},animate:function(t,i,n,o){var c=a.isEmptyObject(t),h=a.speed(i,n,o),v=function(){var P=Wi(this,a.extend({},t),h);(c||vt.get(this,"finish"))&&P.stop(!0)};return v.finish=v,c||!1===h.queue?this.each(v):this.queue(h.queue,v)},stop:function(t,i,n){var o=function(c){var h=c.stop;delete c.stop,h(n)};return"string"!=typeof t&&(n=i,i=t,t=void 0),i&&this.queue(t||"fx",[]),this.each(function(){var c=!0,h=null!=t&&t+"queueHooks",v=a.timers,P=vt.get(this);if(h)P[h]&&P[h].stop&&o(P[h]);else for(h in P)P[h]&&P[h].stop&&Hn.test(h)&&o(P[h]);for(h=v.length;h--;)v[h].elem===this&&(null==t||v[h].queue===t)&&(v[h].anim.stop(n),c=!1,v.splice(h,1));(c||!n)&&a.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var i,n=vt.get(this),o=n[t+"queue"],c=n[t+"queueHooks"],h=a.timers,v=o?o.length:0;for(n.finish=!0,a.queue(this,t,[]),c&&c.stop&&c.stop.call(this,!0),i=h.length;i--;)h[i].elem===this&&h[i].queue===t&&(h[i].anim.stop(!0),h.splice(i,1));for(i=0;i<v;i++)o[i]&&o[i].finish&&o[i].finish.call(this);delete n.finish})}}),a.each(["toggle","show","hide"],function(t,i){var n=a.fn[i];a.fn[i]=function(o,c,h){return null==o||"boolean"==typeof o?n.apply(this,arguments):this.animate(Sn(i,!0),o,c,h)}}),a.each({slideDown:Sn("show"),slideUp:Sn("hide"),slideToggle:Sn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){a.fn[t]=function(n,o,c){return this.animate(i,n,o,c)}}),a.timers=[],a.fx.tick=function(){var t,i=0,n=a.timers;for(Ji=Date.now();i<n.length;i++)!(t=n[i])()&&n[i]===t&&n.splice(i--,1);n.length||a.fx.stop(),Ji=void 0},a.fx.timer=function(t){a.timers.push(t),a.fx.start()},a.fx.interval=13,a.fx.start=function(){fn||(fn=!0,gn())},a.fx.stop=function(){fn=null},a.fx.speeds={slow:600,fast:200,_default:400},a.fn.delay=function(t,i){return t=a.fx&&a.fx.speeds[t]||t,this.queue(i=i||"fx",function(n,o){var c=L.setTimeout(n,t);o.stop=function(){L.clearTimeout(c)}})},function(){var t=w.createElement("input"),n=w.createElement("select").appendChild(w.createElement("option"));t.type="checkbox",j.checkOn=""!==t.value,j.optSelected=n.selected,(t=w.createElement("input")).value="t",t.type="radio",j.radioValue="t"===t.value}();var sr,In=a.expr.attrHandle;a.fn.extend({attr:function(t,i){return St(this,a.attr,t,i,arguments.length>1)},removeAttr:function(t){return this.each(function(){a.removeAttr(this,t)})}}),a.extend({attr:function(t,i,n){var o,c,h=t.nodeType;if(3!==h&&8!==h&&2!==h)return typeof t.getAttribute>"u"?a.prop(t,i,n):((1!==h||!a.isXMLDoc(t))&&(c=a.attrHooks[i.toLowerCase()]||(a.expr.match.bool.test(i)?sr:void 0)),void 0!==n?null===n?void a.removeAttr(t,i):c&&"set"in c&&void 0!==(o=c.set(t,n,i))?o:(t.setAttribute(i,n+""),n):c&&"get"in c&&null!==(o=c.get(t,i))?o:null==(o=a.find.attr(t,i))?void 0:o)},attrHooks:{type:{set:function(t,i){if(!j.radioValue&&"radio"===i&&zt(t,"input")){var n=t.value;return t.setAttribute("type",i),n&&(t.value=n),i}}}},removeAttr:function(t,i){var n,o=0,c=i&&i.match(ue);if(c&&1===t.nodeType)for(;n=c[o++];)t.removeAttribute(n)}}),sr={set:function(t,i,n){return!1===i?a.removeAttr(t,n):t.setAttribute(n,n),n}},a.each(a.expr.match.bool.source.match(/\w+/g),function(t,i){var n=In[i]||a.find.attr;In[i]=function(o,c,h){var v,P,S=c.toLowerCase();return h||(P=In[S],In[S]=v,v=null!=n(o,c,h)?S:null,In[S]=P),v}});var Fr=/^(?:input|select|textarea|button)$/i,ur=/^(?:a|area)$/i;function on(t){return(t.match(ue)||[]).join(" ")}function pn(t){return t.getAttribute&&t.getAttribute("class")||""}function dr(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(ue)||[]}a.fn.extend({prop:function(t,i){return St(this,a.prop,t,i,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[a.propFix[t]||t]})}}),a.extend({prop:function(t,i,n){var o,c,h=t.nodeType;if(3!==h&&8!==h&&2!==h)return(1!==h||!a.isXMLDoc(t))&&(c=a.propHooks[i=a.propFix[i]||i]),void 0!==n?c&&"set"in c&&void 0!==(o=c.set(t,n,i))?o:t[i]=n:c&&"get"in c&&null!==(o=c.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var i=a.find.attr(t,"tabindex");return i?parseInt(i,10):Fr.test(t.nodeName)||ur.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),j.optSelected||(a.propHooks.selected={get:function(t){return null},set:function(t){}}),a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){a.propFix[this.toLowerCase()]=this}),a.fn.extend({addClass:function(t){var i,n,o,c,h,v;return tt(t)?this.each(function(P){a(this).addClass(t.call(this,P,pn(this)))}):(i=dr(t)).length?this.each(function(){if(o=pn(this),n=1===this.nodeType&&" "+on(o)+" "){for(h=0;h<i.length;h++)n.indexOf(" "+(c=i[h])+" ")<0&&(n+=c+" ");v=on(n),o!==v&&this.setAttribute("class",v)}}):this},removeClass:function(t){var i,n,o,c,h,v;return tt(t)?this.each(function(P){a(this).removeClass(t.call(this,P,pn(this)))}):arguments.length?(i=dr(t)).length?this.each(function(){if(o=pn(this),n=1===this.nodeType&&" "+on(o)+" "){for(h=0;h<i.length;h++)for(c=i[h];n.indexOf(" "+c+" ")>-1;)n=n.replace(" "+c+" "," ");v=on(n),o!==v&&this.setAttribute("class",v)}}):this:this.attr("class","")},toggleClass:function(t,i){var n,o,c,h,v=typeof t,P="string"===v||Array.isArray(t);return tt(t)?this.each(function(S){a(this).toggleClass(t.call(this,S,pn(this),i),i)}):"boolean"==typeof i&&P?i?this.addClass(t):this.removeClass(t):(n=dr(t),this.each(function(){if(P)for(h=a(this),c=0;c<n.length;c++)h.hasClass(o=n[c])?h.removeClass(o):h.addClass(o);else(void 0===t||"boolean"===v)&&((o=pn(this))&&vt.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===t?"":vt.get(this,"__className__")||""))}))},hasClass:function(t){var i,n,o=0;for(i=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+on(pn(n))+" ").indexOf(i)>-1)return!0;return!1}});var kr=/\r/g;a.fn.extend({val:function(t){var i,n,o,c=this[0];return arguments.length?(o=tt(t),this.each(function(h){var v;1===this.nodeType&&(null==(v=o?t.call(this,h,a(this).val()):t)?v="":"number"==typeof v?v+="":Array.isArray(v)&&(v=a.map(v,function(P){return null==P?"":P+""})),(!(i=a.valHooks[this.type]||a.valHooks[this.nodeName.toLowerCase()])||!("set"in i)||void 0===i.set(this,v,"value"))&&(this.value=v))})):c?(i=a.valHooks[c.type]||a.valHooks[c.nodeName.toLowerCase()])&&"get"in i&&void 0!==(n=i.get(c,"value"))?n:"string"==typeof(n=c.value)?n.replace(kr,""):null==n?"":n:void 0}}),a.extend({valHooks:{option:{get:function(t){var i=a.find.attr(t,"value");return null!=i?i:on(a.text(t))}},select:{get:function(t){var i,n,o,c=t.options,h=t.selectedIndex,v="select-one"===t.type,P=v?null:[],S=v?h+1:c.length;for(o=h<0?S:v?h:0;o<S;o++)if(((n=c[o]).selected||o===h)&&!n.disabled&&(!n.parentNode.disabled||!zt(n.parentNode,"optgroup"))){if(i=a(n).val(),v)return i;P.push(i)}return P},set:function(t,i){for(var n,o,c=t.options,h=a.makeArray(i),v=c.length;v--;)((o=c[v]).selected=a.inArray(a.valHooks.option.get(o),h)>-1)&&(n=!0);return n||(t.selectedIndex=-1),h}}}}),a.each(["radio","checkbox"],function(){a.valHooks[this]={set:function(t,i){if(Array.isArray(i))return t.checked=a.inArray(a(t).val(),i)>-1}},j.checkOn||(a.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Tn=L.location,Fn={guid:Date.now()},Cn=/\?/;a.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{i=(new L.DOMParser).parseFromString(t,"text/xml")}catch{}return n=i&&i.getElementsByTagName("parsererror")[0],(!i||n)&&a.error("Invalid XML: "+(n?a.map(n.childNodes,function(o){return o.textContent}).join("\n"):t)),i};var cr=/^(?:focusinfocus|focusoutblur)$/,Gn=function(t){t.stopPropagation()};a.extend(a.event,{trigger:function(t,i,n,o){var c,h,v,P,S,F,Tt,Nt,gt=[n||w],Gt=lt.call(t,"type")?t.type:t,xe=lt.call(t,"namespace")?t.namespace.split("."):[];if(h=Nt=v=n=n||w,3!==n.nodeType&&8!==n.nodeType&&!cr.test(Gt+a.event.triggered)&&(Gt.indexOf(".")>-1&&(xe=Gt.split("."),Gt=xe.shift(),xe.sort()),S=Gt.indexOf(":")<0&&"on"+Gt,(t=t[a.expando]?t:new a.Event(Gt,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=xe.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+xe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:a.makeArray(i,[t]),Tt=a.event.special[Gt]||{},o||!Tt.trigger||!1!==Tt.trigger.apply(n,i))){if(!o&&!Tt.noBubble&&!it(n)){for(cr.test((P=Tt.delegateType||Gt)+Gt)||(h=h.parentNode);h;h=h.parentNode)gt.push(h),v=h;v===(n.ownerDocument||w)&&gt.push(v.defaultView||v.parentWindow||L)}for(c=0;(h=gt[c++])&&!t.isPropagationStopped();)Nt=h,t.type=c>1?P:Tt.bindType||Gt,(F=(vt.get(h,"events")||Object.create(null))[t.type]&&vt.get(h,"handle"))&&F.apply(h,i),(F=S&&h[S])&&F.apply&&Dt(h)&&(t.result=F.apply(h,i),!1===t.result&&t.preventDefault());return t.type=Gt,!o&&!t.isDefaultPrevented()&&(!Tt._default||!1===Tt._default.apply(gt.pop(),i))&&Dt(n)&&S&&tt(n[Gt])&&!it(n)&&((v=n[S])&&(n[S]=null),a.event.triggered=Gt,t.isPropagationStopped()&&Nt.addEventListener(Gt,Gn),n[Gt](),t.isPropagationStopped()&&Nt.removeEventListener(Gt,Gn),a.event.triggered=void 0,v&&(n[S]=v)),t.result}},simulate:function(t,i,n){var o=a.extend(new a.Event,n,{type:t,isSimulated:!0});a.event.trigger(o,null,i)}}),a.fn.extend({trigger:function(t,i){return this.each(function(){a.event.trigger(t,i,this)})},triggerHandler:function(t,i){var n=this[0];if(n)return a.event.trigger(t,i,n,!0)}});var $n=/\[\]$/,Pn=/\r?\n/g,hr=/^(?:submit|button|image|reset|file)$/i,Vi=/^(?:input|select|textarea|keygen)/i;function Mi(t,i,n,o){var c;if(Array.isArray(i))a.each(i,function(h,v){n||$n.test(t)?o(t,v):Mi(t+"["+("object"==typeof v&&null!=v?h:"")+"]",v,n,o)});else if(n||"object"!==Et(i))o(t,i);else for(c in i)Mi(t+"["+c+"]",i[c],n,o)}a.param=function(t,i){var n,o=[],c=function(h,v){var P=tt(v)?v():v;o[o.length]=encodeURIComponent(h)+"="+encodeURIComponent(null==P?"":P)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!a.isPlainObject(t))a.each(t,function(){c(this.name,this.value)});else for(n in t)Mi(n,t[n],i,c);return o.join("&")},a.fn.extend({serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=a.prop(this,"elements");return t?a.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!a(this).is(":disabled")&&Vi.test(this.nodeName)&&!hr.test(t)&&(this.checked||!ji.test(t))}).map(function(t,i){var n=a(this).val();return null==n?null:Array.isArray(n)?a.map(n,function(o){return{name:i.name,value:o.replace(Pn,"\r\n")}}):{name:i.name,value:n.replace(Pn,"\r\n")}}).get()}});var Gr=/%20/g,$r=/#.*$/,Jr=/([?&])_=[^&]*/,ln=/^(.*?):[ \t]*([^\r\n]*)$/gm,fr=/^(?:GET|HEAD)$/,Mr=/^\/\//,Dn={},vr={},Nr="*/".concat("*"),Jn=w.createElement("a");function Ir(t){return function(i,n){"string"!=typeof i&&(n=i,i="*");var o,c=0,h=i.toLowerCase().match(ue)||[];if(tt(n))for(;o=h[c++];)"+"===o[0]?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function Pr(t,i,n,o){var c={},h=t===vr;function v(P){var S;return c[P]=!0,a.each(t[P]||[],function(F,Tt){var Nt=Tt(i,n,o);return"string"!=typeof Nt||h||c[Nt]?h?!(S=Nt):void 0:(i.dataTypes.unshift(Nt),v(Nt),!1)}),S}return v(i.dataTypes[0])||!c["*"]&&v("*")}function gr(t,i){var n,o,c=a.ajaxSettings.flatOptions||{};for(n in i)void 0!==i[n]&&((c[n]?t:o||(o={}))[n]=i[n]);return o&&a.extend(!0,t,o),t}Jn.href=Tn.href,a.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":a.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,i){return i?gr(gr(t,a.ajaxSettings),i):gr(a.ajaxSettings,t)},ajaxPrefilter:Ir(Dn),ajaxTransport:Ir(vr),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0);var n,o,c,h,v,P,S,F,Tt,Nt,gt=a.ajaxSetup({},i=i||{}),Gt=gt.context||gt,xe=gt.context&&(Gt.nodeType||Gt.jquery)?a(Gt):a.event,Ve=a.Deferred(),Le=a.Callbacks("once memory"),mi=gt.statusCode||{},ui={},li={},Ki="canceled",Ge={readyState:0,getResponseHeader:function($e){var Ye;if(S){if(!h)for(h={};Ye=ln.exec(c);)h[Ye[1].toLowerCase()+" "]=(h[Ye[1].toLowerCase()+" "]||[]).concat(Ye[2]);Ye=h[$e.toLowerCase()+" "]}return null==Ye?null:Ye.join(", ")},getAllResponseHeaders:function(){return S?c:null},setRequestHeader:function($e,Ye){return null==S&&($e=li[$e.toLowerCase()]=li[$e.toLowerCase()]||$e,ui[$e]=Ye),this},overrideMimeType:function($e){return null==S&&(gt.mimeType=$e),this},statusCode:function($e){var Ye;if($e)if(S)Ge.always($e[Ge.status]);else for(Ye in $e)mi[Ye]=[mi[Ye],$e[Ye]];return this},abort:function($e){var Ye=$e||Ki;return n&&n.abort(Ye),sn(0,Ye),this}};if(Ve.promise(Ge),gt.url=((t||gt.url||Tn.href)+"").replace(Mr,Tn.protocol+"//"),gt.type=i.method||i.type||gt.method||gt.type,gt.dataTypes=(gt.dataType||"*").toLowerCase().match(ue)||[""],null==gt.crossDomain){P=w.createElement("a");try{P.href=gt.url,P.href=P.href,gt.crossDomain=Jn.protocol+"//"+Jn.host!=P.protocol+"//"+P.host}catch{gt.crossDomain=!0}}if(gt.data&&gt.processData&&"string"!=typeof gt.data&&(gt.data=a.param(gt.data,gt.traditional)),Pr(Dn,gt,i,Ge),S)return Ge;for(Tt in(F=a.event&&gt.global)&&0==a.active++&&a.event.trigger("ajaxStart"),gt.type=gt.type.toUpperCase(),gt.hasContent=!fr.test(gt.type),o=gt.url.replace($r,""),gt.hasContent?gt.data&&gt.processData&&0===(gt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(gt.data=gt.data.replace(Gr,"+")):(Nt=gt.url.slice(o.length),gt.data&&(gt.processData||"string"==typeof gt.data)&&(o+=(Cn.test(o)?"&":"?")+gt.data,delete gt.data),!1===gt.cache&&(o=o.replace(Jr,"$1"),Nt=(Cn.test(o)?"&":"?")+"_="+Fn.guid+++Nt),gt.url=o+Nt),gt.ifModified&&(a.lastModified[o]&&Ge.setRequestHeader("If-Modified-Since",a.lastModified[o]),a.etag[o]&&Ge.setRequestHeader("If-None-Match",a.etag[o])),(gt.data&&gt.hasContent&&!1!==gt.contentType||i.contentType)&&Ge.setRequestHeader("Content-Type",gt.contentType),Ge.setRequestHeader("Accept",gt.dataTypes[0]&&gt.accepts[gt.dataTypes[0]]?gt.accepts[gt.dataTypes[0]]+("*"!==gt.dataTypes[0]?", "+Nr+"; q=0.01":""):gt.accepts["*"]),gt.headers)Ge.setRequestHeader(Tt,gt.headers[Tt]);if(gt.beforeSend&&(!1===gt.beforeSend.call(Gt,Ge,gt)||S))return Ge.abort();if(Ki="abort",Le.add(gt.complete),Ge.done(gt.success),Ge.fail(gt.error),n=Pr(vr,gt,i,Ge)){if(Ge.readyState=1,F&&xe.trigger("ajaxSend",[Ge,gt]),S)return Ge;gt.async&&gt.timeout>0&&(v=L.setTimeout(function(){Ge.abort("timeout")},gt.timeout));try{S=!1,n.send(ui,sn)}catch($e){if(S)throw $e;sn(-1,$e)}}else sn(-1,"No Transport");function sn($e,Ye,zi,Qn){var Hi,Ln,hi,Xi,Ui,Si=Ye;S||(S=!0,v&&L.clearTimeout(v),n=void 0,c=Qn||"",Ge.readyState=$e>0?4:0,Hi=$e>=200&&$e<300||304===$e,zi&&(Xi=function Vr(t,i,n){for(var o,c,h,v,P=t.contents,S=t.dataTypes;"*"===S[0];)S.shift(),void 0===o&&(o=t.mimeType||i.getResponseHeader("Content-Type"));if(o)for(c in P)if(P[c]&&P[c].test(o)){S.unshift(c);break}if(S[0]in n)h=S[0];else{for(c in n){if(!S[0]||t.converters[c+" "+S[0]]){h=c;break}v||(v=c)}h=h||v}if(h)return h!==S[0]&&S.unshift(h),n[h]}(gt,Ge,zi)),!Hi&&a.inArray("script",gt.dataTypes)>-1&&a.inArray("json",gt.dataTypes)<0&&(gt.converters["text script"]=function(){}),Xi=function Qr(t,i,n,o){var c,h,v,P,S,F={},Tt=t.dataTypes.slice();if(Tt[1])for(v in t.converters)F[v.toLowerCase()]=t.converters[v];for(h=Tt.shift();h;)if(t.responseFields[h]&&(n[t.responseFields[h]]=i),!S&&o&&t.dataFilter&&(i=t.dataFilter(i,t.dataType)),S=h,h=Tt.shift())if("*"===h)h=S;else if("*"!==S&&S!==h){if(!(v=F[S+" "+h]||F["* "+h]))for(c in F)if((P=c.split(" "))[1]===h&&(v=F[S+" "+P[0]]||F["* "+P[0]])){!0===v?v=F[c]:!0!==F[c]&&(h=P[0],Tt.unshift(P[1]));break}if(!0!==v)if(v&&t.throws)i=v(i);else try{i=v(i)}catch(Nt){return{state:"parsererror",error:v?Nt:"No conversion from "+S+" to "+h}}}return{state:"success",data:i}}(gt,Xi,Ge,Hi),Hi?(gt.ifModified&&((Ui=Ge.getResponseHeader("Last-Modified"))&&(a.lastModified[o]=Ui),(Ui=Ge.getResponseHeader("etag"))&&(a.etag[o]=Ui)),204===$e||"HEAD"===gt.type?Si="nocontent":304===$e?Si="notmodified":(Si=Xi.state,Ln=Xi.data,Hi=!(hi=Xi.error))):(hi=Si,($e||!Si)&&(Si="error",$e<0&&($e=0))),Ge.status=$e,Ge.statusText=(Ye||Si)+"",Hi?Ve.resolveWith(Gt,[Ln,Si,Ge]):Ve.rejectWith(Gt,[Ge,Si,hi]),Ge.statusCode(mi),mi=void 0,F&&xe.trigger(Hi?"ajaxSuccess":"ajaxError",[Ge,gt,Hi?Ln:hi]),Le.fireWith(Gt,[Ge,Si]),F&&(xe.trigger("ajaxComplete",[Ge,gt]),--a.active||a.event.trigger("ajaxStop")))}return Ge},getJSON:function(t,i,n){return a.get(t,i,n,"json")},getScript:function(t,i){return a.get(t,void 0,i,"script")}}),a.each(["get","post"],function(t,i){a[i]=function(n,o,c,h){return tt(o)&&(h=h||c,c=o,o=void 0),a.ajax(a.extend({url:n,type:i,dataType:h,data:o,success:c},a.isPlainObject(n)&&n))}}),a.ajaxPrefilter(function(t){var i;for(i in t.headers)"content-type"===i.toLowerCase()&&(t.contentType=t.headers[i]||"")}),a._evalUrl=function(t,i,n){return a.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(o){a.globalEval(o,i,n)}})},a.fn.extend({wrapAll:function(t){var i;return this[0]&&(tt(t)&&(t=t.call(this[0])),i=a(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(t){return tt(t)?this.each(function(i){a(this).wrapInner(t.call(this,i))}):this.each(function(){var i=a(this),n=i.contents();n.length?n.wrapAll(t):i.append(t)})},wrap:function(t){var i=tt(t);return this.each(function(n){a(this).wrapAll(i?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){a(this).replaceWith(this.childNodes)}),this}}),a.expr.pseudos.hidden=function(t){return!a.expr.pseudos.visible(t)},a.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},a.ajaxSettings.xhr=function(){try{return new L.XMLHttpRequest}catch{}};var pr={0:200,1223:204},yn=a.ajaxSettings.xhr();j.cors=!!yn&&"withCredentials"in yn,j.ajax=yn=!!yn,a.ajaxTransport(function(t){var i,n;if(j.cors||yn&&!t.crossDomain)return{send:function(o,c){var h,v=t.xhr();if(v.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(h in t.xhrFields)v[h]=t.xhrFields[h];for(h in t.mimeType&&v.overrideMimeType&&v.overrideMimeType(t.mimeType),!t.crossDomain&&!o["X-Requested-With"]&&(o["X-Requested-With"]="XMLHttpRequest"),o)v.setRequestHeader(h,o[h]);i=function(P){return function(){i&&(i=n=v.onload=v.onerror=v.onabort=v.ontimeout=v.onreadystatechange=null,"abort"===P?v.abort():"error"===P?"number"!=typeof v.status?c(0,"error"):c(v.status,v.statusText):c(pr[v.status]||v.status,v.statusText,"text"!==(v.responseType||"text")||"string"!=typeof v.responseText?{binary:v.response}:{text:v.responseText},v.getAllResponseHeaders()))}},v.onload=i(),n=v.onerror=v.ontimeout=i("error"),void 0!==v.onabort?v.onabort=n:v.onreadystatechange=function(){4===v.readyState&&L.setTimeout(function(){i&&n()})},i=i("abort");try{v.send(t.hasContent&&t.data||null)}catch(P){if(i)throw P}},abort:function(){i&&i()}}}),a.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return a.globalEval(t),t}}}),a.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),a.ajaxTransport("script",function(t){var i,n;if(t.crossDomain||t.scriptAttrs)return{send:function(o,c){i=a("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(h){i.remove(),n=null,h&&c("error"===h.type?404:200,h.type)}),w.head.appendChild(i[0])},abort:function(){n&&n()}}});var t,yr=[],mn=/(=)\?(?=&|$)|\?\?/;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yr.pop()||a.expando+"_"+Fn.guid++;return this[t]=!0,t}}),a.ajaxPrefilter("json jsonp",function(t,i,n){var o,c,h,v=!1!==t.jsonp&&(mn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&mn.test(t.data)&&"data");if(v||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=tt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,v?t[v]=t[v].replace(mn,"$1"+o):!1!==t.jsonp&&(t.url+=(Cn.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return h||a.error(o+" was not called"),h[0]},t.dataTypes[0]="json",c=L[o],L[o]=function(){h=arguments},n.always(function(){void 0===c?a(L).removeProp(o):L[o]=c,t[o]&&(t.jsonpCallback=i.jsonpCallback,yr.push(o)),h&&tt(c)&&c(h[0]),h=c=void 0}),"script"}),j.createHTMLDocument=((t=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),a.parseHTML=function(t,i,n){return"string"!=typeof t?[]:("boolean"==typeof i&&(n=i,i=!1),i||(j.createHTMLDocument?((o=(i=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,i.head.appendChild(o)):i=w),h=!n&&[],(c=y.exec(t))?[i.createElement(c[1])]:(c=an([t],i,h),h&&h.length&&a(h).remove(),a.merge([],c.childNodes)));var o,c,h},a.fn.load=function(t,i,n){var o,c,h,v=this,P=t.indexOf(" ");return P>-1&&(o=on(t.slice(P)),t=t.slice(0,P)),tt(i)?(n=i,i=void 0):i&&"object"==typeof i&&(c="POST"),v.length>0&&a.ajax({url:t,type:c||"GET",dataType:"html",data:i}).done(function(S){h=arguments,v.html(o?a("<div>").append(a.parseHTML(S)).find(o):S)}).always(n&&function(S,F){v.each(function(){n.apply(this,h||[S.responseText,F,S])})}),this},a.expr.pseudos.animated=function(t){return a.grep(a.timers,function(i){return t===i.elem}).length},a.offset={setOffset:function(t,i,n){var o,c,h,v,P,S,Tt=a.css(t,"position"),Nt=a(t),gt={};"static"===Tt&&(t.style.position="relative"),P=Nt.offset(),h=a.css(t,"top"),S=a.css(t,"left"),("absolute"===Tt||"fixed"===Tt)&&(h+S).indexOf("auto")>-1?(v=(o=Nt.position()).top,c=o.left):(v=parseFloat(h)||0,c=parseFloat(S)||0),tt(i)&&(i=i.call(t,n,a.extend({},P))),null!=i.top&&(gt.top=i.top-P.top+v),null!=i.left&&(gt.left=i.left-P.left+c),"using"in i?i.using.call(t,gt):Nt.css(gt)}},a.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(c){a.offset.setOffset(this,t,c)});var i,n,o=this[0];return o?o.getClientRects().length?{top:(i=o.getBoundingClientRect()).top+(n=o.ownerDocument.defaultView).pageYOffset,left:i.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,i,n,o=this[0],c={top:0,left:0};if("fixed"===a.css(o,"position"))i=o.getBoundingClientRect();else{for(i=this.offset(),n=o.ownerDocument,t=o.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===a.css(t,"position");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((c=a(t).offset()).top+=a.css(t,"borderTopWidth",!0),c.left+=a.css(t,"borderLeftWidth",!0))}return{top:i.top-c.top-a.css(o,"marginTop",!0),left:i.left-c.left-a.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===a.css(t,"position");)t=t.offsetParent;return t||Ae})}}),a.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;a.fn[t]=function(o){return St(this,function(c,h,v){var P;if(it(c)?P=c:9===c.nodeType&&(P=c.defaultView),void 0===v)return P?P[i]:c[h];P?P.scrollTo(n?P.pageXOffset:v,n?v:P.pageYOffset):c[h]=v},t,o,arguments.length)}}),a.each(["top","left"],function(t,i){a.cssHooks[i]=Ze(j.pixelPosition,function(n,o){if(o)return o=Je(n,i),pt.test(o)?a(n).position()[i]+"px":o})}),a.each({Height:"height",Width:"width"},function(t,i){a.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){a.fn[o]=function(c,h){var v=arguments.length&&(n||"boolean"!=typeof c),P=n||(!0===c||!0===h?"margin":"border");return St(this,function(S,F,Tt){var Nt;return it(S)?0===o.indexOf("outer")?S["inner"+t]:S.document.documentElement["client"+t]:9===S.nodeType?(Nt=S.documentElement,Math.max(S.body["scroll"+t],Nt["scroll"+t],S.body["offset"+t],Nt["offset"+t],Nt["client"+t])):void 0===Tt?a.css(S,F,P):a.style(S,F,Tt,P)},i,v?c:void 0,v)}})}),a.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,i){a.fn[i]=function(n){return this.on(i,n)}}),a.fn.extend({bind:function(t,i,n){return this.on(t,null,i,n)},unbind:function(t,i){return this.off(t,null,i)},delegate:function(t,i,n,o){return this.on(i,t,n,o)},undelegate:function(t,i,n){return 1===arguments.length?this.off(t,"**"):this.off(i,t||"**",n)},hover:function(t,i){return this.on("mouseenter",t).on("mouseleave",i||t)}}),a.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){a.fn[i]=function(n,o){return arguments.length>0?this.on(i,null,n,o):this.trigger(i)}});var Rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;a.proxy=function(t,i){var n,o,c;if("string"==typeof i&&(n=t[i],i=t,t=n),tt(t))return o=_.call(arguments,2),c=function(){return t.apply(i||this,o.concat(_.call(arguments)))},c.guid=t.guid=t.guid||a.guid++,c},a.holdReady=function(t){t?a.readyWait++:a.ready(!0)},a.isArray=Array.isArray,a.parseJSON=JSON.parse,a.nodeName=zt,a.isFunction=tt,a.isWindow=it,a.camelCase=ct,a.type=Et,a.now=Date.now,a.isNumeric=function(t){var i=a.type(t);return("number"===i||"string"===i)&&!isNaN(t-parseFloat(t))},a.trim=function(t){return null==t?"":(t+"").replace(Rn,"$1")},void 0!==(D=function(){return a}.apply(Qt,[]))&&(De.exports=D);var Vn=L.jQuery,kn=L.$;return a.noConflict=function(t){return L.$===a&&(L.$=kn),t&&L.jQuery===a&&(L.jQuery=Vn),a},typeof st>"u"&&(L.jQuery=L.$=a),a})},511:(De,Qt,b)=>{"use strict";function D(){}function L(e){return null==e?D:function(){return this.querySelector(e)}}function G(){return[]}function _(e){return null==e?G:function(){return this.querySelectorAll(e)}}function B(e){return function(){return this.matches(e)}}function k(e){return function(r){return r.matches(e)}}b.d(Qt,{$0Z:()=>uo,jvg:()=>so});var R=Array.prototype.find;function xt(){return this.firstElementChild}var j=Array.prototype.filter;function tt(){return Array.from(this.children)}function It(e){return new Array(e.length)}function Y(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}function a(e,r,u,g,m,T){for(var V,N=0,X=r.length,wt=T.length;N<wt;++N)(V=r[N])?(V.__data__=T[N],g[N]=V):u[N]=new Y(e,T[N]);for(;N<X;++N)(V=r[N])&&(m[N]=V)}function te(e,r,u,g,m,T,N){var V,X,ve,wt=new Map,kt=r.length,ie=T.length,ne=new Array(kt);for(V=0;V<kt;++V)(X=r[V])&&(ne[V]=ve=N.call(X,X.__data__,V,r)+"",wt.has(ve)?m[V]=X:wt.set(ve,X));for(V=0;V<ie;++V)ve=N.call(e,T[V],V,T)+"",(X=wt.get(ve))?(g[V]=X,X.__data__=T[V],wt.delete(ve)):u[V]=new Y(e,T[V]);for(V=0;V<kt;++V)(X=r[V])&&wt.get(ne[V])===X&&(m[V]=X)}function zt(e){return e.__data__}function Ht(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Rt(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}Y.prototype={constructor:Y,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Mt="http://www.w3.org/1999/xhtml";const Lt={svg:"http://www.w3.org/2000/svg",xhtml:Mt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ee(e){var r=e+="",u=r.indexOf(":");return u>=0&&"xmlns"!==(r=e.slice(0,u))&&(e=e.slice(u+1)),Lt.hasOwnProperty(r)?{space:Lt[r],local:e}:e}function ce(e){return function(){this.removeAttribute(e)}}function jt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pt(e,r){return function(){this.setAttribute(e,r)}}function ue(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function We(e,r){return function(){var u=r.apply(this,arguments);null==u?this.removeAttribute(e):this.setAttribute(e,u)}}function Ne(e,r){return function(){var u=r.apply(this,arguments);null==u?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,u)}}function je(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mt(e){return function(){this.style.removeProperty(e)}}function E(e,r,u){return function(){this.style.setProperty(e,r,u)}}function ft(e,r,u){return function(){var g=r.apply(this,arguments);null==g?this.style.removeProperty(e):this.style.setProperty(e,g,u)}}function K(e,r){return e.style.getPropertyValue(r)||je(e).getComputedStyle(e,null).getPropertyValue(r)}function at(e){return function(){delete this[e]}}function Q(e,r){return function(){this[e]=r}}function ct(e,r){return function(){var u=r.apply(this,arguments);null==u?delete this[e]:this[e]=u}}function Ft(e){return e.trim().split(/^|\s+/)}function vt(e){return e.classList||new Jt(e)}function Jt(e){this._node=e,this._names=Ft(e.getAttribute("class")||"")}function ae(e,r){for(var u=vt(e),g=-1,m=r.length;++g<m;)u.add(r[g])}function Te(e,r){for(var u=vt(e),g=-1,m=r.length;++g<m;)u.remove(r[g])}function re(e){return function(){ae(this,e)}}function pe(e){return function(){Te(this,e)}}function ye(e,r){return function(){(r.apply(this,arguments)?ae:Te)(this,e)}}function Ce(){this.textContent=""}function Ae(e){return function(){this.textContent=e}}function Xe(e){return function(){var r=e.apply(this,arguments);this.textContent=null==r?"":r}}function Ei(){this.innerHTML=""}function en(e){return function(){this.innerHTML=e}}function nn(e){return function(){var r=e.apply(this,arguments);this.innerHTML=null==r?"":r}}function ni(){this.nextSibling&&this.parentNode.appendChild(this)}function Ii(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pi(e){return function(){var r=this.ownerDocument,u=this.namespaceURI;return u===Mt&&r.documentElement.namespaceURI===Mt?r.createElement(e):r.createElementNS(u,e)}}function ci(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bi(e){var r=ee(e);return(r.local?ci:pi)(r)}function an(){return null}function H(){var e=this.parentNode;e&&e.removeChild(this)}function d(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function s(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function M(e){return function(){var r=this.__on;if(r){for(var T,u=0,g=-1,m=r.length;u<m;++u)T=r[u],e.type&&T.type!==e.type||T.name!==e.name?r[++g]=T:this.removeEventListener(T.type,T.listener,T.options);++g?r.length=g:delete this.__on}}}function Z(e,r,u){return function(){var m,g=this.__on,T=function C(e){return function(r){e.call(this,r,this.__data__)}}(r);if(g)for(var N=0,V=g.length;N<V;++N)if((m=g[N]).type===e.type&&m.name===e.name)return this.removeEventListener(m.type,m.listener,m.options),this.addEventListener(m.type,m.listener=T,m.options=u),void(m.value=r);this.addEventListener(e.type,T,u),m={type:e.type,name:e.name,value:r,listener:T,options:u},g?g.push(m):this.__on=[m]}}function q(e,r,u){var g=je(e),m=g.CustomEvent;"function"==typeof m?m=new m(r,u):(m=g.document.createEvent("Event"),u?(m.initEvent(r,u.bubbles,u.cancelable),m.detail=u.detail):m.initEvent(r,!1,!1)),e.dispatchEvent(m)}function J(e,r){return function(){return q(this,e,r)}}function ut(e,r){return function(){return q(this,e,r.apply(this,arguments))}}Jt.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var de=[null];function me(e,r){this._groups=e,this._parents=r}function ei(){return new me([[document.documentElement]],de)}me.prototype=ei.prototype={constructor:me,select:function st(e){"function"!=typeof e&&(e=L(e));for(var r=this._groups,u=r.length,g=new Array(u),m=0;m<u;++m)for(var X,wt,T=r[m],N=T.length,V=g[m]=new Array(N),kt=0;kt<N;++kt)(X=T[kt])&&(wt=e.call(X,X.__data__,kt,T))&&("__data__"in X&&(wt.__data__=X.__data__),V[kt]=wt);return new me(g,this._parents)},selectAll:function O(e){e="function"==typeof e?function U(e){return function(){return function ot(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):_(e);for(var r=this._groups,u=r.length,g=[],m=[],T=0;T<u;++T)for(var X,N=r[T],V=N.length,wt=0;wt<V;++wt)(X=N[wt])&&(g.push(e.call(X,X.__data__,wt,N)),m.push(X));return new me(g,m)},selectChild:function et(e){return this.select(null==e?xt:function lt(e){return function(){return R.call(this.children,e)}}("function"==typeof e?e:k(e)))},selectChildren:function w(e){return this.selectAll(null==e?tt:function it(e){return function(){return j.call(this.children,e)}}("function"==typeof e?e:k(e)))},filter:function Ot(e){"function"!=typeof e&&(e=B(e));for(var r=this._groups,u=r.length,g=new Array(u),m=0;m<u;++m)for(var X,T=r[m],N=T.length,V=g[m]=[],wt=0;wt<N;++wt)(X=T[wt])&&e.call(X,X.__data__,wt,T)&&V.push(X);return new me(g,this._parents)},data:function Xt(e,r){if(!arguments.length)return Array.from(this,zt);var u=r?te:a,g=this._parents,m=this._groups;"function"!=typeof e&&(e=function Ct(e){return function(){return e}}(e));for(var T=m.length,N=new Array(T),V=new Array(T),X=new Array(T),wt=0;wt<T;++wt){var kt=g[wt],ie=m[wt],ne=ie.length,ve=Ht(e.call(kt,kt&&kt.__data__,wt,g)),ri=ve.length,di=V[wt]=new Array(ri),Yt=N[wt]=new Array(ri);u(kt,ie,di,Yt,X[wt]=new Array(ne),ve,r);for(var Ke,Qe,Ee=0,ge=0;Ee<ri;++Ee)if(Ke=di[Ee]){for(Ee>=ge&&(ge=Ee+1);!(Qe=Yt[ge])&&++ge<ri;);Ke._next=Qe||null}}return(N=new me(N,g))._enter=V,N._exit=X,N},enter:function Et(){return new me(this._enter||this._groups.map(It),this._parents)},exit:function Ie(){return new me(this._exit||this._groups.map(It),this._parents)},join:function W(e,r,u){var g=this.enter(),m=this,T=this.exit();return"function"==typeof e?(g=e(g))&&(g=g.selection()):g=g.append(e+""),null!=r&&(m=r(m))&&(m=m.selection()),null==u?T.remove():u(T),g&&m?g.merge(m).order():m},merge:function Wt(e){for(var r=e.selection?e.selection():e,u=this._groups,g=r._groups,m=u.length,N=Math.min(m,g.length),V=new Array(m),X=0;X<N;++X)for(var ve,wt=u[X],kt=g[X],ie=wt.length,ne=V[X]=new Array(ie),ri=0;ri<ie;++ri)(ve=wt[ri]||kt[ri])&&(ne[ri]=ve);for(;X<m;++X)V[X]=u[X];return new me(V,this._parents)},selection:function Je(){return this},order:function $t(){for(var e=this._groups,r=-1,u=e.length;++r<u;)for(var N,g=e[r],m=g.length-1,T=g[m];--m>=0;)(N=g[m])&&(T&&4^N.compareDocumentPosition(T)&&T.parentNode.insertBefore(N,T),T=N);return this},sort:function Ut(e){function r(ie,ne){return ie&&ne?e(ie.__data__,ne.__data__):!ie-!ne}e||(e=Rt);for(var u=this._groups,g=u.length,m=new Array(g),T=0;T<g;++T){for(var wt,N=u[T],V=N.length,X=m[T]=new Array(V),kt=0;kt<V;++kt)(wt=N[kt])&&(X[kt]=wt);X.sort(r)}return new me(m,this._parents).order()},call:function Oe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function Se(){return Array.from(this)},node:function nt(){for(var e=this._groups,r=0,u=e.length;r<u;++r)for(var g=e[r],m=0,T=g.length;m<T;++m){var N=g[m];if(N)return N}return null},size:function dt(){let e=0;for(const r of this)++e;return e},empty:function y(){return!this.node()},each:function rt(e){for(var r=this._groups,u=0,g=r.length;u<g;++u)for(var V,m=r[u],T=0,N=m.length;T<N;++T)(V=m[T])&&e.call(V,V.__data__,T,m);return this},attr:function Zt(e,r){var u=ee(e);if(arguments.length<2){var g=this.node();return u.local?g.getAttributeNS(u.space,u.local):g.getAttribute(u)}return this.each((null==r?u.local?jt:ce:"function"==typeof r?u.local?Ne:We:u.local?ue:Pt)(u,r))},style:function St(e,r,u){return arguments.length>1?this.each((null==r?mt:"function"==typeof r?ft:E)(e,r,null==u?"":u)):K(this.node(),e)},property:function Dt(e,r){return arguments.length>1?this.each((null==r?at:"function"==typeof r?ct:Q)(e,r)):this.node()[e]},classed:function Be(e,r){var u=Ft(e+"");if(arguments.length<2){for(var g=vt(this.node()),m=-1,T=u.length;++m<T;)if(!g.contains(u[m]))return!1;return!0}return this.each(("function"==typeof r?ye:r?re:pe)(u,r))},text:function tn(e){return arguments.length?this.each(null==e?Ce:("function"==typeof e?Xe:Ae)(e)):this.node().textContent},html:function En(e){return arguments.length?this.each(null==e?Ei:("function"==typeof e?nn:en)(e)):this.node().innerHTML},raise:function ji(){return this.each(ni)},lower:function $i(){return this.each(Ii)},append:function rn(e){var r="function"==typeof e?e:Bi(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function Bt(e,r){var u="function"==typeof e?e:Bi(e),g=null==r?an:"function"==typeof r?r:L(r);return this.select(function(){return this.insertBefore(u.apply(this,arguments),g.apply(this,arguments)||null)})},remove:function l(){return this.each(H)},clone:function f(e){return this.select(e?s:d)},datum:function p(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function A(e,r,u){var m,N,g=function I(e){return e.trim().split(/^|\s+/).map(function(r){var u="",g=r.indexOf(".");return g>=0&&(u=r.slice(g+1),r=r.slice(0,g)),{type:r,name:u}})}(e+""),T=g.length;if(!(arguments.length<2)){for(V=r?Z:M,m=0;m<T;++m)this.each(V(g[m],r,u));return this}var V=this.node().__on;if(V)for(var kt,X=0,wt=V.length;X<wt;++X)for(m=0,kt=V[X];m<T;++m)if((N=g[m]).type===kt.type&&N.name===kt.name)return kt.value},dispatch:function pt(e,r){return this.each(("function"==typeof r?ut:J)(e,r))},[Symbol.iterator]:function*yt(){for(var e=this._groups,r=0,u=e.length;r<u;++r)for(var N,g=e[r],m=0,T=g.length;m<T;++m)(N=g[m])&&(yield N)}};const Ze=ei;var qe={value:()=>{}};function ai(){for(var g,e=0,r=arguments.length,u={};e<r;++e){if(!(g=arguments[e]+"")||g in u||/[\s.]/.test(g))throw new Error("illegal type: "+g);u[g]=[]}return new Nn(u)}function Nn(e){this._=e}function ar(e,r){for(var m,u=0,g=e.length;u<g;++u)if((m=e[u]).name===r)return m.value}function Sr(e,r,u){for(var g=0,m=e.length;g<m;++g)if(e[g].name===r){e[g]=qe,e=e.slice(0,g).concat(e.slice(g+1));break}return null!=u&&e.push({name:r,value:u}),e}Nn.prototype=ai.prototype={constructor:Nn,on:function(e,r){var m,u=this._,g=function Hr(e,r){return e.trim().split(/^|\s+/).map(function(u){var g="",m=u.indexOf(".");if(m>=0&&(g=u.slice(m+1),u=u.slice(0,m)),u&&!r.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:g}})}(e+"",u),T=-1,N=g.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++T<N;)if(m=(e=g[T]).type)u[m]=Sr(u[m],e.name,r);else if(null==r)for(m in u)u[m]=Sr(u[m],e.name,null);return this}for(;++T<N;)if((m=(e=g[T]).type)&&(m=ar(u[m],e.name)))return m},copy:function(){var e={},r=this._;for(var u in r)e[u]=r[u].slice();return new Nn(e)},call:function(e,r){if((m=arguments.length-2)>0)for(var m,T,u=new Array(m),g=0;g<m;++g)u[g]=arguments[g+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(g=0,m=(T=this._[e]).length;g<m;++g)T[g].value.apply(r,u)},apply:function(e,r,u){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var g=this._[e],m=0,T=g.length;m<T;++m)g[m].value.apply(r,u)}};const Ur=ai;var yi,Ji,cn=0,On=0,hn=0,or=1e3,fn=0,vn=0,Hn=0,gn="object"==typeof performance&&performance.now?performance:Date,lr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sn(){return vn||(lr(Tr),vn=gn.now()+Hn)}function Tr(){vn=0}function Un(){this._call=this._time=this._next=null}function Cr(e,r,u){var g=new Un;return g.restart(e,r,u),g}function sr(){vn=(fn=gn.now())+Hn,cn=On=0;try{!function Wi(){Sn(),++cn;for(var r,e=yi;e;)(r=vn-e._time)>=0&&e._call.call(void 0,r),e=e._next;--cn}()}finally{cn=0,function Fr(){for(var e,u,r=yi,g=1/0;r;)r._call?(g>r._time&&(g=r._time),e=r,r=r._next):(u=r._next,r._next=null,r=e?e._next=u:yi=u);Ji=e,ur(g)}(),vn=0}}function In(){var e=gn.now(),r=e-fn;r>or&&(Hn-=r,fn=e)}function ur(e){cn||(On&&(On=clearTimeout(On)),e-vn>24?(e<1/0&&(On=setTimeout(sr,e-gn.now()-Hn)),hn&&(hn=clearInterval(hn))):(hn||(fn=gn.now(),hn=setInterval(In,or)),cn=1,lr(sr)))}function on(e,r,u){var g=new Un;return g.restart(m=>{g.stop(),e(m+r)},r=null==r?0:+r,u),g}Un.prototype=Cr.prototype={constructor:Un,restart:function(e,r,u){if("function"!=typeof e)throw new TypeError("callback is not a function");u=(null==u?Sn():+u)+(null==r?0:+r),!this._next&&Ji!==this&&(Ji?Ji._next=this:yi=this,Ji=this),this._call=e,this._time=u,ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,ur())}};var pn=Ur("start","end","cancel","interrupt"),dr=[],kr=0,Cn=3;function Pn(e,r,u,g,m,T){var N=e.__transition;if(N){if(u in N)return}else e.__transition={};!function Gr(e,r,u){var m,g=e.__transition;function N(wt){var kt,ie,ne,ve;if(1!==u.state)return X();for(kt in g)if((ve=g[kt]).name===u.name){if(ve.state===Cn)return on(N);4===ve.state?(ve.state=6,ve.timer.stop(),ve.on.call("interrupt",e,e.__data__,ve.index,ve.group),delete g[kt]):+kt<r&&(ve.state=6,ve.timer.stop(),ve.on.call("cancel",e,e.__data__,ve.index,ve.group),delete g[kt])}if(on(function(){u.state===Cn&&(u.state=4,u.timer.restart(V,u.delay,u.time),V(wt))}),u.state=2,u.on.call("start",e,e.__data__,u.index,u.group),2===u.state){for(u.state=Cn,m=new Array(ne=u.tween.length),kt=0,ie=-1;kt<ne;++kt)(ve=u.tween[kt].value.call(e,e.__data__,u.index,u.group))&&(m[++ie]=ve);m.length=ie+1}}function V(wt){for(var kt=wt<u.duration?u.ease.call(null,wt/u.duration):(u.timer.restart(X),u.state=5,1),ie=-1,ne=m.length;++ie<ne;)m[ie].call(e,kt);5===u.state&&(u.on.call("end",e,e.__data__,u.index,u.group),X())}function X(){for(var wt in u.state=6,u.timer.stop(),delete g[r],g)return;delete e.__transition}g[r]=u,u.timer=Cr(function T(wt){u.state=1,u.timer.restart(N,u.delay,u.time),u.delay<=wt&&N(wt-u.delay)},0,u.time)}(e,u,{name:r,index:g,group:m,on:pn,tween:dr,time:T.time,delay:T.delay,duration:T.duration,ease:T.ease,timer:null,state:kr})}function hr(e,r){var u=Mi(e,r);if(u.state>kr)throw new Error("too late; already scheduled");return u}function Vi(e,r){var u=Mi(e,r);if(u.state>Cn)throw new Error("too late; already running");return u}function Mi(e,r){var u=e.__transition;if(!u||!(u=u[r]))throw new Error("transition not found");return u}function ln(e,r){return e=+e,r=+r,function(u){return e*(1-u)+r*u}}var Dn,Ar=180/Math.PI,fr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mr(e,r,u,g,m,T){var N,V,X;return(N=Math.sqrt(e*e+r*r))&&(e/=N,r/=N),(X=e*u+r*g)&&(u-=e*X,g-=r*X),(V=Math.sqrt(u*u+g*g))&&(u/=V,g/=V,X/=V),e*g<r*u&&(e=-e,r=-r,X=-X,N=-N),{translateX:m,translateY:T,rotate:Math.atan2(r,e)*Ar,skewX:Math.atan(X)*Ar,scaleX:N,scaleY:V}}function Jn(e,r,u,g){function m(wt){return wt.length?wt.pop()+" ":""}return function(wt,kt){var ie=[],ne=[];return wt=e(wt),kt=e(kt),function T(wt,kt,ie,ne,ve,ri){if(wt!==ie||kt!==ne){var di=ve.push("translate(",null,r,null,u);ri.push({i:di-4,x:ln(wt,ie)},{i:di-2,x:ln(kt,ne)})}else(ie||ne)&&ve.push("translate("+ie+r+ne+u)}(wt.translateX,wt.translateY,kt.translateX,kt.translateY,ie,ne),function N(wt,kt,ie,ne){wt!==kt?(wt-kt>180?kt+=360:kt-wt>180&&(wt+=360),ne.push({i:ie.push(m(ie)+"rotate(",null,g)-2,x:ln(wt,kt)})):kt&&ie.push(m(ie)+"rotate("+kt+g)}(wt.rotate,kt.rotate,ie,ne),function V(wt,kt,ie,ne){wt!==kt?ne.push({i:ie.push(m(ie)+"skewX(",null,g)-2,x:ln(wt,kt)}):kt&&ie.push(m(ie)+"skewX("+kt+g)}(wt.skewX,kt.skewX,ie,ne),function X(wt,kt,ie,ne,ve,ri){if(wt!==ie||kt!==ne){var di=ve.push(m(ve)+"scale(",null,",",null,")");ri.push({i:di-4,x:ln(wt,ie)},{i:di-2,x:ln(kt,ne)})}else(1!==ie||1!==ne)&&ve.push(m(ve)+"scale("+ie+","+ne+")")}(wt.scaleX,wt.scaleY,kt.scaleX,kt.scaleY,ie,ne),wt=kt=null,function(ve){for(var Yt,ri=-1,di=ne.length;++ri<di;)ie[(Yt=ne[ri]).i]=Yt.x(ve);return ie.join("")}}}var Ir=Jn(function vr(e){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?fr:Mr(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Pr=Jn(function Nr(e){return null!=e&&(Dn||(Dn=document.createElementNS("http://www.w3.org/2000/svg","g")),Dn.setAttribute("transform",e),e=Dn.transform.baseVal.consolidate())?Mr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):fr},", ",")",")");function gr(e,r){var u,g;return function(){var m=Vi(this,e),T=m.tween;if(T!==u)for(var N=0,V=(g=u=T).length;N<V;++N)if(g[N].name===r){(g=g.slice()).splice(N,1);break}m.tween=g}}function Vr(e,r,u){var g,m;if("function"!=typeof u)throw new Error;return function(){var T=Vi(this,e),N=T.tween;if(N!==g){m=(g=N).slice();for(var V={name:r,value:u},X=0,wt=m.length;X<wt;++X)if(m[X].name===r){m[X]=V;break}X===wt&&m.push(V)}T.tween=m}}function pr(e,r,u){var g=e._id;return e.each(function(){var m=Vi(this,g);(m.value||(m.value={}))[r]=u.apply(this,arguments)}),function(m){return Mi(m,g).value[r]}}function yn(e,r,u){e.prototype=r.prototype=u,u.constructor=e}function yr(e,r){var u=Object.create(e.prototype);for(var g in r)u[g]=r[g];return u}function mn(){}var Vn=1/.7,kn="\\s*([+-]?\\d+)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n=/^#([0-9a-f]{3,8})$/,o=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),c=new RegExp(`^rgb\\(${i},${i},${i}\\)$`),h=new RegExp(`^rgba\\(${kn},${kn},${kn},${t}\\)$`),v=new RegExp(`^rgba\\(${i},${i},${i},${t}\\)$`),P=new RegExp(`^hsl\\(${t},${i},${i}\\)$`),S=new RegExp(`^hsla\\(${t},${i},${i},${t}\\)$`),F={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tt(){return this.rgb().formatHex()}function Gt(){return this.rgb().formatRgb()}function xe(e){var r,u;return e=(e+"").trim().toLowerCase(),(r=n.exec(e))?(u=r[1].length,r=parseInt(r[1],16),6===u?Ve(r):3===u?new li(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===u?Le(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===u?Le(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=o.exec(e))?new li(r[1],r[2],r[3],1):(r=c.exec(e))?new li(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=h.exec(e))?Le(r[1],r[2],r[3],r[4]):(r=v.exec(e))?Le(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=P.exec(e))?Qn(r[1],r[2]/100,r[3]/100,1):(r=S.exec(e))?Qn(r[1],r[2]/100,r[3]/100,r[4]):F.hasOwnProperty(e)?Ve(F[e]):"transparent"===e?new li(NaN,NaN,NaN,0):null}function Ve(e){return new li(e>>16&255,e>>8&255,255&e,1)}function Le(e,r,u,g){return g<=0&&(e=r=u=NaN),new li(e,r,u,g)}function ui(e,r,u,g){return 1===arguments.length?function mi(e){return e instanceof mn||(e=xe(e)),e?new li((e=e.rgb()).r,e.g,e.b,e.opacity):new li}(e):new li(e,r,u,null==g?1:g)}function li(e,r,u,g){this.r=+e,this.g=+r,this.b=+u,this.opacity=+g}function Ki(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}`}function sn(){const e=$e(this.opacity);return`${1===e?"rgb(":"rgba("}${Ye(this.r)}, ${Ye(this.g)}, ${Ye(this.b)}${1===e?")":`, ${e})`}`}function $e(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ye(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zi(e){return((e=Ye(e))<16?"0":"")+e.toString(16)}function Qn(e,r,u,g){return g<=0?e=r=u=NaN:u<=0||u>=1?e=r=NaN:r<=0&&(e=NaN),new hi(e,r,u,g)}function Hi(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof mn||(e=xe(e)),!e)return new hi;if(e instanceof hi)return e;var r=(e=e.rgb()).r/255,u=e.g/255,g=e.b/255,m=Math.min(r,u,g),T=Math.max(r,u,g),N=NaN,V=T-m,X=(T+m)/2;return V?(N=r===T?(u-g)/V+6*(u<g):u===T?(g-r)/V+2:(r-u)/V+4,V/=X<.5?T+m:2-T-m,N*=60):V=X>0&&X<1?0:N,new hi(N,V,X,e.opacity)}function hi(e,r,u,g){this.h=+e,this.s=+r,this.l=+u,this.opacity=+g}function Xi(e){return(e=(e||0)%360)<0?e+360:e}function Ui(e){return Math.max(0,Math.min(1,e||0))}function Si(e,r,u){return 255*(e<60?r+(u-r)*e/60:e<180?u:e<240?r+(u-r)*(240-e)/60:r)}function Xn(e,r,u,g,m){var T=e*e,N=T*e;return((1-3*e+3*T-N)*r+(4-6*T+3*N)*u+(1+3*e+3*T-3*N)*g+N*m)/6}yn(mn,xe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tt,formatHex:Tt,formatHex8:function Nt(){return this.rgb().formatHex8()},formatHsl:function gt(){return Hi(this).formatHsl()},formatRgb:Gt,toString:Gt}),yn(li,ui,yr(mn,{brighter(e){return e=null==e?Vn:Math.pow(Vn,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new li(Ye(this.r),Ye(this.g),Ye(this.b),$e(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ki,formatHex:Ki,formatHex8:function Ge(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}${zi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:sn,toString:sn})),yn(hi,function Ln(e,r,u,g){return 1===arguments.length?Hi(e):new hi(e,r,u,null==g?1:g)},yr(mn,{brighter(e){return e=null==e?Vn:Math.pow(Vn,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),r=isNaN(e)||isNaN(this.s)?0:this.s,u=this.l,g=u+(u<.5?u:1-u)*r,m=2*u-g;return new li(Si(e>=240?e-240:e+120,m,g),Si(e,m,g),Si(e<120?e+240:e-120,m,g),this.opacity)},clamp(){return new hi(Xi(this.h),Ui(this.s),Ui(this.l),$e(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$e(this.opacity);return`${1===e?"hsl(":"hsla("}${Xi(this.h)}, ${100*Ui(this.s)}%, ${100*Ui(this.l)}%${1===e?")":`, ${e})`}`}}));const Dr=e=>()=>e;function Pi(e,r){var u=r-e;return u?function Rr(e,r){return function(u){return e+u*r}}(e,u):Dr(isNaN(e)?r:e)}const _n=function e(r){var u=function Zn(e){return 1==(e=+e)?Pi:function(r,u){return u-r?function Xr(e,r,u){return e=Math.pow(e,u),r=Math.pow(r,u)-e,u=1/u,function(g){return Math.pow(e+g*r,u)}}(r,u,e):Dr(isNaN(r)?u:r)}}(r);function g(m,T){var N=u((m=ui(m)).r,(T=ui(T)).r),V=u(m.g,T.g),X=u(m.b,T.b),wt=Pi(m.opacity,T.opacity);return function(kt){return m.r=N(kt),m.g=V(kt),m.b=X(kt),m.opacity=wt(kt),m+""}}return g.gamma=e,g}(1);function Lr(e){return function(r){var N,V,u=r.length,g=new Array(u),m=new Array(u),T=new Array(u);for(N=0;N<u;++N)V=ui(r[N]),g[N]=V.r||0,m[N]=V.g||0,T[N]=V.b||0;return g=e(g),m=e(m),T=e(T),V.opacity=1,function(X){return V.r=g(X),V.g=m(X),V.b=T(X),V+""}}}Lr(function Zi(e){var r=e.length-1;return function(u){var g=u<=0?u=0:u>=1?(u=1,r-1):Math.floor(u*r),m=e[g],T=e[g+1];return Xn((u-g/r)*r,g>0?e[g-1]:2*m-T,m,T,g<r-1?e[g+2]:2*T-m)}}),Lr(function qi(e){var r=e.length;return function(u){var g=Math.floor(((u%=1)<0?++u:u)*r);return Xn((u-g/r)*r,e[(g+r-1)%r],e[g%r],e[(g+1)%r],e[(g+2)%r])}});var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jn=new RegExp(Yi.source,"g");function Bn(e,r){var g,m,T,u=Yi.lastIndex=jn.lastIndex=0,N=-1,V=[],X=[];for(e+="",r+="";(g=Yi.exec(e))&&(m=jn.exec(r));)(T=m.index)>u&&(T=r.slice(u,T),V[N]?V[N]+=T:V[++N]=T),(g=g[0])===(m=m[0])?V[N]?V[N]+=m:V[++N]=m:(V[++N]=null,X.push({i:N,x:ln(g,m)})),u=jn.lastIndex;return u<r.length&&(T=r.slice(u),V[N]?V[N]+=T:V[++N]=T),V.length<2?X[0]?function jr(e){return function(r){return e(r)+""}}(X[0].x):function un(e){return function(){return e}}(r):(r=X.length,function(wt){for(var ie,kt=0;kt<r;++kt)V[(ie=X[kt]).i]=ie.x(wt);return V.join("")})}function Wn(e,r){var u;return("number"==typeof r?ln:r instanceof xe?_n:(u=xe(r))?(r=u,_n):Bn)(e,r)}function qn(e){return function(){this.removeAttribute(e)}}function mr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qr(e,r,u){var g,T,m=u+"";return function(){var N=this.getAttribute(e);return N===m?null:N===g?T:T=r(g=N,u)}}function Yn(e,r,u){var g,T,m=u+"";return function(){var N=this.getAttributeNS(e.space,e.local);return N===m?null:N===g?T:T=r(g=N,u)}}function _r(e,r,u){var g,m,T;return function(){var N,X,V=u(this);return null==V?void this.removeAttribute(e):(N=this.getAttribute(e))===(X=V+"")?null:N===g&&X===m?T:(m=X,T=r(g=N,V))}}function br(e,r,u){var g,m,T;return function(){var N,X,V=u(this);return null==V?void this.removeAttributeNS(e.space,e.local):(N=this.getAttributeNS(e.space,e.local))===(X=V+"")?null:N===g&&X===m?T:(m=X,T=r(g=N,V))}}function x(e,r){var u,g;function m(){var T=r.apply(this,arguments);return T!==g&&(u=(g=T)&&function Br(e,r){return function(u){this.setAttributeNS(e.space,e.local,r.call(this,u))}}(e,T)),u}return m._value=r,m}function z(e,r){var u,g;function m(){var T=r.apply(this,arguments);return T!==g&&(u=(g=T)&&function wr(e,r){return function(u){this.setAttribute(e,r.call(this,u))}}(e,T)),u}return m._value=r,m}function _t(e,r){return function(){hr(this,e).delay=+r.apply(this,arguments)}}function At(e,r){return r=+r,function(){hr(this,e).delay=r}}function oe(e,r){return function(){Vi(this,e).duration=+r.apply(this,arguments)}}function fe(e,r){return r=+r,function(){Vi(this,e).duration=r}}var Ea=Ze.prototype.constructor;function la(e){return function(){this.style.removeProperty(e)}}var za=0;function bn(e,r,u,g){this._groups=e,this._parents=r,this._name=u,this._id=g}function sa(){return++za}var wn=Ze.prototype;bn.prototype=function Ha(e){return Ze().transition(e)}.prototype={constructor:bn,select:function Oi(e){var r=this._name,u=this._id;"function"!=typeof e&&(e=L(e));for(var g=this._groups,m=g.length,T=new Array(m),N=0;N<m;++N)for(var kt,ie,V=g[N],X=V.length,wt=T[N]=new Array(X),ne=0;ne<X;++ne)(kt=V[ne])&&(ie=e.call(kt,kt.__data__,ne,V))&&("__data__"in kt&&(ie.__data__=kt.__data__),wt[ne]=ie,Pn(wt[ne],r,u,ne,wt,Mi(kt,u)));return new bn(T,this._parents,r,u)},selectAll:function xa(e){var r=this._name,u=this._id;"function"!=typeof e&&(e=_(e));for(var g=this._groups,m=g.length,T=[],N=[],V=0;V<m;++V)for(var kt,X=g[V],wt=X.length,ie=0;ie<wt;++ie)if(kt=X[ie]){for(var ve,ne=e.call(kt,kt.__data__,ie,X),ri=Mi(kt,u),di=0,Yt=ne.length;di<Yt;++di)(ve=ne[di])&&Pn(ve,r,u,di,ne,ri);T.push(ne),N.push(kt)}return new bn(T,N,r,u)},selectChild:wn.selectChild,selectChildren:wn.selectChildren,filter:function _e(e){"function"!=typeof e&&(e=B(e));for(var r=this._groups,u=r.length,g=new Array(u),m=0;m<u;++m)for(var X,T=r[m],N=T.length,V=g[m]=[],wt=0;wt<N;++wt)(X=T[wt])&&e.call(X,X.__data__,wt,T)&&V.push(X);return new bn(g,this._parents,this._name,this._id)},merge:function ii(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,u=e._groups,g=r.length,T=Math.min(g,u.length),N=new Array(g),V=0;V<T;++V)for(var ne,X=r[V],wt=u[V],kt=X.length,ie=N[V]=new Array(kt),ve=0;ve<kt;++ve)(ne=X[ve]||wt[ve])&&(ie[ve]=ne);for(;V<g;++V)N[V]=r[V];return new bn(N,this._parents,this._name,this._id)},selection:function Oa(){return new Ea(this._groups,this._parents)},transition:function Wa(){for(var e=this._name,r=this._id,u=sa(),g=this._groups,m=g.length,T=0;T<m;++T)for(var X,N=g[T],V=N.length,wt=0;wt<V;++wt)if(X=N[wt]){var kt=Mi(X,r);Pn(X,e,u,wt,N,{time:kt.time+kt.delay+kt.duration,delay:0,duration:kt.duration,ease:kt.ease})}return new bn(g,this._parents,e,u)},call:wn.call,nodes:wn.nodes,node:wn.node,size:wn.size,empty:wn.empty,each:wn.each,on:function Di(e,r){var u=this._id;return arguments.length<2?Mi(this.node(),u).on.on(e):this.each(function xi(e,r,u){var g,m,T=function Ti(e){return(e+"").trim().split(/^|\s+/).every(function(r){var u=r.indexOf(".");return u>=0&&(r=r.slice(0,u)),!r||"start"===r})}(r)?hr:Vi;return function(){var N=T(this,e),V=N.on;V!==g&&(m=(g=V).copy()).on(r,u),N.on=m}}(u,e,r))},attr:function Yr(e,r){var u=ee(e),g="transform"===u?Pr:Wn;return this.attrTween(e,"function"==typeof r?(u.local?br:_r)(u,g,pr(this,"attr."+e,r)):null==r?(u.local?mr:qn)(u):(u.local?Yn:qr)(u,g,r))},attrTween:function ht(e,r){var u="attr."+e;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==r)return this.tween(u,null);if("function"!=typeof r)throw new Error;var g=ee(e);return this.tween(u,(g.local?x:z)(g,r))},style:function Aa(e,r,u){var g="transform"==(e+="")?Ir:Wn;return null==r?this.styleTween(e,function Sa(e,r){var u,g,m;return function(){var T=K(this,e),N=(this.style.removeProperty(e),K(this,e));return T===N?null:T===u&&N===g?m:m=r(u=T,g=N)}}(e,g)).on("end.style."+e,la(e)):"function"==typeof r?this.styleTween(e,function Ca(e,r,u){var g,m,T;return function(){var N=K(this,e),V=u(this),X=V+"";return null==V&&(this.style.removeProperty(e),X=V=K(this,e)),N===X?null:N===g&&X===m?T:(m=X,T=r(g=N,V))}}(e,g,pr(this,"style."+e,r))).each(function ka(e,r){var u,g,m,V,T="style."+r,N="end."+T;return function(){var X=Vi(this,e),wt=X.on,kt=null==X.value[T]?V||(V=la(r)):void 0;(wt!==u||m!==kt)&&(g=(u=wt).copy()).on(N,m=kt),X.on=g}}(this._id,e)):this.styleTween(e,function Ta(e,r,u){var g,T,m=u+"";return function(){var N=K(this,e);return N===m?null:N===g?T:T=r(g=N,u)}}(e,g,r),u).on("end.style."+e,null)},styleTween:function Ia(e,r,u){var g="style."+(e+="");if(arguments.length<2)return(g=this.tween(g))&&g._value;if(null==r)return this.tween(g,null);if("function"!=typeof r)throw new Error;return this.tween(g,function Na(e,r,u){var g,m;function T(){var N=r.apply(this,arguments);return N!==m&&(g=(m=N)&&function Ma(e,r,u){return function(g){this.style.setProperty(e,r.call(this,g),u)}}(e,N,u)),g}return T._value=r,T}(e,r,null==u?"":u))},text:function Ra(e){return this.tween("text","function"==typeof e?function Da(e){return function(){var r=e(this);this.textContent=null==r?"":r}}(pr(this,"text",e)):function Pa(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Ba(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function ja(e){var r,u;function g(){var m=e.apply(this,arguments);return m!==u&&(r=(u=m)&&function La(e){return function(r){this.textContent=e.call(this,r)}}(m)),r}return g._value=e,g}(e))},remove:function An(){return this.on("end.remove",function Qi(e){return function(){var r=this.parentNode;for(var u in this.__transition)if(+u!==e)return;r&&r.removeChild(this)}}(this._id))},tween:function Qr(e,r){var u=this._id;if(e+="",arguments.length<2){for(var N,g=Mi(this.node(),u).tween,m=0,T=g.length;m<T;++m)if((N=g[m]).name===e)return N.value;return null}return this.each((null==r?gr:Vr)(u,e,r))},delay:function qt(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?_t:At)(r,e)):Mi(this.node(),r).delay},duration:function le(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?oe:fe)(r,e)):Mi(this.node(),r).duration},ease:function ke(e){var r=this._id;return arguments.length?this.each(function Ue(e,r){if("function"!=typeof r)throw new Error;return function(){Vi(this,e).ease=r}}(r,e)):Mi(this.node(),r).ease},easeVarying:function Fe(e){if("function"!=typeof e)throw new Error;return this.each(function Pe(e,r){return function(){var u=r.apply(this,arguments);if("function"!=typeof u)throw new Error;Vi(this,e).ease=u}}(this._id,e))},end:function Ka(){var e,r,u=this,g=u._id,m=u.size();return new Promise(function(T,N){var V={value:N},X={value:function(){0==--m&&T()}};u.each(function(){var wt=Vi(this,g),kt=wt.on;kt!==e&&((r=(e=kt).copy())._.cancel.push(V),r._.interrupt.push(V),r._.end.push(X)),wt.on=r}),0===m&&T()})},[Symbol.iterator]:wn[Symbol.iterator]};var Fa={time:null,delay:0,duration:250,ease:function Ua(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ga(e,r){for(var u;!(u=e.__transition)||!(u=u[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return u}Ze.prototype.interrupt=function Jr(e){return this.each(function(){!function $r(e,r){var g,m,N,u=e.__transition,T=!0;if(u){for(N in r=null==r?null:r+"",u)(g=u[N]).name===r?(m=g.state>2&&g.state<5,g.state=6,g.timer.stop(),g.on.call(m?"interrupt":"cancel",e,e.__data__,g.index,g.group),delete u[N]):T=!1;T&&delete e.__transition}}(this,e)})},Ze.prototype.transition=function $a(e){var r,u;e instanceof bn?(r=e._id,e=e._name):(r=sa(),(u=Fa).time=Sn(),e=null==e?null:e+"");for(var g=this._groups,m=g.length,T=0;T<m;++T)for(var X,N=g[T],V=N.length,wt=0;wt<V;++wt)(X=N[wt])&&Pn(X,e,r,wt,N,u||Ga(X,r));return new bn(g,this._parents,e,r)};Math;function xr(e){return{type:e}}function ir(e){return function(){return e}}function va(e){this._context=e}function eo(e){return new va(e)}["w","e"].map(xr),["n","s"].map(xr),["n","w","e","s","nw","ne","sw","se"].map(xr),va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r)}}};const ra=Math.PI,aa=2*ra,Kn=1e-6,io=aa-Kn;function ga(e){this._+=e[0];for(let r=1,u=e.length;r<u;++r)this._+=arguments[r]+e[r]}class zr{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==r?ga:function no(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return ga;const u=10**r;return function(g){this._+=g[0];for(let m=1,T=g.length;m<T;++m)this._+=Math.round(arguments[m]*u)/u+g[m]}}(r)}moveTo(r,u){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+u}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,u){this._append`L${this._x1=+r},${this._y1=+u}`}quadraticCurveTo(r,u,g,m){this._append`Q${+r},${+u},${this._x1=+g},${this._y1=+m}`}bezierCurveTo(r,u,g,m,T,N){this._append`C${+r},${+u},${+g},${+m},${this._x1=+T},${this._y1=+N}`}arcTo(r,u,g,m,T){if(r=+r,u=+u,g=+g,m=+m,(T=+T)<0)throw new Error(`negative radius: ${T}`);let N=this._x1,V=this._y1,X=g-r,wt=m-u,kt=N-r,ie=V-u,ne=kt*kt+ie*ie;if(null===this._x1)this._append`M${this._x1=r},${this._y1=u}`;else if(ne>Kn)if(Math.abs(ie*X-wt*kt)>Kn&&T){let ve=g-N,ri=m-V,di=X*X+wt*wt,Yt=ve*ve+ri*ri,Vt=Math.sqrt(di),Ee=Math.sqrt(ne),ge=T*Math.tan((ra-Math.acos((di+ne-Yt)/(2*Vt*Ee)))/2),Ke=ge/Ee,Qe=ge/Vt;Math.abs(Ke-1)>Kn&&this._append`L${r+Ke*kt},${u+Ke*ie}`,this._append`A${T},${T},0,0,${+(ie*ve>kt*ri)},${this._x1=r+Qe*X},${this._y1=u+Qe*wt}`}else this._append`L${this._x1=r},${this._y1=u}`}arc(r,u,g,m,T,N){if(r=+r,u=+u,N=!!N,(g=+g)<0)throw new Error(`negative radius: ${g}`);let V=g*Math.cos(m),X=g*Math.sin(m),wt=r+V,kt=u+X,ie=1^N,ne=N?m-T:T-m;null===this._x1?this._append`M${wt},${kt}`:(Math.abs(this._x1-wt)>Kn||Math.abs(this._y1-kt)>Kn)&&this._append`L${wt},${kt}`,g&&(ne<0&&(ne=ne%aa+aa),ne>io?this._append`A${g},${g},0,1,${ie},${r-V},${u-X}A${g},${g},0,1,${ie},${this._x1=wt},${this._y1=kt}`:ne>Kn&&this._append`A${g},${g},0,${+(ne>=ra)},${ie},${this._x1=r+g*Math.cos(T)},${this._y1=u+g*Math.sin(T)}`)}rect(r,u,g,m){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+u}h${g=+g}v${+m}h${-g}Z`}toString(){return this._}}function oo(e){return e[0]}function lo(e){return e[1]}function so(e,r){var u=ir(!0),g=null,m=eo,T=null,N=function ao(e){let r=3;return e.digits=function(u){if(!arguments.length)return r;if(null==u)r=null;else{const g=Math.floor(u);if(!(g>=0))throw new RangeError(`invalid digits: ${u}`);r=g}return e},()=>new zr(r)}(V);function V(X){var wt,ie,ve,kt=(X=function to(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(X)).length,ne=!1;for(null==g&&(T=m(ve=N())),wt=0;wt<=kt;++wt)!(wt<kt&&u(ie=X[wt],wt,X))===ne&&((ne=!ne)?T.lineStart():T.lineEnd()),ne&&T.point(+e(ie,wt,X),+r(ie,wt,X));if(ve)return T=null,ve+""||null}return e="function"==typeof e?e:void 0===e?oo:ir(e),r="function"==typeof r?r:void 0===r?lo:ir(r),V.x=function(X){return arguments.length?(e="function"==typeof X?X:ir(+X),V):e},V.y=function(X){return arguments.length?(r="function"==typeof X?X:ir(+X),V):r},V.defined=function(X){return arguments.length?(u="function"==typeof X?X:ir(!!X),V):u},V.curve=function(X){return arguments.length?(m=X,null!=g&&(T=m(g)),V):m},V.context=function(X){return arguments.length?(null==X?g=T=null:T=m(g=X),V):g},V}function pa(e,r,u){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+u)/6)}function ya(e){this._context=e}function uo(e){return new ya(e)}function nr(e,r,u){this.k=e,this.x=r,this.y=u}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pa(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},nr.prototype={constructor:nr,scale:function(e){return 1===e?this:new nr(this.k*e,this.x,this.y)},translate:function(e,r){return 0===e&0===r?this:new nr(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new nr(1,0,0)}}]);