(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5453],{1814:(Le,qt,x)=>{"use strict";x.d(qt,{In:()=>st,MA:()=>L,Mo:()=>et,NV:()=>D,S3:()=>j,dt:()=>Z,h8:()=>y,k0:()=>B});const j={fill:"transparent",stroke:"#129bff",strokeWidth:1},D={stroke:"#5F6CE1",strokeWidth:1,strokeLinecap:"round",strokeDasharrays:[4,2,1,2]},st={fill:"#FFFFFF",stroke:"#5F6CE1",strokeWidth:1,width:7,height:7},et={fill:"transparent",stroke:"transparent",strokeWidth:1},Z={fill:"none",stroke:"#5F6CE1",strokeWidth:1},y={stroke:"#129bff",strokeWidth:1,strokeLinecap:"round",strokeDasharray:8},L={fill:"transparent"},B={fill:"none",stroke:"#999",strokeWidth:1,strokeDasharray:2}},4447:(Le,qt,x)=>{"use strict";x.d(qt,{I:()=>y});var j=x(4981);x(9054);const y=N=>L(null==N?void 0:N.url,null==N?void 0:N.path,null==N?void 0:N.src);var L=(N,P,q)=>{var K,dt;let mt,R,V,F;var E,Nt;return N&&(mt=N.replace(/\\/g,"/")),P&&(R=P.replace(/\\/g,"/")),q&&(V=q.replace(/\\/g,"/")),R&&!mt&&(mt=(null===(E=j.icdt.config)||void 0===E?void 0:E.readfileuploadurl)+R),!V||R||mt||(R=V.replace(/^[a-zA-Z0-9\-\_\/\\\:\.]+(upload|FileUpload|files|readfileupload|filereader|readfile)\//g,""),mt=(null===(Nt=j.icdt.config)||void 0===Nt?void 0:Nt.readfileuploadurl)+R),F=(null!==(K=mt)&&void 0!==K?K:"").split("/").pop()||(null!==(dt=R)&&void 0!==dt?dt:"").split("/").pop()||"",{url:mt,path:R,name:F}}},644:(Le,qt,x)=>{"use strict";x.d(qt,{Dx:()=>y,aY:()=>N,qp:()=>B,qz:()=>Z,sV:()=>L,yR:()=>P});var j=x(5861),D=x(9422),st=x.n(D);st().config({driver:[st().INDEXEDDB,st().LOCALSTORAGE,st().WEBSQL],name:"_localDataDB",version:1});const et={create:(q=(0,j.Z)(function*(){return st()}),function(){return q.apply(this,arguments)}),get:function(){var q=(0,j.Z)(function*(K){return st().getItem(K)});return function(dt){return q.apply(this,arguments)}}(),set:function(){var q=(0,j.Z)(function*(K,dt){return st().setItem(K,dt)});return function(dt,mt){return q.apply(this,arguments)}}()},Z=function(){var q=(0,j.Z)(function*(K){yield et.create();var dt=(yield et.get("icdt-data"))||[];"function"==typeof K.callback&&K.callback(dt)});return function(dt){return q.apply(this,arguments)}}(),y=function(){var q=(0,j.Z)(function*(K){yield et.create(),K.params=K.params||{};try{yield et.set("icdt-data",K.params),"function"==typeof K.callback&&K.callback(K.params)}catch(dt){"function"==typeof K.callback&&K.callback(null),console.error(dt)}});return function(dt){return q.apply(this,arguments)}}(),L=function(){var q=(0,j.Z)(function*(K){yield et.create();try{var dt=(yield et.get("icdt-config"))||{};"function"==typeof K.callback&&K.callback(dt)}catch(mt){"function"==typeof K.callback&&K.callback(null),console.error(mt)}});return function(dt){return q.apply(this,arguments)}}(),B=function(){var q=(0,j.Z)(function*(K){yield et.create(),K.params=K.params||{};try{yield et.set("icdt-config",K.params),"function"==typeof K.callback&&K.callback(K.params)}catch(dt){"function"==typeof K.callback&&K.callback(null),console.error(dt)}});return function(dt){return q.apply(this,arguments)}}(),N=function(){var q=(0,j.Z)(function*(K){yield et.create();try{var dt=(yield et.get("icdt-clipboard"))||{};"function"==typeof K.callback&&K.callback(dt)}catch(mt){"function"==typeof K.callback&&K.callback(null),console.error(mt)}});return function(dt){return q.apply(this,arguments)}}(),P=function(){var q=(0,j.Z)(function*(K){yield et.create(),K.params=K.params||{};try{yield et.set("icdt-clipboard",K.params),"function"==typeof K.callback&&K.callback(K.params)}catch(dt){"function"==typeof K.callback&&K.callback(null),console.error(dt)}});return function(dt){return q.apply(this,arguments)}}();var q},1687:(Le,qt,x)=>{"use strict";x.d(qt,{O:()=>j});const j={RESIZE_GROUP:"icdt-resize-g",SELECT_GROUP:"icdt-select-g",SCAN_GROUP:"icdt-scan-g",CREATE_GROUP:"icdt-create-g",INTERACTIVE_GROUP:"icdt-interactive-g",INDEX_GROUP:"icdt-index-g",BACKGROUND_GROUP:"icdt-background-g",TEST_GROUP:"icdt-test-g"}},9125:(Le,qt,x)=>{"use strict";x.d(qt,{D:()=>j});const j={DRAW:1,HIGHTLIGH:2,INTERACTIVE:3}},968:(Le,qt,x)=>{"use strict";x.d(qt,{_:()=>j});const j={POINTER:0,HAND:1,PEN:2,SHAPE:3,FOREIGNOBJECT:6,IMAGE:7,TEXT:4,ERASER:5,INDEX:8}},4714:(Le,qt,x)=>{"use strict";x.d(qt,{D:()=>j});const j={TRIANGLE_ISOSCELES:3,TRIANGLE_EQUILATERAL:31,RECTANGLE:4,PENTAGON:5,HEXAGON:6,BOOKMARK:101,COMMENT:102,CROSS:104,ARROW_ONEWAY:201,ARROW_TWOWAY:202,STAR_FOUR:304,STAR_FIVE:305,STAR_SIX:306}},9054:(Le,qt,x)=>{"use strict";x.d(qt,{$:()=>j});const j={GROUP:0,CIRCLE:1,ELLIPSE:2,LINE:5,RECT:3,POLYGON:4,FOREIGNOBJECT:6,IMAGE:9,TEXT:7,PATH:8}},4981:(Le,qt,x)=>{"use strict";x.d(qt,{icdt:()=>zt});var j=x(2276),D=x(968),st=x(4080),et=x(1687),Z=x(9054),y=x(4318),L=x(6816),B=x(666),N=x(2966);const K=W=>{var l,s,u,f,p;let S=(null===(l=W.mouseEvent)||void 0===l?void 0:l.target)||(null===(s=W.touchEvent)||void 0===s?void 0:s.target),k=(null==S?void 0:S.getAttribute("id"))||"",M=null==S?void 0:S.nodeName,it=(null==S||null===(u=S.parentNode)||void 0===u?void 0:u.getAttribute("id"))||"";var C,tt;if([et.O.RESIZE_GROUP,et.O.SELECT_GROUP].includes(it))return null===(C=W.mouseEvent)||void 0===C||C.stopPropagation(),void(null===(tt=W.mouseEvent)||void 0===tt||tt.preventDefault());if(null!==(f=W.mouseEvent)&&void 0!==f&&f.altKey||null!==(p=W.touchEvent)&&void 0!==p&&p.altKey||!k||k.match(/[^0-9]/)||!zt.dataSelect.nodeName.includes(M)){var J;zt.dataSelect.ids.length&&(zt.dataSelect.ids=[]),(0==(null===(J=W.mouseEvent)||void 0===J?void 0:J.button)||W.touchEvent)&&(W=>{let p=(0,st.g1)(et.O.SCAN_GROUP,"g"),S=(0,y.bH)(0,0,1,1);(0,st.vl)(p,S),((W,l,s)=>{(0,L.A)(W,{start:p=>{},move:(p,S)=>{((p,S,k,M)=>{l=(0,y.bH)(p,S,k,M),(0,st.vl)(s,l)})(S[0][0],S[0][1],p.x,p.y)},end:(p,S)=>{null==s||s.remove(),zt.dataSelect.ids=zt.data.getNodeInArea(Math.min(S[0][0],p.x),Math.min(S[0][1],p.y),Math.max(S[0][0],p.x),Math.max(S[0][1],p.y));let k=zt.dataSelect.nodes;1==k.length?(0,B.y)(k[0]):k.length>1&&(0,N.Q)(k)}})})(W,S,p)})(W)}else{var lt,pt;let gt=parseFloat(k||"0");zt.dataSelect.ids=null!==(lt=W.mouseEvent)&&void 0!==lt&&lt.shiftKey||null!==(pt=W.touchEvent)&&void 0!==pt&&pt.shiftKey?[gt].concat(zt.dataSelect.ids).filter((me,Xe,He)=>He.indexOf(me)==Xe):[gt];let ne=zt.dataSelect.nodes;ne.length>1||1==ne.length&&ne[0].type==Z.$.PATH?(0,N.Q)(ne):1==ne.length&&(0,B.y)(ne[0])}};class mt{constructor(){let{x:l,y:s}=zt.screen.dislocation;var u=(f,p,S,k)=>{zt.screen.move({x:l,y:s},{x:S-f,y:k-p})};return{start:f=>{},move:(f,p)=>{u(p[0][0],p[0][1],f.x,f.y)},end:(f,p)=>{u(p[0][0],p[0][1],f.x,f.y)}}}}var R=x(4714);const V=[{name:"tam gi\xe1c vu\xf4ng",type:R.D.TRIANGLE_ISOSCELES,ratios:[[0,0],[1,1],[0,1]]},{name:"tam gi\xe1c c\xe2n",type:R.D.TRIANGLE_EQUILATERAL,ratios:[[.5,0],[0,1],[1,1]]},{name:"h\xecnh ch\u1eef nh\u1eadt",type:R.D.RECTANGLE,ratios:[[0,0],[1,0],[1,1],[0,1]]},{name:"h\xecnh ng\u0169 gi\xe1c \u0111\u1ec1u",type:R.D.PENTAGON,ratios:[[.5,0],[1,.4],[.8,1],[.2,1],[0,.4]]},{name:"h\xecnh l\u1ee5c gi\xe1c \u0111\u1ec1u",type:R.D.HEXAGON,ratios:[[.5,0],[1,.25],[1,.75],[.5,1],[0,.75],[0,.25]]},{name:"khung \u0111\xe1nh d\u1ea5u v\u1ecb tr\xed",type:R.D.BOOKMARK,ratios:[[0,0],[1,0],[1,.8],[.5,1],[0,.8]]},{name:"khung \u0111\xe1nh tr\xf2 chuy\u1ec7n",type:R.D.COMMENT,ratios:[[0,0],[1,0],[1,.9],[.3,.9],[.2,1],[.1,.9],[0,.9]]},{name:"h\xecnh ch\u1eef th\u1eadp",type:R.D.CROSS,ratios:[[0,.3],[.3,.3],[.3,0],[.7,0],[.7,.3],[1,.3],[1,.7],[.7,.7],[.7,1],[.3,1],[.3,.7],[0,.7]]},{name:"h\xecnh m\u0169i t\xean 1 chi\u1ec1u",type:R.D.ARROW_ONEWAY,ratios:[[0,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[0,.8]]},{name:"h\xecnh m\u0169i t\xean 2 chi\u1ec1u",type:R.D.ARROW_TWOWAY,ratios:[[.2,0],[.2,.2],[.8,.2],[.8,0],[1,.5],[.8,1],[.8,.8],[.2,.8],[.2,1],[0,.5]]},{name:"h\xecnh ng\xf4i sao 4 c\xe1nh",type:R.D.STAR_FOUR,ratios:[[.5,0],[.65,.35],[1,.5],[.65,.65],[.5,1],[.35,.65],[0,.5],[.35,.35]]},{name:"h\xecnh ng\xf4i sao 5 c\xe1nh",type:R.D.STAR_FIVE,ratios:[[.5,0],[.625,.4],[1,.4],[.675,.625],[.8,1],[.5,.775],[.2,1],[.325,.625],[0,.4],[.375,.4]]},{name:"h\xecnh ng\xf4i sao 6 c\xe1nh",type:R.D.STAR_SIX,ratios:[[.5,0],[.667,.25],[1,.25],[.5+.334,.5],[1,.75],[.667,.75],[.5,1],[.334,.75],[0,.75],[.167,.5],[0,.25],[.334,.25]]}];var F=x(8619),E=x(5811);class Nt{constructor(){let l=(0,st.g1)(et.O.CREATE_GROUP,"g"),{nodeId:s,element:u,attribute:f,size:p}=(0,F._)(Math.ceil(1e9*Math.random())),S=(k,M,it,C)=>{p=(0,y.bH)(k,M,it,C,{ratio:1}),p.x=(0,E.q)(p.x),p.y=(0,E.q)(p.y),p.width=(0,E.q)(p.width),p.height=(0,E.q)(p.height),Object.assign(f,(0,y.sg)(Z.$.CIRCLE,p)),(0,st.__)(u,f),(0,st.g$)(l,p)};return{start:k=>{u.setAttribute("cx",k.x.toString()),u.setAttribute("cy",k.y.toString()),u.setAttribute("r","1")},move:(k,M)=>{S(M[0][0],M[0][1],k.x,k.y)},end:(k,M)=>{S(M[0][0],M[0][1],k.x,k.y),zt.data.node=Object.assign({id:s,type:Z.$.CIRCLE,name:"Circle"},{size:p,attribute:f}),null==l||l.remove()}}}}var jt=x(8785);class Lt{constructor(){let l=(0,st.g1)(et.O.CREATE_GROUP,"g"),{nodeId:s,element:u,attribute:f,size:p}=(0,jt.r)(Math.ceil(1e9*Math.random()));var S=(k,M,it,C)=>{p=(0,y.bH)(k,M,it,C),p.x=(0,E.q)(p.x),p.y=(0,E.q)(p.y),p.width=(0,E.q)(p.width),p.height=(0,E.q)(p.height),Object.assign(f,(0,y.sg)(Z.$.ELLIPSE,p)),(0,st.__)(u,f),(0,st.g$)(l,p)};return{start:k=>{u.setAttribute("cx",k.x.toString()),u.setAttribute("cy",k.y.toString()),u.setAttribute("rx","1"),u.setAttribute("ry","1")},move:(k,M)=>{S(M[0][0],M[0][1],k.x,k.y)},end:(k,M)=>{S(M[0][0],M[0][1],k.x,k.y),zt.data.node=Object.assign({id:s,type:Z.$.ELLIPSE,name:"Ellipse"},{size:p,attribute:f}),null==l||l.remove()}}}}var Pt=x(8054);class Ot{constructor(){let l=(0,st.g1)(et.O.CREATE_GROUP,"g"),{nodeId:s,element:u,attribute:f,size:p}=(0,Pt.f)(Math.ceil(1e9*Math.random()));var S=(k,M,it,C)=>{p=(0,y.bH)(k,M,it,C),p.x=(0,E.q)(p.x),p.y=(0,E.q)(p.y),p.width=(0,E.q)(p.width),p.height=(0,E.q)(p.height),Object.assign(f,(0,y.sg)(Z.$.RECT,p)),(0,st.__)(u,f),(0,st.g$)(l,p)};return{start:k=>{S(k.x,k.y,k.x+p.width,k.y+p.height)},move:(k,M)=>{S(M[0][0],M[0][1],k.x,k.y)},end:(k,M)=>{p.width>=10&&p.height>=10?zt.data.node=Object.assign({id:s,type:Z.$.RECT,name:"Rect"},{size:p,attribute:f}):null==u||u.remove(),null==l||l.remove()}}}}var a=x(2282);class St{constructor(l){let s=(0,st.g1)(et.O.CREATE_GROUP,"g"),u=l||[[0,0],[1,1],[0,1]],{nodeId:f,element:p,attribute:S,size:k}=(0,a.l)(Math.ceil(1e9*Math.random()));k.ratios=u;var M=(it,C,tt,J)=>{k=(0,y.bH)(it,C,tt,J,{ratios:u}),k.x=(0,E.q)(k.x),k.y=(0,E.q)(k.y),k.width=(0,E.q)(k.width),k.height=(0,E.q)(k.height),Object.assign(S,(0,y.sg)(Z.$.POLYGON,k)),(0,st.__)(p,S),(0,st.g$)(s,k)};return{start:it=>{},move:(it,C)=>{M(C[0][0],C[0][1],it.x,it.y)},end:(it,C)=>{M(C[0][0],C[0][1],it.x,it.y),zt.data.node=Object.assign({id:f,type:Z.$.POLYGON,name:"Polygon"},{size:k,attribute:S}),null==s||s.remove()}}}}var kt=x(4921);class Ft{constructor(){let l=(0,st.g1)(et.O.CREATE_GROUP,"g"),{nodeId:s,element:u,attribute:f,size:p}=(0,kt.W)(Math.ceil(1e9*Math.random()));var S=(k,M,it,C)=>{p=(0,y.bH)(k,M,it,C),p.x=(0,E.q)(p.x),p.y=(0,E.q)(p.y),p.width=(0,E.q)(p.width),p.height=(0,E.q)(p.height),Object.assign(f,(0,y.sg)(Z.$.LINE,p)),(0,st.__)(u,f),(0,st.g$)(l,p)};return{start:k=>{},move:(k,M)=>{S(M[0][0],M[0][1],k.x,k.y)},end:(k,M)=>{S(M[0][0],M[0][1],k.x,k.y),zt.data.node=Object.assign({id:s,type:Z.$.LINE,name:"Line"},{size:p,attribute:f}),null==l||l.remove()}}}}var Tt=x(8419);class At{constructor(){let{nodeId:l,element:s,attribute:u,size:f}=(0,Tt.G)(Math.ceil(1e9*Math.random())),S="";var k=(M,it)=>{S+=` ${M} ${it}`,s.setAttribute("d",S)};return{start:M=>{S=`M ${M.x} ${M.y} L ${M.x} ${M.y}`},move:(M,it)=>{k(M.x,M.y)},end:(M,it)=>{k(M.x,M.y),(M=>{let it=9999,C=9999,tt=-9999,J=-9999;M.forEach(lt=>{it=Math.min(it,lt[0]),C=Math.min(C,lt[1]),tt=Math.max(tt,lt[0]),J=Math.max(J,lt[1])}),f=(0,y.bH)(it,C,tt,J,{points:M}),Object.assign(u,(0,y.sg)(Z.$.PATH,f)),(0,st.__)(s,u)})(it),zt.data.node=Object.assign({id:l,type:Z.$.PATH,name:"Path"},{size:f,attribute:u})}}}}var rt=x(2875);class Kt{constructor(){let l=(0,st.g1)(et.O.CREATE_GROUP,"g"),{nodeId:s,element:u,size:f,attribute:p,style:S,source:k}=(0,rt.e)(Math.ceil(1e9*Math.random()));var M=(it,C,tt,J)=>{f=(0,y.bH)(it,C,tt,J),f.x=(0,E.q)(f.x),f.y=(0,E.q)(f.y),f.width=(0,E.q)(f.width),f.height=(0,E.q)(f.height),Object.assign(p,(0,y.sg)(Z.$.FOREIGNOBJECT,f)),(0,st.__)(u,p),(0,st.g$)(l,f)};return{start:it=>{M(it.x,it.y,it.x+f.width,it.y+f.height)},move:(it,C)=>{M(C[0][0],C[0][1],it.x,it.y)},end:(it,C)=>{f.width>=10&&f.height>=10?zt.data.node=Object.assign({id:s,type:Z.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:S,source:k}):null==u||u.remove(),null==l||l.remove()}}}}var Vt=x(7210);class Qt{constructor(){var l,s;let u=(0,st.g1)(et.O.CREATE_GROUP,"g"),{nodeId:f,element:p,size:S,attribute:k,source:M}=(0,Vt.G)(Math.ceil(1e9*Math.random())),it=1;(tt=>{if(!tt)return;let J=new Image;J.onload=()=>{it=(0,E.q)(J.naturalWidth/J.naturalHeight,100)},J.onerror=lt=>{console.error(`ImgSrc load failed -> ${tt}`,lt)},J.src=tt})(null!==(l=null===(s=M.image)||void 0===s?void 0:s.url)&&void 0!==l?l:"");var C=(tt,J,lt,pt)=>{S=(0,y.bH)(tt,J,lt,pt,{ratio:it}),S.x=(0,E.q)(S.x),S.y=(0,E.q)(S.y),S.width=(0,E.q)(S.width),S.height=(0,E.q)(S.height),Object.assign(k,(0,y.sg)(Z.$.IMAGE,S)),(0,st.__)(p,k),(0,st.g$)(u,S)};return{start:tt=>{C(tt.x,tt.y,tt.x+S.width,tt.y+S.height)},move:(tt,J)=>{C(J[0][0],J[0][1],tt.x,tt.y)},end:(tt,J)=>{S.width>=10&&S.height>=10?zt.data.node=Object.assign({id:f,type:Z.$.IMAGE,name:"Image"},{size:S,attribute:k,source:M}):null==p||p.remove(),null==u||u.remove()}}}}var Ce=x(4578),ge=x(9623);function _(W,l,s,u){return Math.sqrt(Math.pow(s-W,2)+Math.pow(u-l,2))}function z(W,l,s,u,f){return _(W,l,s,u)<f?1:0}function Bt(W,l,s,u,f,p,S){var k=[];return k.push(z(W,l,s,u,S)),k.push(z(W,l,f,p,S)),k.push(function ct(W,l,s,u,f,p,S){var k=[f-s,p-u],M=[W-s,l-u],it=[-k[1],k[0]],C=Math.sqrt(Math.pow(it[0],2)+Math.pow(it[1],2)),tt=[it[0]/C,it[1]/C],J=Math.sqrt(Math.pow(k[0],2)+Math.pow(k[1],2)),lt=[k[0]/J,k[1]/J],pt=M[0]*lt[0]+M[1]*lt[1];if(pt<=0||pt>=J)return 0;var gt=M[0]*tt[0]+M[1]*tt[1];return gt>=S||gt<=-S?0:1}(W,l,s,u,f,p,S)),k}function ae(W,l,s,u,f){var p=[s-W,u-l],S=[-p[1],p[0]],k=Math.sqrt(Math.pow(S[0],2)+Math.pow(S[1],2)),M=[S[0]/k,S[1]/k];return[[W+f*M[0],l+f*M[1]],[W-f*M[0],l-f*M[1]],[s-f*M[0],u-f*M[1]],[s+f*M[0],u+f*M[1]]]}function pe(W,l,s,u,f,p,S){var pt,k=[f-W,p-l],M=[s-W,u-l],it=Math.sqrt(Math.pow(M[0],2)+Math.pow(M[1],2)),C=[M[0]/it,M[1]/it],tt=k[0]*C[0]+k[1]*C[1],J=[W+tt*C[0],l+tt*C[1]],lt=Math.sqrt(Math.pow(f-J[0],2)+Math.pow(p-J[1],2));pt=0===lt?S:Math.sqrt(Math.pow(S,2)-Math.pow(lt,2));var gt=[W+tt*C[0]+pt*C[0],l+tt*C[1]+pt*C[1]];return gt[0]===W&&gt[1]===l?null:gt}function oe(W,l,s,u,f,p,S){var k=[f-W,p-l],M=[s-W,u-l],it=[-M[1],M[0]],C=Math.sqrt(Math.pow(it[0],2)+Math.pow(it[1],2)),tt=[it[0]/C,it[1]/C],J=k[0]*tt[0]+k[1]*tt[1],lt=Ve([W,l],[s,u],[f,p]);if(De([lt[0]-f,lt[1]-p])>=S)return null;var gt=Math.sqrt(Math.pow(S,2)-Math.pow(J,2)),ne=[f-J*tt[0],p-J*tt[1]],me=Math.sqrt(Math.pow(M[0],2)+Math.pow(M[1],2)),Xe=[M[0]/me,M[1]/me],He=[[ne[0]-Xe[0]*gt,ne[1]-Xe[1]*gt],[ne[0]+Xe[0]*gt,ne[1]+Xe[1]*gt]];return He[0][0]===W&&He[0][1]===l?null:He}function se(W,l,s,u,f,p,S,k){var M,it,C,tt,J,lt;return-(C=S-f)*(it=u-l)+(M=s-W)*(tt=k-p)==0?null:(lt=(C*(l-p)-tt*(W-f))/(-C*it+M*tt),(J=(-it*(W-f)+M*(l-p))/(-C*it+M*tt))>=0&&J<=1&&lt>=0&&lt<=1?[W+lt*M,l+lt*it]:null)}function Ae(W,l,s,u,f,p,S,k,M,it){var C=ae(p,S,k,M,it),tt=[];if(s[0]&&!s[1])tt.push(pe(W,l,u,f,p,S,it)),tt.push(se(W,l,u,f,C[0][0],C[0][1],C[3][0],C[3][1])),tt.push(se(W,l,u,f,C[1][0],C[1][1],C[2][0],C[2][1])),(J=oe(W,l,u,f,k,M,it))&&tt.push(J[0],J[1]);else if(!s[0]&&s[1])tt.push(pe(W,l,u,f,k,M,it)),tt.push(se(W,l,u,f,C[0][0],C[0][1],C[3][0],C[3][1])),tt.push(se(W,l,u,f,C[1][0],C[1][1],C[2][0],C[2][1])),(J=oe(W,l,u,f,p,S,it))&&tt.push(J[0],J[1]);else if(s[0]&&s[1])tt.push(pe(W,l,u,f,p,S,it)),tt.push(se(W,l,u,f,C[0][0],C[0][1],C[3][0],C[3][1])),tt.push(se(W,l,u,f,C[1][0],C[1][1],C[2][0],C[2][1])),tt.push(pe(W,l,u,f,k,M,it));else{var J=oe(W,l,u,f,k,M,it),lt=oe(W,l,u,f,p,S,it);J&&tt.push(J[0],J[1]),lt&&tt.push(lt[0],lt[1]),tt.push(se(W,l,u,f,C[0][0],C[0][1],C[3][0],C[3][1])),tt.push(se(W,l,u,f,C[1][0],C[1][1],C[2][0],C[2][1]))}for(var pt=[W,l],gt=0;gt<tt.length;gt++)tt[gt]&&_(tt[gt][0],tt[gt][1],u,f)<_(pt[0],pt[1],u,f)&&(pt=tt[gt]);return pt[0]===W&&pt[1]===l?null:pt}function Ke(W,l,s,u,f,p,S,k,M){var it=ae(f,p,S,k,M),C=[],tt=oe(W,l,s,u,f,p,M);tt&&C.push(tt[0],tt[1]),(tt=oe(W,l,s,u,S,k,M))&&C.push(tt[0],tt[1]),C.push(se(W,l,s,u,it[0][0],it[0][1],it[3][0],it[3][1])),C.push(se(W,l,s,u,it[1][0],it[1][1],it[2][0],it[2][1]));for(var J=[s,u],lt=[W,l],pt=0;pt<C.length;pt++)C[pt]&&_(C[pt][0],C[pt][1],W,l)<_(J[0],J[1],W,l)&&(J=C[pt]);for(var gt=0;gt<C.length;gt++)C[gt]&&_(C[gt][0],C[gt][1],s,u)<_(lt[0],lt[1],s,u)&&(lt=C[gt]);return J[0]===s&&J[1]===u||lt[0]===W&&lt[1]===l?null:[J,lt]}var De=function(W){return Math.sqrt(W[0]*W[0]+W[1]*W[1])},Ve=function(W,l,s){var u=[l[0]-W[0],l[1]-W[1]],f=De(u);if(f<1e-6)return W;var p=[s[0]-W[0],s[1]-W[1]],S=(u[0]*p[0]+u[1]*p[1])/f;return S<0?W:S>f?l:[W[0]+u[0]*S/f,W[1]+u[1]*S/f]};class _t{constructor(){let{element:u,size:p}=(0,Tt.G)(Math.ceil(1e9*Math.random()));(0,st.__)(u,{stroke:"#ddd",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"});let S="";return{start:it=>{S=`M ${it.x} ${it.y} L ${it.x} ${it.y}`},move:(it,C)=>{((it,C)=>{S+=` ${it} ${C}`,u.setAttribute("d",S)})(it.x,it.y)},end:(it,C)=>{u.remove(),(it=>{let C=9999,tt=9999,J=-9999,lt=-9999;it.forEach(gt=>{C=Math.min(C,gt[0]),tt=Math.min(tt,gt[1]),J=Math.max(J,gt[0]),lt=Math.max(lt,gt[1])}),p=(0,y.bH)(C,tt,J,lt,{points:it}),zt.data.getNodeInArea(0,0,1920,1920,Z.$.PATH).forEach(gt=>{let me=((W,l,s)=>{s=s||20;var u=[],f=function(C){var tt=l[0][0],J=l[0][1],lt=0,pt=0;if(1!==C.length||z(C[0][0],C[0][1],tt,J,s)){for(var gt;lt<C.length-1;){var ne=C[lt],me=C[lt+1],Xe=z(ne[0],ne[1],tt,J,s),He=z(me[0],me[1],tt,J,s);if(Xe&&He)pt=++lt;else if(Xe&&!He)(qe=pe(ne[0],ne[1],me[0],me[1],tt,J,s))?(C[lt]=qe,pt=lt):lt++;else if(!Xe&&He){var qe;(qe=pe(me[0],me[1],ne[0],ne[1],tt,J,s))&&((gt=C.slice(pt,lt+1)).push(qe),u.push(gt)),pt=++lt}else{var Ye=oe(ne[0],ne[1],me[0],me[1],tt,J,s);Ye?(((gt=C.slice(pt,lt+1))[gt.length-1][0]!==Ye[0][0]||gt[gt.length-1][1]!==Ye[0][1])&&gt.push(Ye[0]),gt.length>1&&u.push(gt),C[lt]=Ye[1],C[lt+1]&&C[lt+1][0]==Ye[1][0]&&C[lt+1][1]==Ye[1][1]&&lt++,pt=lt):lt++}}pt!==lt&&(gt=C.slice(pt,C.length))&&u.push(gt)}else u.push(C)},p=function(C,tt){var me,J=l[tt],lt=l[tt+1],pt=0,gt=0;if(1!==C.length||-1!==(ne=Bt(C[0][0],C[0][1],J[0],J[1],lt[0],lt[1],s)).indexOf(1)){for(;pt<C.length-1;){var Xe=C[pt],He=C[pt+1],ne=Bt(Xe[0],Xe[1],J[0],J[1],lt[0],lt[1],s),qe=Bt(He[0],He[1],J[0],J[1],lt[0],lt[1],s);if(-1!==ne.indexOf(1)&&-1!==qe.indexOf(1))gt=++pt;else if(-1!==ne.indexOf(1)&&-1===qe.indexOf(1))(Ye=Ae(Xe[0],Xe[1],ne,He[0],He[1],J[0],J[1],lt[0],lt[1],s))?(C[pt]=Ye,gt=pt):pt++;else if(-1===ne.indexOf(1)&&-1!==qe.indexOf(1)){var Ye;(Ye=Ae(He[0],He[1],qe,Xe[0],Xe[1],J[0],J[1],lt[0],lt[1],s))?((me=C.slice(gt,pt+1)).push(Ye),u.push(me),gt=++pt):pt++}else{var ai=Ke(Xe[0],Xe[1],He[0],He[1],J[0],J[1],lt[0],lt[1],s);ai?(((me=C.slice(gt,pt+1))[me.length-1][0]!==ai[0][0]||me[me.length-1][1]!==ai[0][1])&&me.push(ai[0]),me.length>1&&u.push(me),C[pt]=ai[1],C[pt+1]&&C[pt+1][0]==ai[1][0]&&C[pt+1][1]==ai[1][1]&&pt++,gt=pt):pt++}}gt!==pt&&(me=C.slice(gt,C.length))&&u.push(me)}else u.push(C)};if(l=function ot(W){var l=[];if(1===W.length)l=W;else{for(var s=0;s<W.length-1;)(W[s][0]!==W[s+1][0]||W[s][1]!==W[s+1][1])&&l.push(W[s]),s++;0!==W.length&&0===l.length&&l.push(W[0]),(W[W.length-1][0]!==W[l.length-1][0]||W[W.length-1][1]!==W[l.length-1][1])&&l.push(W[s])}return l}(l),1===l.length){for(var S=0;S<W.length;S++)f(W[S]);W=u}else for(var k=0;k<l.length-1;k++){for(S=0;S<W.length;S++)p(W[S],k);W=u,u=[]}for(var M=0;M<W.length;M++)for(var it=0;it<W[M].length;it++)W[M][it][0]=Math.round(W[M][it][0]),W[M][it][1]=Math.round(W[M][it][1]);return W})(zt.data.getNode(gt).size.points,it,2);console.log(me)})})(C)}}}}var vt=x(1105);class Mt{constructor(){let l=(0,st.g1)(et.O.CREATE_GROUP,"g"),{nodeId:s,element:u,attribute:f,size:p,source:S}=(0,vt.$)(Math.ceil(1e9*Math.random())),k=(M,it,C,tt)=>{p=(0,y.bH)(M,it,C,tt),p.x=(0,E.q)(p.x),p.y=(0,E.q)(p.y),p.width=(0,E.q)(p.width),p.height=(0,E.q)(p.height),Object.assign(f,(0,y.sg)(Z.$.TEXT,p)),(0,st.__)(u,f),(0,st.g$)(l,p)};return{start:M=>{k(M.x,M.y,M.x+p.width,M.y+p.height)},move:(M,it)=>{k(it[0][0],it[0][1],M.x,M.y)},end:(M,it)=>{p.width>=10&&p.height>=10?zt.data.node=Object.assign({id:s,type:Z.$.TEXT,name:"Text"},{size:p,attribute:f,source:S}):null==u||u.remove(),null==l||l.remove()}}}}var yt=x(4113),Rt=x(9125),Ht=x(7797);var $t=x(6358);class le{constructor(){this._nodeName=["circle","ellipse","line","polygon","rect","text","path","foreignObject","image"],this._selected_Ids=[],this._fnChanges=[]}get nodeName(){return this._nodeName}get ids(){return this._selected_Ids}set ids(l){this._selected_Ids=l,this.change(this.ids)}get nodes(){return this._selected_Ids.map(l=>zt.data.getNode(l)).filter(l=>!l.isfake)}set onchange(l){this._fnChanges.push(l)}change(l){var s,u,f,p,S;null===(s=window.document.getElementById(et.O.RESIZE_GROUP))||void 0===s||s.remove(),null===(u=window.document.getElementById(et.O.SELECT_GROUP))||void 0===u||u.remove(),null===(f=window.document.getElementById(et.O.SCAN_GROUP))||void 0===f||f.remove(),null===(p=window.document.getElementById(et.O.CREATE_GROUP))||void 0===p||p.remove(),null===(S=window.document.getElementById(et.O.INTERACTIVE_GROUP))||void 0===S||S.remove(),$('[id^="icdt-temp-"]').remove(),this._fnChanges.forEach(k=>k(l))}deleteNode(){for(let l of this._selected_Ids){let s=zt.data.deleteNode(l);zt.history.push([{type:"delete",from:{id:s},to:{id:s}}])}zt.dataSelect.ids=[]}groupNode(){let l=[];if(zt.dataSelect.ids.length>=2){let s=zt.data.getNode(zt.dataSelect.ids[0]),{nodeId:u,attribute:f,size:p}=(0,$t.m)(Math.ceil(1e9*Math.random()),void 0,s.pid);zt.data.node=Object.assign({id:u,type:Z.$.GROUP,name:"G"},{size:p,attribute:f});for(let S of zt.dataSelect.ids)l.push(zt.data.addGroup(S,u))}if(l.length){zt.dataSelect.ids=l;let s=zt.dataSelect.nodes;1==s.length?(0,B.y)(s[0]):s.length>1&&(0,N.Q)(s)}}ungroupNode(){let l=[];for(let s of zt.dataSelect.ids)l.push(zt.data.unGroup(s));if(l.length){zt.dataSelect.ids=l;let s=zt.dataSelect.nodes;1==s.length?(0,B.y)(s[0]):s.length>1&&(0,N.Q)(s)}}}var we=x(4447);class de{createNodeImage(l){var s,u;let{nodeId:f,element:p,size:S,attribute:k,source:M}=(0,Vt.G)(Math.ceil(1e9*Math.random()),{source:{type:"image",image:(0,we.I)(l)}}),it=1;(J=>{if(!J)return;let lt=new Image;lt.onload=()=>{var pt;it=(0,E.q)(lt.naturalHeight/lt.naturalWidth,100);let gt=(null===(pt=zt.data.slide)||void 0===pt||null===(pt=pt.svg)||void 0===pt?void 0:pt.viewBox)||{x:0,y:0,width:100,height:100};((J,lt,pt,gt)=>{S=(0,y.bH)(J,lt,pt,gt,{ratio:it}),Object.assign(k,(0,y.sg)(Z.$.IMAGE,S)),(0,st.__)(p,k)})(gt.width/2-lt.naturalWidth/2,gt.height/2-lt.naturalHeight/2,gt.width/2+lt.naturalWidth/2,gt.height/2+lt.naturalHeight/2),zt.data.node=Object.assign({id:f,type:Z.$.IMAGE,name:"Image"},{size:S,attribute:k,source:M})},lt.onerror=pt=>{console.error(`ImgSrc load failed -> ${J}`,pt)},lt.src=J})(null!==(s=null===(u=M.image)||void 0===u?void 0:u.url)&&void 0!==s?s:"")}createNodeIframe(l){let{nodeId:s,element:u,size:f,attribute:p,style:S,source:k}=(0,rt.e)(Math.ceil(1e9*Math.random()),{style:{},source:{type:"iframe",iframe:(0,we.I)(l)}});(C=>{let tt=(null===(C=zt.data.slide)||void 0===C||null===(C=C.svg)||void 0===C?void 0:C.viewBox)||{x:0,y:0,width:100,height:100};((C,tt,J,lt)=>{f=(0,y.bH)(C,tt,J,lt),Object.assign(p,(0,y.sg)(Z.$.IMAGE,f)),(0,st.__)(u,p)})(tt.width/2-f.width/2,tt.height/2-f.height/2,tt.width/2+f.width/2,tt.height/2+f.height/2),zt.data.node=Object.assign({id:s,type:Z.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:S,source:k})})()}createNodeEmbed(l){let{nodeId:s,element:u,size:f,attribute:p,style:S,source:k}=(0,rt.e)(Math.ceil(1e9*Math.random()),{size:{x:0,y:0,width:640,height:360},style:{},source:{type:"embed",embed:Object.assign(l,(0,we.I)(l))}});(C=>{let tt=(null===(C=zt.data.slide)||void 0===C||null===(C=C.svg)||void 0===C?void 0:C.viewBox)||{x:0,y:0,width:100,height:100};((C,tt,J,lt)=>{f=(0,y.bH)(C,tt,J,lt),Object.assign(p,(0,y.sg)(Z.$.IMAGE,f)),(0,st.__)(u,p)})(tt.width/2-f.width/2,tt.height/2-f.height/2,tt.width/2+f.width/2,tt.height/2+f.height/2),zt.data.node=Object.assign({id:s,type:Z.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:S,source:k})})()}createNodeMedia(l){var s,u;let{nodeId:f,element:p,size:S,attribute:k,source:M}=(0,Vt.G)(Math.ceil(1e9*Math.random()),{source:{type:"image",image:(0,we.I)(l.cover)}}),it={click:{media:l.media}},C=1;(lt=>{if(!lt)return;let pt=new Image;pt.onload=()=>{var gt;C=(0,E.q)(pt.naturalHeight/pt.naturalWidth,100);let ne=(null===(gt=zt.data.slide)||void 0===gt||null===(gt=gt.svg)||void 0===gt?void 0:gt.viewBox)||{x:0,y:0,width:100,height:100};((lt,pt,gt,ne)=>{S=(0,y.bH)(lt,pt,gt,ne,{ratio:C}),Object.assign(k,(0,y.sg)(Z.$.IMAGE,S)),(0,st.__)(p,k)})(ne.width/2-pt.naturalWidth/2,ne.height/2-pt.naturalHeight/2,ne.width/2+pt.naturalWidth/2,ne.height/2+pt.naturalHeight/2),zt.data.node=Object.assign({id:f,type:Z.$.IMAGE,name:"Image"},{size:S,attribute:k,source:M,interactive:it})},pt.onerror=gt=>{console.error(`ImgSrc load failed -> ${lt}`,gt)},pt.src=lt})(null!==(s=null===(u=M.image)||void 0===u?void 0:u.url)&&void 0!==s?s:"")}insert(l){var s;if(zt.data.insertSlide(zt.data.slideId,1),l.title){let{nodeId:u,size:f,attribute:p,style:S,source:k}=(0,rt.e)(Math.ceil(1e9*Math.random()),{size:{x:100,y:100,width:800,height:150},source:{type:"html",html:{htmlContent:`<span style="font-size: 40px;">${l.title}</span>`}}});zt.data.node=Object.assign({id:u,type:Z.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:S,source:k})}if(l.description){let{nodeId:u,size:f,attribute:p,style:S,source:k}=(0,rt.e)(Math.ceil(1e9*Math.random()),{size:{x:100,y:300,width:600,height:300},source:{type:"html",html:{htmlContent:`<span style="font-size: 24px;">${l.description.replace(/\n/g,"<br/>")}</span>`}}});zt.data.node=Object.assign({id:u,type:Z.$.FOREIGNOBJECT,name:"ForeignObject"},{size:f,attribute:p,style:S,source:k})}null!==(s=l.media)&&void 0!==s&&s.prompt&&((()=>{let{nodeId:u,size:f,attribute:p}=(0,Pt.f)(Math.ceil(1e9*Math.random()),{size:{x:775,y:275,width:350,height:350},attribute:{fill:"#FFFFFF",stroke:"#E6E6E6",strokeWidth:1,strokeDasharray:1,rx:4}});zt.data.node=Object.assign({id:u,type:Z.$.RECT,name:"Rect"},{size:f,attribute:p})})(),(u=>{let{nodeId:f,size:p,attribute:S,style:k,source:M}=(0,rt.e)(Math.ceil(1e9*Math.random()),{size:{x:800,y:300,width:300,height:300},source:{type:"html",html:{htmlContent:`<span style="font-size: 18px; color: #6633cc"><i>${null===(u=l.media)||void 0===u?void 0:u.prompt}</i></span>`}}});zt.data.node=Object.assign({id:f,type:Z.$.FOREIGNOBJECT,name:"ForeignObject"},{size:p,attribute:S,style:k,source:M})})())}}var ue=x(5226);class ye{get newSlideId(){return Math.ceil(1e9*Math.random())}get _defaultSlide(){return JSON.parse(JSON.stringify({id:this.newSlideId,name:"Trang m\u1edbi",svg:{viewBox:zt.screen.frameSize,nodes:[]}}))}constructor(){this._dataSource={slides:[],resources:[]},this._slideIdx=0,this._fnChangeSlides=[],this.getNodeAll=()=>{var l;let s=null===(l=this._dataSource.slides)||void 0===l?void 0:l.find((p,S)=>S==this._slideIdx),u=null==s?void 0:s.svg,f=p=>{let S=[];return p.filter(k=>!k.isdeleted).forEach(k=>{k.type==Z.$.GROUP?S=S.concat(f(k.nodes||[])):S.push(k.id)}),S};return f((null==u?void 0:u.nodes)||[])}}get get(){var l;let s=u=>{var f,p;return null===(f=u)||void 0===f||f.filter(S=>S.type==Z.$.GROUP).forEach(S=>{var k;S.nodes=s(null===(k=S.nodes)||void 0===k?void 0:k.filter(M=>!M.isdeleted))}),(u=null===(p=u)||void 0===p?void 0:p.filter(S=>{var k,M;return S.type!=Z.$.GROUP||(null!==(k=null===(M=S.nodes)||void 0===M?void 0:M.length)&&void 0!==k?k:0)>0}))||[]};return null===(l=this._dataSource.slides)||void 0===l||l.forEach(u=>{var f;u.svg&&(u.svg.nodes=s(null===(f=u.svg)||void 0===f||null===(f=f.nodes)||void 0===f?void 0:f.filter(p=>!p.isdeleted)))}),this._dataSource}get getResource(){var l;let s=[];return null===(l=this._dataSource.slides)||void 0===l||l.forEach(u=>{var f,p,S,k,M,it,C,tt;s.push(null===(f=u.svg)||void 0===f||null===(f=f.background)||void 0===f?void 0:f.path),null===(p=u.svg)||void 0===p||p.nodes.forEach(J=>{var lt,pt,gt,ne,me,Xe,He,qe,Ye,ai;s.push(null===(lt=J.source)||void 0===lt||null===(lt=lt.image)||void 0===lt?void 0:lt.path),s.push(null===(pt=J.source)||void 0===pt||null===(pt=pt.audio)||void 0===pt?void 0:pt.path),s.push(null===(gt=J.source)||void 0===gt||null===(gt=gt.video)||void 0===gt?void 0:gt.path),s.push(null===(ne=J.source)||void 0===ne||null===(ne=ne.file)||void 0===ne?void 0:ne.path),s.push(null===(me=J.source)||void 0===me||null===(me=me.iframe)||void 0===me?void 0:me.path),s.push(null===(Xe=J.source)||void 0===Xe||null===(Xe=Xe.track)||void 0===Xe?void 0:Xe.path),s.push(null===(He=J.interactive)||void 0===He||null===(He=He.show)||void 0===He||null===(He=He.audio)||void 0===He||null===(He=He.source)||void 0===He?void 0:He.path),s.push(null===(qe=J.interactive)||void 0===qe||null===(qe=qe.click)||void 0===qe||null===(qe=qe.audio)||void 0===qe||null===(qe=qe.source)||void 0===qe?void 0:qe.path),s.push(null===(Ye=J.interactive)||void 0===Ye||null===(Ye=Ye.click)||void 0===Ye||null===(Ye=Ye.image)||void 0===Ye||null===(Ye=Ye.source)||void 0===Ye?void 0:Ye.path),s.push(null===(ai=J.interactive)||void 0===ai||null===(ai=ai.click)||void 0===ai||null===(ai=ai.video)||void 0===ai||null===(ai=ai.source)||void 0===ai?void 0:ai.path)}),s.push(null===(S=u.test)||void 0===S||null===(S=S.audiotrue)||void 0===S?void 0:S.path),s.push(null===(k=u.test)||void 0===k||null===(k=k.audiofalse)||void 0===k?void 0:k.path),s.push(null===(M=u.test)||void 0===M||null===(M=M.effecttrue)||void 0===M?void 0:M.path),s.push(null===(it=u.test)||void 0===it||null===(it=it.effectfalse)||void 0===it?void 0:it.path),s.push(null===(C=u.test)||void 0===C||null===(C=C.icontrue)||void 0===C?void 0:C.path),s.push(null===(tt=u.test)||void 0===tt||null===(tt=tt.iconfalse)||void 0===tt?void 0:tt.path)}),s.filter(u=>u).map(u=>u.replace(/(\?|\#)[^\?\#]+/g,"").toLowerCase()).filter((u,f,p)=>p.indexOf(u)==f)}set set(l){this._dataSource=l,this._dataSource.slides||(this._dataSource.slides=[]),this._dataSource.slides.length||(this._slideIdx=0,this._dataSource.slides.push(JSON.parse(JSON.stringify(this._defaultSlide)))),(0,st.wM)(),this.changeSlide(this.slides,this.slideIdx,this._dataSource.slides.length,this.slide)}get dataSource(){var l;let s=u=>{var f,p;return null===(f=u)||void 0===f||f.filter(S=>S.type==Z.$.GROUP).forEach(S=>{var k;S.nodes=s(null===(k=S.nodes)||void 0===k?void 0:k.filter(M=>!M.isdeleted))}),(u=null===(p=u)||void 0===p?void 0:p.filter(S=>{var k,M;return S.type!=Z.$.GROUP||(null!==(k=null===(M=S.nodes)||void 0===M?void 0:M.length)&&void 0!==k?k:0)>0}))||[]};return null===(l=this._dataSource.slides)||void 0===l||l.forEach(u=>{var f;u.svg&&(u.svg.nodes=s(null===(f=u.svg)||void 0===f||null===(f=f.nodes)||void 0===f?void 0:f.filter(p=>!p.isdeleted)))}),this._dataSource.resources=this.getResource,this._dataSource}set dataSource(l){this._dataSource=l,this._dataSource.slides||(this._dataSource.slides=[]),this._dataSource.slides.length||(this._slideIdx=0,this._dataSource.slides.push(JSON.parse(JSON.stringify(this._defaultSlide)))),(0,st.wM)(),this.changeSlide(this.slides,this.slideIdx,this._dataSource.slides.length,this.slide)}get slideId(){var l,s;return null!==(l=null===(s=this.slide)||void 0===s?void 0:s.id)&&void 0!==l?l:0}get slideIdx(){return this._slideIdx}get slide(){var l;return null===(l=this._dataSource.slides)||void 0===l?void 0:l.find((s,u)=>u==this._slideIdx)}get slides(){return this._dataSource.slides||[]}backSlide(){this._slideIdx>0&&(this._slideIdx-=1,this.openSlide(void 0,this._slideIdx))}nextSlide(){var l,s;this._slideIdx<(null!==(l=null===(s=this._dataSource.slides)||void 0===s?void 0:s.length)&&void 0!==l?l:0)-1&&(this._slideIdx+=1,this.openSlide(void 0,this._slideIdx))}openSlide(l,s){var u,f,p,S;if(l)for(let C=0,tt=null!==(k=null===(M=this._dataSource.slides)||void 0===M?void 0:M.length)&&void 0!==k?k:0;C<tt;C++){var k,M,it;if((null!==(it=this._dataSource.slides)&&void 0!==it?it:[])[C].id==l){this._slideIdx=C;break}}else this._slideIdx=s&&s>=0&&s<(null!==(u=null===(f=this._dataSource.slides)||void 0===f?void 0:f.length)&&void 0!==u?u:0)&&null!=s?s:0;(0,st.wM)(),(0,ue.E)(this.slide),this.changeSlide(this.slides,this.slideIdx,null!==(p=null===(S=this._dataSource.slides)||void 0===S?void 0:S.length)&&void 0!==p?p:0,this.slide)}addSlide(){var l,s,u;null===(l=this._dataSource.slides)||void 0===l||l.push(this._defaultSlide),this._slideIdx=(null!==(s=null===(u=this._dataSource.slides)||void 0===u?void 0:u.length)&&void 0!==s?s:0)-1,this.openSlide(void 0,this._slideIdx)}insertSlide(l,s,u){var f,p,S,k,M;let it=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.find(J=>J.id==l))&&void 0!==f?f:this._defaultSlide,C=(null!==(S=null===(k=this._dataSource.slides)||void 0===k?void 0:k.indexOf(it))&&void 0!==S?S:0)+s;var tt;u?(u.id=this.newSlideId,u.code=void 0,u.name="Trang m\u1edbi",null!==(tt=u.svg)&&void 0!==tt&&tt.viewBox||u.svg&&(u.svg.viewBox=zt.screen.frameSize)):u=this._defaultSlide,null===(M=this._dataSource.slides)||void 0===M||M.splice(C,0,u),this._slideIdx=C,this.openSlide(void 0,this._slideIdx)}copySlide(l){var s,u,f,p,S,k,M;let it=null!==(s=null===(u=this._dataSource.slides)||void 0===u?void 0:u.find(J=>J.id==l))&&void 0!==s?s:this._defaultSlide,C=(null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(it))&&void 0!==f?f:0)+1,tt=Object.assign(JSON.parse(JSON.stringify(it)),{id:this.newSlideId,code:void 0,name:`${it.name} + (Copy)`});null===(S=this._dataSource.slides)||void 0===S||S.splice(C,0,tt),this.changeSlide(this.slides,this.slideIdx,null!==(k=null===(M=this._dataSource.slides)||void 0===M?void 0:M.length)&&void 0!==k?k:0,this.slide)}moveSlide(l,s){var u,f,p,S,k,M;let it=null!==(u=null===(f=this._dataSource.slides)||void 0===f?void 0:f.find(tt=>tt.id==l))&&void 0!==u?u:this._defaultSlide,C=null!==(p=null===(S=this._dataSource.slides)||void 0===S?void 0:S.indexOf(it))&&void 0!==p?p:0;null===(k=this._dataSource.slides)||void 0===k||k.splice(C+s,0,null===(M=this._dataSource.slides)||void 0===M?void 0:M.splice(C,1)[0])}deleteSlide(l){var s,u,f,p,S,k;let M=null!==(s=null===(u=this._dataSource.slides)||void 0===u?void 0:u.find(J=>J.id==l))&&void 0!==s?s:this._defaultSlide,it=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(M))&&void 0!==f?f:0;if(null===(S=this._dataSource.slides)||void 0===S||S.splice(it,1),null!==(k=this._dataSource.slides)&&void 0!==k&&k.length)if(it<this._slideIdx){var C,tt;--this._slideIdx,this.changeSlide(this.slides,this.slideIdx,null!==(C=null===(tt=this._dataSource.slides)||void 0===tt?void 0:tt.length)&&void 0!==C?C:0,this.slide)}else it==this._slideIdx&&(--this._slideIdx,this.openSlide(void 0,this._slideIdx));else this.addSlide()}deleteSlide1(l){var s,u,f,p,S;let k=null!==(s=null===(u=this._dataSource.slides)||void 0===u?void 0:u.find(it=>it.id==l))&&void 0!==s?s:this._defaultSlide,M=null!==(f=null===(p=this._dataSource.slides)||void 0===p?void 0:p.indexOf(k))&&void 0!==f?f:0;if(k.isdeleted=!0,null!==(S=this._dataSource.slides)&&void 0!==S&&null!==(S=S.filter(it=>!it.isdeleted))&&void 0!==S&&S.length){let it=!0;for(;k.isdeleted;)it?M++:M--,this._dataSource.slides[M]?k=this._dataSource.slides[M]:it=!it;this.openSlide(k.id)}else this.addSlide()}set onChangeSlide(l){this._fnChangeSlides.push(l)}changeSlide(l,s,u,f){this._fnChangeSlides.forEach(p=>p(l,s,u,f))}set node(l){var s,u;let f=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find((S,k)=>k==this._slideIdx),p=null==f?void 0:f.svg;null!=p&&p.nodes&&(null==p||p.nodes.push(l)),zt.history.push([{type:"add",from:{id:l.id},to:{id:l.id}}]),(0,ue.E)(this.slide,null===(u=this.slide)||void 0===u?void 0:u.id)}findNode(l){var s;let u=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find((J,lt)=>lt==this._slideIdx),f=null==u?void 0:u.svg,p=(J,lt)=>{let pt=null==J?void 0:J.find(me=>me.id==l);if(pt)return pt.pid=lt,pt;let gt=0,ne=J.length||0;for(;gt<ne&&!pt&&(pt=p(J[gt].nodes||[],J[gt].id),!pt);)gt++;return pt},S=p((null==f?void 0:f.nodes)||[]);var k,M,it,C,tt;return S?(S.style=null!==(k=S.style)&&void 0!==k?k:{},S.source=null!==(M=S.source)&&void 0!==M?M:{},S.animate=null!==(it=S.animate)&&void 0!==it?it:{},S.interactive=null!==(C=S.interactive)&&void 0!==C?C:{},S.variable=null!==(tt=S.variable)&&void 0!==tt?tt:{},S):{id:0,size:{x:0,y:0,width:0,height:0},attribute:{},isfake:!0}}getNode(l){var s;let u=null===(s=this._dataSource.slides)||void 0===s?void 0:s.find((k,M)=>M==this._slideIdx),f=null==u?void 0:u.svg,S=k=>{let M=(null==k?void 0:k.find(pt=>pt.id==l))||(k=>{let M=null,it=0,C=k.length||0;for(;it<C&&!M;){if(M=S(k[it].nodes),M){M.pid=k[it].id;break}it++}var tt,J,lt,pt,gt;return M&&(M.style=null!==(tt=M.style)&&void 0!==tt?tt:{},M.source=null!==(J=M.source)&&void 0!==J?J:{},M.animate=null!==(lt=M.animate)&&void 0!==lt?lt:{},M.interactive=null!==(pt=M.interactive)&&void 0!==pt?pt:{},M.variable=null!==(gt=M.variable)&&void 0!==gt?gt:{}),M})((null==k?void 0:k.filter(pt=>pt.type==Z.$.GROUP))||[]);var it,C,tt,J,lt;return M&&(M.style=null!==(it=M.style)&&void 0!==it?it:{},M.source=null!==(C=M.source)&&void 0!==C?C:{},M.animate=null!==(tt=M.animate)&&void 0!==tt?tt:{},M.interactive=null!==(J=M.interactive)&&void 0!==J?J:{},M.variable=null!==(lt=M.variable)&&void 0!==lt?lt:{}),M};return S((null==f?void 0:f.nodes)||[])||{id:null,pid:null,type:null,element:document.createElement("div"),size:{x:0,y:0,width:0,height:0,points:[]},attribute:{},style:{},source:{},animate:{},interactive:{},variable:{},isfake:!0,isdeleted:!1,nodes:[]}}getNodeInArea(l,s,u,f,p){var S;let k=null===(S=this._dataSource.slides)||void 0===S?void 0:S.find((C,tt)=>tt==this._slideIdx),M=null==k?void 0:k.svg,it=C=>{let tt=[];return C.filter(J=>!J.isdeleted).forEach(J=>{J.type==Z.$.GROUP?tt=tt.concat(it(J.nodes||[])):l>J.size.x||s>J.size.y||u<J.size.x+J.size.width||f<J.size.y+J.size.height||(p?J.type==p&&tt.push(J.id):tt.push(J.id))}),tt};return it((null==M?void 0:M.nodes)||[])}getNodeOnArea(l,s,u,f,p){var S;let k=null===(S=this._dataSource.slides)||void 0===S?void 0:S.find((C,tt)=>tt==this._slideIdx),M=null==k?void 0:k.svg,it=C=>{let tt=[];return C.filter(J=>!J.isdeleted).forEach(J=>{J.type==Z.$.GROUP?tt=tt.concat(it(J.nodes||[])):J.size.x+J.size.width<l||J.size.y+J.size.height<s||J.size.x>u||J.size.y>f||(p?J.type==p&&tt.push(J.id):tt.push(J.id))}),tt};return it((null==M?void 0:M.nodes)||[])}deleteNode(l,s){var u;return this.getNode(l).isdeleted=null==s||s,(0,ue.E)(this.slide),(0,ue.E)(this.slide,null===(u=this.slide)||void 0===u?void 0:u.id),l}unGroup(l){var s,u;let f=this.getNode(l),p=Math.ceil(1e9*Math.random());return null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.push(Object.assign(JSON.parse(JSON.stringify(f)),{id:p})),Object.assign(f,{isdeleted:!0}),(0,ue.E)(this.slide),(0,ue.E)(this.slide,null===(u=this.slide)||void 0===u?void 0:u.id),p}addGroup(l,s){var u;let f=this.getNode(l),p=this.getNode(s);p.nodes=p.nodes||[];let S=Math.ceil(1e9*Math.random());return p.nodes.push(Object.assign(JSON.parse(JSON.stringify(f)),{id:S})),Object.assign(f,{isdeleted:!0}),(0,ue.E)(this.slide),(0,ue.E)(this.slide,null===(u=this.slide)||void 0===u?void 0:u.id),S}setNodeP(l,s){var u;let f=null===(u=this.slide)||void 0===u||null===(u=u.svg)||void 0===u?void 0:u.nodes.find(p=>p.id==l);f&&(f.pid=s||null)}bringToFront(l){var s,u,f;let p=l.map(lt=>zt.data.getNode(lt)).filter(lt=>!lt.isfake),{x1:S,y1:k,x2:M,y2:it}=je(p),C=this.getNodeOnArea(S,k,M,it);null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.forEach((lt,pt)=>{lt.idx=pt+1});let tt=C.map(lt=>{var pt,gt;return null!==(pt=null===(gt=this.slide)||void 0===gt||null===(gt=gt.svg)||void 0===gt||null===(gt=gt.nodes.find(ne=>ne.id==lt))||void 0===gt?void 0:gt.idx)&&void 0!==pt?pt:0}),J=Math.max.apply(null,tt);l.forEach((lt,pt)=>{var gt;null===(gt=this.slide)||void 0===gt||null===(gt=gt.svg)||void 0===gt||gt.nodes.filter(ne=>ne.id==lt).forEach(ne=>{ne.idx=J+(pt+1)/100})}),null===(u=this.slide)||void 0===u||null===(u=u.svg)||void 0===u||u.nodes.sort((lt,pt)=>{var gt,ne;return(null!==(gt=lt.idx)&&void 0!==gt?gt:0)-(null!==(ne=pt.idx)&&void 0!==ne?ne:0)}),(0,ue.T)(this.slide),null===(f=window.document.getElementById(et.O.SELECT_GROUP))||void 0===f||f.remove(),(0,N.Q)(p)}sendToBack(l){var s,u,f;let p=l.map(lt=>zt.data.getNode(lt)).filter(lt=>!lt.isfake),{x1:S,y1:k,x2:M,y2:it}=je(p),C=this.getNodeOnArea(S,k,M,it);null===(s=this.slide)||void 0===s||null===(s=s.svg)||void 0===s||s.nodes.forEach((lt,pt)=>{lt.idx=pt+1});let tt=C.map(lt=>{var pt,gt;return null!==(pt=null===(gt=this.slide)||void 0===gt||null===(gt=gt.svg)||void 0===gt||null===(gt=gt.nodes.find(ne=>ne.id==lt))||void 0===gt?void 0:gt.idx)&&void 0!==pt?pt:0}),J=Math.min.apply(null,tt)-1;l.forEach((lt,pt)=>{var gt;null===(gt=this.slide)||void 0===gt||null===(gt=gt.svg)||void 0===gt||gt.nodes.filter(ne=>ne.id==lt).forEach(ne=>{ne.idx=J+(pt+1)/100})}),null===(u=this.slide)||void 0===u||null===(u=u.svg)||void 0===u||u.nodes.sort((lt,pt)=>{var gt,ne;return(null!==(gt=lt.idx)&&void 0!==gt?gt:0)-(null!==(ne=pt.idx)&&void 0!==ne?ne:0)}),(0,ue.T)(this.slide),null===(f=window.document.getElementById(et.O.SELECT_GROUP))||void 0===f||f.remove(),(0,N.Q)(p)}}const je=W=>{let l=999999,s=999999,u=-999999,f=-999999;return W.forEach(p=>{l=Math.min(l,p.size.x),s=Math.min(s,p.size.y),u=Math.max(u,p.size.x+p.size.width),f=Math.max(f,p.size.y+p.size.height)}),{x1:l,y1:s,x2:u,y2:f}};class Oe{constructor(){this._index=-1,this._dataSource=[],this.undoExecute=l=>{l.forEach(function(s){switch(s.type){case"add":zt.data.deleteNode(s.from.id);break;case"edit":break;case"delete":zt.data.deleteNode(s.from.id,!1);break;case"size":{let{id:u,type:f,size:p,attribute:S}=zt.data.getNode(s.from.id);Object.assign(p,s.from.size),Object.assign(S,(0,y.sg)(f,p)),(0,st.__)(window.document.getElementById(u),S);break}case"attribute":{let{id:u,attribute:f}=zt.data.getNode(s.from.id);Object.assign(f,s.from.attribute),(0,st.__)(window.document.getElementById(u),f);break}case"style":{let{id:u,style:f}=zt.data.getNode(s.from.id);Object.assign(null!=f?f:{},s.from.style),(0,st.DB)(window.document.getElementById(u),f);break}case"source":{let{id:u,type:f,source:p}=zt.data.getNode(s.from.id);Object.assign(null!=p?p:{},s.from.source),(0,st.QI)(window.document.getElementById(u),f,null!=p?p:{});break}case"animate":{let{animate:u}=zt.data.getNode(s.from.id);Object.assign(null!=u?u:{},s.from.animate);break}case"interactive":{let{interactive:u}=zt.data.getNode(s.from.id);Object.assign(null!=u?u:{},s.from.interactive);break}case"variable":{let{variable:u}=zt.data.getNode(s.from.id);Object.assign(null!=u?u:{},s.from.variable);break}}}),zt.dataSelect.ids=[]},this.redoExecute=l=>{l.forEach(function(s){switch(s.type){case"add":zt.data.deleteNode(s.to.id,!1);break;case"edit":break;case"delete":zt.data.deleteNode(s.to.id,!0);break;case"size":{let{id:u,type:f,size:p,attribute:S}=zt.data.getNode(s.to.id);Object.assign(p,s.to.size),Object.assign(S,(0,y.sg)(f,p)),(0,st.__)(window.document.getElementById(u),S);break}case"attribute":{let{id:u,attribute:f}=zt.data.getNode(s.to.id);Object.assign(f,s.to.attribute),(0,st.__)(window.document.getElementById(u),f);break}case"style":{let{id:u,style:f}=zt.data.getNode(s.to.id);Object.assign(null!=f?f:{},s.to.style),(0,st.DB)(window.document.getElementById(u),f);break}case"source":{let{id:u,type:f,source:p}=zt.data.getNode(s.to.id);Object.assign(null!=p?p:{},s.to.source),(0,st.QI)(window.document.getElementById(u),f,null!=p?p:{});break}case"animate":{let{animate:u}=zt.data.getNode(s.to.id);Object.assign(null!=u?u:{},s.to.animate);break}case"interactive":{let{interactive:u}=zt.data.getNode(s.to.id);Object.assign(null!=u?u:{},s.to.interactive);break}case"variable":{let{variable:u}=zt.data.getNode(s.to.id);Object.assign(null!=u?u:{},s.to.variable);break}}}),zt.dataSelect.ids=[]},this._fnChanges=[],this._index=-1,this._dataSource=[]}get index(){return this._index}get total(){return this._dataSource.length}get dataSource(){return this._dataSource}renew(){this._index=-1,this._dataSource=[],this.change()}push(l){this._index<0?(this._index=0,this._dataSource.length=0,this._dataSource[this._index]={data:l}):(this._index<this._dataSource.length-1&&this._dataSource.splice(this._index+1,this._dataSource.length-this._index-1),this._index++,this._dataSource.push({data:l})),this.change()}undo(){this._index<0||(this.undoExecute(this._dataSource[this._index].data),this._index--,this.change())}redo(){this._index>=this._dataSource.length-1||(this._index++,this.redoExecute(this._dataSource[this._index].data),this.change())}set onchange(l){this._fnChanges.push(l)}change(){this._fnChanges.forEach(l=>l(this.index,this.total))}}class Me{constructor(){this._x=0,this._y=0,this._width=0,this._height=0,this._scale=1,this._dislocation={x:0,y:0},this._offset={x:0,y:0},this._svgSize={x:0,y:0,width:0,height:0},this._svgViewBox={x:0,y:0,width:0,height:0},this._frameSize={x:0,y:0,width:1e3,height:500},this._actived=!1,this._fnZoomChanges=[]}get actived(){return this._actived}set actived(l){this._actived=l}get get(){return{x:this._frameSize.x,y:this._frameSize.y,w:this._frameSize.width,h:this._frameSize.height,width:this._frameSize.width,height:this._frameSize.height}}set set(l){this._frameSize.width=l.width,this._frameSize.height=l.height,this.zoomTo="fit"}get width(){return this._width}get height(){return this._height}get scale(){return this._scale}get dislocation(){return this._dislocation}get offset(){return this._offset}get svgSize(){return this._svgSize}get svgViewBox(){return this._svgViewBox}get frameSize(){return this._frameSize}set frameSize(l){this._frameSize.x=l.x,this._frameSize.y=l.y,this._frameSize.width=l.width,this._frameSize.height=l.height,this.reset()}set screen(l){this._offset=l.offset,this._width=l.width,this._height=l.height,this.reset()}reset(){this.scaleTo(this._scale,void 0,!0)}scaleTo(l,s,u){var f;if(!(l<.1||l>10)){if(s=null!==(f=s)&&void 0!==f?f:{x:this._width/2,y:this._height/2},u)this._dislocation.x=this._width/l/2-s.x,this._dislocation.y=this._height/l/2-s.y,this._dislocation.x+=(this._width-this._frameSize.width)/2,this._dislocation.y+=(this._height-this._frameSize.height)/2;else{var p={x:Math.max(0,Math.min((0,E.q)(s.x/this._width,1e3),1)),y:Math.max(0,Math.min((0,E.q)(s.y/this._height,1e3),1))},S={x:(this._width/l-this._width/this._scale)*p.x,y:(this._height/l-this._height/this._scale)*p.y};this._dislocation.x+=S.x,this._dislocation.y+=S.y}this._scale=l,this.change(),this.zoomChange(this.scale)}}set zoomTo(l){"fit"==l?this.scaleTo(Math.min((this._width-60)/this._frameSize.width,(this._height-60)/this._frameSize.height),void 0,!0):"number"==typeof l&&this.scaleTo(l/100,void 0,!0)}init(){return{svgViewBox:this.svgViewBox,svgSize:this.svgSize}}move(l,s){this._dislocation.x=l.x+s.x/this._scale,this._dislocation.y=l.y+s.y/this._scale,this._svgViewBox.x=-this._dislocation.x,this._svgViewBox.y=-this._dislocation.y,this.refScreen()}change(){this._svgSize.x=this._x,this._svgSize.y=this._y,this._svgSize.width=this._width,this._svgSize.height=this._height,this._svgViewBox.x=-this._dislocation.x,this._svgViewBox.y=-this._dislocation.y,this._svgViewBox.width=this._width/this._scale,this._svgViewBox.height=this._height/this._scale,this.refScreen()}refScreen(){(0,st.eb)()}set onZoomChange(l){this._fnZoomChanges.push(l)}zoomChange(l){this._fnZoomChanges.forEach(s=>s(l))}}var Ze=x(644);class tn{constructor(){this._fill="#D9D9D9",this._stroke="#AAAAAA",this._strokeWidth=1,this._strokeLinecap="round",this._strokeLinejoin="round",this._fontFamily=null,this._fontSize=20,this._textLength=null,this._fnChangeFills=[],this._fnChangeStrokes=[],this._fnChangeStrokeWidths=[],this.loadConfig()}loadConfig(){(0,Ze.sV)({callback:l=>{this._fill=(null==l?void 0:l.fill)||this._fill,this._stroke=(null==l?void 0:l.stroke)||this._stroke,this._strokeWidth=(null==l?void 0:l.strokeWidth)||this._strokeWidth,this._strokeLinecap=(null==l?void 0:l.strokeLinecap)||this._strokeLinecap,this._strokeLinejoin=(null==l?void 0:l.strokeLinejoin)||this._strokeLinejoin,this.changeFill(this.fill),this.changeStroke(this.stroke),this.changeStrokeWidth(this.strokeWidth)}})}saveConfig(){(0,Ze.qp)({params:{fill:this._fill,stroke:this._stroke,strokeWidth:this._strokeWidth,strokeLinecap:this._strokeLinecap,strokeLinejoin:this._strokeLinejoin}})}get fill(){return this._fill}set fill(l){this._fill=l,this.changeFill(this.fill)}get stroke(){return this._stroke}set stroke(l){this._stroke=l,this.changeStroke(this.stroke)}get strokeWidth(){return this._strokeWidth}set strokeWidth(l){this._strokeWidth=l,this.changeStrokeWidth(this.strokeWidth)}get strokeLinecap(){return this._strokeLinecap}set strokeLinecap(l){this._strokeLinecap=l}get strokeLinejoin(){return this._strokeLinejoin}set strokeLinejoin(l){this._strokeLinejoin=l}get fontFamily(){return this._fontFamily}get fontSize(){return this._fontSize}get textLength(){return this._textLength}set onchangefill(l){this._fnChangeFills.push(l)}changeFill(l){this._fnChangeFills.forEach(s=>s(l)),this.saveConfig()}set onchangestroke(l){this._fnChangeStrokes.push(l)}changeStroke(l){this._fnChangeStrokes.forEach(s=>s(l)),this.saveConfig()}set onchangestrokewidth(l){this._fnChangeStrokeWidths.push(l)}changeStrokeWidth(l){this._fnChangeStrokeWidths.forEach(s=>s(l)),this.saveConfig()}}var Ei=x(1690),en=x(5973),nn=x(4787),ni=function(W){return W&&JSON.parse(JSON.stringify(W))},Ii=[{key:"FinishedTest",type:"boolean",value:!1,note:"Ho\xe0n th\xe0nh BKT",system:!0,readonly:!1},{key:"TotalTest",type:"number",value:0,note:"T\u1ed5ng s\u1ed1 BKT",system:!0,readonly:!1},{key:"TotalTestDidNotPass",type:"number",value:0,note:"S\u1ed1 BKT kh\xf4ng v\u01b0\u1ee3t qua",system:!0,readonly:!1},{key:"TotalTestPassed",type:"number",value:0,note:"S\u1ed1 BKT \u0111\xe3 v\u01b0\u1ee3t qua",system:!0,readonly:!1}],$i=[],pi={key:"BienSo",value:"0",type:"number",note:null,readonly:!1},ci={if:[{type:"variable",variable:"BienSo",variables:null,slide:null,node:null,condition:">",operator:null,valuetype:"value",value:5}],then:[{type:"variable",variable:"BienChu",variables:null,slide:null,node:null,condition:null,operator:"=",valuetype:"value",value:"BienSo > 5"}],else:[{type:"variable",variable:"BienChu",variables:null,slide:null,node:null,condition:null,operator:"=",valuetype:"value",value:"BienSo <= 5"}],id:"57623302",idx:1,variables:["BienSo"]};class Bi{constructor(){this._data_variables=ni(Ii).concat(ni($i)),this._data_conditions=[],this.GetActionExecutings=[],this.GetActionExecuteds=[],this.FuncGetExecuteds=l=>{"function"==typeof l&&this.GetActionExecuteds.push(l)},this.OnGetActionExecuted=l=>{this.GetActionExecuteds.forEach(s=>{s(l)})},this.SetActionExecutings=[],this.FuncSetExecutings=l=>{"function"==typeof l&&this.SetActionExecutings.push(l)},this.OnSetActionExecuting=l=>{this.SetActionExecutings.forEach(s=>{s(l)})},this.SetActionExecuteds=[],this.FuncSetExecuteds=l=>{"function"==typeof l&&this.SetActionExecuteds.push(l)},this.OnSetActionExecuted=l=>{for(var s of(this.SetActionExecuteds.forEach(u=>{u(l)}),this.getCondition(l.key)||[]))s.if&&s.if.length>0&&(this.checkValueConditions(s.if)?this.setValueOperators(s.then||[]):this.setValueOperators(s.else||[]))}}renew(){this._data_variables=ni(Ii).concat(ni($i)),this._data_conditions=[]}get totalVariable(){return this._data_variables.length}get totalCondition(){return this._data_conditions.length}get get(){return{variables:this._data_variables||[],conditions:this._data_conditions||[]}}set set(l){if(!l)return;let s={};"string"==typeof l?s=JSON.parse(l):"object"==typeof l&&(s=l),this._data_variables=s.variables||[],this._data_conditions=s.conditions||(u=>(this._data_variables.map(f=>f.change||[]).forEach(f=>{u=u.concat(f)}),u))([]),Ii.forEach(u=>{var f=this._data_variables.filter(p=>p.key==u.key);f.length?f.forEach(function(p,S,k){p.type=u.type,p.readonly=u.readonly,p.system=u.system}):this._data_variables.push(u)})}getVariableTemp(){return ni(pi)}getConditionTemp(){return ni(ci)}getKeys(){return this._data_variables.map(function(l){return l.key}).sort(function(l,s){return l.localeCompare(s)})}getVariableAll(){return this._data_variables.length?ni((W=this._data_variables,l="key",function(s){for(var u of W.map(function(f){return f[l]}).sort())W.filter(function(f){return f[l]==u}).forEach(function(f){s.push(f)}),W=W.filter(function(f){return f[l]!=u});return s}([]))):ni(Ii).concat(ni($i));var W,l}setVariableAll(l){l&&("string"==typeof l&&(l=JSON.parse(l)),"object"==typeof l&&(this._data_variables=l),Ii.forEach(s=>{var u=this._data_variables.filter(f=>f.key==s.key);u.length?u.forEach((f,p,S)=>{f.type=s.type,f.readonly=s.readonly,f.system=s.system}):this._data_variables.push(s)}))}getVariable(l){return l?ni(this._data_variables.filter(s=>s.key==l)[0]||{}):{}}setVariable(l,s,u){if(l){switch([null,void 0,NaN,1/0].indexOf(s)>=0&&(s=""),u||(u=(this._data_variables.filter(p=>p.key==l)[0]||{}).type||null),u){case"string":"string"!=typeof s&&(s=s.toString().trim());break;case"number":"number"!=typeof s&&(s=parseFloat(s)||0);break;case"boolean":"string"==typeof s&&(s=s.toLowerCase()),"boolean"!=typeof s&&(s="1"==s||"true"==s||"yes"==s||"dung"==s)}var f=this._data_variables.filter(p=>p.key==l);f.length?f.forEach(function(p,S,k){p.value=s,p.type=u}):this._data_variables.push({key:l,value:s,type:u})}}getValue(l,s){if(!l)return"";var u=this._data_variables.filter(function(S){return S.key==l});if(u.length){var p,f=u[0]||{};switch(this.OnGetActionExecuting(f),s||(s=f.type||null),s){case"string":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":"string"==typeof f.value?f.value||"":f.value.toString().trim();break;case"number":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?0:"number"==typeof f.value?f.value||0:parseFloat(f.value)||0;break;case"boolean":[null,void 0,NaN,1/0].indexOf(f.value)>=0?p=!1:"boolean"==typeof f.value?p=f.value:(p=(f.value+"").toLowerCase(),p="1"==f.value||"true"==f.value||"yes"==f.value||"dung"==f.value);break;case"audio-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<audio controls style="width:280px;vertical-align:middle;"><source src="${f.value}"></source></audio>`:"";break;case"video-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<video controls style="width:280px;vertical-align:middle;"><source src="${f.value}"></source></video>`:"";break;case"img-src":p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value?`<img style="width:100%;vertical-align:middle;" src="${f.value}"/>`:"";break;default:p=[null,void 0,NaN,1/0].indexOf(f.value)>=0?"":f.value}return this.OnGetActionExecuted(f),p}return null}setValue(l,s,u){if(l){switch([null,void 0,NaN,1/0].indexOf(s)>=0&&(s=""),u||(u=(this._data_variables.filter(function(S){return S.key==l})[0]||{}).type||null),u){case"string":"string"!=typeof s&&(s=s.toString().trim());break;case"number":"number"!=typeof s&&(s=parseFloat(s)||0);break;case"boolean":"string"==typeof s&&(s=s.toLowerCase()),"boolean"!=typeof s&&(s="1"==s||"true"==s||"yes"==s||"dung"==s)}var f=this._data_variables.filter(function(S){return S.key==l});if(f.length){var p=f[0];this.OnSetActionExecuting(p),p&&(p.value=s),this.OnSetActionExecuted(p)}}}getConditionAll(){return ni(this._data_conditions.sort(function(l,s){return l.idx-s.idx}))}setConditionAll(l){l&&("string"==typeof l&&(l=JSON.parse(l)),"object"==typeof l&&(this._data_conditions=l))}getCondition(l){return l?ni(this._data_conditions.filter(s=>s.variable==l||(s.variables||[]).indexOf(l)>=0).sort(function(s,u){return s.idx-u.idx})):{}}switchCondition(l,s,u){switch(l){case"==":return"string"==typeof u?(u=u.toLowerCase().trim(),"string"==typeof s&&(s=s.toLowerCase().trim()),u.split(";").map(function(f){return s==f.trim()?1:0}).reduce(function(f,p){return f+p})>0):s==u;case"!=":return"string"==typeof u?(u=u.toLowerCase().trim(),"string"==typeof s&&(s=s.toLowerCase().trim()),0==u.split(";").map(function(f){return s==f.trim()?1:0}).reduce(function(f,p){return f+p})):s!=u;case">=":return s>=u;case"<=":return s<=u;case">":return s>u;case"<":return s<u;case"\u2208":return u=(u+"").toLowerCase().trim(),s=(s+"").toLowerCase().trim(),u.split(";").map(function(f){return s.indexOf(f.trim())>=0?1:0}).reduce(function(f,p){return f+p})>0;case"\u2209":return u=(u+"").toLowerCase().trim(),s=(s+"").toLowerCase().trim(),0==u.split(";").map(function(f){return s.indexOf(f.trim())>=0?1:0}).reduce(function(f,p){return f+p});default:return!1}}switchOperator(l,s,u){switch(l){case"+":return s+u;case"-":return s-u;case"*":return s*u;case"/":return s/u;case"=":return u;case"=!":return!u;case"==":return s==u;case"!=":return s!=u}}switchFormula(l,s){switch(l){case"sum":return s.reduce(function(f,p){return f+p});case"sub":return s.reduce(function(f,p){return f-p});case"pro":return s.reduce(function(f,p){return f*p});case"div":return s.reduce(function(f,p){return f/p});case"avg":var u=s.reduce(function(f,p){return f+p})/(s.length||1);return Math.round(1e4*(u+Number.EPSILON))/1e4;case"min":return Math.min.apply(null,s);case"max":return Math.max.apply(null,s);case"and":return s.reduce(function(f,p){return f&&p});case"or":return s.reduce(function(f,p){return f||p});default:return 0}}switchValueType_Condition(l){switch(l.valuetype){case"value":return this.switchCondition(l.condition,this.getValue(l.variable),l.value);case"variable":return this.switchCondition(l.condition,this.getValue(l.variable),this.getValue(l.value));default:return 0}}switchValueType_Operator(l){switch(l.valuetype){case"value":return this.switchOperator(l.operator,this.getValue(l.variable),l.value);case"variable":return this.switchOperator(l.operator,this.getValue(l.variable),this.getValue(l.value));case"variables":var s=this.switchFormula(l.valueformula,l.value.map(u=>this.getValue(u)));return this.switchOperator(l.operator,this.getValue(l.variable),s)}}checkValueCondition(l){return this.switchValueType_Condition(l)}getValueOperator(l){return this.switchValueType_Operator(l)}setValueOperator(l){null!=l&&l.variable&&this.setValue(l.variable,this.getValueOperator(l))}checkValueConditions(l){return 0==l.map(s=>{switch(s.type){case"variable":return this.switchValueType_Condition(s)?0:1;case"variables":return 0==s.variables.map(u=>this.switchValueType_Condition(Object.assign(ni(s),{variable:u}))?0:1).reduce(function(u,f){return u+f})?0:1;default:return 0}}).reduce((s,u)=>(null!=s?s:0)+(null!=u?u:0))}setValueOperators(l){for(var s of l)switch(s.type){case"variable":this.setValue(s.variable,this.getValueOperator(s));break;case"variables":for(var u of s.variables)this.setValue(u,this.getValueOperator(Object.assign(ni(s),{variable:u})));break;case"slide":Ei.$.runSlide(void 0,void 0,s.slide);break;case"node":{var f;(0,nn.L5)({id:s.node,nodeStatus:Ei.$.nodeStatus,slideStatus:Ei.$.slideStatus});let p=Ei.$.findNode(s.node);null!=p&&null!==(f=p.interactive)&&void 0!==f&&f.click&&(0,en.F)(p,Ei.$.nodeStatus,Ei.$.slideStatus);break}}}FuncGetExecutings(l){"function"==typeof l&&this.GetActionExecutings.push(l)}OnGetActionExecuting(l){this.GetActionExecutings.forEach(s=>{s(l)})}}class rn{constructor(){this._fnChangePointerTypes=[],this._fnChangePointerTypeTemps=[],this._fnChangePenTypes=[],this._fnChangeShapeTypes=[],this._fnChangePolygonTypes=[],this._fnChanges=[],this._pointer_type=0,this._pointer_type_temp=0,this._pen_type=0,this._shape_type=0,this._polygon_type=0}setPointer_nochange(l,s,u){if(this._pointer_type=l,s)switch(l){case D._.PEN:this._pen_type=s;break;case D._.SHAPE:this._shape_type=s,u&&s===Z.$.POLYGON&&(this._polygon_type=u)}}get pointer_type(){return this._pointer_type}set pointer_type(l){this._pointer_type=l,this.changePointerType(this.pointer_type),this.change(this.pointer_type)}get pointer_type_temp(){return this._pointer_type_temp}set pointer_type_temp(l){this._pointer_type_temp=l,this.changePointerTypeTemp(this.pointer_type),this.change(this.pointer_type_temp)}get pen_type(){return this._pen_type}set pen_type(l){this._pen_type=l,this.changePenType(this.pointer_type,this.pen_type),this.change(this.pointer_type,this.pen_type)}get shape_type(){return this._shape_type}set shape_type(l){this._shape_type=l,this.changeShapeType(this.pointer_type,this.shape_type),this.change(this.pointer_type,this.shape_type)}get polygon_type(){return this._polygon_type}set polygon_type(l){this._polygon_type=l,this.changePolygonType(this.pointer_type,this.shape_type,this.polygon_type),this.change(this.pointer_type,this.shape_type,this.polygon_type)}set onchangePointerType(l){this._fnChangePointerTypes.push(l)}changePointerType(l,s,u){this._fnChangePointerTypes.forEach(f=>f(l,s,u))}set onchangePointerTypeTemp(l){this._fnChangePointerTypeTemps.push(l)}changePointerTypeTemp(l,s,u){this._fnChangePointerTypeTemps.forEach(f=>f(l,s,u))}set onchangePenType(l){this._fnChangePenTypes.push(l)}changePenType(l,s,u){this._fnChangePenTypes.forEach(f=>f(l,s,u))}set onchangeShapeType(l){this._fnChangeShapeTypes.push(l)}changeShapeType(l,s,u){this._fnChangeShapeTypes.forEach(f=>f(l,s,u))}set onchangePolygonType(l){this._fnChangePolygonTypes.push(l)}changePolygonType(l,s,u){this._fnChangePolygonTypes.forEach(f=>f(l,s,u))}set onchange(l){this._fnChanges.push(l)}change(l,s,u){this._fnChanges.forEach(f=>f(l,s,u))}}const zt=new class an{constructor(){this._container="",this._svg="",this._screen=Me.prototype,this._data=ye.prototype,this._dataSelect=le.prototype,this._slide=de.prototype,this._history=Oe.prototype,this._attribute=tn.prototype,this._pointer=rn.prototype,this._variable=Bi.prototype,this._data=new ye,this._dataSelect=new le,this._slide=new de,this._history=new Oe,this._attribute=new tn,this._pointer=new rn,this._variable=new Bi,this._pointer.onchangePointerType=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])},this._pointer.onchangePointerTypeTemp=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])},this._data.onChangeSlide=()=>{this._dataSelect.ids.length&&(this._dataSelect.ids=[])}}get config(){return this._config}set config(l){this._config=l}get dataSource(){return{modules:"icdtV2",screen:this._screen.get,data:this._data.get,resources:this._data.getResource,variable:this._variable.get,info:{}}}set dataSource(l){this._screen.set=l.screen||{width:1280,height:720},this._data.set=l.data||{},this._variable.set=l.variable||{}}get container(){return this._container}set container(l){this._container=l}get svg(){return this._svg}set svg(l){this._svg=l}get target(){return window.document.querySelector(this._svg)}get screen(){return this._screen}get data(){return this._data}get dataSelect(){return this._dataSelect}get slide(){return this._slide}get history(){return this._history}get attribute(){return this._attribute}get pointer(){return this._pointer}get variable(){return this._variable}reloadView(){var l,s,u,f,p;this._screen.screen=(l=jQuery(this._container).offset(),s=jQuery(this._container).width(),u=jQuery(this._container).height(),{offset:{x:null!==(f=null==l?void 0:l.left)&&void 0!==f?f:0,y:null!==(p=null==l?void 0:l.top)&&void 0!==p?p:0},width:null!=s?s:0,height:null!=u?u:0})}init(l){this._container=l.container,this._svg=l.target,this._screen=new Me,(W=>{new st.Mh(W.container,W.target),zt.pointer.onchange=(u,f,p)=>{switch(u){case D._.POINTER:j(W.target).css({cursor:"auto"});break;case D._.HAND:j(W.target).css({cursor:"grab"});break;case D._.PEN:switch(f){case Rt.D.DRAW:j(W.target).css({cursor:"url(assets/images/svg/icon/viet.png) 12 32,default"});break;case Rt.D.HIGHTLIGH:j(W.target).css({cursor:"url(assets/images/svg/icon/highlight1.png) 12 32,default"})}break;case D._.ERASER:j(W.target).css({cursor:"url(assets/images/svg/icon/gom.png) 22 22,default"});break;case D._.SHAPE:j(W.target).css({cursor:"url(assets/images/svg/icon/point.png) 22 22,default"});break;case D._.TEXT:case D._.FOREIGNOBJECT:j(W.target).css({cursor:"url(assets/images/svg/icon/textmouse.png) 22 22,default"})}},j(W.container).off("mousedown.icdt-init-icon").on("mousedown.icdt-init-icon",u=>{zt.pointer.pointer_type==D._.HAND&&j(W.target).css({cursor:"grabbing"})}).off("mouseup.icdt-init-icon").on("mouseup.icdt-init-icon",u=>{zt.pointer.pointer_type==D._.HAND&&j(W.target).css({cursor:"grab"})}),j(W.container).off("mousewheel.icdt-init").on("mousewheel.icdt-init",u=>{var f;u.preventDefault();var p=zt.screen.scale,S=(null!==(f=u.originalEvent)&&void 0!==f?f:u).deltaY>0?1:-1;zt.screen.scaleTo(p-.04*p*S,(0,Ht.p)({x:u.clientX,y:u.clientY},1,{x:0,y:0},zt.screen.offset))}),j(window).off("mousedown.icdt-init").on("mousedown.icdt-init",u=>{zt.screen.actived=!!j(u.target).parents("app-main").length}),j(W.container).off("mouseenter.icdt-init").on("mouseenter.icdt-init",u=>{zt.screen.actived=!0}),j(W.container).off("mouseleave.icdt-init").on("mouseleave.icdt-init",u=>{zt.screen.actived=!1}),j(W.container).off("mousedown.icdt-init").on("mousedown.icdt-init",u=>{0==u.button&&(W.container.includes("#")&&W.container.includes(u.target.getAttribute("id"))||W.container.includes(".")&&W.container.includes(u.target.getAttribute("class"))||W.container.includes(u.target.nodeName))&&(zt.pointer.pointer_type_temp||zt.pointer.pointer_type)===D._.POINTER&&(zt.dataSelect.ids=[])}),j(W.container).off("touchmove.icdt-init").on("touchmove.icdt-init",u=>{u.preventDefault()});const l=u=>{switch(zt.pointer.pointer_type_temp||zt.pointer.pointer_type){case D._.POINTER:K(u);break;case D._.HAND:(W=>{(0,L.A)(W,new mt,1,{x:0,y:0})})(u);break;case D._.PEN:(0,ge.i)(u);break;case D._.SHAPE:(W=>{var l=null;switch(zt.pointer.shape_type){case Z.$.CIRCLE:l=new Nt;break;case Z.$.ELLIPSE:l=new Lt;break;case Z.$.LINE:l=new Ft;break;case Z.$.RECT:l=new Ot;break;case Z.$.POLYGON:var s;l=new St(null===(s=V.find(u=>u.type==zt.pointer.polygon_type))||void 0===s?void 0:s.ratios);break;case Z.$.FOREIGNOBJECT:l=new Kt;break;case Z.$.IMAGE:l=new Qt;break;case Z.$.TEXT:case Z.$.PATH:l=new At}l&&(0,L.A)(W,l)})(u);break;case D._.FOREIGNOBJECT:(W=>{(0,L.A)(W,new Kt)})(u);break;case D._.IMAGE:(W=>{(0,L.A)(W,new Qt)})(u);break;case D._.TEXT:(W=>{(0,L.A)(W,new Mt)})(u);break;case D._.ERASER:(W=>{(0,L.A)(W,new _t)})(u);break;case D._.INDEX:(0,yt.s)(u)}};let s=!1;j(W.target).off("touchstart.icdt-init").on("touchstart.icdt-init",u=>{s=!0,l({touchEvent:u})}),j(W.target).off("mousedown.icdt-init").on("mousedown.icdt-init",u=>{if(1!=u.button){if(s)return void(s=!1);l({mouseEvent:u})}}),W.iskeyboard&&(j(window).off("keydown.icdt-init").on("keydown.icdt-init",u=>{zt.screen.actived&&((u.ctrlKey||u.altKey)&&(u.stopPropagation(),u.preventDefault()),(0,Ce.t)(u))}),j(window).off("keyup.icdt-init").on("keyup.icdt-init",u=>{zt.screen.actived&&((u.ctrlKey||u.altKey)&&(u.stopPropagation(),u.preventDefault()),(0,Ce.t)(u))}))})({container:l.container,target:l.target,iskeyboard:l.iskeyboard})}}},4113:(Le,qt,x)=>{"use strict";x.d(qt,{s:()=>B,Q:()=>P});var j=x(1687),D=x(4981),st=x(4318),et=x(6816),Z=x(4080);const B=q=>{var K,dt;let mt=(null===(K=q.mouseEvent)||void 0===K?void 0:K.target)||(null===(dt=q.touchEvent)||void 0===dt?void 0:dt.target),R=(null==mt?void 0:mt.getAttribute("id"))||"",V=null==mt?void 0:mt.nodeName,F=$(mt).parents("g[id]").attr("id")||"";if(![j.O.INDEX_GROUP].includes(F))if(R&&!R.match(/[^0-9]/)&&D.icdt.dataSelect.nodeName.includes(V)){var Nt,jt;let Lt=parseFloat(R||"0");D.icdt.dataSelect.ids=null!==(Nt=q.mouseEvent)&&void 0!==Nt&&Nt.shiftKey||null!==(jt=q.touchEvent)&&void 0!==jt&&jt.shiftKey?[Lt].concat(D.icdt.dataSelect.ids).filter((Ot,a,St)=>St.indexOf(Ot)==a):[Lt],N(D.icdt.dataSelect.nodes)}else{var E;D.icdt.dataSelect.ids.length&&(D.icdt.dataSelect.ids=[]),(0==(null===(E=q.mouseEvent)||void 0===E?void 0:E.button)||q.touchEvent)&&((q,K)=>{let F=(0,Z.g1)(j.O.SCAN_GROUP,"g"),E=(0,st.bH)(0,0,1,1);(0,Z.vl)(F,E),((q,K,dt,mt)=>{(0,et.A)(q,{start:F=>{},move:(F,E)=>{((F,E,Nt,jt)=>{K=(0,st.bH)(F,E,Nt,jt),(0,Z.vl)(dt,K)})(E[0][0],E[0][1],F.x,F.y)},end:(F,E)=>{null==dt||dt.remove(),D.icdt.dataSelect.ids=D.icdt.data.getNodeInArea(Math.min(E[0][0],F.x),Math.min(E[0][1],F.y),Math.max(E[0][0],F.x),Math.max(E[0][1],F.y)),mt(D.icdt.dataSelect.nodes)}})})(q,E,F,K)})(q,N)}},N=q=>{var K,dt;let mt=1;var R,V;if(q.length&&(mt=Math.max.apply(null,null!==(R=null===(V=D.icdt.data.slide)||void 0===V||null===(V=V.svg)||void 0===V?void 0:V.nodes.map(E=>{var Nt;return null!==(Nt=E.idx)&&void 0!==Nt?Nt:0}))&&void 0!==R?R:[0])+1),1==q.length)q[0].idx||(q[0].idx=mt,q[0].time=0);else if(q.length>=0){let E=q.map(jt=>{var Lt;return null!==(Lt=jt.idx)&&void 0!==Lt?Lt:0}).filter(jt=>jt>0),Nt=E.length?Math.min.apply(null,E):mt;q.forEach(jt=>{var Lt;jt.idx=Nt,jt.time=null!==(Lt=jt.time)&&void 0!==Lt?Lt:0})}let F=(0,Z.g1)(j.O.INDEX_GROUP,"g");(0,Z.mo)(F,null!==(K=null===(dt=D.icdt.data.slide)||void 0===dt||null===(dt=dt.svg)||void 0===dt?void 0:dt.nodes)&&void 0!==K?K:[])},P=q=>{var K,dt,mt;null!=q&&null!==(K=q.svg)&&void 0!==K&&K.nodes&&q.svg.nodes.forEach(V=>{V.idx=0});let R=(0,Z.g1)(j.O.INDEX_GROUP,"g");(0,Z.mo)(R,null!==(dt=null===(mt=D.icdt.data.slide)||void 0===mt||null===(mt=mt.svg)||void 0===mt?void 0:mt.nodes)&&void 0!==dt?dt:[])}},4578:(Le,qt,x)=>{"use strict";x.d(qt,{h:()=>K,t:()=>dt});var j=x(644),D=x(7308),st=x(968),et=x(4981),Z=x(666),y=x(2966),L=x(5226),B=x(3423),N=x(5811),P=x(3385);const K=new class q{constructor(){this._fnChanges=[],this.onchange={type:"keydown",key:D.s.Escape,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.ids=[])}},this.onchange={type:"keydown",key:D.s.Delete,fn:()=>{et.icdt.dataSelect.deleteNode()}},this.onchange={type:"keydown",key:D.s.Space,fn:()=>{et.icdt.pointer.pointer_type_temp=st._.HAND}},this.onchange={type:"keyup",key:D.s.Space,fn:()=>{et.icdt.pointer.pointer_type_temp=st._.POINTER}},this.onchange={type:"keydown",key:D.s.ArrowLeft,fn:()=>{et.icdt.dataSelect.ids.length||et.icdt.data.backSlide()}},this.onchange={type:"keydown",key:D.s.ArrowRight,fn:()=>{et.icdt.dataSelect.ids.length||et.icdt.data.nextSlide()}},this.onchange={type:"keydown",key:D.s.ArrowLeft,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.nodes.forEach(R=>{(0,P.k6)(R,(0,N.q)(R.size.x-(0,B.v)(1)))}),1==et.icdt.dataSelect.ids.length?(0,Z.y)(et.icdt.dataSelect.nodes[0]):(0,y.Q)(et.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:D.s.ArrowRight,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.nodes.forEach(R=>{(0,P.k6)(R,(0,N.q)(R.size.x+(0,B.v)(1)))}),1==et.icdt.dataSelect.ids.length?(0,Z.y)(et.icdt.dataSelect.nodes[0]):(0,y.Q)(et.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:D.s.ArrowUp,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.nodes.forEach(R=>{(0,P.co)(R,(0,N.q)(R.size.y-(0,B.v)(1)))}),1==et.icdt.dataSelect.ids.length?(0,Z.y)(et.icdt.dataSelect.nodes[0]):(0,y.Q)(et.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:D.s.ArrowDown,fn:()=>{et.icdt.dataSelect.ids.length&&(et.icdt.dataSelect.nodes.forEach(R=>{(0,P.co)(R,(0,N.q)(R.size.y+(0,B.v)(1)))}),1==et.icdt.dataSelect.ids.length?(0,Z.y)(et.icdt.dataSelect.nodes[0]):(0,y.Q)(et.icdt.dataSelect.nodes))}},this.onchange={type:"keydown",key:D.s.Digit1,fn:R=>{R.shiftKey&&(et.icdt.screen.zoomTo="fit")}},this.onchange={type:"keydown",key:D.s.KeyA,fn:R=>{if(R.ctrlKey){et.icdt.dataSelect.ids=et.icdt.data.getNodeAll();let V=et.icdt.dataSelect.nodes;1==V.length?(0,Z.y)(V[0]):V.length>1&&(0,y.Q)(V)}}},this.onchange={type:"keydown",key:D.s.KeyC,fn:R=>{if(R.ctrlKey){let V=et.icdt.dataSelect.nodes;V&&(0,j.yR)({params:{type:"nodes",nodes:V}})}}},this.onchange={type:"keydown",key:D.s.KeyV,fn:R=>{R.ctrlKey&&(0,j.aY)({callback:V=>{var F,E;"nodes"==(null==V?void 0:V.type)&&null!=V&&null!==(F=V.nodes)&&void 0!==F&&F.length&&(null==V||null===(E=V.nodes)||void 0===E||E.forEach(Nt=>{Nt.id=Math.ceil(1e9*Math.random()),et.icdt.data.node=Nt}),(0,L.E)(et.icdt.data.slide))}})}},this.onchange={type:"keydown",key:D.s.KeyZ,fn:R=>{R.ctrlKey&&R.shiftKey?et.icdt.history.redo():R.ctrlKey&&et.icdt.history.undo()}}}set onchange(R){let V=this._fnChanges.find(F=>F.eventType==R.type&&F.eventKey==R.key);V?V.fns.push(R.fn):this._fnChanges.push({eventType:R.type,eventKey:R.key,fns:[R.fn]})}change(R,V,F){var E;null===(E=this._fnChanges.find(Nt=>Nt.eventType==R&&Nt.eventKey==V))||void 0===E||E.fns.forEach(Nt=>Nt(F))}},dt=mt=>{K.change(mt.type,mt.keyCode||mt.which||mt.charCode||0,mt)}},410:(Le,qt,x)=>{"use strict";x.d(qt,{a:()=>B});var j=x(4318),D=x(8419),st=x(9054),et=x(4080),Z=x(511),y=x(3423),L=x(1687);class B{constructor(P){var q;let K={stroke:"#FF0000",strokeWidth:(0,y.v)(2),strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:(0,y.v)(8)},{element:mt,attribute:R,size:V}=(0,D.G)(Math.ceil(1e9*Math.random()),{size:P});window.document.getElementById(L.O.INTERACTIVE_GROUP).querySelectorAll("path").forEach(Lt=>null==Lt?void 0:Lt.remove()),null===(q=window.document.getElementById(L.O.INTERACTIVE_GROUP))||void 0===q||q.appendChild(mt),(0,et.__)(mt,K);let E="";return{start:Lt=>{E=`M ${Lt.x} ${Lt.y} L ${Lt.x} ${Lt.y}`},move:(Lt,Pt)=>{((Lt,Pt)=>{E+=` ${Lt} ${Pt}`,mt.setAttribute("d",E)})(Lt.x,Lt.y)},end:(Lt,Pt)=>{(Lt=>{let Ot=Z.jvg().x(a=>a[0]).y(a=>a[1]).curve(Z.$0Z)(Lt);mt.setAttribute("d",Ot),Lt.length>=2&&(window.interactivePoints=Lt)})(Pt),(Lt=>{let Pt=9999,Ot=9999,a=-9999,St=-9999;Lt.forEach(kt=>{Pt=Math.min(Pt,kt[0]),Ot=Math.min(Ot,kt[1]),a=Math.max(a,kt[0]),St=Math.max(St,kt[1])}),V=(0,j.bH)(Pt,Ot,a,St,{points:Lt}),Object.assign(R,(0,j.sg)(st.$.PATH,V),K)})(Pt)}}}}},9623:(Le,qt,x)=>{"use strict";x.d(qt,{U:()=>mt,i:()=>dt});var j=x(1687),D=x(9125),st=x(4981),et=x(6816),Z=x(4080),y=x(4318),L=x(8419),B=x(9054),N=x(511);class P{constructor(){let V={strokeLinecap:"round",strokeLinejoin:"round"},{nodeId:F,element:E,attribute:Nt,size:jt}=(0,L.G)(Math.ceil(1e9*Math.random()));(0,Z.__)(E,Nt);let Pt="";return{start:St=>{Pt=`M ${St.x} ${St.y} L ${St.x} ${St.y}`},move:(St,kt)=>{((St,kt)=>{Pt+=` ${St} ${kt}`,E.setAttribute("d",Pt)})(St.x,St.y)},end:(St,kt)=>{(St=>{let Ft=N.jvg().x(Tt=>Tt[0]).y(Tt=>Tt[1]).curve(N.$0Z)(St);E.setAttribute("d",Ft)})(kt),(St=>{let kt=9999,Ft=9999,Tt=-9999,At=-9999;St.forEach(rt=>{kt=Math.min(kt,rt[0]),Ft=Math.min(Ft,rt[1]),Tt=Math.max(Tt,rt[0]),At=Math.max(At,rt[1])}),jt=(0,y.bH)(kt,Ft,Tt,At,{points:St}),Object.assign(Nt,(0,y.sg)(B.$.PATH,jt),V)})(kt),st.icdt.data.node=Object.assign({id:F,type:B.$.PATH,name:"Path"},{size:jt,attribute:Nt})}}}}class q{constructor(){let V={strokeOpacity:.4,strokeLinecap:"round",strokeLinejoin:"round"},{nodeId:F,element:E,attribute:Nt,size:jt}=(0,L.G)(Math.ceil(1e9*Math.random()));(0,Z.__)(E,Nt);let Pt="";var Ot=(a,St)=>{Pt+=` ${a} ${St}`,E.setAttribute("d",Pt)};return{start:a=>{Pt=`M ${a.x} ${a.y} L ${a.x} ${a.y}`},move:(a,St)=>{Ot(a.x,a.y)},end:(a,St)=>{Ot(a.x,a.y),(a=>{let St=9999,kt=9999,Ft=-9999,Tt=-9999;a.forEach(At=>{St=Math.min(St,At[0]),kt=Math.min(kt,At[1]),Ft=Math.max(Ft,At[0]),Tt=Math.max(Tt,At[1])}),jt=(0,y.bH)(St,kt,Ft,Tt,{points:a}),Object.assign(Nt,(0,y.sg)(B.$.PATH,jt),V)})(St),st.icdt.data.node=Object.assign({id:F,type:B.$.PATH,name:"Path"},{size:jt,attribute:Nt})}}}}var K=x(410);const dt=R=>{switch(st.icdt.pointer.pen_type){case D.D.DRAW:(0,et.A)(R,new P);break;case D.D.HIGHTLIGH:(0,et.A)(R,new q);break;case D.D.INTERACTIVE:mt(R)}},mt=R=>{var V,F;let E=(0,Z.g1)(j.O.INTERACTIVE_GROUP,"g"),Nt=null!==(V=null===(F=st.icdt.data.slide)||void 0===F||null===(F=F.svg)||void 0===F?void 0:F.viewBox)&&void 0!==V?V:(()=>{let{width:jt,height:Lt}=st.icdt.screen.get;return{x:0,y:0,width:jt,height:Lt}})();(0,Z.XH)(E,Nt),R&&(0,et.A)(R,new K.a)}},666:(Le,qt,x)=>{"use strict";x.d(qt,{y:()=>L});var j=x(1687),D=x(4981),st=x(4318),et=x(6816),Z=x(4080),y=x(5811);const L=P=>{let q=(0,Z.g1)(j.O.RESIZE_GROUP,"g");(0,Z.hJ)(q,P).forEach(K=>{B(K.element,K.posType,P,q)})},B=(P,q,K,dt)=>{let mt=!1;null==P||P.addEventListener("touchstart",R=>{mt=!0,N({touchEvent:R},q,K,dt)}),null==P||P.addEventListener("mousedown",R=>{if(0==R.button){if(mt)return void(mt=!1);N({mouseEvent:R},q,K,dt)}})},N=(P,q,K,dt)=>{let Ot,{id:mt,type:R,size:V,attribute:F}=K,{x:E,y:Nt,width:jt,height:Lt}=V,Pt=(jt||1)/(Lt||1),St=null,Tt=!1;(0,et.A)(P,{start:rt=>{St=JSON.parse(JSON.stringify({id:mt,size:V,attribute:F}))},move:(rt,Kt)=>{((rt,Kt,Vt,Qt)=>{switch(q){case"rect-center":var Te,Ce;Ot=null!==(Te=P.mouseEvent)&&void 0!==Te&&Te.shiftKey||null!==(Ce=P.touchEvent)&&void 0!==Ce&&Ce.shiftKey?Math.abs(Vt-rt)>=Math.abs(Qt-Kt)?{x:E+Vt-rt,y:Nt,width:jt,height:Lt}:{x:E,y:Nt+Qt-Kt,width:jt,height:Lt}:{x:E+Vt-rt,y:Nt+Qt-Kt,width:jt,height:Lt};break;case"rect-top-left":var ge,Y,ot,_,z,ct,Bt,ae;Ot=(null!==(ge=P.mouseEvent)&&void 0!==ge&&ge.shiftKey||null!==(Y=P.touchEvent)&&void 0!==Y&&Y.shiftKey)&&(null!==(ot=P.mouseEvent)&&void 0!==ot&&ot.altKey||null!==(_=P.touchEvent)&&void 0!==_&&_.altKey)?Pt>=1?{x:E+(Vt-rt),y:Nt+(Vt-rt)/Pt,width:jt-2*(Vt-rt),height:Lt-2*(Vt-rt)/Pt}:{x:E+(Qt-Kt)*Pt,y:Nt+(Qt-Kt),width:jt-2*(Qt-Kt)*Pt,height:Lt-2*(Qt-Kt)}:null!==(z=P.mouseEvent)&&void 0!==z&&z.shiftKey||null!==(ct=P.touchEvent)&&void 0!==ct&&ct.shiftKey?Pt>=1?{x:E+(Vt-rt),y:Nt+(Vt-rt)/Pt,width:jt-(Vt-rt),height:Lt-(Vt-rt)/Pt}:{x:E+(Qt-Kt)*Pt,y:Nt+(Qt-Kt),width:jt-(Qt-Kt)*Pt,height:Lt-(Qt-Kt)}:null!==(Bt=P.mouseEvent)&&void 0!==Bt&&Bt.altKey||null!==(ae=P.touchEvent)&&void 0!==ae&&ae.altKey?{x:E+(Vt-rt),y:Nt+(Qt-Kt),width:jt-2*(Vt-rt),height:Lt-2*(Qt-Kt)}:{x:E+(Vt-rt),y:Nt+(Qt-Kt),width:jt-(Vt-rt),height:Lt-(Qt-Kt)};break;case"rect-top-right":var pe,oe,se,Ae,Ke,De,te,Ve;Ot=(null!==(pe=P.mouseEvent)&&void 0!==pe&&pe.shiftKey||null!==(oe=P.touchEvent)&&void 0!==oe&&oe.shiftKey)&&(null!==(se=P.mouseEvent)&&void 0!==se&&se.altKey||null!==(Ae=P.touchEvent)&&void 0!==Ae&&Ae.altKey)?Pt>=1?{x:E-(Vt-rt),y:Nt-(Vt-rt)/Pt,width:jt+2*(Vt-rt),height:Lt+2*(Vt-rt)/Pt}:{x:E+(Qt-Kt)*Pt,y:Nt+(Qt-Kt),width:jt-2*(Qt-Kt)*Pt,height:Lt-2*(Qt-Kt)}:null!==(Ke=P.mouseEvent)&&void 0!==Ke&&Ke.shiftKey||null!==(De=P.touchEvent)&&void 0!==De&&De.shiftKey?Pt>=1?{x:E,y:Nt-(Vt-rt)/Pt,width:jt+(Vt-rt),height:Lt+(Vt-rt)/Pt}:{x:E,y:Nt+(Qt-Kt),width:jt-(Qt-Kt)*Pt,height:Lt-(Qt-Kt)}:null!==(te=P.mouseEvent)&&void 0!==te&&te.altKey||null!==(Ve=P.touchEvent)&&void 0!==Ve&&Ve.altKey?{x:E-(Vt-rt),y:Nt+(Qt-Kt),width:jt+2*(Vt-rt),height:Lt-2*(Qt-Kt)}:{x:E,y:Nt+(Qt-Kt),width:jt+(Vt-rt),height:Lt-(Qt-Kt)};break;case"rect-bottom-left":var _t,w,vt,Mt,U,at,nt,yt;Ot=(null!==(_t=P.mouseEvent)&&void 0!==_t&&_t.shiftKey||null!==(w=P.touchEvent)&&void 0!==w&&w.shiftKey)&&(null!==(vt=P.mouseEvent)&&void 0!==vt&&vt.altKey||null!==(Mt=P.touchEvent)&&void 0!==Mt&&Mt.altKey)?Pt>=1?{x:E+(Vt-rt),y:Nt+(Vt-rt)/Pt,width:jt-2*(Vt-rt),height:Lt-2*(Vt-rt)/Pt}:{x:E-(Qt-Kt)*Pt,y:Nt-(Qt-Kt),width:jt+2*(Qt-Kt)*Pt,height:Lt+2*(Qt-Kt)}:null!==(U=P.mouseEvent)&&void 0!==U&&U.shiftKey||null!==(at=P.touchEvent)&&void 0!==at&&at.shiftKey?Pt>=1?{x:E+(Vt-rt),y:Nt,width:jt-(Vt-rt),height:Lt-(Vt-rt)/Pt}:{x:E-(Qt-Kt)*Pt,y:Nt,width:jt+(Qt-Kt)*Pt,height:Lt+(Qt-Kt)}:null!==(nt=P.mouseEvent)&&void 0!==nt&&nt.altKey||null!==(yt=P.touchEvent)&&void 0!==yt&&yt.altKey?{x:E+(Vt-rt),y:Nt-(Qt-Kt),width:jt-2*(Vt-rt),height:Lt+2*(Qt-Kt)}:{x:E+(Vt-rt),y:Nt,width:jt-(Vt-rt),height:Lt+(Qt-Kt)};break;case"rect-bottom-right":var Rt,Ht,ht,$t,le,we,de,ue;Ot=(null!==(Rt=P.mouseEvent)&&void 0!==Rt&&Rt.shiftKey||null!==(Ht=P.touchEvent)&&void 0!==Ht&&Ht.shiftKey)&&(null!==(ht=P.mouseEvent)&&void 0!==ht&&ht.altKey||null!==($t=P.touchEvent)&&void 0!==$t&&$t.altKey)?Pt>=1?{x:E-(Vt-rt),y:Nt-(Vt-rt)/Pt,width:jt+2*(Vt-rt),height:Lt+2*(Vt-rt)/Pt}:{x:E-(Qt-Kt)*Pt,y:Nt-(Qt-Kt),width:jt+2*(Qt-Kt)*Pt,height:Lt+2*(Qt-Kt)}:null!==(le=P.mouseEvent)&&void 0!==le&&le.shiftKey||null!==(we=P.touchEvent)&&void 0!==we&&we.shiftKey?Pt>=1?{x:E,y:Nt,width:jt+(Vt-rt),height:Lt+(Vt-rt)/Pt}:{x:E,y:Nt,width:jt+(Qt-Kt)*Pt,height:Lt+(Qt-Kt)}:null!==(de=P.mouseEvent)&&void 0!==de&&de.altKey||null!==(ue=P.touchEvent)&&void 0!==ue&&ue.altKey?{x:E-(Vt-rt),y:Nt-(Qt-Kt),width:jt+2*(Vt-rt),height:Lt+2*(Qt-Kt)}:{x:E,y:Nt,width:jt+(Vt-rt),height:Lt+(Qt-Kt)};break;default:Ot={x:E+Vt-rt,y:Nt+Qt-Kt,width:jt,height:Lt}}Ot.width<0&&(Ot.width=0),Ot.height<0&&(Ot.height=0),Ot.x=(0,y.q)(Ot.x),Ot.y=(0,y.q)(Ot.y),Ot.width=(0,y.q)(Ot.width),Ot.height=(0,y.q)(Ot.height),Object.assign(V,Ot),Object.assign(F,(0,st.sg)(R,V)),(0,Z.__)(window.document.getElementById(mt),F),(0,Z.hJ)(dt,K)})(Kt[0][0],Kt[0][1],rt.x,rt.y),Tt=!0},end:(rt,Kt)=>{Tt&&St&&D.icdt.history.push([{type:"size",from:St,to:JSON.parse(JSON.stringify({id:mt,size:V,attribute:F}))}])}})}},2966:(Le,qt,x)=>{"use strict";x.d(qt,{Q:()=>B});var j=x(1687),D=x(4981),st=x(4318),et=x(6816),Z=x(4080),y=x(3423),L=x(5811);const B=q=>{let K=999999,dt=999999,mt=-999999,R=-999999;null==q||q.forEach(E=>{K=Math.min(K,E.size.x),dt=Math.min(dt,E.size.y),mt=Math.max(mt,E.size.x+E.size.width),R=Math.max(R,E.size.y+E.size.height)});let V=(0,Z.g1)(j.O.SELECT_GROUP,"g"),F=(0,st.bH)(K,dt,mt,R);(0,Z.yD)(V,q,F).forEach(E=>{N(E.element,E.posType,F,q,V)})},N=(q,K,dt,mt,R)=>{let V=!1;null==q||q.addEventListener("touchstart",F=>{V=!0,P({touchEvent:F},K,dt,mt,R)}),null==q||q.addEventListener("mousedown",F=>{if(0==F.button){if(V)return void(V=!1);P({mouseEvent:F},K,dt,mt,R)}})},P=(q,K,dt,mt,R)=>{let{x:V,y:F,width:E,height:Nt}=dt,jt=mt.map(kt=>Object.assign({},kt.size)),Pt=[];(0,et.A)(q,{start:kt=>{mt.forEach((kt,Ft)=>{let{id:Tt,size:rt,attribute:Kt}=kt;Pt.push(JSON.parse(JSON.stringify({id:Tt,size:rt,attribute:Kt})))})},move:(kt,Ft)=>{((kt,Ft,Tt,At)=>{(()=>{let rt;rt="rect-center"===K?{x:V+Tt-kt,y:F+At-Ft,width:E,height:Nt}:{x:V,y:F,width:E,height:Nt},(0,y.v)(D.icdt.screen.width),(0,y.v)(D.icdt.screen.height),rt.width<0&&(rt.width=0),rt.height<0&&(rt.height=0),Object.assign(dt,rt),(0,Z.yD)(R,mt,dt)})(),mt.forEach((rt,Kt)=>{let z,{x:Vt,y:Qt,width:Te,height:Ce}=jt[Kt],{id:ge,type:Y,size:ot,attribute:_}=rt;z="rect-center"===K?{x:Vt+Tt-kt,y:Qt+At-Ft,width:Te,height:Ce}:{x:Vt,y:Qt,width:Te,height:Ce},(0,y.v)(D.icdt.screen.width),(0,y.v)(D.icdt.screen.height),z.width<0&&(z.width=0),z.height<0&&(z.height=0),z.x=(0,L.q)(z.x),z.y=(0,L.q)(z.y),z.width=(0,L.q)(z.width),z.height=(0,L.q)(z.height),Object.assign(ot,z),Object.assign(_,(0,st.sg)(Y,ot)),(0,Z.__)(window.document.getElementById(ge),_)})})(Ft[0][0],Ft[0][1],kt.x,kt.y)},end:(kt,Ft)=>{Pt.length&&D.icdt.history.push(mt.map((kt,Ft)=>{let{id:Tt,size:rt,attribute:Kt}=kt;return{type:"size",from:Pt[Ft],to:JSON.parse(JSON.stringify({id:Tt,size:rt,attribute:Kt}))}}))}})}},5226:(Le,qt,x)=>{"use strict";x.d(qt,{E:()=>R,T:()=>V});var j=x(1687),D=x(8619),st=x(8785),et=x(2282),Z=x(8054),y=x(4921),L=x(6358),B=x(9054),N=x(8419),P=x(1105),q=x(2875),K=x(7210),dt=x(4981),mt=x(4080);const R=(F,E)=>{var Nt;if(E&&!window.document.getElementById(E))return;if(E){let Lt=window.document.getElementById(E);$(Lt).find("#"+j.O.BACKGROUND_GROUP).empty();let Pt=(0,mt.g1)(j.O.BACKGROUND_GROUP,"g",void 0,Lt);(0,mt.x0)(Pt,F)}else{$(dt.icdt.target).find("#"+j.O.BACKGROUND_GROUP).empty();let Lt=(0,mt.g1)(j.O.BACKGROUND_GROUP,"g",void 0,dt.icdt.target);(0,mt.x0)(Lt,F)}let jt=(Lt,Pt)=>{Pt=Pt?parseFloat(`${E}0${Pt}`):E,null==Lt||Lt.forEach(Ot=>{let a=E?parseFloat(`${E}0${Ot.id}`):Ot.id;var St;if(Ot.isdeleted)null===(St=window.document.getElementById(a))||void 0===St||St.remove();else switch(Ot.type){case B.$.GROUP:(0,L.m)(a,{},Pt),jt(Ot.nodes,Ot.id);break;case B.$.CIRCLE:(0,D._)(a,{size:Ot.size,attribute:Ot.attribute},Pt?window.document.getElementById(Pt):null);break;case B.$.ELLIPSE:(0,st.r)(a,{size:Ot.size,attribute:Ot.attribute},Pt);break;case B.$.LINE:(0,y.W)(a,{size:Ot.size,attribute:Ot.attribute},Pt);break;case B.$.RECT:(0,Z.f)(a,{size:Ot.size,attribute:Ot.attribute},Pt?window.document.getElementById(Pt):null);break;case B.$.POLYGON:(0,et.l)(a,{size:Ot.size,attribute:Ot.attribute},Pt);break;case B.$.FOREIGNOBJECT:(0,q.e)(a,{size:Ot.size,attribute:Ot.attribute,style:Ot.style,source:Ot.source},Pt?window.document.getElementById(Pt):null);break;case B.$.IMAGE:(0,K.G)(a,{size:Ot.size,attribute:Ot.attribute,source:Ot.source},Pt?window.document.getElementById(Pt):null);break;case B.$.TEXT:(0,P.$)(a,{size:Ot.size,attribute:Ot.attribute,source:Ot.source},Pt);break;case B.$.PATH:(0,N.G)(a,{size:Ot.size,attribute:Ot.attribute},Pt)}})};jt(null==F||null===(Nt=F.svg)||void 0===Nt?void 0:Nt.nodes)},V=(F,E)=>{var Nt;if(E&&!window.document.getElementById(E))return;let jt=(Lt,Pt)=>{Pt=Pt?parseFloat(`${E}0${Pt}`):E,null==Lt||Lt.forEach(Ot=>{let a=E?parseFloat(`${E}0${Ot.id}`):Ot.id;$("#"+a).appendTo(Pt?window.document.getElementById(Pt):dt.icdt.target),Ot.type==B.$.GROUP&&jt(Ot.nodes,Ot.id)})};jt(null==F||null===(Nt=F.svg)||void 0===Nt?void 0:Nt.nodes)}},8619:(Le,qt,x)=>{"use strict";x.d(qt,{_:()=>Z});var j=x(9054),D=x(4981),st=x(4318),et=x(4080);const Z=(y,L,B)=>{let N=(null==L?void 0:L.size)||{x:0,y:0,width:10,height:10},P=(null==L?void 0:L.attribute)||{fill:D.icdt.attribute.fill,stroke:D.icdt.attribute.stroke,strokeWidth:D.icdt.attribute.strokeWidth};return Object.assign(P,(0,st.sg)(j.$.CIRCLE,N)),{nodeId:y,element:(0,et.it)(y,j.$.CIRCLE,"circle",{size:N,attribute:P},B),size:N,attribute:P}}},8785:(Le,qt,x)=>{"use strict";x.d(qt,{r:()=>Z});var j=x(9054),D=x(4981),st=x(4318),et=x(4080);const Z=(y,L,B)=>{let N=(null==L?void 0:L.size)||{x:0,y:0,width:10,height:10},P=(null==L?void 0:L.attribute)||{fill:D.icdt.attribute.fill,stroke:D.icdt.attribute.stroke,strokeWidth:D.icdt.attribute.strokeWidth};return Object.assign(P,(0,st.sg)(j.$.ELLIPSE,N)),{nodeId:y,element:(0,et.it)(y,j.$.ELLIPSE,"ellipse",{size:N,attribute:P},B?window.document.getElementById(B):null),size:N,attribute:P}}},2875:(Le,qt,x)=>{"use strict";x.d(qt,{e:()=>et});var j=x(9054),D=x(4318),st=x(4080);const et=(Z,y,L)=>{let B=(null==y?void 0:y.size)||{x:0,y:0,width:180,height:180},N=(null==y?void 0:y.attribute)||{};Object.assign(N,(0,D.sg)(j.$.FOREIGNOBJECT,B));let P=(null==y?void 0:y.source)||{type:"html",html:{htmlContent:'<span style="font-family: Roboto; font-size: 24px;">H\xe3y nh\u1eadp n\u1ed9i dung c\u1ee7a b\u1ea1n!</span>'}},q=(null==y?void 0:y.style)||{};return{nodeId:Z,element:(0,st.it)(Z,j.$.FOREIGNOBJECT,"foreignObject",{size:B,attribute:N,style:q,source:P},L),size:B,attribute:N,style:q,source:P}}},6358:(Le,qt,x)=>{"use strict";x.d(qt,{m:()=>et});var j=x(9054),D=x(4318),st=x(4080);const et=(Z,y,L)=>{let B=(null==y?void 0:y.size)||{x:0,y:0,width:10,height:10},N=(null==y?void 0:y.attribute)||{};return Object.assign(N,(0,D.sg)(j.$.GROUP,B)),{nodeId:Z,element:(0,st.it)(Z,j.$.GROUP,"g",{size:B,attribute:N},L?window.document.getElementById(L):null),size:B,attribute:N}}},7210:(Le,qt,x)=>{"use strict";x.d(qt,{G:()=>et});var j=x(9054),D=x(4318),st=x(4080);const et=(Z,y,L)=>{let B=(null==y?void 0:y.size)||{x:0,y:0,width:200,height:100},N=(null==y?void 0:y.attribute)||{preserveAspectRatio:"none"};Object.assign(N,(0,D.sg)(j.$.IMAGE,B));let P=(null==y?void 0:y.source)||{type:"image",image:{url:"../../assets/image-svg/logo.svg",path:"assets/image-svg/logo.svg",name:"logo.svg"}};return{nodeId:Z,element:(0,st.it)(Z,j.$.IMAGE,"image",{size:B,attribute:N,source:P},L),size:B,attribute:N,source:P}}},4921:(Le,qt,x)=>{"use strict";x.d(qt,{W:()=>Z});var j=x(9054),D=x(4981),st=x(4318),et=x(4080);const Z=(y,L,B)=>{let N=(null==L?void 0:L.size)||{x:0,y:0,width:10,height:10},P=(null==L?void 0:L.attribute)||{stroke:D.icdt.attribute.stroke,strokeWidth:D.icdt.attribute.strokeWidth,strokeLinecap:D.icdt.attribute.strokeLinecap};return Object.assign(P,(0,st.sg)(j.$.LINE,N)),{nodeId:y,element:(0,et.it)(y,j.$.LINE,"line",{size:N,attribute:P},B?window.document.getElementById(B):null),size:N,attribute:P}}},8419:(Le,qt,x)=>{"use strict";x.d(qt,{G:()=>Z});var j=x(9054),D=x(4981),st=x(4318),et=x(4080);const Z=(y,L,B)=>{let N=(null==L?void 0:L.size)||{x:0,y:0,width:10,height:10},P=(null==L?void 0:L.attribute)||{stroke:D.icdt.attribute.stroke,strokeWidth:D.icdt.attribute.strokeWidth};return Object.assign(P,(0,st.sg)(j.$.PATH,N)),{nodeId:y,element:(0,et.it)(y,j.$.PATH,"path",{size:N,attribute:P},B?window.document.getElementById(B):null),size:N,attribute:P}}},2282:(Le,qt,x)=>{"use strict";x.d(qt,{l:()=>Z});var j=x(9054),D=x(4981),st=x(4318),et=x(4080);const Z=(y,L,B)=>{let N=(null==L?void 0:L.size)||{x:0,y:0,width:10,height:10},P=(null==L?void 0:L.attribute)||{fill:D.icdt.attribute.fill,stroke:D.icdt.attribute.stroke,strokeWidth:D.icdt.attribute.strokeWidth};return Object.assign(P,(0,st.sg)(j.$.POLYGON,N)),{nodeId:y,element:(0,et.it)(y,j.$.POLYGON,"polygon",{size:N,attribute:P},B?window.document.getElementById(B):null),size:N,attribute:P}}},8054:(Le,qt,x)=>{"use strict";x.d(qt,{f:()=>Z});var j=x(9054),D=x(4981),st=x(4318),et=x(4080);const Z=(y,L,B)=>{let N=(null==L?void 0:L.size)||{x:0,y:0,width:10,height:10},P=(null==L?void 0:L.attribute)||{fill:D.icdt.attribute.fill,stroke:D.icdt.attribute.stroke,strokeWidth:D.icdt.attribute.strokeWidth};return Object.assign(P,(0,st.sg)(j.$.RECT,N)),{nodeId:y,element:(0,et.it)(y,j.$.RECT,"rect",{size:N,attribute:P},B),size:N,attribute:P}}},1105:(Le,qt,x)=>{"use strict";x.d(qt,{$:()=>Z});var j=x(9054),D=x(4981),st=x(4318),et=x(4080);const Z=(y,L,B)=>{let N=(null==L?void 0:L.size)||{x:0,y:0,width:100,height:50},P=(null==L?void 0:L.attribute)||{fill:D.icdt.attribute.stroke,fontFamily:D.icdt.attribute.fontFamily,fontSize:D.icdt.attribute.fontSize,textLength:D.icdt.attribute.textLength};Object.assign(P,(0,st.sg)(j.$.TEXT,N));let q=(null==L?void 0:L.source)||{type:"text",text:{textContent:"H\xe3y nh\u1eadp n\u1ed9i dung c\u1ee7a b\u1ea1n!"}};return{nodeId:y,element:(0,et.it)(y,j.$.TEXT,"text",{size:N,attribute:P,source:q},B?window.document.getElementById(B):null),size:N,attribute:P,source:q}}},4318:(Le,qt,x)=>{"use strict";x.d(qt,{bH:()=>D,sg:()=>st});var j=x(9054);const D=(Z,y,L,B,N)=>{let P={x:Math.min(Z,L),y:Math.min(y,B),width:Math.abs(L-Z)||1,height:Math.abs(B-y)||1};return null!=N&&N.ratio&&(P.width<=P.height?P.height=P.width*(null==N?void 0:N.ratio):P.width=P.height/(null==N?void 0:N.ratio)),Object.assign(P,{ratios:(null==N?void 0:N.ratios)||[[(Z-P.x)/(P.width||1),(y-P.y)/(P.height||1)],[(L-P.x)/(P.width||1),(B-P.y)/(P.height||1)]]}),null!=N&&N.points&&(P.points=null==N?void 0:N.points),P},st=(Z,y,L)=>{var B=(()=>{switch(Z){case j.$.CIRCLE:return{cx:y.x+y.width/2,cy:y.y+y.height/2,r:Math.min(y.width/2,y.height/2)};case j.$.ELLIPSE:return{cx:y.x+y.width/2,cy:y.y+y.height/2,rx:y.width/2,ry:y.height/2};case j.$.LINE:{var N;let dt={};return null===(N=y.ratios)||void 0===N||N.forEach((mt,R)=>{dt[`x${R+1}`]=y.x+y.width*mt[0],dt[`y${R+1}`]=y.y+y.height*mt[1]}),dt}case j.$.RECT:return{x:y.x,y:y.y,width:y.width,height:y.height,rx:y.rx,ry:y.ry};case j.$.POLYGON:var P;return{points:((null===(P=y.ratios)||void 0===P?void 0:P.map(dt=>[y.x+y.width*dt[0],y.y+y.height*dt[1]]))||[]).map(dt=>dt.join(" ")).join(",")};case j.$.FOREIGNOBJECT:case j.$.IMAGE:return{x:y.x,y:y.y,width:y.width,height:y.height};case j.$.TEXT:var q;return{x:y.x,y:y.y+(null!==(q=null==L?void 0:L.fontSize)&&void 0!==q?q:20)-4};case j.$.PATH:{var K;let dt=null!==(K=y.points)&&void 0!==K?K:[];return dt.length?{d:`M ${dt[0][0]} ${dt[0][1]} L `+(dt.map(mt=>[mt[0],mt[1]])||[]).map(mt=>mt.join(" ")).join(" ")}:{d:""}}}return{}})();return y.rotate?(B.transform=`rotate(${y.rotate})`,B.transformOrigin=`${y.x+y.width/2} ${y.y+y.height/2}`):(B.transform=null,B.transformOrigin=null),B}},5811:(Le,qt,x)=>{"use strict";x.d(qt,{q:()=>j});const j=(D,st)=>{var et;return st=null!==(et=st)&&void 0!==et?et:100,Math.round((D+Number.EPSILON)*st)/st}},3423:(Le,qt,x)=>{"use strict";x.d(qt,{v:()=>st});var j=x(4981),D=x(5811);const st=et=>(0,D.q)(et/j.icdt.screen.scale)},3385:(Le,qt,x)=>{"use strict";x.d(qt,{NC:()=>P,SM:()=>N,VW:()=>q,Vs:()=>B,co:()=>y,k6:()=>Z,lO:()=>L,mr:()=>K});var j=x(4981),D=x(4080),st=x(4318),et=x(5811);const Z=(dt,mt)=>{let{id:R,type:V,size:F,attribute:E}=dt,Nt=JSON.parse(JSON.stringify({id:R,size:F,attribute:E}));F.x=(0,et.q)(mt),Object.assign(E,(0,st.sg)(V,F)),(0,D.__)(window.document.getElementById(R),E),j.icdt.history.push([{type:"size",from:Nt,to:JSON.parse(JSON.stringify({id:R,size:F,attribute:E}))}])},y=(dt,mt)=>{let{id:R,type:V,size:F,attribute:E}=dt,Nt=JSON.parse(JSON.stringify({id:R,size:F,attribute:E}));F.y=(0,et.q)(mt),Object.assign(E,(0,st.sg)(V,F)),(0,D.__)(window.document.getElementById(R),E),j.icdt.history.push([{type:"size",from:Nt,to:JSON.parse(JSON.stringify({id:R,size:F,attribute:E}))}])},L=(dt,mt,R)=>{let{id:V,type:F,size:E,attribute:Nt}=dt,jt=JSON.parse(JSON.stringify({id:V,size:E,attribute:Nt}));R&&(E.height=(0,et.q)(mt*E.height/E.width)),E.width=(0,et.q)(mt),Object.assign(Nt,(0,st.sg)(F,E)),(0,D.__)(window.document.getElementById(V),Nt),j.icdt.history.push([{type:"size",from:jt,to:JSON.parse(JSON.stringify({id:V,size:E,attribute:Nt}))}])},B=(dt,mt,R)=>{let{id:V,type:F,size:E,attribute:Nt}=dt,jt=JSON.parse(JSON.stringify({id:V,size:E,attribute:Nt}));R&&(E.width=(0,et.q)(mt*E.width/E.height)),E.height=(0,et.q)(mt),Object.assign(Nt,(0,st.sg)(F,E)),(0,D.__)(window.document.getElementById(V),Nt),j.icdt.history.push([{type:"size",from:jt,to:JSON.parse(JSON.stringify({id:V,size:E,attribute:Nt}))}])},N=(dt,mt)=>{let{id:R,type:V,size:F,attribute:E}=dt,Nt=JSON.parse(JSON.stringify({id:R,size:F,attribute:E}));F.r=(0,et.q)(mt),Object.assign(E,(0,st.sg)(V,F)),(0,D.__)(window.document.getElementById(R),E),j.icdt.history.push([{type:"size",from:Nt,to:JSON.parse(JSON.stringify({id:R,size:F,attribute:E}))}])},P=(dt,mt)=>{let{id:R,type:V,size:F,attribute:E}=dt,Nt=JSON.parse(JSON.stringify({id:R,size:F,attribute:E}));F.rx=(0,et.q)(mt),Object.assign(E,(0,st.sg)(V,F)),(0,D.__)(window.document.getElementById(R),E),j.icdt.history.push([{type:"size",from:Nt,to:JSON.parse(JSON.stringify({id:R,size:F,attribute:E}))}])},q=(dt,mt)=>{let{id:R,type:V,size:F,attribute:E}=dt,Nt=JSON.parse(JSON.stringify({id:R,size:F,attribute:E}));F.ry=(0,et.q)(mt),Object.assign(E,(0,st.sg)(V,F)),(0,D.__)(window.document.getElementById(R),E),j.icdt.history.push([{type:"size",from:Nt,to:JSON.parse(JSON.stringify({id:R,size:F,attribute:E}))}])},K=(dt,mt)=>{let{id:R,type:V,size:F,attribute:E}=dt,Nt=JSON.parse(JSON.stringify({id:R,size:F,attribute:E}));F.rotate=(0,et.q)(mt),Object.assign(E,(0,st.sg)(V,F)),(0,D.__)(window.document.getElementById(R),E),j.icdt.history.push([{type:"size",from:Nt,to:JSON.parse(JSON.stringify({id:R,size:F,attribute:E}))}])}},6816:(Le,qt,x)=>{"use strict";x.d(qt,{A:()=>y});var j=x(968),D=x(4981);class st{constructor(B){this._points=[],this._options=B}start(B){this._points.length=0,this._points.push([B.x,B.y]),this._options.start(B)}move(B){this._points.push([B.x,B.y]),this._options.move(B,this._points)}end(){this._options.end(this.offsetLast,this._points)}get offsetFirst(){return this._points.length>=1?{x:(B=this._points[0])[0],y:B[1]}:{x:0,y:0};var B}get offsetLast(){return this._points.length>=1?{x:(B=this._points[this._points.length-1])[0],y:B[1]}:{x:0,y:0};var B}}var et=x(7797);const y=(L,B,N,P,q)=>{var K,dt,mt;let R=null,V=0,F=0;L.mouseEvent?(R=L.mouseEvent.target,V=L.mouseEvent.offsetX,F=L.mouseEvent.offsetY):L.touchEvent&&(R=L.touchEvent.target,L.touchEvent.touches.length&&(V=L.touchEvent.touches[0].clientX,F=L.touchEvent.touches[0].clientY));let E=null!=N?N:D.icdt.screen.scale,Nt=null!=P?P:D.icdt.screen.dislocation,jt=null!=q?q:D.icdt.screen.offset,Lt=()=>{};var Pt=new st({start:null!==(K=null==B?void 0:B.start)&&void 0!==K?K:Lt,move:null!==(dt=null==B?void 0:B.move)&&void 0!==dt?dt:Lt,end:null!==(mt=null==B?void 0:B.end)&&void 0!==mt?mt:Lt});L.mouseEvent?Pt.start((0,et.p)({x:V,y:F},E,Nt,{x:0,y:0})):L.touchEvent&&Pt.start((0,et.p)({x:V,y:F},E,Nt,jt));let Ot=rt=>{Pt.move((0,et.p)({x:rt.clientX,y:rt.clientY},E,Nt,jt))},a=rt=>{Pt.end(),[j._.SHAPE,j._.FOREIGNOBJECT,j._.IMAGE,j._.TEXT].includes(D.icdt.pointer.pointer_type)&&(rt.shiftKey||(D.icdt.pointer.pointer_type=j._.POINTER))},St=rt=>{rt.touches.length&&Ot({clientX:rt.touches[0].clientX,clientY:rt.touches[0].clientY})},kt=rt=>{a({shiftKey:rt.shiftKey,ctrlKey:rt.ctrlKey,altKey:rt.altKey}),window.removeEventListener("touchmove",St,!1),window.removeEventListener("touchend",kt,!1)},Ft=rt=>{0==rt.button&&Ot({clientX:rt.clientX,clientY:rt.clientY})},Tt=rt=>{0==rt.button&&(a({shiftKey:rt.shiftKey,ctrlKey:rt.ctrlKey,altKey:rt.altKey}),window.removeEventListener("mousemove",Ft,!1),window.removeEventListener("mouseup",Tt,!1))};if(L.mouseEvent)window.addEventListener("mousemove",Ft,!1),window.addEventListener("mouseup",Tt,!1);else if(L.touchEvent){var At;window.addEventListener("touchmove",St,!1),window.addEventListener("touchend",kt,!1),null===(At=R)||void 0===At||At.addEventListener("touchmove",function(rt){rt.preventDefault()})}}},7797:(Le,qt,x)=>{"use strict";x.d(qt,{p:()=>D});var j=x(5811);const D=(st,et,Z,y)=>(st.x-=y.x,st.y-=y.y,st.x/=et,st.y/=et,st.x-=Z.x,st.y-=Z.y,st.x=(0,j.q)(st.x),st.y=(0,j.q)(st.y),st)},1690:(Le,qt,x)=>{"use strict";x.d(qt,{$:()=>te});var j=x(4981),D=x(9054),st=x(2276),et=x(5973),Z=x(2336),y=x(861),L=x(157),B=x(4787),P=x(1105),q=x(6358);const E=function(_t){var w,vt,Mt=$("#"+_t),U=null===(w=Mt.attr("class"))||void 0===w?void 0:w.match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm),at=null===(vt=Mt.attr("class"))||void 0===vt?void 0:vt.match(/animate((__[a-zA-Z0-9]+)+)?(\s+||\")/gm);U&&U.forEach(function(yt){$(Mt).removeClass(yt)}),at&&at.forEach(function(yt){$(Mt).removeClass(yt)});let nt=Mt.attr("data-class");nt&&(Mt.attr("class",nt),Mt.removeAttr("data-class")),$(Mt).data("animation-running",!1)};var Nt=x(7210),jt=x(5811);const Lt=(_t,w,vt)=>{var Mt,U,at,nt;let yt=1,Rt=new Image;Rt.onload=()=>{var Ht,ht,$t,le;yt=(0,jt.q)(Rt.naturalWidth/Rt.naturalHeight,100);let we=0,de=0,ue=0,ye=0;var je,Oe,Me,Ze;yt>=1?(ue=Math.min(Rt.naturalWidth,null!==(je=null===(Oe=te.slide.svg)||void 0===Oe||null===(Oe=Oe.viewBox)||void 0===Oe?void 0:Oe.width)&&void 0!==je?je:0),ye=ue/yt):(ye=Math.min(Rt.naturalHeight,null!==(Me=null===(Ze=te.slide.svg)||void 0===Ze||null===(Ze=Ze.viewBox)||void 0===Ze?void 0:Ze.height)&&void 0!==Me?Me:0),ue=ye/yt),we=((null!==(Ht=null===(ht=te.slide.svg)||void 0===ht||null===(ht=ht.viewBox)||void 0===ht?void 0:ht.width)&&void 0!==Ht?Ht:0)-ue)/2,de=((null!==($t=null===(le=te.slide.svg)||void 0===le||null===(le=le.viewBox)||void 0===le?void 0:le.height)&&void 0!==$t?$t:0)-ye)/2,w.size={x:we,y:de,width:ue,height:ye},Pt(w,vt)},Rt.onerror=Ht=>{console.error(`ImgSrc load failed -> ${JSON.stringify(w.source)}`,Ht)},Rt.src=null!==(Mt=null!==(U=null===(at=w.source)||void 0===at?void 0:at.url)&&void 0!==U?U:null===(nt=w.source)||void 0===nt?void 0:nt.path)&&void 0!==Mt?Mt:""},Pt=(_t,w)=>{if(_t.slideStatus!=te.slideStatus)return void w();let{element:vt}=(0,Nt.G)(Math.ceil(1e9*Math.random()),{size:_t.size,source:{type:"image",image:null==_t?void 0:_t.source}});setTimeout(()=>{null==vt||vt.remove(),w()},3e3)},Ot=(_t,w,vt)=>{var Mt,U,at,nt;let yt=new Image;yt.onload=()=>{a(_t,{width:yt.naturalWidth,height:yt.naturalHeight},w,vt)},yt.onerror=Rt=>{console.error(`ImgSrc load failed -> ${JSON.stringify(w.source)}`,Rt),vt()},yt.src=null!==(Mt=null!==(U=null===(at=w.source)||void 0===at?void 0:at.url)&&void 0!==U?U:null===(nt=w.source)||void 0===nt?void 0:nt.path)&&void 0!==Mt?Mt:""},a=(_t,w,vt,Mt)=>{if(vt.slideStatus!=te.slideStatus)return void Mt();let U=(0,jt.q)(w.width/w.height,100),at=0,nt=0,yt=0,Rt=0;U>=1?(yt=w.width,yt=Math.max(yt,40),yt=Math.min(yt,100),Rt=yt/U):(Rt=w.height,Rt=Math.max(Rt,40),Rt=Math.min(Rt,100),yt=Rt/U);let{size:Ht}=_t;at=Ht.x+Ht.width/2-yt/2,nt=Ht.y+Ht.height/2-Rt/2;let{element:ht}=(0,Nt.G)(Math.ceil(1e9*Math.random()),{size:{x:at,y:nt,width:yt,height:Rt},source:{type:"image",image:null==vt?void 0:vt.source}});setTimeout(()=>{null==ht||ht.remove(),Mt()},3e3)};var St=x(4080);const kt=(_t,w,vt)=>{var Mt,U,at;if(w.slideStatus!=te.slideStatus)return void vt();if(null===(Mt=w.source)||void 0===Mt||!Mt.url)return console.warn(`${_t.id} -> audio no source!`),void vt();var nt=$("#"+_t.id);let yt=null!==(U=w.iteration)&&void 0!==U?U:0;if(yt<0&&(vt(),vt=function(){}),!(nt.data("audio-running")&&yt<0)){nt.data("audio-running",!0);var Rt=new Audio;return Rt.autoplay=!0,Rt.loop=0!=yt,Rt.preload="auto",Rt.controls=!0,Rt.setAttributeNode(document.createAttribute("playsinline")),Rt.addEventListener("canplay",function(){var Ht=Rt.play();Ht&&Ht.then(function(ht){nt.data("audio-running",!0)}).catch(function(ht){nt.data("audio-running",!1),w.slideStatus===te.slideStatus&&vt()})}),Rt.addEventListener("timeupdate",function(){var ht;w.slideStatus!==te.slideStatus&&((ht=this).pause(),ht.remove(),nt.data("audio-running",!1))}),Rt.addEventListener("canplaythrough",function(){this.loop&&(yt>0?yt--:0==yt&&(this.loop=!1))}),Rt.addEventListener("play",function(){}),Rt.addEventListener("pause",function(){}),Rt.addEventListener("ended",function(){this.remove(),nt.data("audio-running",!1),w.slideStatus===te.slideStatus&&vt()}),Rt.onerror=function(){this.remove(),nt.data("audio-running",!1),w.slideStatus===te.slideStatus&&vt()},Rt.src=(null===(at=w.source)||void 0===at?void 0:at.url)||"",Rt}};var Ft=x(1687),Tt=x(4447);const Te=(_t,w,vt)=>{var Mt;null===(Mt=w.test)||void 0===Mt||null===(Mt=Mt.answer)||void 0===Mt||null===(Mt=Mt.matching)||void 0===Mt||Mt.filter(U=>U.value==vt.key).forEach(U=>U.value="")},ge=(_t,w,vt,Mt,U,at)=>{var nt,yt,Rt,Ht,ht,$t,le,we,de,ue,ye,je;U.iscorrect?(null!==(nt=w.test)&&void 0!==nt&&null!==(nt=nt.audiotrue)&&void 0!==nt&&nt.path&&kt(_t,{source:(0,Tt.I)(null===(Ht=w.test)||void 0===Ht?void 0:Ht.audiotrue),iteration:0,nodeStatus:vt,slideStatus:Mt},at),null!==(yt=w.test)&&void 0!==yt&&null!==(yt=yt.icontrue)&&void 0!==yt&&yt.path&&Ot(_t,{source:(0,Tt.I)(null===(ht=w.test)||void 0===ht?void 0:ht.icontrue),iteration:0,nodeStatus:vt,slideStatus:Mt},at),null!==(Rt=w.test)&&void 0!==Rt&&null!==(Rt=Rt.effecttrue)&&void 0!==Rt&&Rt.path&&Lt(0,{source:(0,Tt.I)(null===($t=w.test)||void 0===$t?void 0:$t.effecttrue),iteration:0,nodeStatus:vt,slideStatus:Mt},at)):(null!==(le=w.test)&&void 0!==le&&null!==(le=le.audiofalse)&&void 0!==le&&le.path&&kt(_t,{source:(0,Tt.I)(null===(ue=w.test)||void 0===ue?void 0:ue.audiofalse),iteration:0,nodeStatus:vt,slideStatus:Mt},at),null!==(we=w.test)&&void 0!==we&&null!==(we=we.iconfalse)&&void 0!==we&&we.path&&Ot(_t,{source:(0,Tt.I)(null===(ye=w.test)||void 0===ye?void 0:ye.iconfalse),iteration:0,nodeStatus:vt,slideStatus:Mt},at),null!==(de=w.test)&&void 0!==de&&null!==(de=de.effectfalse)&&void 0!==de&&de.path&&Lt(0,{source:(0,Tt.I)(null===(je=w.test)||void 0===je?void 0:je.effectfalse),iteration:0,nodeStatus:vt,slideStatus:Mt},at))},Y=(_t,w,vt,Mt)=>{var U,at,nt,yt,Rt;w.animate&&((_t,w,vt)=>{var Mt;let{value:at}=null!==(Mt=_t.animate)&&void 0!==Mt?Mt:{};((_t,w,vt)=>{var Mt;let U=$("#"+_t),at="",nt=null!==(Mt=w.iteration)&&void 0!==Mt?Mt:0,yt=[];(w.value||"").match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm)?yt.push(w.value):w.value?["top-left","top","top-right","left","right","bottom-left","bottom","bottom-right"].includes(w.value)?(yt.push("animation"),yt.push(`animation-${w.value}`)):(yt.push("animate__animated"),yt.push(`animate__${w.value}`)):(yt.push("animation"),yt.push("animation-fadein")),nt<0?(yt.push("animation-iteration-infinite"),vt(),vt=function(){}):nt>0&&yt.push("animation-iteration-"+(nt+1)),at=yt.join(" "),function(Ht){let ht=function(){U.data("animate-running")?U.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){U.data("animate-running",!1),setTimeout(function(){Ht()},100)}):Ht()};U.hasClass("animation")?setTimeout(function(){ht()}):ht()}(function(){var Ht;E(_t),(nt>0||nt<0)&&U.one("animationiteration",function(){w.slideStatus===te.slideStatus||(U.data("animate-running",!1),E(_t),w.slideStatus===te.slideStatus&&vt())}),U.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){switch(U.data("animate-running",!1),E(_t),w.finish){default:case 0:case 1:break;case 2:U.addClass("hide")}w.slideStatus===te.slideStatus&&vt()}),U.attr("data-class",null!==(Ht=U.attr("class"))&&void 0!==Ht?Ht:""),U.addClass(at),U.data("animate-running",!0)})})(_t.id,{value:at,nodeStatus:w,slideStatus:vt},()=>{})})(w,vt.nodeStatus,vt.slideStatus),null!==(U=w.interactive)&&void 0!==U&&U.show?((_t,w,vt,Mt)=>{var U,at,nt;console.log("icdt_Run_Interactive_NodeShow",_t,w,vt);let yt={total:0,counter:0},{triggershow:Rt,triggerrun:Ht,triggerhide:ht,action:$t,audio:le}=null!==(U=null===(at=_t.interactive)||void 0===at?void 0:at.show)&&void 0!==U?U:{};if(Rt){let{id:de,ids:ue,time:ye,async:je}=Rt;"asynctrue"==je?(0,B.L5)({id:de,ids:ue,nodeStatus:w,slideStatus:vt}):"time"==je&&setTimeout(()=>{(0,B.L5)({id:de,ids:ue,nodeStatus:w,slideStatus:vt})},1e3*(null!=ye?ye:0))}if(Ht){let{id:de,ids:ue,time:ye,async:je}=Ht;"asynctrue"==je?(0,B.Ar)({id:de,ids:ue,nodeStatus:w,slideStatus:vt}):"time"==je&&setTimeout(()=>{(0,B.Ar)({id:de,ids:ue,nodeStatus:w,slideStatus:vt})},1e3*(null!=ye?ye:0))}if(ht){let{id:de,ids:ue,time:ye,async:je}=ht;"asynctrue"==je?(0,B.WT)({id:de,ids:ue,nodeStatus:w,slideStatus:vt}):"time"==je&&setTimeout(()=>{(0,B.WT)({id:de,ids:ue,nodeStatus:w,slideStatus:vt})},1e3*(null!=ye?ye:0))}let we=()=>{setTimeout(()=>{if(yt.counter>=yt.total){if(Mt&&Mt(),Rt){let{id:de,ids:ue,async:ye}=Rt;"asyncfalse"==ye&&(0,B.L5)({id:de,ids:ue,nodeStatus:w,slideStatus:vt})}if(Ht){let{id:de,ids:ue,async:ye}=Ht;"asyncfalse"==ye&&(0,B.Ar)({id:de,ids:ue,nodeStatus:w,slideStatus:vt})}if(ht){let{id:de,ids:ue,async:ye}=ht;"asyncfalse"==ye&&(0,B.WT)({id:de,ids:ue,nodeStatus:w,slideStatus:vt})}}})};if($t&&null!=$t&&$t.value){yt.total+=1;let de=()=>{yt.counter+=1,we()};switch(null==$t?void 0:$t.value){case"hide":$("#"+_t.id).addClass("hide"),de();break;case"points":{let{points:ue,time:ye,iteration:je,finish:Oe}=$t;(0,y.G)(_t.id,{points:ue,time:ye,iteration:je,finish:Oe,nodeStatus:w,slideStatus:vt},de);break}default:{let{value:ue,time:ye,iteration:je,finish:Oe}=$t;(0,Z.Q)(_t.id,{value:ue,time:ye,iteration:je,finish:Oe,nodeStatus:w,slideStatus:vt},de);break}}}if(le&&null!==(nt=le.source)&&void 0!==nt&&nt.path){yt.total+=1;let de=()=>{yt.counter+=1,we()};(0,L.R)(_t.id,le,yt,{nodeStatus:w,slideStatus:vt},de)}yt.total||we()})(w,vt.nodeStatus,vt.slideStatus,Mt):Mt&&Mt(),null!==(at=w.interactive)&&void 0!==at&&at.click&&st("#"+w.id).click(Ht=>{var ht;Ht.preventDefault(),null!==(ht=w.interactive)&&void 0!==ht&&null!==(ht=ht.click)&&void 0!==ht&&ht.action&&st("#"+w.id).addClass("interactive-click"),vt.nodeStatus=te.refreshNodeStatus(),(0,et.F)(w,vt.nodeStatus,vt.slideStatus)}),null!==(nt=w.variable)&&void 0!==nt&&nt.input&&st("#"+w.id).on("change","input,textarea",Ht=>{Ht.preventDefault(),((_t,w,vt)=>{var Mt,U;j.icdt.variable.setValue(null!==(Mt=null===(U=w.variable)||void 0===U||null===(U=U.input)||void 0===U?void 0:U.variable)&&void 0!==Mt?Mt:"",_t),(_t=>{var w;let vt=(Mt,U)=>{null==Mt||Mt.forEach(at=>{switch(at.type){case D.$.GROUP:(0,q.m)(at.id,{},U),vt(at.nodes,at.id);break;case D.$.POLYGON:break;case D.$.TEXT:(0,P.$)(at.id,{size:at.size,attribute:at.attribute,source:at.source},U)}})};vt(null===(w=_t.svg)||void 0===w?void 0:w.nodes)})(vt)})(Ht.target.value,w,_t)}),null!==(yt=w.variable)&&void 0!==yt&&yt.click&&st("#"+w.id).click(Ht=>{var ht;Ht.preventDefault(),null!==(ht=w.variable)&&void 0!==ht&&null!==(ht=ht.click)&&void 0!==ht&&ht.variable&&st("#"+w.id).addClass("variable-click"),((_t,w)=>{var vt;j.icdt.variable.setValueOperator(null===(vt=_t.variable)||void 0===vt?void 0:vt.click),(_t=>{var w;let vt=(Mt,U)=>{null==Mt||Mt.forEach(at=>{switch(at.type){case D.$.GROUP:(0,q.m)(at.id,{},U),vt(at.nodes,at.id);break;case D.$.POLYGON:break;case D.$.TEXT:(0,P.$)(at.id,{size:at.size,attribute:at.attribute,source:at.source},U)}})};vt(null===(w=_t.svg)||void 0===w?void 0:w.nodes)})(w)})(w,_t)}),"test"==(null===(Rt=w.source)||void 0===Rt?void 0:Rt.type)&&((_t,w)=>{var vt;let Mt=()=>{};switch(null===(vt=_t.source)||void 0===vt||null===(vt=vt.test)||void 0===vt?void 0:vt.type){case"singlechoice":jQuery("#"+_t.id).click(U=>{U.preventDefault(),((_t,w,vt,Mt,U)=>{var at,nt;let yt=null===(at=_t.source)||void 0===at||null===(at=at.test)||void 0===at||null===(at=at.singlechoice)||void 0===at?void 0:at.iscorrect;null!==(nt=w.svg)&&void 0!==nt&&nt.nodes.find(Ht=>{var ht;return"submit"==(null===(ht=Ht.source)||void 0===ht||null===(ht=ht.test)||void 0===ht?void 0:ht.type)})||ge(_t,w,vt,Mt,{iscorrect:yt},U),w.test?w.test.answer?w.test.answer.singlechoice={value:_t.id,iscorrect:yt}:w.test.answer={singlechoice:{value:_t.id,iscorrect:yt}}:w.test={answer:{singlechoice:{value:_t.id,iscorrect:yt}}};let Rt=(0,St.g1)(Ft.O.TEST_GROUP,"g",void 0,j.icdt.target);(0,St.Yw)(Rt,w),console.log("node source ->",_t.source),console.log("slide test ->",w.test)})(_t,w,te.nodeStatus,te.slideStatus,Mt)});break;case"multichoice":jQuery("#"+_t.id).click(U=>{U.preventDefault(),((_t,w,vt,Mt,U)=>{var at,nt;let Rt,yt=null===(at=_t.source)||void 0===at||null===(at=at.test)||void 0===at||null===(at=at.multichoice)||void 0===at?void 0:at.iscorrect;null!==(nt=w.svg)&&void 0!==nt&&nt.nodes.find(ht=>{var $t;return"submit"==(null===($t=ht.source)||void 0===$t||null===($t=$t.test)||void 0===$t?void 0:$t.type)})||ge(_t,w,vt,Mt,{iscorrect:yt},U),w.test?w.test.answer?w.test.answer.multichoice?w.test.answer.multichoice.find(ht=>ht.value==_t.id)?(w.test.answer.multichoice=w.test.answer.multichoice.filter(ht=>ht.value!=_t.id),Rt=!0):w.test.answer.multichoice.push({value:_t.id,iscorrect:yt}):w.test.answer.multichoice=[{value:_t.id,iscorrect:yt}]:w.test.answer={multichoice:[{value:_t.id,iscorrect:yt}]}:w.test={answer:{multichoice:[{value:_t.id,iscorrect:yt}]}};let Ht=(0,St.g1)(Ft.O.TEST_GROUP,"g",void 0,j.icdt.target);(0,St.Yw)(Ht,w),console.log("node source ->",_t.source),console.log("slide test ->",w.test)})(_t,w,te.nodeStatus,te.slideStatus,Mt)});break;case"fill":jQuery("#"+_t.id).on("keyup",'input[type="text"]',U=>{var at;let nt=$("<div/>").css({"font-size":$(U.target).css("font-size"),visibility:"hidden",float:"left"}).text(U.target.value).appendTo(window.document.body);$(U.target).css({width:(null!==(at=nt.width())&&void 0!==at?at:0)+30})}).on("keypress",'input[type="text"]',U=>{13===(U.keyCode||U.charCode||U.which)&&(U.preventDefault(),U.stopPropagation(),$(U.target).blur())}).on("change",'input[type="text"]',U=>{var at,nt;let yt=te.nodeStatus,Rt=te.slideStatus,Ht=null===(at=U.target)||void 0===at?void 0:at.getAttribute("data-key"),ht=null===(nt=U.target)||void 0===nt||null===(nt=nt.value)||void 0===nt||null===(nt=nt.toLowerCase())||void 0===nt?void 0:nt.trim();((_t,w,vt,Mt,U,at)=>{var nt,yt,Rt;let{value:Ht}=null!==(nt=null===(yt=_t.source)||void 0===yt||null===(yt=yt.test)||void 0===yt||null===(yt=yt.fill)||void 0===yt?void 0:yt.find($t=>$t.key==`[[${U.key}]]`))&&void 0!==nt?nt:{},ht=Ht&&Ht.includes(U.value);null!==(Rt=w.svg)&&void 0!==Rt&&Rt.nodes.find($t=>{var le;return"submit"==(null===(le=$t.source)||void 0===le||null===(le=le.test)||void 0===le?void 0:le.type)})||ge(_t,w,vt,Mt,{iscorrect:ht},at),U.iscorrect=ht,w.test?w.test.answer?w.test.answer.fill?w.test.answer.fill.find($t=>$t.key==U.key)?w.test.answer.fill.filter($t=>$t.key==U.key).forEach($t=>{$t.value=U.value,$t.iscorrect=U.iscorrect}):w.test.answer.fill.push(U):w.test.answer.fill=[U]:w.test.answer={fill:[U]}:w.test={answer:{fill:[U]}},console.log("node source ->",_t.source),console.log("slide test ->",w.test)})(_t,w,yt,Rt,{key:Ht,value:ht},Mt),jQuery("#"+_t.id).find(`input[type="text"][data-key="${Ht}"]`).val(ht)});break;case"matching-empty":jQuery("#"+_t.id).on("touchmove",".ondrag-item",function(U){U.preventDefault()}).kendoDraggable({filter:".ondrag-item",hint:function(U){return`<div style="width:64px;height:${_t.size.height/_t.size.width*64}px;border-radius:8px;border:1px dashed #DADADA;padding:8px;box-sizing:content-box;background-color:rgba(255,255,255,0.4);">${U.prop("outerHTML")}</div>`.replace(/\s+/g," ")},dragstart:function(U){$('svg foreignObject .ondrop-here[data-type="matching"]:empty').addClass("actived")},drag:function(U){},dragend:function(U){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")},dragcancel:function(){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")}}),jQuery(`#${_t.id} .ondrop-here`).kendoDropTarget({dragenter:function(U){U.dropTarget.hasClass("actived")&&U.dropTarget.addClass("focused")},dragleave:function(U){U.dropTarget.hasClass("actived")&&U.dropTarget.removeClass("focused")},drop:function(U){if(!U.dropTarget.hasClass("actived"))return;U.dropTarget.removeClass("focused");let nt=U.draggable.currentTarget;nt.appendTo(U.dropTarget),((_t,w,vt,Mt,U,at)=>{var nt,yt,Rt;let{key:Ht}=null!==(nt=null===(yt=_t.source)||void 0===yt||null===(yt=yt.test)||void 0===yt?void 0:yt.matching)&&void 0!==nt?nt:{key:"KIEN"},ht=U.key==Ht;null!==(Rt=w.svg)&&void 0!==Rt&&Rt.nodes.find(le=>{var we;return"submit"==(null===(we=le.source)||void 0===we||null===(we=we.test)||void 0===we?void 0:we.type)})||ge(_t,w,vt,Mt,{iscorrect:ht},at),Te(_t,w,U);let $t={key:null!=Ht?Ht:"",value:U.key};w.test?w.test.answer?w.test.answer.matching?w.test.answer.matching.find(le=>le.key==Ht)?w.test.answer.matching.filter(le=>le.key==Ht).forEach(le=>le.value=$t.value):w.test.answer.matching.push($t):w.test.answer.matching=[$t]:w.test.answer={matching:[$t]}:w.test={answer:{matching:[$t]}},console.log("node source ->",_t.source),console.log("slide test ->",w.test)})(_t,w,te.nodeStatus,te.slideStatus,{key:nt.data("key")},Mt)}});break;case"matching-content":jQuery("#"+_t.id).on("touchmove",".ondrag-item",function(U){U.preventDefault()}).kendoDraggable({filter:".ondrag-item",hint:function(U){return`<div style="width:64px;height:${_t.size.height/_t.size.width*64}px;border-radius:8px;border:1px dashed #DADADA;padding:8px;box-sizing:content-box;background-color:rgba(255,255,255,0.4);">${U.prop("outerHTML")}</div>`.replace(/\s+/g," ")},dragstart:function(U){$('svg foreignObject .ondrop-here[data-type="matching"]:empty').addClass("actived")},drag:function(U){},dragend:function(U){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")},dragcancel:function(){$("svg foreignObject .ondrop-here").removeClass("actived"),$("svg foreignObject .ondrop-here").removeClass("focused")}}),jQuery(`#${_t.id} .ondrop-here`).kendoDropTarget({dragenter:function(U){U.dropTarget.hasClass("actived")&&U.dropTarget.addClass("focused")},dragleave:function(U){U.dropTarget.hasClass("actived")&&U.dropTarget.removeClass("focused")},drop:function(U){if(!U.dropTarget.hasClass("actived"))return;U.dropTarget.removeClass("focused");let nt=U.draggable.currentTarget;nt.appendTo(U.dropTarget),Te(_t,w,{key:nt.data("key")})}});break;case"speech":break;case"submit":jQuery("#"+_t.id).click(U=>{U.preventDefault(),((_t,w,vt,Mt,U)=>{var at,nt,yt,Rt;let Ht;var ht;if(null!=w&&null!==(at=w.test)&&void 0!==at&&null!==(at=at.answer)&&void 0!==at&&at.singlechoice)Ht=null==w||null===(ht=w.test)||void 0===ht||null===(ht=ht.answer)||void 0===ht||null===(ht=ht.singlechoice)||void 0===ht?void 0:ht.iscorrect;else if(null!=w&&null!==(nt=w.test)&&void 0!==nt&&null!==(nt=nt.answer)&&void 0!==nt&&nt.multichoice){var $t,le,we;Ht=1==[null==w||null===($t=w.test)||void 0===$t||null===($t=$t.answer)||void 0===$t||null===($t=$t.multichoice)||void 0===$t?void 0:$t.length,null==w||null===(le=w.test)||void 0===le||null===(le=le.answer)||void 0===le||null===(le=le.multichoice)||void 0===le||null===(le=le.map(Oe=>Oe.iscorrect?1:0))||void 0===le?void 0:le.reduce((Oe,Me)=>Oe+Me),null==w||null===(we=w.svg)||void 0===we||null===(we=we.nodes)||void 0===we||null===(we=we.filter(Oe=>{var Me,Ze;return"multichoice"==(null===(Me=Oe.source)||void 0===Me||null===(Me=Me.test)||void 0===Me?void 0:Me.type)&&(null===(Ze=Oe.source)||void 0===Ze||null===(Ze=Ze.test)||void 0===Ze||null===(Ze=Ze.multichoice)||void 0===Ze?void 0:Ze.iscorrect)}))||void 0===we?void 0:we.length].filter((Oe,Me,Ze)=>Ze.indexOf(Oe)==Me).length}else if(null!=w&&null!==(yt=w.test)&&void 0!==yt&&null!==(yt=yt.answer)&&void 0!==yt&&yt.fill){var de,ue;Ht=(null==w||null===(de=w.test)||void 0===de||null===(de=de.answer)||void 0===de||null===(de=de.fill)||void 0===de||null===(de=de.map(Oe=>Oe.iscorrect?1:0))||void 0===de?void 0:de.reduce((Oe,Me)=>Oe+Me))==(null===(ue=w.svg)||void 0===ue||null===(ue=ue.nodes)||void 0===ue||null===(ue=ue.filter(Oe=>{var Me;return"fill"==(null===(Me=Oe.source)||void 0===Me||null===(Me=Me.test)||void 0===Me?void 0:Me.type)}))||void 0===ue?void 0:ue.length)}else if(null!=w&&null!==(Rt=w.test)&&void 0!==Rt&&null!==(Rt=Rt.answer)&&void 0!==Rt&&Rt.matching){var ye,je;Ht=(null===(ye=w.svg)||void 0===ye||null===(ye=ye.nodes)||void 0===ye||null===(ye=ye.filter(Oe=>{var Me;return"matching-empty"==(null===(Me=Oe.source)||void 0===Me||null===(Me=Me.test)||void 0===Me?void 0:Me.type)}))||void 0===ye?void 0:ye.length)==((null==w||null===(je=w.test)||void 0===je||null===(je=je.answer)||void 0===je?void 0:je.matching)||[]).map(Oe=>Oe.key==Oe.value?1:0).reduce((Oe,Me)=>Oe+Me)}ge(_t,w,vt,Mt,{iscorrect:Ht},U),console.log("node source ->",_t.source),console.log("slide test ->",w.test)})(_t,w,te.nodeStatus,te.slideStatus,Mt)})}})(w,_t)};var ot=x(8619),_=x(8785),z=x(4921),ct=x(8054),Bt=x(2282),ae=x(2875),pe=x(8419);const Ae=(_t,w,vt)=>{if(vt.slideStatus!=te.slideStatus||!w.length)return;let Mt=w.shift(),U=_t.filter(Rt=>Rt.idx==Mt);if(!U.length)return;let at=Math.max.apply(null,U.map(Rt=>{var Ht;return null!==(Ht=Rt.time)&&void 0!==Ht?Ht:0})),nt=!1,yt=at<.5?0:setTimeout(()=>{nt||(nt=!0,Ae(_t,w,vt))},1e3*at);Ke(_t,w,U,0,vt,{idx:Mt,total:U.length,counter:0,isRecursive:nt,timeoutRecursive:yt,maxTimeCoundown:at,uid:Math.floor(1e9*Math.random())})},Ke=(_t,w,vt,Mt,U,at)=>{if(U.slideStatus!=te.slideStatus)return;let nt=vt[Mt];if(nt){switch(nt.type){case D.$.GROUP:break;case D.$.CIRCLE:(0,ot._)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId?window.document.getElementById(U.pId):null);break;case D.$.ELLIPSE:(0,_.r)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId);break;case D.$.LINE:(0,z.W)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId);break;case D.$.RECT:(0,ct.f)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId?window.document.getElementById(U.pId):null);break;case D.$.POLYGON:(0,Bt.l)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId);break;case D.$.FOREIGNOBJECT:(0,ae.e)(nt.id,{size:nt.size,attribute:nt.attribute,style:nt.style,source:nt.source},U.pId?window.document.getElementById(U.pId):null);break;case D.$.IMAGE:(0,Nt.G)(nt.id,{size:nt.size,attribute:nt.attribute,source:nt.source},U.pId?window.document.getElementById(U.pId):null);break;case D.$.TEXT:(0,P.$)(nt.id,{size:nt.size,attribute:nt.attribute,source:nt.source},U.pId);break;case D.$.PATH:(0,pe.G)(nt.id,{size:nt.size,attribute:nt.attribute},U.pId)}Y(U.slide,nt,U,()=>{at.counter+=1,at.maxTimeCoundown<.5&&at.counter>=at.total&&(at.total=at.counter=0,at.isRecursive||(clearTimeout(at.timeoutRecursive),at.isRecursive=!0,setTimeout(()=>{Ae(_t,w,U)},250)))}),Ke(_t,w,vt,++Mt,U,at)}},te=new class De{constructor(){this._nodeStatus=0,this._slideStatus=0,this._slideIdx=0,this._fnChangeSlides=[]}set data(w){this._dataSource=w.data||{},j.icdt.variable.set=w.variable||{}}get nodeStatus(){return this._nodeStatus}refreshNodeStatus(){return this._nodeStatus=Math.floor(999999999*Math.random()),this._nodeStatus}get slideStatus(){return this._slideStatus}refreshSlideStatus(){return this._slideStatus=Math.floor(999999999*Math.random()),this._slideStatus}get slideIdx(){return this._slideIdx}get slideTotal(){var w,vt;return null!==(w=null===(vt=this._dataSource)||void 0===vt||null===(vt=vt.slides)||void 0===vt?void 0:vt.length)&&void 0!==w?w:0}get slides(){var w;return(null===(w=this._dataSource)||void 0===w?void 0:w.slides)||[]}get slide(){var w;return((null===(w=this._dataSource)||void 0===w?void 0:w.slides)||[])[this._slideIdx]||{}}findNode(w){var vt;let Mt=null===(vt=this._dataSource)||void 0===vt||null===(vt=vt.slides)||void 0===vt?void 0:vt.find((le,we)=>we==this._slideIdx),U=null==Mt?void 0:Mt.svg,at=(le,we)=>{let de=null==le?void 0:le.find(je=>je.id==w);if(de)return de.pid=we,de;let ue=0,ye=le.length||0;for(;ue<ye&&!de&&(de=at(le[ue].nodes||[],le[ue].id),!de);)ue++;return de},nt=at((null==U?void 0:U.nodes)||[]);var yt,Rt,Ht,ht,$t;return nt?(nt.style=null!==(yt=nt.style)&&void 0!==yt?yt:{},nt.source=null!==(Rt=nt.source)&&void 0!==Rt?Rt:{},nt.animate=null!==(Ht=nt.animate)&&void 0!==Ht?Ht:{},nt.interactive=null!==(ht=nt.interactive)&&void 0!==ht?ht:{},nt.variable=null!==($t=nt.variable)&&void 0!==$t?$t:{},nt):{id:0,size:{x:0,y:0,width:0,height:0},attribute:{},isfake:!0}}runSlide(w,vt,Mt){var U;let at;var nt,yt;if(this.refreshNodeStatus(),this.refreshSlideStatus(),Mt)at=null===(nt=this._dataSource)||void 0===nt||null===(nt=nt.slides)||void 0===nt?void 0:nt.find($t=>$t.code==Mt||$t.id==Mt),at&&(this._slideIdx=(null===(yt=this._dataSource)||void 0===yt||null===(yt=yt.slides)||void 0===yt?void 0:yt.indexOf(at))||0);else if(vt){var Rt,Ht;at=null===(Rt=this._dataSource)||void 0===Rt||null===(Rt=Rt.slides)||void 0===Rt?void 0:Rt.find($t=>$t.id==vt),at&&(this._slideIdx=(null===(Ht=this._dataSource)||void 0===Ht||null===(Ht=Ht.slides)||void 0===Ht?void 0:Ht.indexOf(at))||0)}else this._slideIdx=Math.min(Math.max(w||0,0),this.slideTotal-1),at=this.slide;if(at){var ht;Ve(j.icdt.container,j.icdt.svg,at),null===(ht=$(j.icdt.svg).find("#"+Ft.O.BACKGROUND_GROUP))||void 0===ht||ht.empty();let $t=(0,St.g1)(Ft.O.BACKGROUND_GROUP,"g",void 0,j.icdt.svg);(0,St.x0)($t,at),(_t=>{var w,vt,Mt;let U=te.nodeStatus,at=te.slideStatus,nt=null===(w=_t.svg)||void 0===w||null===(w=w.nodes)||void 0===w?void 0:w.map(yt=>yt.idx).filter((yt,Rt,Ht)=>Ht.indexOf(yt)==Rt).sort((yt,Rt)=>(null!=yt?yt:0)-(null!=Rt?Rt:0));Ae(null!==(vt=null===(Mt=_t.svg)||void 0===Mt?void 0:Mt.nodes)&&void 0!==vt?vt:[],null!=nt?nt:[],{slide:_t,nodeStatus:U,slideStatus:at})})(at)}this.changeSlide(this.slides,null===(U=this.slide)||void 0===U?void 0:U.id,this.slideIdx,this.slides.length)}set onChangeSlide(w){this._fnChangeSlides.push(w)}changeSlide(w,vt,Mt,U){this._fnChangeSlides.forEach(at=>at(w,vt,Mt,U))}},Ve=(_t,w,vt)=>{var Mt,U;let at=window.document.querySelector(w);var nt;at||(at=document.createElementNS("http://www.w3.org/2000/svg","svg"),null===(nt=window.document.querySelector(_t))||void 0===nt||nt.appendChild(at)),at.textContent=null;let{x:yt,y:Rt,width:Ht,height:ht}=null!==(Mt=null==vt||null===(U=vt.svg)||void 0===U?void 0:U.viewBox)&&void 0!==Mt?Mt:j.icdt.screen.frameSize;at.setAttributeNS(null,"viewBox",yt+" "+Rt+" "+Ht+" "+ht),at.setAttribute("id",w.replace("#",""))}},2336:(Le,qt,x)=>{"use strict";x.d(qt,{Q:()=>D});var j=x(1690);const D=(et,Z,y)=>{var L;if(!Z.value)return void y();let B=$("#"+et),N="",P=null!==(L=Z.iteration)&&void 0!==L?L:0,q=[];(Z.value||"").match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm)?q.push(Z.value):(q.push("animation"),q.push(Z.value?"animation-"+Z.value:"animation-fadein")),P<0?(q.push("animation-iteration-infinite"),y(),y=function(){}):P>0&&q.push("animation-iteration-"+(P+1)),N=q.join(" "),function(dt){let mt=function(){B.data("animate-running")?B.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){B.data("animate-running",!1),setTimeout(function(){dt()},100)}):dt()};B.hasClass("animation")?setTimeout(function(){mt()}):mt()}(function(){var dt;st(et),(P>0||P<0)&&B.one("animationiteration",function(){Z.slideStatus===j.$.slideStatus||(B.data("animate-running",!1),st(et),Z.slideStatus===j.$.slideStatus&&y())}),B.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){switch(B.data("animate-running",!1),st(et),Z.finish){default:case 0:case 1:break;case 2:B.addClass("hide")}Z.slideStatus===j.$.slideStatus&&y()}),B.attr("data-class",null!==(dt=B.attr("class"))&&void 0!==dt?dt:""),B.addClass(N),B.data("animate-running",!0)})},st=function(et){var Z,y=$("#"+et),L=null===(Z=y.attr("class"))||void 0===Z?void 0:Z.match(/animation((-[a-zA-Z0-9]+)+)?(\s+||\")/gm);L&&L.forEach(function(N){$(y).removeClass(N)});let B=y.attr("data-class");B&&(y.attr("class",B),y.removeAttr("data-class")),$(y).data("animation-running",!1)}},861:(Le,qt,x)=>{"use strict";x.d(qt,{G:()=>et});var j=x(4318),D=x(1690),st=x(4080);const et=(y,L,B)=>{var N;if(!L.points||!L.points.length)return void B();let P=$("#"+y),q=function Z(y){let L=[];2===y.length&&y.splice(1,0,[(y[0][0]+y[1][0])/2,(y[0][1]+y[1][1])/2]);let K,dt,mt,B=1,N=y.length;for(;B<N;){if(K=y[B-1],dt=y[B],mt=y[B+1],(Math.abs(K[0]-dt[0])>=15||Math.abs(K[1]-dt[1])>=15)&&Math.pow(K[0]-dt[0],2)+Math.pow(K[1]-dt[1],2)>=Math.pow(15,2)&&mt&&(Math.abs(K[0]-mt[0])<=20||Math.abs(K[1]-mt[1])<=20)&&Math.pow(K[0]-mt[0],2)+Math.pow(K[1]-mt[1],2)<=Math.pow(20,2))L.push(dt);else{let V=dt[0]-K[0],F=dt[1]-K[1],E=Math.max(Math.abs(V),Math.abs(F));for(var R=0;R<E;R+=15)L.push([K[0]+V*R/E,K[1]+F*R/E])}B++}return N>0&&(L.splice(0,0,y[0]),L.push(y[N-1])),L}(L.points||[]),K=null!==(N=L.iteration)&&void 0!==N?N:0;if(K<0&&(B(),B=function(){}),P.data("work-running")&&K<0)return;P.data("work-running",!0);let Nt,dt=q.length,mt=Math.max(20,1e3*(L.time||3)/dt),{id:R,type:V,size:F,attribute:E}=D.$.findNode(y),jt=function(Lt){if(L.slideStatus!==D.$.slideStatus)return P.data("work-running",!1),void(L.slideStatus===D.$.slideStatus&&B());if(Lt<dt){let Pt=q[Lt];Pt&&(Nt=Object.assign({},F,{x:Pt[0]-F.width/2,y:Pt[1]-F.height/2}),Object.assign(E,(0,j.sg)(V,Nt)),(0,st.__)(window.document.getElementById(R),E),setTimeout(function(){jt(++Lt)},mt))}else if(K>0)K--,jt(1);else if(K<0)jt(1);else switch(P.data("work-running",!1),L.slideStatus===D.$.slideStatus&&B(),L.finish){default:case 0:break;case 1:Object.assign(E,(0,j.sg)(V,F)),(0,st.__)(window.document.getElementById(R),E);break;case 2:P.addClass("hide")}};jt(1)}},157:(Le,qt,x)=>{"use strict";x.d(qt,{R:()=>D});var j=x(1690);const D=(et,Z,y,L,B)=>{var N,P,q;if(L.slideStatus!=j.$.slideStatus)return Z.async&&"change-slide"!=Z.async?void 0:void B();if(L.nodeStatus!=j.$.nodeStatus&&(!Z.async||"change-node"==Z.async))return void B();if(null===(N=Z.source)||void 0===N||!N.url)return console.warn(`${et} -> audio no source!`),B(),void(B=()=>{});var K=$("#"+et);let dt=null!==(P=Z.iteration)&&void 0!==P?P:0;if(dt<0&&(B(),B=function(){}),!(K.data("audio-running")&&dt<0)){K.data("audio-running",!0);var mt=function(V){V.pause(),V.remove(),K.data("audio-running",!1)},R=new Audio;return R.autoplay=!0,R.loop=0!=dt,R.preload="auto",R.controls=!0,R.setAttributeNode(document.createAttribute("playsinline")),R.addEventListener("canplay",function(){var V=R.play();V&&V.then(function(F){var E;K.data("audio-running",!0),"time"==Z.async?setTimeout(()=>{mt(R),B(),B=()=>{}},1e3*(null!==(E=Z.time)&&void 0!==E?E:1)):"non-stop"==Z.async&&(B(),B=()=>{})}).catch(function(F){K.data("audio-running",!1),L.slideStatus===j.$.slideStatus&&(B(),B=()=>{})})}),R.addEventListener("timeupdate",function(){switch(Z.async){case"time":case"non-stop":break;case"finish-action":y.total>=2&&y.total-y.counter==1&&(mt(this),B(),B=()=>{});break;default:case"change-node":L.nodeStatus!==j.$.nodeStatus&&(mt(this),B(),B=()=>{});break;case"change-slide":L.slideStatus!==j.$.slideStatus&&(mt(this),B(),B=()=>{})}}),R.addEventListener("canplaythrough",function(){this.loop&&(dt>0?dt--:0==dt&&(this.loop=!1))}),R.addEventListener("play",function(){}),R.addEventListener("pause",function(){}),R.addEventListener("ended",function(){this.remove(),K.data("audio-running",!1),L.slideStatus===j.$.slideStatus&&(B(),B=()=>{})}),R.onerror=function(){this.remove(),K.data("audio-running",!1),L.slideStatus===j.$.slideStatus&&(B(),B=()=>{})},R.src=(null===(q=Z.source)||void 0===q?void 0:q.url)||"",R}}},5973:(Le,qt,x)=>{"use strict";x.d(qt,{F:()=>B});var j=x(4981),D=x(1690),st=x(2336),et=x(861),Z=x(157),y=x(4787),L=x(370);const B=(N,P,q,K)=>{var dt,mt,R;let V={total:0,counter:0},{triggershow:F,triggerrun:E,triggerhide:Nt,action:jt,audio:Lt,slide:Pt,media:Ot}=null!==(dt=null===(mt=N.interactive)||void 0===mt?void 0:mt.click)&&void 0!==dt?dt:{};if(F){let{id:kt,ids:Ft,time:Tt,async:At}=F;"asynctrue"==At?(0,y.L5)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q}):"time"==At&&setTimeout(()=>{(0,y.L5)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q})},1e3*(null!=Tt?Tt:0))}if(E){let{id:kt,ids:Ft,time:Tt,async:At}=E;"asynctrue"==At?(0,y.Ar)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q}):"time"==At&&setTimeout(()=>{(0,y.Ar)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q})},1e3*(null!=Tt?Tt:0))}if(Nt){let{id:kt,ids:Ft,time:Tt,async:At}=Nt;"asynctrue"==At?(0,y.WT)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q}):"time"==At&&setTimeout(()=>{(0,y.WT)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q})},1e3*(null!=Tt?Tt:0))}let a=()=>{setTimeout(()=>{if(V.counter>=V.total){if(K&&K(),F){let{id:kt,ids:Ft,async:Tt}=F;"asyncfalse"==Tt&&(0,y.L5)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q})}if(E){let{id:kt,ids:Ft,async:Tt}=E;"asyncfalse"==Tt&&(0,y.Ar)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q})}if(Nt){let{id:kt,ids:Ft,async:Tt}=Nt;"asyncfalse"==Tt&&(0,y.WT)({id:kt,ids:Ft,nodeStatus:P,slideStatus:q})}}})};if(jt&&jt.value){V.total+=1;let kt=()=>{V.counter+=1,a()};switch(jt.value){case"hide":$("#"+N.id).addClass("hide"),kt();break;case"points":{let{points:Ft,time:Tt,iteration:At,finish:rt}=jt;Ft&&(0,et.G)(N.id,{points:Ft,time:Tt,iteration:At,finish:rt,nodeStatus:P,slideStatus:q},kt);break}default:{let{value:Ft,time:Tt,iteration:At,finish:rt}=jt;(0,st.Q)(N.id,{value:Ft,time:Tt,iteration:At,finish:rt,nodeStatus:P,slideStatus:q},kt);break}}}if(Lt&&null!==(R=Lt.source)&&void 0!==R&&R.path){V.total+=1;let kt=()=>{V.counter+=1,a()};(0,Z.R)(N.id,Lt,V,{nodeStatus:P,slideStatus:q},kt)}if(V.total||a(),Pt&&Pt.id)switch(console.log(`InteractiveNode #${N.id} slide(undefined,${Pt.id},${Pt.code}) success!`),Pt.id){case-1:D.$.runSlide(D.$.slideIdx-1);break;case-2:D.$.runSlide(D.$.slideIdx+1);break;default:D.$.runSlide(void 0,Pt.id,`${Pt.code}`)}if(Ot&&Ot.type){var St;let Ft=`<div class="popup-media-viewer"><iframe src="${(0,L.e)({readfileuploadurl:null===(St=j.icdt.config)||void 0===St?void 0:St.readfileuploadurl,type:null==Ot?void 0:Ot.type,oss:null==Ot?void 0:Ot.oss,path:null==Ot?void 0:Ot.path,pathExtract:null==Ot?void 0:Ot.pathExtract,url:null==Ot?void 0:Ot.url})}" frameborder="0" allowfullscreen\n        webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen"></iframe><div class="btn-close"><img src="assets/icon-svg/close-outline.svg"/></div></div>`,Tt=$(Ft).appendTo(window.document.body);Tt.find(".btn-close").click(function(At){At.preventDefault(),Tt.remove()})}}},4787:(Le,qt,x)=>{"use strict";x.d(qt,{Ar:()=>et,L5:()=>st,WT:()=>Z});var j=x(1690),D=x(5973);const st=y=>{console.log("icdt_Run_Interactive_TriggerShow",y),y.id?$("#"+y.id).removeClass("hide"):y.ids&&y.ids.forEach(L=>{$("#"+L).removeClass("hide")})},et=y=>{console.log("icdt_Run_Interactive_TriggerRun",y),y.id?($("#"+y.id).removeClass("hide"),(0,D.F)(j.$.findNode(y.id),y.nodeStatus,y.slideStatus)):y.ids&&y.ids.forEach(L=>{$("#"+L).removeClass("hide"),(0,D.F)(j.$.findNode(L),y.nodeStatus,y.slideStatus)})},Z=y=>{console.log("icdt_Run_Interactive_TriggerHide",y),y.id?$("#"+y.id).addClass("hide"):y.ids&&y.ids.forEach(L=>{$("#"+L).addClass("hide")})}},4080:(Le,qt,x)=>{"use strict";x.d(qt,{Mh:()=>Nt,wM:()=>Pt,x_:()=>jt,it:()=>Ot,g1:()=>Tt,__:()=>a,QI:()=>kt,DB:()=>St,eb:()=>Lt,x0:()=>Ce,g$:()=>At,mo:()=>Te,XH:()=>Qt,hJ:()=>rt,vl:()=>Vt,yD:()=>Kt,Yw:()=>ge});var j=x(2276),D=x(9054),Z=/^#?[a-fA-F0-9]+$/;const B=(Y,ot)=>{var _;if("none"==(Y=null!==(_=Y)&&void 0!==_?_:""))return"none";if("transparent"==Y)return"rgba(0,0,0,0)";if(Y.includes("rgba("))return Y;if(Y.includes("rgb(")&&(Y=((Y,ot)=>{if(!Y)return"";let _=Y.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),z=(_&&_[4]||"").trim(),ct=_?(256|_[1]).toString(16).slice(1)+(256|_[2]).toString(16).slice(1)+(256|_[3]).toString(16).slice(1):Y;return"0"==z?"transparent":`#${ct}`})(Y)),!(Y=Y.replace(/[^0-9a-fA-F]/g,"")))return"";if(!Z.test(Y))return console.error(`hex2rgba -> ${Y}: first argument has invalid hexadecimal characters`),"";if("#"===Y[0]&&(Y=Y.slice(1)),3===Y.length){let ct=Y.split("");ct.splice(2,0,Y[2]),ct.splice(1,0,Y[1]),ct.splice(0,0,Y[0]),Y=ct.join("")}if(6!==Y.length)return console.error("hex2rgba: first argument has invalid hexadecimal length"),"";var z=[parseInt(Y.slice(0,2),16),parseInt(Y.slice(2,4),16),parseInt(Y.slice(4,6),16)];return ot="number"==typeof ot?ot:parseFloat(ot),z.push(ot>=0&&ot<=1?ot:1),"rgba("+z.join(",")+")"};var N=x(1814),P=x(4981),q=x(3423),K=x(8054),dt=x(7210),mt=x(8619),R=x(1690),V=x(2875),F=x(1687),E=x(370);class Nt{constructor(ot,_){let z=window.document.querySelector(_);var ct;z||(z=window.document.createElementNS("http://www.w3.org/2000/svg","svg"),null===(ct=window.document.querySelector(ot))||void 0===ct||ct.appendChild(z));let{svgViewBox:Bt,svgSize:ae}=P.icdt.screen.init();z.setAttributeNS(null,"viewBox",`${Bt.x} ${Bt.y} ${Bt.width} ${Bt.height}`),z.setAttribute("id",_.replace("#","")),z.style.display="block",z.style.position="absolute",z.style.left=`${ae.x}px`,z.style.top=`${ae.y}px`,z.style.width=`${ae.width}px`,z.style.height=`${ae.height}px`,z.style.backgroundColor="#fafafa",z.style.cursor="default"}}const jt=Y=>{var ot,_,z,ct,Bt,ae;P.icdt.target.setAttributeNS(null,"viewBox",`${null!==(ot=null==Y||null===(_=Y.svg)||void 0===_?void 0:_.viewBox.x)&&void 0!==ot?ot:0} ${null!==(z=null==Y||null===(ct=Y.svg)||void 0===ct?void 0:ct.viewBox.y)&&void 0!==z?z:0} ${null==Y||null===(Bt=Y.svg)||void 0===Bt?void 0:Bt.viewBox.width} ${null==Y||null===(ae=Y.svg)||void 0===ae?void 0:ae.viewBox.height}`),$(P.icdt.target).find("#"+F.O.BACKGROUND_GROUP).empty();let pe=Tt(F.O.BACKGROUND_GROUP,"g",void 0,P.icdt.target);Ce(pe,Y),(()=>{let oe=window.document.getElementById(null==Y?void 0:Y.id);$(oe).find("#"+F.O.BACKGROUND_GROUP).empty();let se=Tt(F.O.BACKGROUND_GROUP,"g",void 0,oe);Ce(se,Y)})()},Lt=()=>{let Y=P.icdt.screen.svgViewBox,ot=P.icdt.screen.svgSize;P.icdt.target&&(P.icdt.target.setAttributeNS(null,"viewBox",`${Y.x} ${Y.y} ${Y.width} ${Y.height}`),P.icdt.target.style.left=`${ot.x}px`,P.icdt.target.style.top=`${ot.y}px`,P.icdt.target.style.width=`${ot.width}px`,P.icdt.target.style.height=`${ot.height}px`)},Pt=()=>{j(P.icdt.target).find(">*:not(defs)").remove()},Ot=(Y,ot,_,z,ct)=>{let Bt;return Y?(Bt=j(ct||P.icdt.target).find("#"+Y).get(0),Bt||(Bt=window.document.createElementNS("http://www.w3.org/2000/svg",_),Bt.setAttribute("id",Y),j(Bt).appendTo(ct||P.icdt.target))):(Bt=window.document.createElementNS("http://www.w3.org/2000/svg",_),j(Bt).appendTo(ct||P.icdt.target)),null!=z&&z.attribute&&a(Bt,null==z?void 0:z.attribute),null!=z&&z.style&&St(Bt,null==z?void 0:z.style),null!=z&&z.source&&kt(Bt,ot,null==z?void 0:z.source),Bt},a=(Y,ot)=>{return j(Y).attr((_=Object.assign({},ot||{}),null===(z=Object.keys(_))||void 0===z||z.forEach(ae=>{switch(ae){case"fill":break;case"stroke":var pe;Object.assign(_,{"stroke-width":null!==(pe=_.strokeWidth)&&void 0!==pe?pe:null,strokeWidth:null});break;case"strokeLinecap":var oe;Object.assign(_,{"stroke-linecap":null!==(oe=_.strokeLinecap)&&void 0!==oe?oe:null,strokeLinecap:null});break;case"strokeLinejoin":var se;Object.assign(_,{"stroke-linejoin":null!==(se=_.strokeLinejoin)&&void 0!==se?se:null,strokeLinejoin:null});break;case"strokeDasharray":var Ae;Object.assign(_,{"stroke-dasharray":null!==(Ae=_.strokeDasharray)&&void 0!==Ae?Ae:null,strokeDasharray:null});break;case"strokeDasharrays":var Ke,De;Object.assign(_,{"stroke-dasharray":null!==(Ke=null===(De=_.strokeDasharrays)||void 0===De?void 0:De.join(" "))&&void 0!==Ke?Ke:null,strokeDasharrays:null});break;case"fontFamily":var te;Object.assign(_,{"font-family":null!==(te=_.fontFamily)&&void 0!==te?te:null,fontFamily:null});break;case"fontSize":var Ve;Object.assign(_,{"font-size":null!==(Ve=_.fontSize)&&void 0!==Ve?Ve:null,fontSize:null});break;case"textLength":Object.assign(_,{textLength:_.textLength?`${_.textLength}px`:null});break;case"transformOrigin":var _t;Object.assign(_,{"transform-origin":null!==(_t=_.transformOrigin)&&void 0!==_t?_t:null,transformOrigin:null})}}),Object.assign({},null!=_?_:{},{fill:null!=_&&_.fill?B(_.fill,null!==(ct=null==_?void 0:_.fillOpacity)&&void 0!==ct?ct:1):"rgba(0,0,0,0)",fillOpacity:null,stroke:null!=_&&_.stroke?B(_.stroke,null!==(Bt=null==_?void 0:_.strokeOpacity)&&void 0!==Bt?Bt:1):"rgba(0,0,0,0)",strokeOpacity:null}))),Y;var _,z,ct,Bt},St=(Y,ot)=>{return j(Y).css((_=Object.assign({},ot||{}),null===(z=Object.keys(_))||void 0===z||z.forEach(ct=>{switch(ct){case"padding":Object.assign(_,{padding:_.padding?`${_.padding}px`:null});break;case"borderWidth":var Bt;Object.assign(_,_.borderWidth&&_.borderStyle&&_.borderColor?{"border-width":`${_.borderWidth}px`,"border-style":_.borderStyle,"border-color":B(_.borderColor,null!==(Bt=_.borderOpacity)&&void 0!==Bt?Bt:1)}:{"border-width":"","border-style":"","border-color":""}),Object.assign(_,{borderWidth:null,borderStyle:null,borderColor:null,borderOpacity:null});break;case"borderRadius":Object.assign(_,{"border-radius":_.borderRadius?`${_.borderRadius}px`:null,borderRadius:null});break;case"backgroundColor":var ae;_.backgroundColor&&Object.assign(_,{"background-color":B(_.backgroundColor,null!==(ae=_.backgroundOpacity)&&void 0!==ae?ae:1)}),Object.assign(_,{backgroundColor:null,backgroundOpacity:null})}}),_)),Y;var _,z},kt=(Y,ot,_)=>{switch(ot){case D.$.TEXT:var z,ct;j(Y).text(null!==(z=null==_||null===(ct=_.text)||void 0===ct?void 0:ct.textContent)&&void 0!==z?z:"");break;case D.$.IMAGE:var Bt,ae,pe,oe,se,Ae,Ke;j(Y).attr("href",(null==_||null===(Bt=_.image)||void 0===Bt?void 0:Bt.base64)||(null!=_&&null!==(ae=_.image)&&void 0!==ae&&ae.path?`${null!==(pe=null===(oe=P.icdt.config)||void 0===oe?void 0:oe.readfileuploadurl)&&void 0!==pe?pe:""}${null!==(se=null==_||null===(Ae=_.image)||void 0===Ae?void 0:Ae.path)&&void 0!==se?se:""}`:"")||(null==_||null===(Ke=_.image)||void 0===Ke?void 0:Ke.url)||"");break;case D.$.FOREIGNOBJECT:switch(null==_?void 0:_.type){case"text":var De,te;if(null!==(De=_.text)&&void 0!==De&&De.variableKeywords&&null!==(te=_.text)&&void 0!==te&&te.variableKeywords.length){var Ve;let C=P.icdt.variable.getKeys(),tt=(null===(Ve=_.text)||void 0===Ve?void 0:Ve.textContent)||"";_.text.variableKeywords.forEach(J=>{var lt=J.replace(/[^a-zA-Z0-9_]/gm,"");if(C.indexOf(lt)>=0){var pt=P.icdt.variable.getValue(lt);tt=tt.replace(J,pt)}}),j(Y).text(tt)}else{var _t;j(Y).text((null===(_t=_.text)||void 0===_t?void 0:_t.textContent)||"")}break;case"html":{var w,vt,Mt;let C=(null==_||null===(w=_.html)||void 0===w?void 0:w.htmlContent)||"";if(null!==(vt=_.html)&&void 0!==vt&&vt.variableKeywords&&null!==(Mt=_.html)&&void 0!==Mt&&Mt.variableKeywords.length){let tt=P.icdt.variable.getKeys();_.html.variableKeywords.forEach(J=>{var lt=J.replace(/[^a-zA-Z0-9_]/gm,"");if(tt.indexOf(lt)>=0){var pt=P.icdt.variable.getValue(lt);C=C.replace(J,pt)}})}j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;">${C}</div>`).find("img[path],video[path],iframe[path]").each((tt,J)=>{var lt,pt,gt;J.setAttribute("src",(null!==(lt=null===(pt=P.icdt.config)||void 0===pt?void 0:pt.readfileuploadurl)&&void 0!==lt?lt:"")+(null!==(gt=J.getAttribute("path"))&&void 0!==gt?gt:"")),J.removeAttribute("path")});break}case"input":var U,at,nt,yt;if(null!==(U=_.input)&&void 0!==U&&U.input)j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><input type="text" placeholder="${null!==(nt=null===(yt=_.input)||void 0===yt?void 0:yt.placeholder)&&void 0!==nt?nt:""}" maxlength="100" /></div>`);else if(null!==(at=_.input)&&void 0!==at&&at.textarea){var Rt,Ht;j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><textarea placeholder="${null!==(Rt=null===(Ht=_.input)||void 0===Ht?void 0:Ht.placeholder)&&void 0!==Rt?Rt:""}" maxlength="1000"></textarea></div>`)}break;case"image":var ht,$t,le,we,de,ue,ye;j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><img src="${(null===(ht=_.image)||void 0===ht?void 0:ht.base64)||(null!==($t=_.image)&&void 0!==$t&&$t.path?`${null!==(le=null===(we=P.icdt.config)||void 0===we?void 0:we.readfileuploadurl)&&void 0!==le?le:""}${null!==(de=null===(ue=_.image)||void 0===ue?void 0:ue.path)&&void 0!==de?de:""}`:"")||(null===(ye=_.image)||void 0===ye?void 0:ye.url)||""}" style="width:100%;height:100%;display:block;"/></div>`);break;case"iframe":var je,Oe,Me,Ze,tn,Ei,en;j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><iframe src="${null!==(je=_.iframe)&&void 0!==je&&je.path?`${null!==(Oe=null===(Me=P.icdt.config)||void 0===Me?void 0:Me.readfileuploadurl)&&void 0!==Oe?Oe:""}${null!==(Ze=null===(tn=_.iframe)||void 0===tn?void 0:tn.path)&&void 0!==Ze?Ze:""}`:null!==(Ei=null===(en=_.iframe)||void 0===en?void 0:en.url)&&void 0!==Ei?Ei:""}" frameborder="0" allowfullscreen\n                    webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="width:100%;height:100%;display:block;"></iframe></div>`);break;case"embed":{var nn,En,ni,ji,Ii,$i;let C=(0,E.e)({readfileuploadurl:null===(nn=P.icdt.config)||void 0===nn?void 0:nn.readfileuploadurl,type:null===(En=_.embed)||void 0===En?void 0:En.type,oss:null===(ni=_.embed)||void 0===ni?void 0:ni.oss,path:null===(ji=_.embed)||void 0===ji?void 0:ji.path,pathExtract:null===(Ii=_.embed)||void 0===Ii?void 0:Ii.pathExtract,url:null===($i=_.embed)||void 0===$i?void 0:$i.url});j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;"><iframe src="${C}" frameborder="0" allowfullscreen\n                    webkitallowfullscreen allowtransparency="true" allow="autoplay; fullscreen" style="width:100%;height:100%;display:block;"></iframe></div>`);break}case"svg":var pi,ci;j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;">${null!==(pi=null===(ci=_.svg)||void 0===ci?void 0:ci.svgContent)&&void 0!==pi?pi:""}</div>`);break;case"test":{var Bi,rn,an,zt;let C=(null==_||null===(Bi=_.html)||void 0===Bi?void 0:Bi.htmlContent)||"";if(null!==(rn=_.html)&&void 0!==rn&&rn.variableKeywords&&null!==(an=_.html)&&void 0!==an&&an.variableKeywords.length){let tt=P.icdt.variable.getKeys();_.html.variableKeywords.forEach(J=>{var lt=J.replace(/[^a-zA-Z0-9_]/gm,"");if(tt.indexOf(lt)>=0){var pt=P.icdt.variable.getValue(lt);C=C.replace(J,pt)}})}switch(null==_||null===(zt=_.test)||void 0===zt?void 0:zt.type){case"matching-empty":j(Y).html('<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" class="ondrop-here" data-node="test" data-type="matching"></div>');break;case"matching-content":var W,l;j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" class="ondrop-here" data-node="test" data-type="matching"><div class="ondrag-item" data-key="${null!==(W=null==_||null===(l=_.test)||void 0===l||null===(l=l.matching)||void 0===l?void 0:l.key)&&void 0!==W?W:"KIEN"}" style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;">${C}</div></div>`);break;case"singlechoice":case"multichoice":j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;">${C}</div></div>`);break;case"fill":var s;((null===(s=_.html)||void 0===s?void 0:s.fillKeywords)||[]).forEach(tt=>{var J=`<input type="text" maxlength="128" style="display:inline-block;width:80px;min-width:100px;max-width:100%;padding:0px 10px;margin:0px;box-sizing:content-box;outline:none;box-shadow:none;border-width:0px 0px 1px;border-top-style:initial;border-right-style:initial;border-left-style:initial;border-top-color:initial;border-right-color:initial;border-left-color:initial;border-image:initial;border-bottom-style:dashed;border-bottom-color:rgb(123,146,254);background:transparent;animation:0.3s ease-in-out 0s 1 normal none running width;text-align:left;" data-key="${tt.replace(/[^a-zA-Z0-9]+/gm,"")}"/>`;C=C.replace(new RegExp(tt.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),"g"),J)}),j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:start;align-items:center;width:100%;height:100%;">${C}</div></div>`);break;case"speech":j(Y).html('<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><div style="display:flex;justify-content:center;align-items:center;width:100%;height:100%;"><img src="images/svg/component/microphone4.svg" width="60" height="60"/></div></div>');break;case"submit":var u,f,p,S,k,M,it;j(Y).html(`<div xmlns="http://www.w3.org/1999/xhtml" style="width:100%;height:100%;display:block;" data-node="test"><img src="${null!==(u=null!==(f=null===(p=_.image)||void 0===p?void 0:p.url)&&void 0!==f?f:`${null!==(S=null===(k=P.icdt.config)||void 0===k?void 0:k.readfileuploadurl)&&void 0!==S?S:""}${null!==(M=null===(it=_.image)||void 0===it?void 0:it.path)&&void 0!==M?M:""}`)&&void 0!==u?u:""}" style="width:100%;height:100%;display:block;"/></div>`)}j(Y).find("img[path],video[path],iframe[path]").each((tt,J)=>{var lt,pt,gt;J.setAttribute("src",(null!==(lt=null===(pt=P.icdt.config)||void 0===pt?void 0:pt.readfileuploadurl)&&void 0!==lt?lt:"")+(null!==(gt=J.getAttribute("path"))&&void 0!==gt?gt:"")),J.removeAttribute("path")})}}}},Tt=(Y,ot,_,z)=>{let ct=j(z||P.icdt.target).find("#"+Y).get(0);return ct||(ct=window.document.createElementNS("http://www.w3.org/2000/svg",ot),ct.setAttribute("id",Y),j(ct).appendTo(z||P.icdt.target)),j(ct).attr((null==_?void 0:_.attribute)||{}),j(ct).css((null==_?void 0:_.style)||{}),ct},At=(Y,ot)=>{let _=(0,q.v)(2),z={fill:N.S3.fill,stroke:N.S3.stroke,"stroke-width":(0,q.v)(N.S3.strokeWidth)};return[{element:Tt("icdt-temp-create-rect-center","rect",{attribute:Object.assign({x:ot.x-_,y:ot.y-_,width:ot.width+2*_,height:ot.height+2*_},z)},Y),posType:"rect-center"}]},rt=(Y,ot)=>{let{size:_}=ot,z=(0,q.v)(1),ct=(0,q.v)(2),Bt=(0,q.v)(5),ae={stroke:N.NV.stroke,"stroke-width":(0,q.v)(N.NV.strokeWidth),"stroke-linecap":N.NV.strokeLinecap},pe={fill:N.Mo.fill,stroke:N.Mo.stroke,"stroke-width":(0,q.v)(N.Mo.strokeWidth)},oe={fill:N.In.fill,stroke:N.In.stroke,"stroke-width":(0,q.v)(N.In.strokeWidth),width:(0,q.v)(N.In.width),height:(0,q.v)(N.In.height)};return Tt("icdt-temp-resize-line-left","line",{attribute:Object.assign({x1:_.x-z,y1:_.y,x2:_.x-z,y2:_.y+_.height},ae)},Y),Tt("icdt-temp-resize-line-top","line",{attribute:Object.assign({x1:_.x,y1:_.y-z,x2:_.x+_.width,y2:_.y-z},ae)},Y),Tt("icdt-temp-resize-line-right","line",{attribute:Object.assign({x1:_.x+_.width+z,y1:_.y,x2:_.x+_.width+z,y2:_.y+_.height},ae)},Y),Tt("icdt-temp-resize-line-bottom","line",{attribute:Object.assign({x1:_.x,y1:_.y+_.height+z,x2:_.x+_.width,y2:_.y+_.height+z},ae)},Y),[{element:Tt("icdt-temp-resize-rect-center","rect",{attribute:Object.assign({x:_.x,y:_.y,width:_.width,height:_.height},pe),style:{cursor:"move"}},Y),posType:"rect-center"},{element:Tt("icdt-temp-resize-rect-top-left","rect",{attribute:Object.assign({x:_.x-Bt,y:_.y-Bt},oe),style:{cursor:"nw-resize"}},Y),posType:"rect-top-left"},{element:Tt("icdt-temp-resize-rect-top-right","rect",{attribute:Object.assign({x:_.x+_.width-ct,y:_.y-Bt},oe),style:{cursor:"ne-resize"}},Y),posType:"rect-top-right"},{element:Tt("icdt-temp-resize-rect-bottom-left","rect",{attribute:Object.assign({x:_.x-Bt,y:_.y+_.height-ct},oe),style:{cursor:"sw-resize"}},Y),posType:"rect-bottom-left"},{element:Tt("icdt-temp-resize-rect-bottom-right","rect",{attribute:Object.assign({x:_.x+_.width-ct,y:_.y+_.height-ct},oe),style:{cursor:"se-resize"}},Y),posType:"rect-bottom-right"}]},Kt=(Y,ot,_)=>{let z=(0,q.v)(1),ct={stroke:N.NV.stroke,"stroke-width":(0,q.v)(N.NV.strokeWidth),"stroke-linecap":N.NV.strokeLinecap},Bt={fill:N.Mo.fill,stroke:N.Mo.stroke,"stroke-width":(0,q.v)(N.Mo.strokeWidth)},ae={fill:N.dt.fill,stroke:N.dt.stroke,"stroke-width":(0,q.v)(N.dt.strokeWidth)},Ke=(Tt("icdt-temp-select-line-left","line",{attribute:Object.assign({x1:_.x-z,y1:_.y,x2:_.x-z,y2:_.y+_.height},ct)},Y),Tt("icdt-temp-select-line-top","line",{attribute:Object.assign({x1:_.x,y1:_.y-z,x2:_.x+_.width,y2:_.y-z},ct)},Y),Tt("icdt-temp-select-line-right","line",{attribute:Object.assign({x1:_.x+_.width+z,y1:_.y,x2:_.x+_.width+z,y2:_.y+_.height},ct)},Y),Tt("icdt-temp-select-line-bottom","line",{attribute:Object.assign({x1:_.x,y1:_.y+_.height+z,x2:_.x+_.width,y2:_.y+_.height+z},ct)},Y),Tt("icdt-temp-select-rect-center","rect",{attribute:Object.assign({x:_.x,y:_.y,width:_.width,height:_.height},Bt)},Y));return ot.forEach(De=>{let{size:te}=De;Tt("icdt-temp-select-rect-node-"+De.id,"rect",{attribute:Object.assign({x:te.x,y:te.y,width:te.width,height:te.height},ae)},Y)}),[{element:Ke,posType:"rect-center"}]},Vt=(Y,ot)=>{let _=(0,q.v)(1),z={stroke:N.NV.stroke,"stroke-width":(0,q.v)(N.NV.strokeWidth),"stroke-linecap":N.NV.strokeLinecap},ct={fill:N.Mo.fill,stroke:N.Mo.stroke,"stroke-width":(0,q.v)(N.Mo.strokeWidth)};return Tt("icdt-temp-scan-line-left","line",{attribute:Object.assign({x1:ot.x-_,y1:ot.y,x2:ot.x-_,y2:ot.y+ot.height},z)},Y),Tt("icdt-temp-scan-line-top","line",{attribute:Object.assign({x1:ot.x,y1:ot.y-_,x2:ot.x+ot.width,y2:ot.y-_},z)},Y),Tt("icdt-temp-scan-line-right","line",{attribute:Object.assign({x1:ot.x+ot.width+_,y1:ot.y,x2:ot.x+ot.width+_,y2:ot.y+ot.height},z)},Y),Tt("icdt-temp-scan-line-bottom","line",{attribute:Object.assign({x1:ot.x,y1:ot.y+ot.height+_,x2:ot.x+ot.width,y2:ot.y+ot.height+_},z)},Y),[{element:Tt("icdt-temp-scan-rect-center","rect",{attribute:Object.assign({x:ot.x,y:ot.y,width:ot.width,height:ot.height},ct)},Y),posType:"rect-center"}]},Qt=(Y,ot)=>{let _=(0,q.v)(-1),z={stroke:N.h8.stroke,"stroke-width":(0,q.v)(N.h8.strokeWidth),"stroke-linecap":N.h8.strokeLinecap,"stroke-dasharray":(0,q.v)(N.h8.strokeDasharray)},ct={fill:N.MA.fill};return Tt("icdt-temp-interactive-line-left","line",{attribute:Object.assign({x1:ot.x-_,y1:ot.y,x2:ot.x-_,y2:ot.y+ot.height},z)},Y),Tt("icdt-temp-interactive-line-top","line",{attribute:Object.assign({x1:ot.x,y1:ot.y-_,x2:ot.x+ot.width,y2:ot.y-_},z)},Y),Tt("icdt-temp-interactive-line-right","line",{attribute:Object.assign({x1:ot.x+ot.width+_,y1:ot.y,x2:ot.x+ot.width+_,y2:ot.y+ot.height},z)},Y),Tt("icdt-temp-interactive-line-bottom","line",{attribute:Object.assign({x1:ot.x,y1:ot.y+ot.height+_,x2:ot.x+ot.width,y2:ot.y+ot.height+_},z)},Y),Tt("icdt-temp-interactive-rect-center","rect",{attribute:Object.assign({x:ot.x,y:ot.y,width:ot.width,height:ot.height},ct)},Y),[]},Te=(Y,ot)=>{let _={fill:N.k0.fill,stroke:N.k0.stroke,"stroke-width":(0,q.v)(N.k0.strokeWidth),"stroke-dasharray":(0,q.v)(N.k0.strokeDasharray)};$(Y).empty(),ot.forEach(z=>{var ct,Bt;let{size:ae}=z;if(!z.idx)return;Tt("icdt-temp-index-rect-node-"+z.id,"rect",{attribute:Object.assign({x:ae.x-5,y:ae.y-5,width:ae.width+10,height:ae.height+10},_)},Y);let{element:pe}=(0,V.e)(Math.ceil(1e9*Math.random()),{size:{x:ae.x-76,y:ae.y-6,width:70,height:80},attribute:{},style:{},source:{type:"html",html:{htmlContent:`<div class="position-slide" style="position:relative;width:100%;height:100%;">\n                  <div style="position:absolute;top:0;right:0;line-height:22px;">\n                    <div title="Th\u1ee9 t\u1ef1 xu\u1ea5t hi\u1ec7n">\n                        <div style="float:right;">\n                          <span style="display:block;width:18px;float:left;text-align:center;">\n                            <i class="fa fa-play" style="margin:6px 0;color:#7da7d9;font-size:12px;"></i>\n                          </span>\n                          <span style="display:block;width:50px;float:left;">\n                            <input type="number" name="idx" value="${null!==(ct=z.idx)&&void 0!==ct?ct:0}" min="0" max="999" step="1" style="box-sizing:border-box;width:100%;padding:0;border:1px solid #ddd;outline:0;text-align:center;background:#eee;background: radial-gradient(#fff, #eee);font-size:12px;">\n                          </span>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                    <div title="Th\u1eddi gian \u0111\u1ee3i(s), n\u1ebfu gi\xe1 tr\u1ecb = 0 s\u1ebd chuy\u1ec3n sang \u0111\u1ee3i ho\xe0n t\u1ea5t ho\u1ea1t \u0111\u1ed9ng v\xe0 \xe2m thanh" style="margin-top:2px;">\n                        <div style="float:right;">\n                          <span style="display:block;width:18px;float:left;text-align:center;">\n                            <i class="fa fa-clock-o" style="margin:5px 0;color:#7da7d9;font-size:14px;"></i>\n                          </span>\n                          <span style="display:block;width:50px;float:left;">\n                            <input type="number" name="time" value="${null!==(Bt=z.time)&&void 0!==Bt?Bt:0}" min="0" max="999" step="0.5" style="box-sizing:border-box;width:100%;padding:0;border:1px solid #ddd;outline:0;text-align:center;background:#eee;background: radial-gradient(#fff, #eee);font-size:12px;">\n                          </span>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                    <div title="H\u1ee7y thi\u1ebft l\u1eadp" style="margin-top:2px;">\n                        <div style="float:right;">\n                          <button name="remove" style="box-sizing:border-box;width:24px;height:24px;padding:0;border:1px solid #ddd;line-height: 0;outline:none;background:#eee;background: radial-gradient(#fff, #eee);">\n                            <img src="assets/icon-png/xoa2.png" height="18">\n                          </button>\n                        </div>\n                        <div style="clear:both;"></div>\n                    </div>\n                  </div>\n              </div>`}}},Y);pe.classList.add("node-input"),$(pe).on("change",'input[name="idx"]',oe=>{var se;z.idx=parseInt(null!==(se=oe.target.value)&&void 0!==se?se:"0")}).on("change",'input[name="time"]',oe=>{var se;z.time=parseFloat(null!==(se=oe.target.value)&&void 0!==se?se:"0")}).on("click",'button[name="remove"]',oe=>{z.idx=0,z.time=null,Te(Y,ot)})})},Ce=(Y,ot)=>{var _,z,ct,Bt;let{color:ae,opacity:pe,path:oe,url:se,base64:Ae}=null!==(_=null==ot||null===(z=ot.svg)||void 0===z?void 0:z.background)&&void 0!==_?_:{},{x:Ke,y:De,width:te,height:Ve}=null!==(ct=null==ot||null===(Bt=ot.svg)||void 0===Bt?void 0:Bt.viewBox)&&void 0!==ct?ct:{x:0,y:0,width:0,height:0};(0,K.f)(void 0,{size:{x:Ke,y:De,width:te,height:Ve},attribute:{fill:"#fff",stroke:"#999",strokeWidth:1,strokeDasharray:10,class:"hide-on-viewer"}},Y),ae&&(0,K.f)(void 0,{size:{x:Ke,y:De,width:te,height:Ve},attribute:{fill:ae,fillOpacity:pe}},Y),oe&&(0,dt.G)(void 0,{size:{x:Ke,y:De,width:te,height:Ve},source:{type:"image",image:{path:oe,url:se,base64:Ae}}},Y)},ge=(Y,ot)=>{var _,z,pe;if($(Y).empty(),null!=ot&&null!==(_=ot.test)&&void 0!==_&&null!==(_=_.answer)&&void 0!==_&&_.singlechoice){var Bt,ae;let oe=R.$.findNode(null==ot||null===(Bt=ot.test)||void 0===Bt||null===(Bt=Bt.answer)||void 0===Bt||null===(Bt=Bt.singlechoice)||void 0===Bt?void 0:Bt.value),{x:se,y:Ae,width:Ke,height:De}=null!==(ae=null==oe?void 0:oe.size)&&void 0!==ae?ae:{x:0,y:0,width:0,height:0};(0,mt._)(Math.ceil(1e9*Math.random()),{size:{x:se-2,y:Ae-2,width:Ke+4,height:De+4},attribute:{fill:"none",stroke:"#5F6CE1",strokeWidth:4,strokeDasharray:4}},Y)}null!=ot&&null!==(z=ot.test)&&void 0!==z&&null!==(z=z.answer)&&void 0!==z&&z.multichoice&&(null==ot||null===(pe=ot.test)||void 0===pe||null===(pe=pe.answer)||void 0===pe||pe.multichoice.forEach(oe=>{var se;let Ae=R.$.findNode(oe.value),{x:Ke,y:De,width:te,height:Ve}=null!==(se=null==Ae?void 0:Ae.size)&&void 0!==se?se:{x:0,y:0,width:0,height:0};(0,K.f)(Math.ceil(1e9*Math.random()),{size:{x:Ke-2,y:De-2,width:te+4,height:Ve+4},attribute:{fill:"none",stroke:"#5F6CE1",strokeWidth:4,strokeDasharray:4}},Y)}))}},370:(Le,qt,x)=>{"use strict";x.d(qt,{e:()=>st});const st=y=>{switch(null==y?void 0:y.type){case 901:return"assets/iframe/lib/mk-image-viewer/viewer.html?url="+y.readfileuploadurl+y.path;case 902:return"assets/iframe/lib/mk-audio-player/player.html?url="+y.readfileuploadurl+y.path;case 903:return"assets/iframe/lib/mk-video-player/player.html?url="+y.readfileuploadurl+y.path;case 908:return"https://view.officeapps.live.com/op/view.aspx?src="+y.readfileuploadurl+y.path;case 909:return"assets/iframe/lib/PDFReader/web/viewer.html?file="+y.readfileuploadurl+y.path;case 906:case 911:case 910:return""+y.readfileuploadurl+y.path;case 905:var L;return"imsmanifest.xml"==(null===(L=y.pathExtract)||void 0===L||null===(L=L.split("/"))||void 0===L?void 0:L.pop())?"assets/iframe/lib/ScormPool_Player/player.html?url="+y.readfileuploadurl+y.pathExtract:""+y.readfileuploadurl+y.path;case 907:case 900:return""+y.readfileuploadurl+y.path;case 904:switch(y.oss){case 1003:return"assets/iframe/lib/ScormPool_Player/player.html?url="+y.url;case 1002:var B;return null!==(B=et(y.url))&&void 0!==B?B:"";case 1005:var N;return null!==(N=y.url)&&void 0!==N?N:"";default:var P;return null!==(P=y.url)&&void 0!==P?P:""}default:return""+y.readfileuploadurl+y.path}},et=y=>{let L=Z(y);return L?"https://www.youtube.com/embed/"+L+"?"+$.param({wmode:"opaque",border:0,hd:1,autoplay:!1,autohide:1,enablejsapi:1,modestbranding:1,version:3,hl:"vi_VN",rel:0,showinfo:0,iv_load_policy:3}):null},Z=y=>{let L=null==y?void 0:y.match(/(?:.+?)?(?:\/v\/|watch\/|\?v\=|\&v\=|youtu\.be\/|\/v\=|^youtu\.be\/|embed\/)([a-zA-Z0-9_-]{11})+/);return L&&L.length>=2?L[1]:null}},2276:function(Le,qt){var j;!function(D,st){"use strict";"object"==typeof Le.exports?Le.exports=D.document?st(D,!0):function(et){if(!et.document)throw new Error("jQuery requires a window with a document");return st(et)}:st(D)}(typeof window<"u"?window:this,function(D,st){"use strict";var et=[],Z=Object.getPrototypeOf,y=et.slice,L=et.flat?function(t){return et.flat.call(t)}:function(t){return et.concat.apply([],t)},B=et.push,N=et.indexOf,P={},q=P.toString,K=P.hasOwnProperty,dt=K.toString,mt=dt.call(Object),R={},V=function(i){return"function"==typeof i&&"number"!=typeof i.nodeType&&"function"!=typeof i.item},F=function(i){return null!=i&&i===i.window},E=D.document,Nt={type:!0,src:!0,nonce:!0,noModule:!0};function jt(t,i,n){var o,c,h=(n=n||E).createElement("script");if(h.text=t,i)for(o in Nt)(c=i[o]||i.getAttribute&&i.getAttribute(o))&&h.setAttribute(o,c);n.head.appendChild(h).parentNode.removeChild(h)}function Lt(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?P[q.call(t)]||"object":typeof t}var Ot=/HTML$/i,a=function(t,i){return new a.fn.init(t,i)};function St(t){var i=!!t&&"length"in t&&t.length,n=Lt(t);return!V(t)&&!F(t)&&("array"===n||0===i||"number"==typeof i&&i>0&&i-1 in t)}function kt(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}a.fn=a.prototype={jquery:"3.7.1",constructor:a,length:0,toArray:function(){return y.call(this)},get:function(t){return null==t?y.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var i=a.merge(this.constructor(),t);return i.prevObject=this,i},each:function(t){return a.each(this,t)},map:function(t){return this.pushStack(a.map(this,function(i,n){return t.call(i,n,i)}))},slice:function(){return this.pushStack(y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(a.grep(this,function(t,i){return(i+1)%2}))},odd:function(){return this.pushStack(a.grep(this,function(t,i){return i%2}))},eq:function(t){var i=this.length,n=+t+(t<0?i:0);return this.pushStack(n>=0&&n<i?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:B,sort:et.sort,splice:et.splice},a.extend=a.fn.extend=function(){var t,i,n,o,c,h,v=arguments[0]||{},I=1,O=arguments.length,G=!1;for("boolean"==typeof v&&(G=v,v=arguments[I]||{},I++),"object"!=typeof v&&!V(v)&&(v={}),I===O&&(v=this,I--);I<O;I++)if(null!=(t=arguments[I]))for(i in t)o=t[i],"__proto__"!==i&&v!==o&&(G&&o&&(a.isPlainObject(o)||(c=Array.isArray(o)))?(n=v[i],h=c&&!Array.isArray(n)?[]:c||a.isPlainObject(n)?n:{},c=!1,v[i]=a.extend(G,h,o)):void 0!==o&&(v[i]=o));return v},a.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var i,n;return!(!t||"[object Object]"!==q.call(t)||(i=Z(t))&&("function"!=typeof(n=K.call(i,"constructor")&&i.constructor)||dt.call(n)!==mt))},isEmptyObject:function(t){var i;for(i in t)return!1;return!0},globalEval:function(t,i,n){jt(t,{nonce:i&&i.nonce},n)},each:function(t,i){var n,o=0;if(St(t))for(n=t.length;o<n&&!1!==i.call(t[o],o,t[o]);o++);else for(o in t)if(!1===i.call(t[o],o,t[o]))break;return t},text:function(t){var i,n="",o=0,c=t.nodeType;if(!c)for(;i=t[o++];)n+=a.text(i);return 1===c||11===c?t.textContent:9===c?t.documentElement.textContent:3===c||4===c?t.nodeValue:n},makeArray:function(t,i){var n=i||[];return null!=t&&(St(Object(t))?a.merge(n,"string"==typeof t?[t]:t):B.call(n,t)),n},inArray:function(t,i,n){return null==i?-1:N.call(i,t,n)},isXMLDoc:function(t){var n=t&&(t.ownerDocument||t).documentElement;return!Ot.test(t&&t.namespaceURI||n&&n.nodeName||"HTML")},merge:function(t,i){for(var n=+i.length,o=0,c=t.length;o<n;o++)t[c++]=i[o];return t.length=c,t},grep:function(t,i,n){for(var c=[],h=0,v=t.length,I=!n;h<v;h++)!i(t[h],h)!==I&&c.push(t[h]);return c},map:function(t,i,n){var o,c,h=0,v=[];if(St(t))for(o=t.length;h<o;h++)null!=(c=i(t[h],h,n))&&v.push(c);else for(h in t)null!=(c=i(t[h],h,n))&&v.push(c);return L(v)},guid:1,support:R}),"function"==typeof Symbol&&(a.fn[Symbol.iterator]=et[Symbol.iterator]),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,i){P["[object "+i+"]"]=i.toLowerCase()});var Ft=et.pop,Tt=et.sort,At=et.splice,rt="[\\x20\\t\\r\\n\\f]",Kt=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g");a.contains=function(t,i){var n=i&&i.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var Vt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Qt(t,i){return i?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}a.escapeSelector=function(t){return(t+"").replace(Vt,Qt)};var Te=E,Ce=B;!function(){var t,i,n,o,c,v,I,O,G,Et,h=Ce,Dt=a.expando,ft=0,Ut=0,Ee=qn(),Je=qn(),Re=qn(),mi=qn(),ui=function(b,H){return b===H&&(c=!0),0},li="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Wi="(?:\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ge="\\["+rt+"*("+Wi+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Wi+"))|)"+rt+"*\\]",sn=":("+Wi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ge+")*)|.*)\\)|)",$e=new RegExp(rt+"+","g"),ti=new RegExp("^"+rt+"*,"+rt+"*"),Ki=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),Qn=new RegExp(rt+"|>"),Hi=new RegExp(sn),Ln=new RegExp("^"+Wi+"$"),hi={ID:new RegExp("^#("+Wi+")"),CLASS:new RegExp("^\\.("+Wi+")"),TAG:new RegExp("^("+Wi+"|[*])"),ATTR:new RegExp("^"+Ge),PSEUDO:new RegExp("^"+sn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+li+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},Zi=/^(?:input|select|textarea|button)$/i,Ui=/^h\d$/i,Oi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zn=/[+~]/,qi=new RegExp("\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\([^\\r\\n\\f])","g"),Xi=function(b,H){var ut="0x"+b.slice(1)-65536;return H||(ut<0?String.fromCharCode(ut+65536):String.fromCharCode(ut>>10|55296,1023&ut|56320))},Dr=function(){un()},Rr=Xn(function(b){return!0===b.disabled&&kt(b,"fieldset")},{dir:"parentNode",next:"legend"});try{h.apply(et=y.call(Te.childNodes),Te.childNodes)}catch{h={apply:function(H,ut){Ce.apply(H,y.call(ut))},call:function(H){Ce.apply(H,y.call(arguments,1))}}}function ei(b,H,ut,bt){var It,Jt,ee,he,ie,Ue,ke,Ie=H&&H.ownerDocument,Fe=H?H.nodeType:9;if(ut=ut||[],"string"!=typeof b||!b||1!==Fe&&9!==Fe&&11!==Fe)return ut;if(!bt&&(un(H),H=H||v,O)){if(11!==Fe&&(ie=Oi.exec(b)))if(It=ie[1]){if(9===Fe){if(!(ee=H.getElementById(It)))return ut;if(ee.id===It)return h.call(ut,ee),ut}else if(Ie&&(ee=Ie.getElementById(It))&&ei.contains(H,ee)&&ee.id===It)return h.call(ut,ee),ut}else{if(ie[2])return h.apply(ut,H.getElementsByTagName(b)),ut;if((It=ie[3])&&H.getElementsByClassName)return h.apply(ut,H.getElementsByClassName(It)),ut}if(!(mi[b+" "]||G&&G.test(b))){if(ke=b,Ie=H,1===Fe&&(Qn.test(b)||Ki.test(b))){for(((Ie=Zn.test(b)&&jn(H.parentNode)||H)!=H||!R.scope)&&((he=H.getAttribute("id"))?he=a.escapeSelector(he):H.setAttribute("id",he=Dt)),Jt=(Ue=Bn(b)).length;Jt--;)Ue[Jt]=(he?"#"+he:":scope")+" "+zn(Ue[Jt]);ke=Ue.join(",")}try{return h.apply(ut,Ie.querySelectorAll(ke)),ut}catch{mi(b,!0)}finally{he===Dt&&H.removeAttribute("id")}}}return Br(b.replace(Kt,"$1"),H,ut,bt)}function qn(){var b=[];return function H(ut,bt){return b.push(ut+" ")>i.cacheLength&&delete H[b.shift()],H[ut+" "]=bt}}function Pi(b){return b[Dt]=!0,b}function _n(b){var H=v.createElement("fieldset");try{return!!b(H)}catch{return!1}finally{H.parentNode&&H.parentNode.removeChild(H),H=null}}function Lr(b){return function(H){return kt(H,"input")&&H.type===b}}function oa(b){return function(H){return(kt(H,"input")||kt(H,"button"))&&H.type===b}}function qr(b){return function(H){return"form"in H?H.parentNode&&!1===H.disabled?"label"in H?"label"in H.parentNode?H.parentNode.disabled===b:H.disabled===b:H.isDisabled===b||H.isDisabled!==!b&&Rr(H)===b:H.disabled===b:"label"in H&&H.disabled===b}}function Yi(b){return Pi(function(H){return H=+H,Pi(function(ut,bt){for(var It,Jt=b([],ut.length,H),ee=Jt.length;ee--;)ut[It=Jt[ee]]&&(ut[It]=!(bt[It]=ut[It]))})})}function jn(b){return b&&typeof b.getElementsByTagName<"u"&&b}function un(b){var H,ut=b?b.ownerDocument||b:Te;return ut==v||9!==ut.nodeType||!ut.documentElement||(I=(v=ut).documentElement,O=!a.isXMLDoc(v),Et=I.matches||I.webkitMatchesSelector||I.msMatchesSelector,I.msMatchesSelector&&Te!=v&&(H=v.defaultView)&&H.top!==H&&H.addEventListener("unload",Dr),R.getById=_n(function(bt){return I.appendChild(bt).id=a.expando,!v.getElementsByName||!v.getElementsByName(a.expando).length}),R.disconnectedMatch=_n(function(bt){return Et.call(bt,"*")}),R.scope=_n(function(){return v.querySelectorAll(":scope")}),R.cssHas=_n(function(){try{return v.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),R.getById?(i.filter.ID=function(bt){var It=bt.replace(qi,Xi);return function(Jt){return Jt.getAttribute("id")===It}},i.find.ID=function(bt,It){if(typeof It.getElementById<"u"&&O){var Jt=It.getElementById(bt);return Jt?[Jt]:[]}}):(i.filter.ID=function(bt){var It=bt.replace(qi,Xi);return function(Jt){var ee=typeof Jt.getAttributeNode<"u"&&Jt.getAttributeNode("id");return ee&&ee.value===It}},i.find.ID=function(bt,It){if(typeof It.getElementById<"u"&&O){var Jt,ee,he,ie=It.getElementById(bt);if(ie){if((Jt=ie.getAttributeNode("id"))&&Jt.value===bt)return[ie];for(he=It.getElementsByName(bt),ee=0;ie=he[ee++];)if((Jt=ie.getAttributeNode("id"))&&Jt.value===bt)return[ie]}return[]}}),i.find.TAG=function(bt,It){return typeof It.getElementsByTagName<"u"?It.getElementsByTagName(bt):It.querySelectorAll(bt)},i.find.CLASS=function(bt,It){if(typeof It.getElementsByClassName<"u"&&O)return It.getElementsByClassName(bt)},G=[],_n(function(bt){var It;I.appendChild(bt).innerHTML="<a id='"+Dt+"' href='' disabled='disabled'></a><select id='"+Dt+"-\r\\' disabled='disabled'><option selected=''></option></select>",bt.querySelectorAll("[selected]").length||G.push("\\["+rt+"*(?:value|"+li+")"),bt.querySelectorAll("[id~="+Dt+"-]").length||G.push("~="),bt.querySelectorAll("a#"+Dt+"+*").length||G.push(".#.+[+~]"),bt.querySelectorAll(":checked").length||G.push(":checked"),(It=v.createElement("input")).setAttribute("type","hidden"),bt.appendChild(It).setAttribute("name","D"),I.appendChild(bt).disabled=!0,2!==bt.querySelectorAll(":disabled").length&&G.push(":enabled",":disabled"),(It=v.createElement("input")).setAttribute("name",""),bt.appendChild(It),bt.querySelectorAll("[name='']").length||G.push("\\["+rt+"*name"+rt+"*="+rt+"*(?:''|\"\")")}),R.cssHas||G.push(":has"),G=G.length&&new RegExp(G.join("|")),ui=function(bt,It){if(bt===It)return c=!0,0;var Jt=!bt.compareDocumentPosition-!It.compareDocumentPosition;return Jt||(1&(Jt=(bt.ownerDocument||bt)==(It.ownerDocument||It)?bt.compareDocumentPosition(It):1)||!R.sortDetached&&It.compareDocumentPosition(bt)===Jt?bt===v||bt.ownerDocument==Te&&ei.contains(Te,bt)?-1:It===v||It.ownerDocument==Te&&ei.contains(Te,It)?1:o?N.call(o,bt)-N.call(o,It):0:4&Jt?-1:1)}),v}for(t in ei.matches=function(b,H){return ei(b,null,null,H)},ei.matchesSelector=function(b,H){if(un(b),O&&!mi[H+" "]&&(!G||!G.test(H)))try{var ut=Et.call(b,H);if(ut||R.disconnectedMatch||b.document&&11!==b.document.nodeType)return ut}catch{mi(H,!0)}return ei(H,v,null,[b]).length>0},ei.contains=function(b,H){return(b.ownerDocument||b)!=v&&un(b),a.contains(b,H)},ei.attr=function(b,H){(b.ownerDocument||b)!=v&&un(b);var ut=i.attrHandle[H.toLowerCase()],bt=ut&&K.call(i.attrHandle,H.toLowerCase())?ut(b,H,!O):void 0;return void 0!==bt?bt:b.getAttribute(H)},ei.error=function(b){throw new Error("Syntax error, unrecognized expression: "+b)},a.uniqueSort=function(b){var H,ut=[],bt=0,It=0;if(c=!R.sortStable,o=!R.sortStable&&y.call(b,0),Tt.call(b,ui),c){for(;H=b[It++];)H===b[It]&&(bt=ut.push(It));for(;bt--;)At.call(b,ut[bt],1)}return o=null,b},a.fn.uniqueSort=function(){return this.pushStack(a.uniqueSort(y.apply(this)))},(i=a.expr={cacheLength:50,createPseudo:Pi,match:hi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(qi,Xi),b[3]=(b[3]||b[4]||b[5]||"").replace(qi,Xi),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||ei.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&ei.error(b[0]),b},PSEUDO:function(b){var H,ut=!b[6]&&b[2];return hi.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":ut&&Hi.test(ut)&&(H=Bn(ut,!0))&&(H=ut.indexOf(")",ut.length-H)-ut.length)&&(b[0]=b[0].slice(0,H),b[2]=ut.slice(0,H)),b.slice(0,3))}},filter:{TAG:function(b){var H=b.replace(qi,Xi).toLowerCase();return"*"===b?function(){return!0}:function(ut){return kt(ut,H)}},CLASS:function(b){var H=Ee[b+" "];return H||(H=new RegExp("(^|"+rt+")"+b+"("+rt+"|$)"))&&Ee(b,function(ut){return H.test("string"==typeof ut.className&&ut.className||typeof ut.getAttribute<"u"&&ut.getAttribute("class")||"")})},ATTR:function(b,H,ut){return function(bt){var It=ei.attr(bt,b);return null==It?"!="===H:!H||(It+="","="===H?It===ut:"!="===H?It!==ut:"^="===H?ut&&0===It.indexOf(ut):"*="===H?ut&&It.indexOf(ut)>-1:"$="===H?ut&&It.slice(-ut.length)===ut:"~="===H?(" "+It.replace($e," ")+" ").indexOf(ut)>-1:"|="===H&&(It===ut||It.slice(0,ut.length+1)===ut+"-"))}},CHILD:function(b,H,ut,bt,It){var Jt="nth"!==b.slice(0,3),ee="last"!==b.slice(-4),he="of-type"===H;return 1===bt&&0===It?function(ie){return!!ie.parentNode}:function(ie,Ue,ke){var Ie,Fe,_e,ii,Ti,wi=Jt!==ee?"nextSibling":"previousSibling",Di=ie.parentNode,Qi=he&&ie.nodeName.toLowerCase(),An=!ke&&!he,Si=!1;if(Di){if(Jt){for(;wi;){for(_e=ie;_e=_e[wi];)if(he?kt(_e,Qi):1===_e.nodeType)return!1;Ti=wi="only"===b&&!Ti&&"nextSibling"}return!0}if(Ti=[ee?Di.firstChild:Di.lastChild],ee&&An){for(Si=(ii=(Ie=(Fe=Di[Dt]||(Di[Dt]={}))[b]||[])[0]===ft&&Ie[1])&&Ie[2],_e=ii&&Di.childNodes[ii];_e=++ii&&_e&&_e[wi]||(Si=ii=0)||Ti.pop();)if(1===_e.nodeType&&++Si&&_e===ie){Fe[b]=[ft,ii,Si];break}}else if(An&&(Si=ii=(Ie=(Fe=ie[Dt]||(ie[Dt]={}))[b]||[])[0]===ft&&Ie[1]),!1===Si)for(;(_e=++ii&&_e&&_e[wi]||(Si=ii=0)||Ti.pop())&&(!(he?kt(_e,Qi):1===_e.nodeType)||!++Si||(An&&((Fe=_e[Dt]||(_e[Dt]={}))[b]=[ft,Si]),_e!==ie)););return(Si-=It)===bt||Si%bt==0&&Si/bt>=0}}},PSEUDO:function(b,H){var ut,bt=i.pseudos[b]||i.setFilters[b.toLowerCase()]||ei.error("unsupported pseudo: "+b);return bt[Dt]?bt(H):bt.length>1?(ut=[b,b,"",H],i.setFilters.hasOwnProperty(b.toLowerCase())?Pi(function(It,Jt){for(var ee,he=bt(It,H),ie=he.length;ie--;)It[ee=N.call(It,he[ie])]=!(Jt[ee]=he[ie])}):function(It){return bt(It,0,ut)}):bt}},pseudos:{not:Pi(function(b){var H=[],ut=[],bt=xr(b.replace(Kt,"$1"));return bt[Dt]?Pi(function(It,Jt,ee,he){for(var ie,Ue=bt(It,null,he,[]),ke=It.length;ke--;)(ie=Ue[ke])&&(It[ke]=!(Jt[ke]=ie))}):function(It,Jt,ee){return H[0]=It,bt(H,null,ee,ut),H[0]=null,!ut.pop()}}),has:Pi(function(b){return function(H){return ei(b,H).length>0}}),contains:Pi(function(b){return b=b.replace(qi,Xi),function(H){return(H.textContent||a.text(H)).indexOf(b)>-1}}),lang:Pi(function(b){return Ln.test(b||"")||ei.error("unsupported lang: "+b),b=b.replace(qi,Xi).toLowerCase(),function(H){var ut;do{if(ut=O?H.lang:H.getAttribute("xml:lang")||H.getAttribute("lang"))return(ut=ut.toLowerCase())===b||0===ut.indexOf(b+"-")}while((H=H.parentNode)&&1===H.nodeType);return!1}}),target:function(b){var H=D.location&&D.location.hash;return H&&H.slice(1)===b.id},root:function(b){return b===I},focus:function(b){return b===function Zr(){try{return v.activeElement}catch{}}()&&v.hasFocus()&&!!(b.type||b.href||~b.tabIndex)},enabled:qr(!1),disabled:qr(!0),checked:function(b){return kt(b,"input")&&!!b.checked||kt(b,"option")&&!!b.selected},selected:function(b){return!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType<6)return!1;return!0},parent:function(b){return!i.pseudos.empty(b)},header:function(b){return Ui.test(b.nodeName)},input:function(b){return Zi.test(b.nodeName)},button:function(b){return kt(b,"input")&&"button"===b.type||kt(b,"button")},text:function(b){var H;return kt(b,"input")&&"text"===b.type&&(null==(H=b.getAttribute("type"))||"text"===H.toLowerCase())},first:Yi(function(){return[0]}),last:Yi(function(b,H){return[H-1]}),eq:Yi(function(b,H,ut){return[ut<0?ut+H:ut]}),even:Yi(function(b,H){for(var ut=0;ut<H;ut+=2)b.push(ut);return b}),odd:Yi(function(b,H){for(var ut=1;ut<H;ut+=2)b.push(ut);return b}),lt:Yi(function(b,H,ut){var bt;for(bt=ut<0?ut+H:ut>H?H:ut;--bt>=0;)b.push(bt);return b}),gt:Yi(function(b,H,ut){for(var bt=ut<0?ut+H:ut;++bt<H;)b.push(bt);return b})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=Lr(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=oa(t);function jr(){}function Bn(b,H){var ut,bt,It,Jt,ee,he,ie,Ue=Je[b+" "];if(Ue)return H?0:Ue.slice(0);for(ee=b,he=[],ie=i.preFilter;ee;){for(Jt in(!ut||(bt=ti.exec(ee)))&&(bt&&(ee=ee.slice(bt[0].length)||ee),he.push(It=[])),ut=!1,(bt=Ki.exec(ee))&&(ut=bt.shift(),It.push({value:ut,type:bt[0].replace(Kt," ")}),ee=ee.slice(ut.length)),i.filter)(bt=hi[Jt].exec(ee))&&(!ie[Jt]||(bt=ie[Jt](bt)))&&(ut=bt.shift(),It.push({value:ut,type:Jt,matches:bt}),ee=ee.slice(ut.length));if(!ut)break}return H?ee.length:ee?ei.error(b):Je(b,he).slice(0)}function zn(b){for(var H=0,ut=b.length,bt="";H<ut;H++)bt+=b[H].value;return bt}function Xn(b,H,ut){var bt=H.dir,It=H.next,Jt=It||bt,ee=ut&&"parentNode"===Jt,he=Ut++;return H.first?function(ie,Ue,ke){for(;ie=ie[bt];)if(1===ie.nodeType||ee)return b(ie,Ue,ke);return!1}:function(ie,Ue,ke){var Ie,Fe,_e=[ft,he];if(ke){for(;ie=ie[bt];)if((1===ie.nodeType||ee)&&b(ie,Ue,ke))return!0}else for(;ie=ie[bt];)if(1===ie.nodeType||ee)if(Fe=ie[Dt]||(ie[Dt]={}),It&&kt(ie,It))ie=ie[bt]||ie;else{if((Ie=Fe[Jt])&&Ie[0]===ft&&Ie[1]===he)return _e[2]=Ie[2];if(Fe[Jt]=_e,_e[2]=b(ie,Ue,ke))return!0}return!1}}function mr(b){return b.length>1?function(H,ut,bt){for(var It=b.length;It--;)if(!b[It](H,ut,bt))return!1;return!0}:b[0]}function Yn(b,H,ut,bt,It){for(var Jt,ee=[],he=0,ie=b.length,Ue=null!=H;he<ie;he++)(Jt=b[he])&&(!ut||ut(Jt,bt,It))&&(ee.push(Jt),Ue&&H.push(he));return ee}function _r(b,H,ut,bt,It,Jt){return bt&&!bt[Dt]&&(bt=_r(bt)),It&&!It[Dt]&&(It=_r(It,Jt)),Pi(function(ee,he,ie,Ue){var ke,Ie,Fe,_e,ii=[],Ti=[],wi=he.length,Di=ee||function Xr(b,H,ut){for(var bt=0,It=H.length;bt<It;bt++)ei(b,H[bt],ut);return ut}(H||"*",ie.nodeType?[ie]:ie,[]),Qi=!b||!ee&&H?Di:Yn(Di,ii,b,ie,Ue);if(ut?ut(Qi,_e=It||(ee?b:wi||bt)?[]:he,ie,Ue):_e=Qi,bt)for(ke=Yn(_e,Ti),bt(ke,[],ie,Ue),Ie=ke.length;Ie--;)(Fe=ke[Ie])&&(_e[Ti[Ie]]=!(Qi[Ti[Ie]]=Fe));if(ee){if(It||b){if(It){for(ke=[],Ie=_e.length;Ie--;)(Fe=_e[Ie])&&ke.push(Qi[Ie]=Fe);It(null,_e=[],ke,Ue)}for(Ie=_e.length;Ie--;)(Fe=_e[Ie])&&(ke=It?N.call(ee,Fe):ii[Ie])>-1&&(ee[ke]=!(he[ke]=Fe))}}else _e=Yn(_e===he?_e.splice(wi,_e.length):_e),It?It(null,he,_e,Ue):h.apply(he,_e)})}function br(b){for(var H,ut,bt,It=b.length,Jt=i.relative[b[0].type],ee=Jt||i.relative[" "],he=Jt?1:0,ie=Xn(function(Ie){return Ie===H},ee,!0),Ue=Xn(function(Ie){return N.call(H,Ie)>-1},ee,!0),ke=[function(Ie,Fe,_e){var ii=!Jt&&(_e||Fe!=n)||((H=Fe).nodeType?ie(Ie,Fe,_e):Ue(Ie,Fe,_e));return H=null,ii}];he<It;he++)if(ut=i.relative[b[he].type])ke=[Xn(mr(ke),ut)];else{if((ut=i.filter[b[he].type].apply(null,b[he].matches))[Dt]){for(bt=++he;bt<It&&!i.relative[b[bt].type];bt++);return _r(he>1&&mr(ke),he>1&&zn(b.slice(0,he-1).concat({value:" "===b[he-2].type?"*":""})).replace(Kt,"$1"),ut,he<bt&&br(b.slice(he,bt)),bt<It&&br(b=b.slice(bt)),bt<It&&zn(b))}ke.push(ut)}return mr(ke)}function xr(b,H){var ut,bt=[],It=[],Jt=Re[b+" "];if(!Jt){for(H||(H=Bn(b)),ut=H.length;ut--;)(Jt=br(H[ut]))[Dt]?bt.push(Jt):It.push(Jt);Jt=Re(b,function Yr(b,H){var ut=H.length>0,bt=b.length>0,It=function(Jt,ee,he,ie,Ue){var ke,Ie,Fe,_e=0,ii="0",Ti=Jt&&[],wi=[],Di=n,Qi=Jt||bt&&i.find.TAG("*",Ue),An=ft+=null==Di?1:Math.random()||.1,Si=Qi.length;for(Ue&&(n=ee==v||ee||Ue);ii!==Si&&null!=(ke=Qi[ii]);ii++){if(bt&&ke){for(Ie=0,!ee&&ke.ownerDocument!=v&&(un(ke),he=!O);Fe=b[Ie++];)if(Fe(ke,ee||v,he)){h.call(ie,ke);break}Ue&&(ft=An)}ut&&((ke=!Fe&&ke)&&_e--,Jt&&Ti.push(ke))}if(_e+=ii,ut&&ii!==_e){for(Ie=0;Fe=H[Ie++];)Fe(Ti,wi,ee,he);if(Jt){if(_e>0)for(;ii--;)Ti[ii]||wi[ii]||(wi[ii]=Ft.call(ie));wi=Yn(wi)}h.apply(ie,wi),Ue&&!Jt&&wi.length>0&&_e+H.length>1&&a.uniqueSort(ie)}return Ue&&(ft=An,n=Di),Ti};return ut?Pi(It):It}(It,bt)),Jt.selector=b}return Jt}function Br(b,H,ut,bt){var It,Jt,ee,he,ie,Ue="function"==typeof b&&b,ke=!bt&&Bn(b=Ue.selector||b);if(ut=ut||[],1===ke.length){if((Jt=ke[0]=ke[0].slice(0)).length>2&&"ID"===(ee=Jt[0]).type&&9===H.nodeType&&O&&i.relative[Jt[1].type]){if(!(H=(i.find.ID(ee.matches[0].replace(qi,Xi),H)||[])[0]))return ut;Ue&&(H=H.parentNode),b=b.slice(Jt.shift().value.length)}for(It=hi.needsContext.test(b)?0:Jt.length;It--&&!i.relative[he=(ee=Jt[It]).type];)if((ie=i.find[he])&&(bt=ie(ee.matches[0].replace(qi,Xi),Zn.test(Jt[0].type)&&jn(H.parentNode)||H))){if(Jt.splice(It,1),!(b=bt.length&&zn(Jt)))return h.apply(ut,bt),ut;break}}return(Ue||xr(b,ke))(bt,H,!O,ut,!H||Zn.test(b)&&jn(H.parentNode)||H),ut}jr.prototype=i.filters=i.pseudos,i.setFilters=new jr,R.sortStable=Dt.split("").sort(ui).join("")===Dt,un(),R.sortDetached=_n(function(b){return 1&b.compareDocumentPosition(v.createElement("fieldset"))}),a.find=ei,a.expr[":"]=a.expr.pseudos,a.unique=a.uniqueSort,ei.compile=xr,ei.select=Br,ei.setDocument=un,ei.tokenize=Bn,ei.escape=a.escapeSelector,ei.getText=a.text,ei.isXML=a.isXMLDoc,ei.selectors=a.expr,ei.support=a.support,ei.uniqueSort=a.uniqueSort}();var ge=function(t,i,n){for(var o=[],c=void 0!==n;(t=t[i])&&9!==t.nodeType;)if(1===t.nodeType){if(c&&a(t).is(n))break;o.push(t)}return o},Y=function(t,i){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==i&&n.push(t);return n},ot=a.expr.match.needsContext,_=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function z(t,i,n){return V(i)?a.grep(t,function(o,c){return!!i.call(o,c,o)!==n}):i.nodeType?a.grep(t,function(o){return o===i!==n}):"string"!=typeof i?a.grep(t,function(o){return N.call(i,o)>-1!==n}):a.filter(i,t,n)}a.filter=function(t,i,n){var o=i[0];return n&&(t=":not("+t+")"),1===i.length&&1===o.nodeType?a.find.matchesSelector(o,t)?[o]:[]:a.find.matches(t,a.grep(i,function(c){return 1===c.nodeType}))},a.fn.extend({find:function(t){var i,n,o=this.length,c=this;if("string"!=typeof t)return this.pushStack(a(t).filter(function(){for(i=0;i<o;i++)if(a.contains(c[i],this))return!0}));for(n=this.pushStack([]),i=0;i<o;i++)a.find(t,c[i],n);return o>1?a.uniqueSort(n):n},filter:function(t){return this.pushStack(z(this,t||[],!1))},not:function(t){return this.pushStack(z(this,t||[],!0))},is:function(t){return!!z(this,"string"==typeof t&&ot.test(t)?a(t):t||[],!1).length}});var ct,Bt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ae=a.fn.init=function(t,i,n){var o,c;if(!t)return this;if(n=n||ct,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Bt.exec(t))||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(a.merge(this,a.parseHTML(o[1],(i=i instanceof a?i[0]:i)&&i.nodeType?i.ownerDocument||i:E,!0)),_.test(o[1])&&a.isPlainObject(i))for(o in i)V(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}return(c=E.getElementById(o[2]))&&(this[0]=c,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):V(t)?void 0!==n.ready?n.ready(t):t(a):a.makeArray(t,this)};ae.prototype=a.fn,ct=a(E);var pe=/^(?:parents|prev(?:Until|All))/,oe={children:!0,contents:!0,next:!0,prev:!0};function se(t,i){for(;(t=t[i])&&1!==t.nodeType;);return t}a.fn.extend({has:function(t){var i=a(t,this),n=i.length;return this.filter(function(){for(var o=0;o<n;o++)if(a.contains(this,i[o]))return!0})},closest:function(t,i){var n,o=0,c=this.length,h=[],v="string"!=typeof t&&a(t);if(!ot.test(t))for(;o<c;o++)for(n=this[o];n&&n!==i;n=n.parentNode)if(n.nodeType<11&&(v?v.index(n)>-1:1===n.nodeType&&a.find.matchesSelector(n,t))){h.push(n);break}return this.pushStack(h.length>1?a.uniqueSort(h):h)},index:function(t){return t?"string"==typeof t?N.call(a(t),this[0]):N.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,i){return this.pushStack(a.uniqueSort(a.merge(this.get(),a(t,i))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),a.each({parent:function(t){var i=t.parentNode;return i&&11!==i.nodeType?i:null},parents:function(t){return ge(t,"parentNode")},parentsUntil:function(t,i,n){return ge(t,"parentNode",n)},next:function(t){return se(t,"nextSibling")},prev:function(t){return se(t,"previousSibling")},nextAll:function(t){return ge(t,"nextSibling")},prevAll:function(t){return ge(t,"previousSibling")},nextUntil:function(t,i,n){return ge(t,"nextSibling",n)},prevUntil:function(t,i,n){return ge(t,"previousSibling",n)},siblings:function(t){return Y((t.parentNode||{}).firstChild,t)},children:function(t){return Y(t.firstChild)},contents:function(t){return null!=t.contentDocument&&Z(t.contentDocument)?t.contentDocument:(kt(t,"template")&&(t=t.content||t),a.merge([],t.childNodes))}},function(t,i){a.fn[t]=function(n,o){var c=a.map(this,i,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(c=a.filter(o,c)),this.length>1&&(oe[t]||a.uniqueSort(c),pe.test(t)&&c.reverse()),this.pushStack(c)}});var Ae=/[^\x20\t\r\n\f]+/g;function De(t){return t}function te(t){throw t}function Ve(t,i,n,o){var c;try{t&&V(c=t.promise)?c.call(t).done(i).fail(n):t&&V(c=t.then)?c.call(t,i,n):i.apply(void 0,[t].slice(o))}catch(h){n.apply(void 0,[h])}}a.Callbacks=function(t){t="string"==typeof t?function Ke(t){var i={};return a.each(t.match(Ae)||[],function(n,o){i[o]=!0}),i}(t):a.extend({},t);var i,n,o,c,h=[],v=[],I=-1,O=function(){for(c=c||t.once,o=i=!0;v.length;I=-1)for(n=v.shift();++I<h.length;)!1===h[I].apply(n[0],n[1])&&t.stopOnFalse&&(I=h.length,n=!1);t.memory||(n=!1),i=!1,c&&(h=n?[]:"")},G={add:function(){return h&&(n&&!i&&(I=h.length-1,v.push(n)),function Et(Dt){a.each(Dt,function(ft,Ut){V(Ut)?(!t.unique||!G.has(Ut))&&h.push(Ut):Ut&&Ut.length&&"string"!==Lt(Ut)&&Et(Ut)})}(arguments),n&&!i&&O()),this},remove:function(){return a.each(arguments,function(Et,Dt){for(var ft;(ft=a.inArray(Dt,h,ft))>-1;)h.splice(ft,1),ft<=I&&I--}),this},has:function(Et){return Et?a.inArray(Et,h)>-1:h.length>0},empty:function(){return h&&(h=[]),this},disable:function(){return c=v=[],h=n="",this},disabled:function(){return!h},lock:function(){return c=v=[],!n&&!i&&(h=n=""),this},locked:function(){return!!c},fireWith:function(Et,Dt){return c||(Dt=[Et,(Dt=Dt||[]).slice?Dt.slice():Dt],v.push(Dt),i||O()),this},fire:function(){return G.fireWith(this,arguments),this},fired:function(){return!!o}};return G},a.extend({Deferred:function(t){var i=[["notify","progress",a.Callbacks("memory"),a.Callbacks("memory"),2],["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),0,"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return c.done(arguments).fail(arguments),this},catch:function(h){return o.then(null,h)},pipe:function(){var h=arguments;return a.Deferred(function(v){a.each(i,function(I,O){var G=V(h[O[4]])&&h[O[4]];c[O[1]](function(){var Et=G&&G.apply(this,arguments);Et&&V(Et.promise)?Et.promise().progress(v.notify).done(v.resolve).fail(v.reject):v[O[0]+"With"](this,G?[Et]:arguments)})}),h=null}).promise()},then:function(h,v,I){var O=0;function G(Et,Dt,ft,Ut){return function(){var Ee=this,Je=arguments,Re=function(){var ui,li;if(!(Et<O)){if((ui=ft.apply(Ee,Je))===Dt.promise())throw new TypeError("Thenable self-resolution");V(li=ui&&("object"==typeof ui||"function"==typeof ui)&&ui.then)?Ut?li.call(ui,G(O,Dt,De,Ut),G(O,Dt,te,Ut)):(O++,li.call(ui,G(O,Dt,De,Ut),G(O,Dt,te,Ut),G(O,Dt,De,Dt.notifyWith))):(ft!==De&&(Ee=void 0,Je=[ui]),(Ut||Dt.resolveWith)(Ee,Je))}},mi=Ut?Re:function(){try{Re()}catch(ui){a.Deferred.exceptionHook&&a.Deferred.exceptionHook(ui,mi.error),Et+1>=O&&(ft!==te&&(Ee=void 0,Je=[ui]),Dt.rejectWith(Ee,Je))}};Et?mi():(a.Deferred.getErrorHook?mi.error=a.Deferred.getErrorHook():a.Deferred.getStackHook&&(mi.error=a.Deferred.getStackHook()),D.setTimeout(mi))}}return a.Deferred(function(Et){i[0][3].add(G(0,Et,V(I)?I:De,Et.notifyWith)),i[1][3].add(G(0,Et,V(h)?h:De)),i[2][3].add(G(0,Et,V(v)?v:te))}).promise()},promise:function(h){return null!=h?a.extend(h,o):o}},c={};return a.each(i,function(h,v){var I=v[2],O=v[5];o[v[1]]=I.add,O&&I.add(function(){n=O},i[3-h][2].disable,i[3-h][3].disable,i[0][2].lock,i[0][3].lock),I.add(v[3].fire),c[v[0]]=function(){return c[v[0]+"With"](this===c?void 0:this,arguments),this},c[v[0]+"With"]=I.fireWith}),o.promise(c),t&&t.call(c,c),c},when:function(t){var i=arguments.length,n=i,o=Array(n),c=y.call(arguments),h=a.Deferred(),v=function(I){return function(O){o[I]=this,c[I]=arguments.length>1?y.call(arguments):O,--i||h.resolveWith(o,c)}};if(i<=1&&(Ve(t,h.done(v(n)).resolve,h.reject,!i),"pending"===h.state()||V(c[n]&&c[n].then)))return h.then();for(;n--;)Ve(c[n],v(n),h.reject);return h.promise()}});var _t=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;a.Deferred.exceptionHook=function(t,i){D.console&&D.console.warn&&t&&_t.test(t.name)&&D.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},a.readyException=function(t){D.setTimeout(function(){throw t})};var w=a.Deferred();function vt(){E.removeEventListener("DOMContentLoaded",vt),D.removeEventListener("load",vt),a.ready()}a.fn.ready=function(t){return w.then(t).catch(function(i){a.readyException(i)}),this},a.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--a.readyWait:a.isReady)||(a.isReady=!0,!(!0!==t&&--a.readyWait>0)&&w.resolveWith(E,[a]))}}),a.ready.then=w.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?D.setTimeout(a.ready):(E.addEventListener("DOMContentLoaded",vt),D.addEventListener("load",vt));var Mt=function(t,i,n,o,c,h,v){var I=0,O=t.length,G=null==n;if("object"===Lt(n))for(I in c=!0,n)Mt(t,i,I,n[I],!0,h,v);else if(void 0!==o&&(c=!0,V(o)||(v=!0),G&&(v?(i.call(t,o),i=null):(G=i,i=function(Et,Dt,ft){return G.call(a(Et),ft)})),i))for(;I<O;I++)i(t[I],n,v?o:o.call(t[I],I,i(t[I],n)));return c?t:G?i.call(t):O?i(t[0],n):h},U=/^-ms-/,at=/-([a-z])/g;function nt(t,i){return i.toUpperCase()}function yt(t){return t.replace(U,"ms-").replace(at,nt)}var Rt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Ht(){this.expando=a.expando+Ht.uid++}Ht.uid=1,Ht.prototype={cache:function(t){var i=t[this.expando];return i||(i={},Rt(t)&&(t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,configurable:!0}))),i},set:function(t,i,n){var o,c=this.cache(t);if("string"==typeof i)c[yt(i)]=n;else for(o in i)c[yt(o)]=i[o];return c},get:function(t,i){return void 0===i?this.cache(t):t[this.expando]&&t[this.expando][yt(i)]},access:function(t,i,n){return void 0===i||i&&"string"==typeof i&&void 0===n?this.get(t,i):(this.set(t,i,n),void 0!==n?n:i)},remove:function(t,i){var n,o=t[this.expando];if(void 0!==o){if(void 0!==i)for((n=(i=Array.isArray(i)?i.map(yt):(i=yt(i))in o?[i]:i.match(Ae)||[]).length);n--;)delete o[i[n]];(void 0===i||a.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var i=t[this.expando];return void 0!==i&&!a.isEmptyObject(i)}};var ht=new Ht,$t=new Ht,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/[A-Z]/g;function ue(t,i,n){var o;if(void 0===n&&1===t.nodeType)if(o="data-"+i.replace(we,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(o))){try{n=function de(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:le.test(t)?JSON.parse(t):t)}(n)}catch{}$t.set(t,i,n)}else n=void 0;return n}a.extend({hasData:function(t){return $t.hasData(t)||ht.hasData(t)},data:function(t,i,n){return $t.access(t,i,n)},removeData:function(t,i){$t.remove(t,i)},_data:function(t,i,n){return ht.access(t,i,n)},_removeData:function(t,i){ht.remove(t,i)}}),a.fn.extend({data:function(t,i){var n,o,c,h=this[0],v=h&&h.attributes;if(void 0===t){if(this.length&&(c=$t.get(h),1===h.nodeType&&!ht.get(h,"hasDataAttrs"))){for(n=v.length;n--;)v[n]&&0===(o=v[n].name).indexOf("data-")&&(o=yt(o.slice(5)),ue(h,o,c[o]));ht.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof t?this.each(function(){$t.set(this,t)}):Mt(this,function(I){var O;if(h&&void 0===I)return void 0!==(O=$t.get(h,t))||void 0!==(O=ue(h,t))?O:void 0;this.each(function(){$t.set(this,t,I)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$t.remove(this,t)})}}),a.extend({queue:function(t,i,n){var o;if(t)return o=ht.get(t,i=(i||"fx")+"queue"),n&&(!o||Array.isArray(n)?o=ht.access(t,i,a.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,i){var n=a.queue(t,i=i||"fx"),o=n.length,c=n.shift(),h=a._queueHooks(t,i);"inprogress"===c&&(c=n.shift(),o--),c&&("fx"===i&&n.unshift("inprogress"),delete h.stop,c.call(t,function(){a.dequeue(t,i)},h)),!o&&h&&h.empty.fire()},_queueHooks:function(t,i){var n=i+"queueHooks";return ht.get(t,n)||ht.access(t,n,{empty:a.Callbacks("once memory").add(function(){ht.remove(t,[i+"queue",n])})})}}),a.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?a.queue(this[0],t):void 0===i?this:this.each(function(){var o=a.queue(this,t,i);a._queueHooks(this,t),"fx"===t&&"inprogress"!==o[0]&&a.dequeue(this,t)})},dequeue:function(t){return this.each(function(){a.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,c=a.Deferred(),h=this,v=this.length,I=function(){--o||c.resolveWith(h,[h])};for("string"!=typeof t&&(i=t,t=void 0),t=t||"fx";v--;)(n=ht.get(h[v],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(I));return I(),c.promise(i)}});var ye=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+ye+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Me=E.documentElement,Ze=function(t){return a.contains(t.ownerDocument,t)},tn={composed:!0};Me.getRootNode&&(Ze=function(t){return a.contains(t.ownerDocument,t)||t.getRootNode(tn)===t.ownerDocument});var Ei=function(t,i){return"none"===(t=i||t).style.display||""===t.style.display&&Ze(t)&&"none"===a.css(t,"display")};function en(t,i,n,o){var c,h,v=20,I=o?function(){return o.cur()}:function(){return a.css(t,i,"")},O=I(),G=n&&n[3]||(a.cssNumber[i]?"":"px"),Et=t.nodeType&&(a.cssNumber[i]||"px"!==G&&+O)&&je.exec(a.css(t,i));if(Et&&Et[3]!==G){for(G=G||Et[3],Et=+(O/=2)||1;v--;)a.style(t,i,Et+G),(1-h)*(1-(h=I()/O||.5))<=0&&(v=0),Et/=h;a.style(t,i,(Et*=2)+G),n=n||[]}return n&&(Et=+Et||+O||0,c=n[1]?Et+(n[1]+1)*n[2]:+n[2],o&&(o.unit=G,o.start=Et,o.end=c)),c}var nn={};function En(t){var i,n=t.ownerDocument,o=t.nodeName,c=nn[o];return c||(i=n.body.appendChild(n.createElement(o)),c=a.css(i,"display"),i.parentNode.removeChild(i),"none"===c&&(c="block"),nn[o]=c,c)}function ni(t,i){for(var n,o,c=[],h=0,v=t.length;h<v;h++)(o=t[h]).style&&(n=o.style.display,i?("none"===n&&(c[h]=ht.get(o,"display")||null,c[h]||(o.style.display="")),""===o.style.display&&Ei(o)&&(c[h]=En(o))):"none"!==n&&(c[h]="none",ht.set(o,"display",n)));for(h=0;h<v;h++)null!=c[h]&&(t[h].style.display=c[h]);return t}a.fn.extend({show:function(){return ni(this,!0)},hide:function(){return ni(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ei(this)?a(this).show():a(this).hide()})}});var i,n,ji=/^(?:checkbox|radio)$/i,Ii=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,$i=/^$|^module$|\/(?:java|ecma)script/i;i=E.createDocumentFragment().appendChild(E.createElement("div")),(n=E.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),i.appendChild(n),R.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",R.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,i.innerHTML="<option></option>",R.option=!!i.lastChild;var pi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ci(t,i){var n;return n=typeof t.getElementsByTagName<"u"?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?t.querySelectorAll(i||"*"):[],void 0===i||i&&kt(t,i)?a.merge([t],n):n}function Bi(t,i){for(var n=0,o=t.length;n<o;n++)ht.set(t[n],"globalEval",!i||ht.get(i[n],"globalEval"))}pi.tbody=pi.tfoot=pi.colgroup=pi.caption=pi.thead,pi.th=pi.td,R.option||(pi.optgroup=pi.option=[1,"<select multiple='multiple'>","</select>"]);var rn=/<|&#?\w+;/;function an(t,i,n,o,c){for(var h,v,I,O,G,Et,Dt=i.createDocumentFragment(),ft=[],Ut=0,Ee=t.length;Ut<Ee;Ut++)if((h=t[Ut])||0===h)if("object"===Lt(h))a.merge(ft,h.nodeType?[h]:h);else if(rn.test(h)){for(v=v||Dt.appendChild(i.createElement("div")),I=(Ii.exec(h)||["",""])[1].toLowerCase(),v.innerHTML=(O=pi[I]||pi._default)[1]+a.htmlPrefilter(h)+O[2],Et=O[0];Et--;)v=v.lastChild;a.merge(ft,v.childNodes),(v=Dt.firstChild).textContent=""}else ft.push(i.createTextNode(h));for(Dt.textContent="",Ut=0;h=ft[Ut++];)if(o&&a.inArray(h,o)>-1)c&&c.push(h);else if(G=Ze(h),v=ci(Dt.appendChild(h),"script"),G&&Bi(v),n)for(Et=0;h=v[Et++];)$i.test(h.type||"")&&n.push(h);return Dt}var zt=/^([^.]*)(?:\.(.+)|)/;function W(){return!0}function l(){return!1}function s(t,i,n,o,c,h){var v,I;if("object"==typeof i){for(I in"string"!=typeof n&&(o=o||n,n=void 0),i)s(t,I,n,o,i[I],h);return t}if(null==o&&null==c?(c=n,o=n=void 0):null==c&&("string"==typeof n?(c=o,o=void 0):(c=o,o=n,n=void 0)),!1===c)c=l;else if(!c)return t;return 1===h&&(v=c,c=function(O){return a().off(O),v.apply(this,arguments)},c.guid=v.guid||(v.guid=a.guid++)),t.each(function(){a.event.add(this,i,c,o,n)})}function u(t,i,n){n?(ht.set(t,i,!1),a.event.add(t,i,{namespace:!1,handler:function(o){var c,h=ht.get(this,i);if(1&o.isTrigger&&this[i]){if(h)(a.event.special[i]||{}).delegateType&&o.stopPropagation();else if(h=y.call(arguments),ht.set(this,i,h),this[i](),c=ht.get(this,i),ht.set(this,i,!1),h!==c)return o.stopImmediatePropagation(),o.preventDefault(),c}else h&&(ht.set(this,i,a.event.trigger(h[0],h.slice(1),this)),o.stopPropagation(),o.isImmediatePropagationStopped=W)}})):void 0===ht.get(t,i)&&a.event.add(t,i,W)}a.event={global:{},add:function(t,i,n,o,c){var h,v,I,O,G,Et,Dt,ft,Ut,Ee,Je,Re=ht.get(t);if(Rt(t))for(n.handler&&(n=(h=n).handler,c=h.selector),c&&a.find.matchesSelector(Me,c),n.guid||(n.guid=a.guid++),(O=Re.events)||(O=Re.events=Object.create(null)),(v=Re.handle)||(v=Re.handle=function(mi){return typeof a<"u"&&a.event.triggered!==mi.type?a.event.dispatch.apply(t,arguments):void 0}),G=(i=(i||"").match(Ae)||[""]).length;G--;)Ut=Je=(I=zt.exec(i[G])||[])[1],Ee=(I[2]||"").split(".").sort(),Ut&&(Dt=a.event.special[Ut]||{},Dt=a.event.special[Ut=(c?Dt.delegateType:Dt.bindType)||Ut]||{},Et=a.extend({type:Ut,origType:Je,data:o,handler:n,guid:n.guid,selector:c,needsContext:c&&a.expr.match.needsContext.test(c),namespace:Ee.join(".")},h),(ft=O[Ut])||((ft=O[Ut]=[]).delegateCount=0,(!Dt.setup||!1===Dt.setup.call(t,o,Ee,v))&&t.addEventListener&&t.addEventListener(Ut,v)),Dt.add&&(Dt.add.call(t,Et),Et.handler.guid||(Et.handler.guid=n.guid)),c?ft.splice(ft.delegateCount++,0,Et):ft.push(Et),a.event.global[Ut]=!0)},remove:function(t,i,n,o,c){var h,v,I,O,G,Et,Dt,ft,Ut,Ee,Je,Re=ht.hasData(t)&&ht.get(t);if(Re&&(O=Re.events)){for(G=(i=(i||"").match(Ae)||[""]).length;G--;)if(Ut=Je=(I=zt.exec(i[G])||[])[1],Ee=(I[2]||"").split(".").sort(),Ut){for(Dt=a.event.special[Ut]||{},ft=O[Ut=(o?Dt.delegateType:Dt.bindType)||Ut]||[],I=I[2]&&new RegExp("(^|\\.)"+Ee.join("\\.(?:.*\\.|)")+"(\\.|$)"),v=h=ft.length;h--;)Et=ft[h],(c||Je===Et.origType)&&(!n||n.guid===Et.guid)&&(!I||I.test(Et.namespace))&&(!o||o===Et.selector||"**"===o&&Et.selector)&&(ft.splice(h,1),Et.selector&&ft.delegateCount--,Dt.remove&&Dt.remove.call(t,Et));v&&!ft.length&&((!Dt.teardown||!1===Dt.teardown.call(t,Ee,Re.handle))&&a.removeEvent(t,Ut,Re.handle),delete O[Ut])}else for(Ut in O)a.event.remove(t,Ut+i[G],n,o,!0);a.isEmptyObject(O)&&ht.remove(t,"handle events")}},dispatch:function(t){var i,n,o,c,h,v,I=new Array(arguments.length),O=a.event.fix(t),G=(ht.get(this,"events")||Object.create(null))[O.type]||[],Et=a.event.special[O.type]||{};for(I[0]=O,i=1;i<arguments.length;i++)I[i]=arguments[i];if(O.delegateTarget=this,!Et.preDispatch||!1!==Et.preDispatch.call(this,O)){for(v=a.event.handlers.call(this,O,G),i=0;(c=v[i++])&&!O.isPropagationStopped();)for(O.currentTarget=c.elem,n=0;(h=c.handlers[n++])&&!O.isImmediatePropagationStopped();)(!O.rnamespace||!1===h.namespace||O.rnamespace.test(h.namespace))&&(O.handleObj=h,O.data=h.data,void 0!==(o=((a.event.special[h.origType]||{}).handle||h.handler).apply(c.elem,I))&&!1===(O.result=o)&&(O.preventDefault(),O.stopPropagation()));return Et.postDispatch&&Et.postDispatch.call(this,O),O.result}},handlers:function(t,i){var n,o,c,h,v,I=[],O=i.delegateCount,G=t.target;if(O&&G.nodeType&&!("click"===t.type&&t.button>=1))for(;G!==this;G=G.parentNode||this)if(1===G.nodeType&&("click"!==t.type||!0!==G.disabled)){for(h=[],v={},n=0;n<O;n++)void 0===v[c=(o=i[n]).selector+" "]&&(v[c]=o.needsContext?a(c,this).index(G)>-1:a.find(c,this,null,[G]).length),v[c]&&h.push(o);h.length&&I.push({elem:G,handlers:h})}return G=this,O<i.length&&I.push({elem:G,handlers:i.slice(O)}),I},addProp:function(t,i){Object.defineProperty(a.Event.prototype,t,{enumerable:!0,configurable:!0,get:V(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(t){return t[a.expando]?t:new a.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var i=this||t;return ji.test(i.type)&&i.click&&kt(i,"input")&&u(i,"click",!0),!1},trigger:function(t){var i=this||t;return ji.test(i.type)&&i.click&&kt(i,"input")&&u(i,"click"),!0},_default:function(t){var i=t.target;return ji.test(i.type)&&i.click&&kt(i,"input")&&ht.get(i,"click")||kt(i,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},a.removeEvent=function(t,i,n){t.removeEventListener&&t.removeEventListener(i,n)},a.Event=function(t,i){if(!(this instanceof a.Event))return new a.Event(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?W:l,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,i&&a.extend(this,i),this.timeStamp=t&&t.timeStamp||Date.now(),this[a.expando]=!0},a.Event.prototype={constructor:a.Event,isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=W,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=W,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=W,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},a.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},a.event.addProp),a.each({focus:"focusin",blur:"focusout"},function(t,i){function n(o){if(E.documentMode){var c=ht.get(this,"handle"),h=a.event.fix(o);h.type="focusin"===o.type?"focus":"blur",h.isSimulated=!0,c(o),h.target===h.currentTarget&&c(h)}else a.event.simulate(i,o.target,a.event.fix(o))}a.event.special[t]={setup:function(){var o;if(u(this,t,!0),!E.documentMode)return!1;(o=ht.get(this,i))||this.addEventListener(i,n),ht.set(this,i,(o||0)+1)},trigger:function(){return u(this,t),!0},teardown:function(){var o;if(!E.documentMode)return!1;(o=ht.get(this,i)-1)?ht.set(this,i,o):(this.removeEventListener(i,n),ht.remove(this,i))},_default:function(o){return ht.get(o.target,t)},delegateType:i},a.event.special[i]={setup:function(){var o=this.ownerDocument||this.document||this,c=E.documentMode?this:o,h=ht.get(c,i);h||(E.documentMode?this.addEventListener(i,n):o.addEventListener(t,n,!0)),ht.set(c,i,(h||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,c=E.documentMode?this:o,h=ht.get(c,i)-1;h?ht.set(c,i,h):(E.documentMode?this.removeEventListener(i,n):o.removeEventListener(t,n,!0),ht.remove(c,i))}}}),a.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){a.event.special[t]={delegateType:i,bindType:i,handle:function(n){var o,h=n.relatedTarget,v=n.handleObj;return(!h||h!==this&&!a.contains(this,h))&&(n.type=v.origType,o=v.handler.apply(this,arguments),n.type=i),o}}}),a.fn.extend({on:function(t,i,n,o){return s(this,t,i,n,o)},one:function(t,i,n,o){return s(this,t,i,n,o,1)},off:function(t,i,n){var o,c;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,a(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(c in t)this.off(c,i,t[c]);return this}return(!1===i||"function"==typeof i)&&(n=i,i=void 0),!1===n&&(n=l),this.each(function(){a.event.remove(this,t,n,i)})}});var f=/<script|<style|<link/i,p=/checked\s*(?:[^=]|=\s*.checked.)/i,S=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function k(t,i){return kt(t,"table")&&kt(11!==i.nodeType?i:i.firstChild,"tr")&&a(t).children("tbody")[0]||t}function M(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function it(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function C(t,i){var n,o,c,v,I,O;if(1===i.nodeType){if(ht.hasData(t)&&(O=ht.get(t).events))for(c in ht.remove(i,"handle events"),O)for(n=0,o=O[c].length;n<o;n++)a.event.add(i,c,O[c][n]);$t.hasData(t)&&(v=$t.access(t),I=a.extend({},v),$t.set(i,I))}}function tt(t,i){var n=i.nodeName.toLowerCase();"input"===n&&ji.test(t.type)?i.checked=t.checked:("input"===n||"textarea"===n)&&(i.defaultValue=t.defaultValue)}function J(t,i,n,o){i=L(i);var c,h,v,I,O,G,Et=0,Dt=t.length,ft=Dt-1,Ut=i[0],Ee=V(Ut);if(Ee||Dt>1&&"string"==typeof Ut&&!R.checkClone&&p.test(Ut))return t.each(function(Je){var Re=t.eq(Je);Ee&&(i[0]=Ut.call(this,Je,Re.html())),J(Re,i,n,o)});if(Dt&&(h=(c=an(i,t[0].ownerDocument,!1,t,o)).firstChild,1===c.childNodes.length&&(c=h),h||o)){for(I=(v=a.map(ci(c,"script"),M)).length;Et<Dt;Et++)O=c,Et!==ft&&(O=a.clone(O,!0,!0),I&&a.merge(v,ci(O,"script"))),n.call(t[Et],O,Et);if(I)for(G=v[v.length-1].ownerDocument,a.map(v,it),Et=0;Et<I;Et++)$i.test((O=v[Et]).type||"")&&!ht.access(O,"globalEval")&&a.contains(G,O)&&(O.src&&"module"!==(O.type||"").toLowerCase()?a._evalUrl&&!O.noModule&&a._evalUrl(O.src,{nonce:O.nonce||O.getAttribute("nonce")},G):jt(O.textContent.replace(S,""),O,G))}return t}function lt(t,i,n){for(var o,c=i?a.filter(i,t):t,h=0;null!=(o=c[h]);h++)!n&&1===o.nodeType&&a.cleanData(ci(o)),o.parentNode&&(n&&Ze(o)&&Bi(ci(o,"script")),o.parentNode.removeChild(o));return t}a.extend({htmlPrefilter:function(t){return t},clone:function(t,i,n){var o,c,h,v,I=t.cloneNode(!0),O=Ze(t);if(!(R.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||a.isXMLDoc(t)))for(v=ci(I),o=0,c=(h=ci(t)).length;o<c;o++)tt(h[o],v[o]);if(i)if(n)for(h=h||ci(t),v=v||ci(I),o=0,c=h.length;o<c;o++)C(h[o],v[o]);else C(t,I);return(v=ci(I,"script")).length>0&&Bi(v,!O&&ci(t,"script")),I},cleanData:function(t){for(var i,n,o,c=a.event.special,h=0;void 0!==(n=t[h]);h++)if(Rt(n)){if(i=n[ht.expando]){if(i.events)for(o in i.events)c[o]?a.event.remove(n,o):a.removeEvent(n,o,i.handle);n[ht.expando]=void 0}n[$t.expando]&&(n[$t.expando]=void 0)}}}),a.fn.extend({detach:function(t){return lt(this,t,!0)},remove:function(t){return lt(this,t)},text:function(t){return Mt(this,function(i){return void 0===i?a.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=i)})},null,t,arguments.length)},append:function(){return J(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||k(this,t).appendChild(t)})},prepend:function(){return J(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var i=k(this,t);i.insertBefore(t,i.firstChild)}})},before:function(){return J(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return J(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,i=0;null!=(t=this[i]);i++)1===t.nodeType&&(a.cleanData(ci(t,!1)),t.textContent="");return this},clone:function(t,i){return t=null!=t&&t,i=null==i?t:i,this.map(function(){return a.clone(this,t,i)})},html:function(t){return Mt(this,function(i){var n=this[0]||{},o=0,c=this.length;if(void 0===i&&1===n.nodeType)return n.innerHTML;if("string"==typeof i&&!f.test(i)&&!pi[(Ii.exec(i)||["",""])[1].toLowerCase()]){i=a.htmlPrefilter(i);try{for(;o<c;o++)1===(n=this[o]||{}).nodeType&&(a.cleanData(ci(n,!1)),n.innerHTML=i);n=0}catch{}}n&&this.empty().append(i)},null,t,arguments.length)},replaceWith:function(){var t=[];return J(this,arguments,function(i){var n=this.parentNode;a.inArray(this,t)<0&&(a.cleanData(ci(this)),n&&n.replaceChild(i,this))},t)}}),a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){a.fn[t]=function(n){for(var o,c=[],h=a(n),v=h.length-1,I=0;I<=v;I++)o=I===v?this:this.clone(!0),a(h[I])[i](o),B.apply(c,o.get());return this.pushStack(c)}});var pt=new RegExp("^("+ye+")(?!px)[a-z%]+$","i"),gt=/^--/,ne=function(t){var i=t.ownerDocument.defaultView;return(!i||!i.opener)&&(i=D),i.getComputedStyle(t)},me=function(t,i,n){var o,c,h={};for(c in i)h[c]=t.style[c],t.style[c]=i[c];for(c in o=n.call(t),i)t.style[c]=h[c];return o},Xe=new RegExp(Oe.join("|"),"i");function He(t,i,n){var o,c,h,v,I=gt.test(i),O=t.style;return(n=n||ne(t))&&(v=n.getPropertyValue(i)||n[i],I&&v&&(v=v.replace(Kt,"$1")||void 0),""===v&&!Ze(t)&&(v=a.style(t,i)),!R.pixelBoxStyles()&&pt.test(v)&&Xe.test(i)&&(o=O.width,c=O.minWidth,h=O.maxWidth,O.minWidth=O.maxWidth=O.width=v,v=n.width,O.width=o,O.minWidth=c,O.maxWidth=h)),void 0!==v?v+"":v}function qe(t,i){return{get:function(){if(!t())return(this.get=i).apply(this,arguments);delete this.get}}}!function(){function t(){if(G){O.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",G.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Me.appendChild(O).appendChild(G);var Et=D.getComputedStyle(G);n="1%"!==Et.top,I=12===i(Et.marginLeft),G.style.right="60%",h=36===i(Et.right),o=36===i(Et.width),G.style.position="absolute",c=12===i(G.offsetWidth/3),Me.removeChild(O),G=null}}function i(Et){return Math.round(parseFloat(Et))}var n,o,c,h,v,I,O=E.createElement("div"),G=E.createElement("div");G.style&&(G.style.backgroundClip="content-box",G.cloneNode(!0).style.backgroundClip="",R.clearCloneStyle="content-box"===G.style.backgroundClip,a.extend(R,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),h},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),I},scrollboxSize:function(){return t(),c},reliableTrDimensions:function(){var Et,Dt,ft,Ut;return null==v&&(Et=E.createElement("table"),Dt=E.createElement("tr"),ft=E.createElement("div"),Et.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Dt.style.cssText="box-sizing:content-box;border:1px solid",Dt.style.height="1px",ft.style.height="9px",ft.style.display="block",Me.appendChild(Et).appendChild(Dt).appendChild(ft),Ut=D.getComputedStyle(Dt),v=parseInt(Ut.height,10)+parseInt(Ut.borderTopWidth,10)+parseInt(Ut.borderBottomWidth,10)===Dt.offsetHeight,Me.removeChild(Et)),v}}))}();var Ye=["Webkit","Moz","ms"],ai=E.createElement("div").style,Nn={};function ar(t){return a.cssProps[t]||Nn[t]||(t in ai?t:Nn[t]=function Hr(t){for(var i=t[0].toUpperCase()+t.slice(1),n=Ye.length;n--;)if((t=Ye[n]+i)in ai)return t}(t)||t)}var Or=/^(none|table(?!-c[ea]).+)/,Ur={position:"absolute",visibility:"hidden",display:"block"},cn={letterSpacing:"0",fontWeight:"400"};function Sn(t,i,n){var o=je.exec(i);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):i}function hn(t,i,n,o,c,h){var v="width"===i?1:0,I=0,O=0,G=0;if(n===(o?"border":"content"))return 0;for(;v<4;v+=2)"margin"===n&&(G+=a.css(t,n+Oe[v],!0,c)),o?("content"===n&&(O-=a.css(t,"padding"+Oe[v],!0,c)),"margin"!==n&&(O-=a.css(t,"border"+Oe[v]+"Width",!0,c))):(O+=a.css(t,"padding"+Oe[v],!0,c),"padding"!==n?O+=a.css(t,"border"+Oe[v]+"Width",!0,c):I+=a.css(t,"border"+Oe[v]+"Width",!0,c));return!o&&h>=0&&(O+=Math.max(0,Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-h-O-I-.5))||0),O+G}function or(t,i,n){var o=ne(t),h=(!R.boxSizingReliable()||n)&&"border-box"===a.css(t,"boxSizing",!1,o),v=h,I=He(t,i,o),O="offset"+i[0].toUpperCase()+i.slice(1);if(pt.test(I)){if(!n)return I;I="auto"}return(!R.boxSizingReliable()&&h||!R.reliableTrDimensions()&&kt(t,"tr")||"auto"===I||!parseFloat(I)&&"inline"===a.css(t,"display",!1,o))&&t.getClientRects().length&&(h="border-box"===a.css(t,"boxSizing",!1,o),(v=O in t)&&(I=t[O])),(I=parseFloat(I)||0)+hn(t,i,n||(h?"border":"content"),v,o,I)+"px"}function yi(t,i,n,o,c){return new yi.prototype.init(t,i,n,o,c)}a.extend({cssHooks:{opacity:{get:function(t,i){if(i){var n=He(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var c,h,v,I=yt(i),O=gt.test(i),G=t.style;if(O||(i=ar(I)),v=a.cssHooks[i]||a.cssHooks[I],void 0===n)return v&&"get"in v&&void 0!==(c=v.get(t,!1,o))?c:G[i];if("string"==(h=typeof n)&&(c=je.exec(n))&&c[1]&&(n=en(t,i,c),h="number"),null==n||n!=n)return;"number"===h&&!O&&(n+=c&&c[3]||(a.cssNumber[I]?"":"px")),!R.clearCloneStyle&&""===n&&0===i.indexOf("background")&&(G[i]="inherit"),(!v||!("set"in v)||void 0!==(n=v.set(t,n,o)))&&(O?G.setProperty(i,n):G[i]=n)}},css:function(t,i,n,o){var c,h,v,I=yt(i);return gt.test(i)||(i=ar(I)),(v=a.cssHooks[i]||a.cssHooks[I])&&"get"in v&&(c=v.get(t,!0,n)),void 0===c&&(c=He(t,i,o)),"normal"===c&&i in cn&&(c=cn[i]),""===n||n?(h=parseFloat(c),!0===n||isFinite(h)?h||0:c):c}}),a.each(["height","width"],function(t,i){a.cssHooks[i]={get:function(n,o,c){if(o)return!Or.test(a.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?or(n,i,c):me(n,Ur,function(){return or(n,i,c)})},set:function(n,o,c){var h,v=ne(n),I=!R.scrollboxSize()&&"absolute"===v.position,G=(I||c)&&"border-box"===a.css(n,"boxSizing",!1,v),Et=c?hn(n,i,c,G,v):0;return G&&I&&(Et-=Math.ceil(n["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(v[i])-hn(n,i,"border",!1,v)-.5)),Et&&(h=je.exec(o))&&"px"!==(h[3]||"px")&&(n.style[i]=o,o=a.css(n,i)),Sn(0,o,Et)}}}),a.cssHooks.marginLeft=qe(R.reliableMarginLeft,function(t,i){if(i)return(parseFloat(He(t,"marginLeft"))||t.getBoundingClientRect().left-me(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),a.each({margin:"",padding:"",border:"Width"},function(t,i){a.cssHooks[t+i]={expand:function(n){for(var o=0,c={},h="string"==typeof n?n.split(" "):[n];o<4;o++)c[t+Oe[o]+i]=h[o]||h[o-2]||h[0];return c}},"margin"!==t&&(a.cssHooks[t+i].set=Sn)}),a.fn.extend({css:function(t,i){return Mt(this,function(n,o,c){var h,v,I={},O=0;if(Array.isArray(o)){for(h=ne(n),v=o.length;O<v;O++)I[o[O]]=a.css(n,o[O],!1,h);return I}return void 0!==c?a.style(n,o,c):a.css(n,o)},t,i,arguments.length>1)}}),a.Tween=yi,yi.prototype={constructor:yi,init:function(t,i,n,o,c,h){this.elem=t,this.prop=n,this.easing=c||a.easing._default,this.options=i,this.start=this.now=this.cur(),this.end=o,this.unit=h||(a.cssNumber[n]?"":"px")},cur:function(){var t=yi.propHooks[this.prop];return t&&t.get?t.get(this):yi.propHooks._default.get(this)},run:function(t){var i,n=yi.propHooks[this.prop];return this.pos=i=this.options.duration?a.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):yi.propHooks._default.set(this),this}},yi.prototype.init.prototype=yi.prototype,yi.propHooks={_default:{get:function(t){var i;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(i=a.css(t.elem,t.prop,""))&&"auto"!==i?i:0},set:function(t){a.fx.step[t.prop]?a.fx.step[t.prop](t):1!==t.elem.nodeType||!a.cssHooks[t.prop]&&null==t.elem.style[ar(t.prop)]?t.elem[t.prop]=t.now:a.style(t.elem,t.prop,t.now+t.unit)}}},yi.propHooks.scrollTop=yi.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},a.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},a.fx=yi.prototype.init,a.fx.step={};var Vi,fn,vn=/^(?:toggle|show|hide)$/,Hn=/queueHooks$/;function gn(){fn&&(!1===E.hidden&&D.requestAnimationFrame?D.requestAnimationFrame(gn):D.setTimeout(gn,a.fx.interval),a.fx.tick())}function lr(){return D.setTimeout(function(){Vi=void 0}),Vi=Date.now()}function On(t,i){var n,o=0,c={height:t};for(i=i?1:0;o<4;o+=2-i)c["margin"+(n=Oe[o])]=c["padding"+n]=t;return i&&(c.opacity=c.width=t),c}function Tr(t,i,n){for(var o,c=(zi.tweeners[i]||[]).concat(zi.tweeners["*"]),h=0,v=c.length;h<v;h++)if(o=c[h].call(n,i,t))return o}function zi(t,i,n){var o,c,h=0,v=zi.prefilters.length,I=a.Deferred().always(function(){delete O.elem}),O=function(){if(c)return!1;for(var Dt=Vi||lr(),ft=Math.max(0,G.startTime+G.duration-Dt),Ee=1-(ft/G.duration||0),Je=0,Re=G.tweens.length;Je<Re;Je++)G.tweens[Je].run(Ee);return I.notifyWith(t,[G,Ee,ft]),Ee<1&&Re?ft:(Re||I.notifyWith(t,[G,1,0]),I.resolveWith(t,[G]),!1)},G=I.promise({elem:t,props:a.extend({},i),opts:a.extend(!0,{specialEasing:{},easing:a.easing._default},n),originalProperties:i,originalOptions:n,startTime:Vi||lr(),duration:n.duration,tweens:[],createTween:function(Dt,ft){var Ut=a.Tween(t,G.opts,Dt,ft,G.opts.specialEasing[Dt]||G.opts.easing);return G.tweens.push(Ut),Ut},stop:function(Dt){var ft=0,Ut=Dt?G.tweens.length:0;if(c)return this;for(c=!0;ft<Ut;ft++)G.tweens[ft].run(1);return Dt?(I.notifyWith(t,[G,1,0]),I.resolveWith(t,[G,Dt])):I.rejectWith(t,[G,Dt]),this}}),Et=G.props;for(function Cr(t,i){var n,o,c,h,v;for(n in t)if(c=i[o=yt(n)],h=t[n],Array.isArray(h)&&(c=h[1],h=t[n]=h[0]),n!==o&&(t[o]=h,delete t[n]),(v=a.cssHooks[o])&&"expand"in v)for(n in h=v.expand(h),delete t[o],h)n in t||(t[n]=h[n],i[n]=c);else i[o]=c}(Et,G.opts.specialEasing);h<v;h++)if(o=zi.prefilters[h].call(G,t,Et,G.opts))return V(o.stop)&&(a._queueHooks(G.elem,G.opts.queue).stop=o.stop.bind(o)),o;return a.map(Et,Tr,G),V(G.opts.start)&&G.opts.start.call(t,G),G.progress(G.opts.progress).done(G.opts.done,G.opts.complete).fail(G.opts.fail).always(G.opts.always),a.fx.timer(a.extend(O,{elem:t,anim:G,queue:G.opts.queue})),G}a.Animation=a.extend(zi,{tweeners:{"*":[function(t,i){var n=this.createTween(t,i);return en(n.elem,t,je.exec(i),n),n}]},tweener:function(t,i){V(t)?(i=t,t=["*"]):t=t.match(Ae);for(var n,o=0,c=t.length;o<c;o++)(zi.tweeners[n=t[o]]=zi.tweeners[n]||[]).unshift(i)},prefilters:[function Un(t,i,n){var o,c,h,v,I,O,G,Et,Dt="width"in i||"height"in i,ft=this,Ut={},Ee=t.style,Je=t.nodeType&&Ei(t),Re=ht.get(t,"fxshow");for(o in n.queue||(null==(v=a._queueHooks(t,"fx")).unqueued&&(v.unqueued=0,I=v.empty.fire,v.empty.fire=function(){v.unqueued||I()}),v.unqueued++,ft.always(function(){ft.always(function(){v.unqueued--,a.queue(t,"fx").length||v.empty.fire()})})),i)if(vn.test(c=i[o])){if(delete i[o],h=h||"toggle"===c,c===(Je?"hide":"show")){if("show"!==c||!Re||void 0===Re[o])continue;Je=!0}Ut[o]=Re&&Re[o]||a.style(t,o)}if((O=!a.isEmptyObject(i))||!a.isEmptyObject(Ut))for(o in Dt&&1===t.nodeType&&(n.overflow=[Ee.overflow,Ee.overflowX,Ee.overflowY],null==(G=Re&&Re.display)&&(G=ht.get(t,"display")),"none"===(Et=a.css(t,"display"))&&(G?Et=G:(ni([t],!0),G=t.style.display||G,Et=a.css(t,"display"),ni([t]))),("inline"===Et||"inline-block"===Et&&null!=G)&&"none"===a.css(t,"float")&&(O||(ft.done(function(){Ee.display=G}),null==G&&(G="none"===(Et=Ee.display)?"":Et)),Ee.display="inline-block")),n.overflow&&(Ee.overflow="hidden",ft.always(function(){Ee.overflow=n.overflow[0],Ee.overflowX=n.overflow[1],Ee.overflowY=n.overflow[2]})),O=!1,Ut)O||(Re?"hidden"in Re&&(Je=Re.hidden):Re=ht.access(t,"fxshow",{display:G}),h&&(Re.hidden=!Je),Je&&ni([t],!0),ft.done(function(){for(o in Je||ni([t]),ht.remove(t,"fxshow"),Ut)a.style(t,o,Ut[o])})),O=Tr(Je?Re[o]:0,o,ft),o in Re||(Re[o]=O.start,Je&&(O.end=O.start,O.start=0))}],prefilter:function(t,i){i?zi.prefilters.unshift(t):zi.prefilters.push(t)}}),a.speed=function(t,i,n){var o=t&&"object"==typeof t?a.extend({},t):{complete:n||!n&&i||V(t)&&t,duration:t,easing:n&&i||i&&!V(i)&&i};return a.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration=o.duration in a.fx.speeds?a.fx.speeds[o.duration]:a.fx.speeds._default),(null==o.queue||!0===o.queue)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){V(o.old)&&o.old.call(this),o.queue&&a.dequeue(this,o.queue)},o},a.fn.extend({fadeTo:function(t,i,n,o){return this.filter(Ei).css("opacity",0).show().end().animate({opacity:i},t,n,o)},animate:function(t,i,n,o){var c=a.isEmptyObject(t),h=a.speed(i,n,o),v=function(){var I=zi(this,a.extend({},t),h);(c||ht.get(this,"finish"))&&I.stop(!0)};return v.finish=v,c||!1===h.queue?this.each(v):this.queue(h.queue,v)},stop:function(t,i,n){var o=function(c){var h=c.stop;delete c.stop,h(n)};return"string"!=typeof t&&(n=i,i=t,t=void 0),i&&this.queue(t||"fx",[]),this.each(function(){var c=!0,h=null!=t&&t+"queueHooks",v=a.timers,I=ht.get(this);if(h)I[h]&&I[h].stop&&o(I[h]);else for(h in I)I[h]&&I[h].stop&&Hn.test(h)&&o(I[h]);for(h=v.length;h--;)v[h].elem===this&&(null==t||v[h].queue===t)&&(v[h].anim.stop(n),c=!1,v.splice(h,1));(c||!n)&&a.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var i,n=ht.get(this),o=n[t+"queue"],c=n[t+"queueHooks"],h=a.timers,v=o?o.length:0;for(n.finish=!0,a.queue(this,t,[]),c&&c.stop&&c.stop.call(this,!0),i=h.length;i--;)h[i].elem===this&&h[i].queue===t&&(h[i].anim.stop(!0),h.splice(i,1));for(i=0;i<v;i++)o[i]&&o[i].finish&&o[i].finish.call(this);delete n.finish})}}),a.each(["toggle","show","hide"],function(t,i){var n=a.fn[i];a.fn[i]=function(o,c,h){return null==o||"boolean"==typeof o?n.apply(this,arguments):this.animate(On(i,!0),o,c,h)}}),a.each({slideDown:On("show"),slideUp:On("hide"),slideToggle:On("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){a.fn[t]=function(n,o,c){return this.animate(i,n,o,c)}}),a.timers=[],a.fx.tick=function(){var t,i=0,n=a.timers;for(Vi=Date.now();i<n.length;i++)!(t=n[i])()&&n[i]===t&&n.splice(i--,1);n.length||a.fx.stop(),Vi=void 0},a.fx.timer=function(t){a.timers.push(t),a.fx.start()},a.fx.interval=13,a.fx.start=function(){fn||(fn=!0,gn())},a.fx.stop=function(){fn=null},a.fx.speeds={slow:600,fast:200,_default:400},a.fn.delay=function(t,i){return t=a.fx&&a.fx.speeds[t]||t,this.queue(i=i||"fx",function(n,o){var c=D.setTimeout(n,t);o.stop=function(){D.clearTimeout(c)}})},function(){var t=E.createElement("input"),n=E.createElement("select").appendChild(E.createElement("option"));t.type="checkbox",R.checkOn=""!==t.value,R.optSelected=n.selected,(t=E.createElement("input")).value="t",t.type="radio",R.radioValue="t"===t.value}();var sr,In=a.expr.attrHandle;a.fn.extend({attr:function(t,i){return Mt(this,a.attr,t,i,arguments.length>1)},removeAttr:function(t){return this.each(function(){a.removeAttr(this,t)})}}),a.extend({attr:function(t,i,n){var o,c,h=t.nodeType;if(3!==h&&8!==h&&2!==h)return typeof t.getAttribute>"u"?a.prop(t,i,n):((1!==h||!a.isXMLDoc(t))&&(c=a.attrHooks[i.toLowerCase()]||(a.expr.match.bool.test(i)?sr:void 0)),void 0!==n?null===n?void a.removeAttr(t,i):c&&"set"in c&&void 0!==(o=c.set(t,n,i))?o:(t.setAttribute(i,n+""),n):c&&"get"in c&&null!==(o=c.get(t,i))?o:null==(o=a.find.attr(t,i))?void 0:o)},attrHooks:{type:{set:function(t,i){if(!R.radioValue&&"radio"===i&&kt(t,"input")){var n=t.value;return t.setAttribute("type",i),n&&(t.value=n),i}}}},removeAttr:function(t,i){var n,o=0,c=i&&i.match(Ae);if(c&&1===t.nodeType)for(;n=c[o++];)t.removeAttribute(n)}}),sr={set:function(t,i,n){return!1===i?a.removeAttr(t,n):t.setAttribute(n,n),n}},a.each(a.expr.match.bool.source.match(/\w+/g),function(t,i){var n=In[i]||a.find.attr;In[i]=function(o,c,h){var v,I,O=c.toLowerCase();return h||(I=In[O],In[O]=v,v=null!=n(o,c,h)?O:null,In[O]=I),v}});var Fr=/^(?:input|select|textarea|button)$/i,ur=/^(?:a|area)$/i;function on(t){return(t.match(Ae)||[]).join(" ")}function pn(t){return t.getAttribute&&t.getAttribute("class")||""}function dr(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Ae)||[]}a.fn.extend({prop:function(t,i){return Mt(this,a.prop,t,i,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[a.propFix[t]||t]})}}),a.extend({prop:function(t,i,n){var o,c,h=t.nodeType;if(3!==h&&8!==h&&2!==h)return(1!==h||!a.isXMLDoc(t))&&(c=a.propHooks[i=a.propFix[i]||i]),void 0!==n?c&&"set"in c&&void 0!==(o=c.set(t,n,i))?o:t[i]=n:c&&"get"in c&&null!==(o=c.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var i=a.find.attr(t,"tabindex");return i?parseInt(i,10):Fr.test(t.nodeName)||ur.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),R.optSelected||(a.propHooks.selected={get:function(t){return null},set:function(t){}}),a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){a.propFix[this.toLowerCase()]=this}),a.fn.extend({addClass:function(t){var i,n,o,c,h,v;return V(t)?this.each(function(I){a(this).addClass(t.call(this,I,pn(this)))}):(i=dr(t)).length?this.each(function(){if(o=pn(this),n=1===this.nodeType&&" "+on(o)+" "){for(h=0;h<i.length;h++)n.indexOf(" "+(c=i[h])+" ")<0&&(n+=c+" ");v=on(n),o!==v&&this.setAttribute("class",v)}}):this},removeClass:function(t){var i,n,o,c,h,v;return V(t)?this.each(function(I){a(this).removeClass(t.call(this,I,pn(this)))}):arguments.length?(i=dr(t)).length?this.each(function(){if(o=pn(this),n=1===this.nodeType&&" "+on(o)+" "){for(h=0;h<i.length;h++)for(c=i[h];n.indexOf(" "+c+" ")>-1;)n=n.replace(" "+c+" "," ");v=on(n),o!==v&&this.setAttribute("class",v)}}):this:this.attr("class","")},toggleClass:function(t,i){var n,o,c,h,v=typeof t,I="string"===v||Array.isArray(t);return V(t)?this.each(function(O){a(this).toggleClass(t.call(this,O,pn(this),i),i)}):"boolean"==typeof i&&I?i?this.addClass(t):this.removeClass(t):(n=dr(t),this.each(function(){if(I)for(h=a(this),c=0;c<n.length;c++)h.hasClass(o=n[c])?h.removeClass(o):h.addClass(o);else(void 0===t||"boolean"===v)&&((o=pn(this))&&ht.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===t?"":ht.get(this,"__className__")||""))}))},hasClass:function(t){var i,n,o=0;for(i=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+on(pn(n))+" ").indexOf(i)>-1)return!0;return!1}});var kr=/\r/g;a.fn.extend({val:function(t){var i,n,o,c=this[0];return arguments.length?(o=V(t),this.each(function(h){var v;1===this.nodeType&&(null==(v=o?t.call(this,h,a(this).val()):t)?v="":"number"==typeof v?v+="":Array.isArray(v)&&(v=a.map(v,function(I){return null==I?"":I+""})),(!(i=a.valHooks[this.type]||a.valHooks[this.nodeName.toLowerCase()])||!("set"in i)||void 0===i.set(this,v,"value"))&&(this.value=v))})):c?(i=a.valHooks[c.type]||a.valHooks[c.nodeName.toLowerCase()])&&"get"in i&&void 0!==(n=i.get(c,"value"))?n:"string"==typeof(n=c.value)?n.replace(kr,""):null==n?"":n:void 0}}),a.extend({valHooks:{option:{get:function(t){var i=a.find.attr(t,"value");return null!=i?i:on(a.text(t))}},select:{get:function(t){var i,n,o,c=t.options,h=t.selectedIndex,v="select-one"===t.type,I=v?null:[],O=v?h+1:c.length;for(o=h<0?O:v?h:0;o<O;o++)if(((n=c[o]).selected||o===h)&&!n.disabled&&(!n.parentNode.disabled||!kt(n.parentNode,"optgroup"))){if(i=a(n).val(),v)return i;I.push(i)}return I},set:function(t,i){for(var n,o,c=t.options,h=a.makeArray(i),v=c.length;v--;)((o=c[v]).selected=a.inArray(a.valHooks.option.get(o),h)>-1)&&(n=!0);return n||(t.selectedIndex=-1),h}}}}),a.each(["radio","checkbox"],function(){a.valHooks[this]={set:function(t,i){if(Array.isArray(i))return t.checked=a.inArray(a(t).val(),i)>-1}},R.checkOn||(a.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Tn=D.location,Fn={guid:Date.now()},Cn=/\?/;a.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{i=(new D.DOMParser).parseFromString(t,"text/xml")}catch{}return n=i&&i.getElementsByTagName("parsererror")[0],(!i||n)&&a.error("Invalid XML: "+(n?a.map(n.childNodes,function(o){return o.textContent}).join("\n"):t)),i};var cr=/^(?:focusinfocus|focusoutblur)$/,Gn=function(t){t.stopPropagation()};a.extend(a.event,{trigger:function(t,i,n,o){var c,h,v,I,O,G,Et,Dt,ft=[n||E],Ut=K.call(t,"type")?t.type:t,Ee=K.call(t,"namespace")?t.namespace.split("."):[];if(h=Dt=v=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!cr.test(Ut+a.event.triggered)&&(Ut.indexOf(".")>-1&&(Ee=Ut.split("."),Ut=Ee.shift(),Ee.sort()),O=Ut.indexOf(":")<0&&"on"+Ut,(t=t[a.expando]?t:new a.Event(Ut,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=Ee.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+Ee.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:a.makeArray(i,[t]),Et=a.event.special[Ut]||{},o||!Et.trigger||!1!==Et.trigger.apply(n,i))){if(!o&&!Et.noBubble&&!F(n)){for(cr.test((I=Et.delegateType||Ut)+Ut)||(h=h.parentNode);h;h=h.parentNode)ft.push(h),v=h;v===(n.ownerDocument||E)&&ft.push(v.defaultView||v.parentWindow||D)}for(c=0;(h=ft[c++])&&!t.isPropagationStopped();)Dt=h,t.type=c>1?I:Et.bindType||Ut,(G=(ht.get(h,"events")||Object.create(null))[t.type]&&ht.get(h,"handle"))&&G.apply(h,i),(G=O&&h[O])&&G.apply&&Rt(h)&&(t.result=G.apply(h,i),!1===t.result&&t.preventDefault());return t.type=Ut,!o&&!t.isDefaultPrevented()&&(!Et._default||!1===Et._default.apply(ft.pop(),i))&&Rt(n)&&O&&V(n[Ut])&&!F(n)&&((v=n[O])&&(n[O]=null),a.event.triggered=Ut,t.isPropagationStopped()&&Dt.addEventListener(Ut,Gn),n[Ut](),t.isPropagationStopped()&&Dt.removeEventListener(Ut,Gn),a.event.triggered=void 0,v&&(n[O]=v)),t.result}},simulate:function(t,i,n){var o=a.extend(new a.Event,n,{type:t,isSimulated:!0});a.event.trigger(o,null,i)}}),a.fn.extend({trigger:function(t,i){return this.each(function(){a.event.trigger(t,i,this)})},triggerHandler:function(t,i){var n=this[0];if(n)return a.event.trigger(t,i,n,!0)}});var $n=/\[\]$/,Pn=/\r?\n/g,hr=/^(?:submit|button|image|reset|file)$/i,Ji=/^(?:input|select|textarea|keygen)/i;function Mi(t,i,n,o){var c;if(Array.isArray(i))a.each(i,function(h,v){n||$n.test(t)?o(t,v):Mi(t+"["+("object"==typeof v&&null!=v?h:"")+"]",v,n,o)});else if(n||"object"!==Lt(i))o(t,i);else for(c in i)Mi(t+"["+c+"]",i[c],n,o)}a.param=function(t,i){var n,o=[],c=function(h,v){var I=V(v)?v():v;o[o.length]=encodeURIComponent(h)+"="+encodeURIComponent(null==I?"":I)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!a.isPlainObject(t))a.each(t,function(){c(this.name,this.value)});else for(n in t)Mi(n,t[n],i,c);return o.join("&")},a.fn.extend({serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=a.prop(this,"elements");return t?a.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!a(this).is(":disabled")&&Ji.test(this.nodeName)&&!hr.test(t)&&(this.checked||!ji.test(t))}).map(function(t,i){var n=a(this).val();return null==n?null:Array.isArray(n)?a.map(n,function(o){return{name:i.name,value:o.replace(Pn,"\r\n")}}):{name:i.name,value:n.replace(Pn,"\r\n")}}).get()}});var Gr=/%20/g,$r=/#.*$/,Vr=/([?&])_=[^&]*/,ln=/^(.*?):[ \t]*([^\r\n]*)$/gm,fr=/^(?:GET|HEAD)$/,Mr=/^\/\//,Dn={},vr={},Nr="*/".concat("*"),Vn=E.createElement("a");function Ir(t){return function(i,n){"string"!=typeof i&&(n=i,i="*");var o,c=0,h=i.toLowerCase().match(Ae)||[];if(V(n))for(;o=h[c++];)"+"===o[0]?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function Pr(t,i,n,o){var c={},h=t===vr;function v(I){var O;return c[I]=!0,a.each(t[I]||[],function(G,Et){var Dt=Et(i,n,o);return"string"!=typeof Dt||h||c[Dt]?h?!(O=Dt):void 0:(i.dataTypes.unshift(Dt),v(Dt),!1)}),O}return v(i.dataTypes[0])||!c["*"]&&v("*")}function gr(t,i){var n,o,c=a.ajaxSettings.flatOptions||{};for(n in i)void 0!==i[n]&&((c[n]?t:o||(o={}))[n]=i[n]);return o&&a.extend(!0,t,o),t}Vn.href=Tn.href,a.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":a.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,i){return i?gr(gr(t,a.ajaxSettings),i):gr(a.ajaxSettings,t)},ajaxPrefilter:Ir(Dn),ajaxTransport:Ir(vr),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0);var n,o,c,h,v,I,O,G,Et,Dt,ft=a.ajaxSetup({},i=i||{}),Ut=ft.context||ft,Ee=ft.context&&(Ut.nodeType||Ut.jquery)?a(Ut):a.event,Je=a.Deferred(),Re=a.Callbacks("once memory"),mi=ft.statusCode||{},ui={},li={},Wi="canceled",Ge={readyState:0,getResponseHeader:function($e){var ti;if(O){if(!h)for(h={};ti=ln.exec(c);)h[ti[1].toLowerCase()+" "]=(h[ti[1].toLowerCase()+" "]||[]).concat(ti[2]);ti=h[$e.toLowerCase()+" "]}return null==ti?null:ti.join(", ")},getAllResponseHeaders:function(){return O?c:null},setRequestHeader:function($e,ti){return null==O&&($e=li[$e.toLowerCase()]=li[$e.toLowerCase()]||$e,ui[$e]=ti),this},overrideMimeType:function($e){return null==O&&(ft.mimeType=$e),this},statusCode:function($e){var ti;if($e)if(O)Ge.always($e[Ge.status]);else for(ti in $e)mi[ti]=[mi[ti],$e[ti]];return this},abort:function($e){var ti=$e||Wi;return n&&n.abort(ti),sn(0,ti),this}};if(Je.promise(Ge),ft.url=((t||ft.url||Tn.href)+"").replace(Mr,Tn.protocol+"//"),ft.type=i.method||i.type||ft.method||ft.type,ft.dataTypes=(ft.dataType||"*").toLowerCase().match(Ae)||[""],null==ft.crossDomain){I=E.createElement("a");try{I.href=ft.url,I.href=I.href,ft.crossDomain=Vn.protocol+"//"+Vn.host!=I.protocol+"//"+I.host}catch{ft.crossDomain=!0}}if(ft.data&&ft.processData&&"string"!=typeof ft.data&&(ft.data=a.param(ft.data,ft.traditional)),Pr(Dn,ft,i,Ge),O)return Ge;for(Et in(G=a.event&&ft.global)&&0==a.active++&&a.event.trigger("ajaxStart"),ft.type=ft.type.toUpperCase(),ft.hasContent=!fr.test(ft.type),o=ft.url.replace($r,""),ft.hasContent?ft.data&&ft.processData&&0===(ft.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ft.data=ft.data.replace(Gr,"+")):(Dt=ft.url.slice(o.length),ft.data&&(ft.processData||"string"==typeof ft.data)&&(o+=(Cn.test(o)?"&":"?")+ft.data,delete ft.data),!1===ft.cache&&(o=o.replace(Vr,"$1"),Dt=(Cn.test(o)?"&":"?")+"_="+Fn.guid+++Dt),ft.url=o+Dt),ft.ifModified&&(a.lastModified[o]&&Ge.setRequestHeader("If-Modified-Since",a.lastModified[o]),a.etag[o]&&Ge.setRequestHeader("If-None-Match",a.etag[o])),(ft.data&&ft.hasContent&&!1!==ft.contentType||i.contentType)&&Ge.setRequestHeader("Content-Type",ft.contentType),Ge.setRequestHeader("Accept",ft.dataTypes[0]&&ft.accepts[ft.dataTypes[0]]?ft.accepts[ft.dataTypes[0]]+("*"!==ft.dataTypes[0]?", "+Nr+"; q=0.01":""):ft.accepts["*"]),ft.headers)Ge.setRequestHeader(Et,ft.headers[Et]);if(ft.beforeSend&&(!1===ft.beforeSend.call(Ut,Ge,ft)||O))return Ge.abort();if(Wi="abort",Re.add(ft.complete),Ge.done(ft.success),Ge.fail(ft.error),n=Pr(vr,ft,i,Ge)){if(Ge.readyState=1,G&&Ee.trigger("ajaxSend",[Ge,ft]),O)return Ge;ft.async&&ft.timeout>0&&(v=D.setTimeout(function(){Ge.abort("timeout")},ft.timeout));try{O=!1,n.send(ui,sn)}catch($e){if(O)throw $e;sn(-1,$e)}}else sn(-1,"No Transport");function sn($e,ti,Ki,Qn){var Hi,Ln,hi,Zi,Ui,Oi=ti;O||(O=!0,v&&D.clearTimeout(v),n=void 0,c=Qn||"",Ge.readyState=$e>0?4:0,Hi=$e>=200&&$e<300||304===$e,Ki&&(Zi=function Jr(t,i,n){for(var o,c,h,v,I=t.contents,O=t.dataTypes;"*"===O[0];)O.shift(),void 0===o&&(o=t.mimeType||i.getResponseHeader("Content-Type"));if(o)for(c in I)if(I[c]&&I[c].test(o)){O.unshift(c);break}if(O[0]in n)h=O[0];else{for(c in n){if(!O[0]||t.converters[c+" "+O[0]]){h=c;break}v||(v=c)}h=h||v}if(h)return h!==O[0]&&O.unshift(h),n[h]}(ft,Ge,Ki)),!Hi&&a.inArray("script",ft.dataTypes)>-1&&a.inArray("json",ft.dataTypes)<0&&(ft.converters["text script"]=function(){}),Zi=function Qr(t,i,n,o){var c,h,v,I,O,G={},Et=t.dataTypes.slice();if(Et[1])for(v in t.converters)G[v.toLowerCase()]=t.converters[v];for(h=Et.shift();h;)if(t.responseFields[h]&&(n[t.responseFields[h]]=i),!O&&o&&t.dataFilter&&(i=t.dataFilter(i,t.dataType)),O=h,h=Et.shift())if("*"===h)h=O;else if("*"!==O&&O!==h){if(!(v=G[O+" "+h]||G["* "+h]))for(c in G)if((I=c.split(" "))[1]===h&&(v=G[O+" "+I[0]]||G["* "+I[0]])){!0===v?v=G[c]:!0!==G[c]&&(h=I[0],Et.unshift(I[1]));break}if(!0!==v)if(v&&t.throws)i=v(i);else try{i=v(i)}catch(Dt){return{state:"parsererror",error:v?Dt:"No conversion from "+O+" to "+h}}}return{state:"success",data:i}}(ft,Zi,Ge,Hi),Hi?(ft.ifModified&&((Ui=Ge.getResponseHeader("Last-Modified"))&&(a.lastModified[o]=Ui),(Ui=Ge.getResponseHeader("etag"))&&(a.etag[o]=Ui)),204===$e||"HEAD"===ft.type?Oi="nocontent":304===$e?Oi="notmodified":(Oi=Zi.state,Ln=Zi.data,Hi=!(hi=Zi.error))):(hi=Oi,($e||!Oi)&&(Oi="error",$e<0&&($e=0))),Ge.status=$e,Ge.statusText=(ti||Oi)+"",Hi?Je.resolveWith(Ut,[Ln,Oi,Ge]):Je.rejectWith(Ut,[Ge,Oi,hi]),Ge.statusCode(mi),mi=void 0,G&&Ee.trigger(Hi?"ajaxSuccess":"ajaxError",[Ge,ft,Hi?Ln:hi]),Re.fireWith(Ut,[Ge,Oi]),G&&(Ee.trigger("ajaxComplete",[Ge,ft]),--a.active||a.event.trigger("ajaxStop")))}return Ge},getJSON:function(t,i,n){return a.get(t,i,n,"json")},getScript:function(t,i){return a.get(t,void 0,i,"script")}}),a.each(["get","post"],function(t,i){a[i]=function(n,o,c,h){return V(o)&&(h=h||c,c=o,o=void 0),a.ajax(a.extend({url:n,type:i,dataType:h,data:o,success:c},a.isPlainObject(n)&&n))}}),a.ajaxPrefilter(function(t){var i;for(i in t.headers)"content-type"===i.toLowerCase()&&(t.contentType=t.headers[i]||"")}),a._evalUrl=function(t,i,n){return a.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(o){a.globalEval(o,i,n)}})},a.fn.extend({wrapAll:function(t){var i;return this[0]&&(V(t)&&(t=t.call(this[0])),i=a(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(t){return V(t)?this.each(function(i){a(this).wrapInner(t.call(this,i))}):this.each(function(){var i=a(this),n=i.contents();n.length?n.wrapAll(t):i.append(t)})},wrap:function(t){var i=V(t);return this.each(function(n){a(this).wrapAll(i?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){a(this).replaceWith(this.childNodes)}),this}}),a.expr.pseudos.hidden=function(t){return!a.expr.pseudos.visible(t)},a.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},a.ajaxSettings.xhr=function(){try{return new D.XMLHttpRequest}catch{}};var pr={0:200,1223:204},yn=a.ajaxSettings.xhr();R.cors=!!yn&&"withCredentials"in yn,R.ajax=yn=!!yn,a.ajaxTransport(function(t){var i,n;if(R.cors||yn&&!t.crossDomain)return{send:function(o,c){var h,v=t.xhr();if(v.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(h in t.xhrFields)v[h]=t.xhrFields[h];for(h in t.mimeType&&v.overrideMimeType&&v.overrideMimeType(t.mimeType),!t.crossDomain&&!o["X-Requested-With"]&&(o["X-Requested-With"]="XMLHttpRequest"),o)v.setRequestHeader(h,o[h]);i=function(I){return function(){i&&(i=n=v.onload=v.onerror=v.onabort=v.ontimeout=v.onreadystatechange=null,"abort"===I?v.abort():"error"===I?"number"!=typeof v.status?c(0,"error"):c(v.status,v.statusText):c(pr[v.status]||v.status,v.statusText,"text"!==(v.responseType||"text")||"string"!=typeof v.responseText?{binary:v.response}:{text:v.responseText},v.getAllResponseHeaders()))}},v.onload=i(),n=v.onerror=v.ontimeout=i("error"),void 0!==v.onabort?v.onabort=n:v.onreadystatechange=function(){4===v.readyState&&D.setTimeout(function(){i&&n()})},i=i("abort");try{v.send(t.hasContent&&t.data||null)}catch(I){if(i)throw I}},abort:function(){i&&i()}}}),a.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return a.globalEval(t),t}}}),a.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),a.ajaxTransport("script",function(t){var i,n;if(t.crossDomain||t.scriptAttrs)return{send:function(o,c){i=a("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(h){i.remove(),n=null,h&&c("error"===h.type?404:200,h.type)}),E.head.appendChild(i[0])},abort:function(){n&&n()}}});var t,yr=[],mn=/(=)\?(?=&|$)|\?\?/;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yr.pop()||a.expando+"_"+Fn.guid++;return this[t]=!0,t}}),a.ajaxPrefilter("json jsonp",function(t,i,n){var o,c,h,v=!1!==t.jsonp&&(mn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&mn.test(t.data)&&"data");if(v||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=V(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,v?t[v]=t[v].replace(mn,"$1"+o):!1!==t.jsonp&&(t.url+=(Cn.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return h||a.error(o+" was not called"),h[0]},t.dataTypes[0]="json",c=D[o],D[o]=function(){h=arguments},n.always(function(){void 0===c?a(D).removeProp(o):D[o]=c,t[o]&&(t.jsonpCallback=i.jsonpCallback,yr.push(o)),h&&V(c)&&c(h[0]),h=c=void 0}),"script"}),R.createHTMLDocument=((t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),a.parseHTML=function(t,i,n){return"string"!=typeof t?[]:("boolean"==typeof i&&(n=i,i=!1),i||(R.createHTMLDocument?((o=(i=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,i.head.appendChild(o)):i=E),h=!n&&[],(c=_.exec(t))?[i.createElement(c[1])]:(c=an([t],i,h),h&&h.length&&a(h).remove(),a.merge([],c.childNodes)));var o,c,h},a.fn.load=function(t,i,n){var o,c,h,v=this,I=t.indexOf(" ");return I>-1&&(o=on(t.slice(I)),t=t.slice(0,I)),V(i)?(n=i,i=void 0):i&&"object"==typeof i&&(c="POST"),v.length>0&&a.ajax({url:t,type:c||"GET",dataType:"html",data:i}).done(function(O){h=arguments,v.html(o?a("<div>").append(a.parseHTML(O)).find(o):O)}).always(n&&function(O,G){v.each(function(){n.apply(this,h||[O.responseText,G,O])})}),this},a.expr.pseudos.animated=function(t){return a.grep(a.timers,function(i){return t===i.elem}).length},a.offset={setOffset:function(t,i,n){var o,c,h,v,I,O,Et=a.css(t,"position"),Dt=a(t),ft={};"static"===Et&&(t.style.position="relative"),I=Dt.offset(),h=a.css(t,"top"),O=a.css(t,"left"),("absolute"===Et||"fixed"===Et)&&(h+O).indexOf("auto")>-1?(v=(o=Dt.position()).top,c=o.left):(v=parseFloat(h)||0,c=parseFloat(O)||0),V(i)&&(i=i.call(t,n,a.extend({},I))),null!=i.top&&(ft.top=i.top-I.top+v),null!=i.left&&(ft.left=i.left-I.left+c),"using"in i?i.using.call(t,ft):Dt.css(ft)}},a.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(c){a.offset.setOffset(this,t,c)});var i,n,o=this[0];return o?o.getClientRects().length?{top:(i=o.getBoundingClientRect()).top+(n=o.ownerDocument.defaultView).pageYOffset,left:i.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,i,n,o=this[0],c={top:0,left:0};if("fixed"===a.css(o,"position"))i=o.getBoundingClientRect();else{for(i=this.offset(),n=o.ownerDocument,t=o.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===a.css(t,"position");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((c=a(t).offset()).top+=a.css(t,"borderTopWidth",!0),c.left+=a.css(t,"borderLeftWidth",!0))}return{top:i.top-c.top-a.css(o,"marginTop",!0),left:i.left-c.left-a.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===a.css(t,"position");)t=t.offsetParent;return t||Me})}}),a.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;a.fn[t]=function(o){return Mt(this,function(c,h,v){var I;if(F(c)?I=c:9===c.nodeType&&(I=c.defaultView),void 0===v)return I?I[i]:c[h];I?I.scrollTo(n?I.pageXOffset:v,n?v:I.pageYOffset):c[h]=v},t,o,arguments.length)}}),a.each(["top","left"],function(t,i){a.cssHooks[i]=qe(R.pixelPosition,function(n,o){if(o)return o=He(n,i),pt.test(o)?a(n).position()[i]+"px":o})}),a.each({Height:"height",Width:"width"},function(t,i){a.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){a.fn[o]=function(c,h){var v=arguments.length&&(n||"boolean"!=typeof c),I=n||(!0===c||!0===h?"margin":"border");return Mt(this,function(O,G,Et){var Dt;return F(O)?0===o.indexOf("outer")?O["inner"+t]:O.document.documentElement["client"+t]:9===O.nodeType?(Dt=O.documentElement,Math.max(O.body["scroll"+t],Dt["scroll"+t],O.body["offset"+t],Dt["offset"+t],Dt["client"+t])):void 0===Et?a.css(O,G,I):a.style(O,G,Et,I)},i,v?c:void 0,v)}})}),a.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,i){a.fn[i]=function(n){return this.on(i,n)}}),a.fn.extend({bind:function(t,i,n){return this.on(t,null,i,n)},unbind:function(t,i){return this.off(t,null,i)},delegate:function(t,i,n,o){return this.on(i,t,n,o)},undelegate:function(t,i,n){return 1===arguments.length?this.off(t,"**"):this.off(i,t||"**",n)},hover:function(t,i){return this.on("mouseenter",t).on("mouseleave",i||t)}}),a.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){a.fn[i]=function(n,o){return arguments.length>0?this.on(i,null,n,o):this.trigger(i)}});var Rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;a.proxy=function(t,i){var n,o,c;if("string"==typeof i&&(n=t[i],i=t,t=n),V(t))return o=y.call(arguments,2),c=function(){return t.apply(i||this,o.concat(y.call(arguments)))},c.guid=t.guid=t.guid||a.guid++,c},a.holdReady=function(t){t?a.readyWait++:a.ready(!0)},a.isArray=Array.isArray,a.parseJSON=JSON.parse,a.nodeName=kt,a.isFunction=V,a.isWindow=F,a.camelCase=yt,a.type=Lt,a.now=Date.now,a.isNumeric=function(t){var i=a.type(t);return("number"===i||"string"===i)&&!isNaN(t-parseFloat(t))},a.trim=function(t){return null==t?"":(t+"").replace(Rn,"$1")},void 0!==(j=function(){return a}.apply(qt,[]))&&(Le.exports=j);var Jn=D.jQuery,kn=D.$;return a.noConflict=function(t){return D.$===a&&(D.$=kn),t&&D.jQuery===a&&(D.jQuery=Jn),a},typeof st>"u"&&(D.jQuery=D.$=a),a})},511:(Le,qt,x)=>{"use strict";function j(){}function D(e){return null==e?j:function(){return this.querySelector(e)}}function Z(){return[]}function y(e){return null==e?Z:function(){return this.querySelectorAll(e)}}function N(e){return function(){return this.matches(e)}}function P(e){return function(r){return r.matches(e)}}x.d(qt,{$0Z:()=>uo,jvg:()=>so});var q=Array.prototype.find;function dt(){return this.firstElementChild}var R=Array.prototype.filter;function V(){return Array.from(this.children)}function jt(e){return new Array(e.length)}function Pt(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}function a(e,r,d,g,m,T){for(var Q,A=0,X=r.length,wt=T.length;A<wt;++A)(Q=r[A])?(Q.__data__=T[A],g[A]=Q):d[A]=new Pt(e,T[A]);for(;A<X;++A)(Q=r[A])&&(m[A]=Q)}function St(e,r,d,g,m,T,A){var Q,X,fe,wt=new Map,Ct=r.length,Xt=T.length,Yt=new Array(Ct);for(Q=0;Q<Ct;++Q)(X=r[Q])&&(Yt[Q]=fe=A.call(X,X.__data__,Q,r)+"",wt.has(fe)?m[Q]=X:wt.set(fe,X));for(Q=0;Q<Xt;++Q)fe=A.call(e,T[Q],Q,T)+"",(X=wt.get(fe))?(g[Q]=X,X.__data__=T[Q],wt.delete(fe)):d[Q]=new Pt(e,T[Q]);for(Q=0;Q<Ct;++Q)(X=r[Q])&&wt.get(Yt[Q])===X&&(m[Q]=X)}function kt(e){return e.__data__}function Tt(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Te(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}Pt.prototype={constructor:Pt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var ct="http://www.w3.org/1999/xhtml";const Bt={svg:"http://www.w3.org/2000/svg",xhtml:ct,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ae(e){var r=e+="",d=r.indexOf(":");return d>=0&&"xmlns"!==(r=e.slice(0,d))&&(e=e.slice(d+1)),Bt.hasOwnProperty(r)?{space:Bt[r],local:e}:e}function pe(e){return function(){this.removeAttribute(e)}}function oe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function se(e,r){return function(){this.setAttribute(e,r)}}function Ae(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Ke(e,r){return function(){var d=r.apply(this,arguments);null==d?this.removeAttribute(e):this.setAttribute(e,d)}}function De(e,r){return function(){var d=r.apply(this,arguments);null==d?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,d)}}function Ve(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _t(e){return function(){this.style.removeProperty(e)}}function w(e,r,d){return function(){this.style.setProperty(e,r,d)}}function vt(e,r,d){return function(){var g=r.apply(this,arguments);null==g?this.style.removeProperty(e):this.style.setProperty(e,g,d)}}function U(e,r){return e.style.getPropertyValue(r)||Ve(e).getComputedStyle(e,null).getPropertyValue(r)}function at(e){return function(){delete this[e]}}function nt(e,r){return function(){this[e]=r}}function yt(e,r){return function(){var d=r.apply(this,arguments);null==d?delete this[e]:this[e]=d}}function Ht(e){return e.trim().split(/^|\s+/)}function ht(e){return e.classList||new $t(e)}function $t(e){this._node=e,this._names=Ht(e.getAttribute("class")||"")}function le(e,r){for(var d=ht(e),g=-1,m=r.length;++g<m;)d.add(r[g])}function we(e,r){for(var d=ht(e),g=-1,m=r.length;++g<m;)d.remove(r[g])}function de(e){return function(){le(this,e)}}function ue(e){return function(){we(this,e)}}function ye(e,r){return function(){(r.apply(this,arguments)?le:we)(this,e)}}function Oe(){this.textContent=""}function Me(e){return function(){this.textContent=e}}function Ze(e){return function(){var r=e.apply(this,arguments);this.textContent=null==r?"":r}}function Ei(){this.innerHTML=""}function en(e){return function(){this.innerHTML=e}}function nn(e){return function(){var r=e.apply(this,arguments);this.innerHTML=null==r?"":r}}function ni(){this.nextSibling&&this.parentNode.appendChild(this)}function Ii(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pi(e){return function(){var r=this.ownerDocument,d=this.namespaceURI;return d===ct&&r.documentElement.namespaceURI===ct?r.createElement(e):r.createElementNS(d,e)}}function ci(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bi(e){var r=ae(e);return(r.local?ci:pi)(r)}function an(){return null}function W(){var e=this.parentNode;e&&e.removeChild(this)}function s(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function u(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function M(e){return function(){var r=this.__on;if(r){for(var T,d=0,g=-1,m=r.length;d<m;++d)T=r[d],e.type&&T.type!==e.type||T.name!==e.name?r[++g]=T:this.removeEventListener(T.type,T.listener,T.options);++g?r.length=g:delete this.__on}}}function it(e,r,d){return function(){var m,g=this.__on,T=function S(e){return function(r){e.call(this,r,this.__data__)}}(r);if(g)for(var A=0,Q=g.length;A<Q;++A)if((m=g[A]).type===e.type&&m.name===e.name)return this.removeEventListener(m.type,m.listener,m.options),this.addEventListener(m.type,m.listener=T,m.options=d),void(m.value=r);this.addEventListener(e.type,T,d),m={type:e.type,name:e.name,value:r,listener:T,options:d},g?g.push(m):this.__on=[m]}}function tt(e,r,d){var g=Ve(e),m=g.CustomEvent;"function"==typeof m?m=new m(r,d):(m=g.document.createEvent("Event"),d?(m.initEvent(r,d.bubbles,d.cancelable),m.detail=d.detail):m.initEvent(r,!1,!1)),e.dispatchEvent(m)}function J(e,r){return function(){return tt(this,e,r)}}function lt(e,r){return function(){return tt(this,e,r.apply(this,arguments))}}$t.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ne=[null];function me(e,r){this._groups=e,this._parents=r}function Xe(){return new me([[document.documentElement]],ne)}me.prototype=Xe.prototype={constructor:me,select:function st(e){"function"!=typeof e&&(e=D(e));for(var r=this._groups,d=r.length,g=new Array(d),m=0;m<d;++m)for(var X,wt,T=r[m],A=T.length,Q=g[m]=new Array(A),Ct=0;Ct<A;++Ct)(X=T[Ct])&&(wt=e.call(X,X.__data__,Ct,T))&&("__data__"in X&&(wt.__data__=X.__data__),Q[Ct]=wt);return new me(g,this._parents)},selectAll:function B(e){e="function"==typeof e?function L(e){return function(){return function et(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):y(e);for(var r=this._groups,d=r.length,g=[],m=[],T=0;T<d;++T)for(var X,A=r[T],Q=A.length,wt=0;wt<Q;++wt)(X=A[wt])&&(g.push(e.call(X,X.__data__,wt,A)),m.push(X));return new me(g,m)},selectChild:function mt(e){return this.select(null==e?dt:function K(e){return function(){return q.call(this.children,e)}}("function"==typeof e?e:P(e)))},selectChildren:function E(e){return this.selectAll(null==e?V:function F(e){return function(){return R.call(this.children,e)}}("function"==typeof e?e:P(e)))},filter:function Nt(e){"function"!=typeof e&&(e=N(e));for(var r=this._groups,d=r.length,g=new Array(d),m=0;m<d;++m)for(var X,T=r[m],A=T.length,Q=g[m]=[],wt=0;wt<A;++wt)(X=T[wt])&&e.call(X,X.__data__,wt,T)&&Q.push(X);return new me(g,this._parents)},data:function Ft(e,r){if(!arguments.length)return Array.from(this,kt);var d=r?St:a,g=this._parents,m=this._groups;"function"!=typeof e&&(e=function Ot(e){return function(){return e}}(e));for(var T=m.length,A=new Array(T),Q=new Array(T),X=new Array(T),wt=0;wt<T;++wt){var Ct=g[wt],Xt=m[wt],Yt=Xt.length,fe=Tt(e.call(Ct,Ct&&Ct.__data__,wt,g)),ri=fe.length,di=Q[wt]=new Array(ri),Zt=A[wt]=new Array(ri);d(Ct,Xt,di,Zt,X[wt]=new Array(Yt),fe,r);for(var Be,Qe,Se=0,ve=0;Se<ri;++Se)if(Be=di[Se]){for(Se>=ve&&(ve=Se+1);!(Qe=Zt[ve])&&++ve<ri;);Be._next=Qe||null}}return(A=new me(A,g))._enter=Q,A._exit=X,A},enter:function Lt(){return new me(this._enter||this._groups.map(jt),this._parents)},exit:function At(){return new me(this._exit||this._groups.map(jt),this._parents)},join:function rt(e,r,d){var g=this.enter(),m=this,T=this.exit();return"function"==typeof e?(g=e(g))&&(g=g.selection()):g=g.append(e+""),null!=r&&(m=r(m))&&(m=m.selection()),null==d?T.remove():d(T),g&&m?g.merge(m).order():m},merge:function Kt(e){for(var r=e.selection?e.selection():e,d=this._groups,g=r._groups,m=d.length,A=Math.min(m,g.length),Q=new Array(m),X=0;X<A;++X)for(var fe,wt=d[X],Ct=g[X],Xt=wt.length,Yt=Q[X]=new Array(Xt),ri=0;ri<Xt;++ri)(fe=wt[ri]||Ct[ri])&&(Yt[ri]=fe);for(;X<m;++X)Q[X]=d[X];return new me(Q,this._parents)},selection:function He(){return this},order:function Vt(){for(var e=this._groups,r=-1,d=e.length;++r<d;)for(var A,g=e[r],m=g.length-1,T=g[m];--m>=0;)(A=g[m])&&(T&&4^A.compareDocumentPosition(T)&&T.parentNode.insertBefore(A,T),T=A);return this},sort:function Qt(e){function r(Xt,Yt){return Xt&&Yt?e(Xt.__data__,Yt.__data__):!Xt-!Yt}e||(e=Te);for(var d=this._groups,g=d.length,m=new Array(g),T=0;T<g;++T){for(var wt,A=d[T],Q=A.length,X=m[T]=new Array(Q),Ct=0;Ct<Q;++Ct)(wt=A[Ct])&&(X[Ct]=wt);X.sort(r)}return new me(m,this._parents).order()},call:function Ce(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function ge(){return Array.from(this)},node:function Y(){for(var e=this._groups,r=0,d=e.length;r<d;++r)for(var g=e[r],m=0,T=g.length;m<T;++m){var A=g[m];if(A)return A}return null},size:function ot(){let e=0;for(const r of this)++e;return e},empty:function _(){return!this.node()},each:function z(e){for(var r=this._groups,d=0,g=r.length;d<g;++d)for(var Q,m=r[d],T=0,A=m.length;T<A;++T)(Q=m[T])&&e.call(Q,Q.__data__,T,m);return this},attr:function te(e,r){var d=ae(e);if(arguments.length<2){var g=this.node();return d.local?g.getAttributeNS(d.space,d.local):g.getAttribute(d)}return this.each((null==r?d.local?oe:pe:"function"==typeof r?d.local?De:Ke:d.local?Ae:se)(d,r))},style:function Mt(e,r,d){return arguments.length>1?this.each((null==r?_t:"function"==typeof r?vt:w)(e,r,null==d?"":d)):U(this.node(),e)},property:function Rt(e,r){return arguments.length>1?this.each((null==r?at:"function"==typeof r?yt:nt)(e,r)):this.node()[e]},classed:function je(e,r){var d=Ht(e+"");if(arguments.length<2){for(var g=ht(this.node()),m=-1,T=d.length;++m<T;)if(!g.contains(d[m]))return!1;return!0}return this.each(("function"==typeof r?ye:r?de:ue)(d,r))},text:function tn(e){return arguments.length?this.each(null==e?Oe:("function"==typeof e?Ze:Me)(e)):this.node().textContent},html:function En(e){return arguments.length?this.each(null==e?Ei:("function"==typeof e?nn:en)(e)):this.node().innerHTML},raise:function ji(){return this.each(ni)},lower:function $i(){return this.each(Ii)},append:function rn(e){var r="function"==typeof e?e:Bi(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function zt(e,r){var d="function"==typeof e?e:Bi(e),g=null==r?an:"function"==typeof r?r:D(r);return this.select(function(){return this.insertBefore(d.apply(this,arguments),g.apply(this,arguments)||null)})},remove:function l(){return this.each(W)},clone:function f(e){return this.select(e?u:s)},datum:function p(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function C(e,r,d){var m,A,g=function k(e){return e.trim().split(/^|\s+/).map(function(r){var d="",g=r.indexOf(".");return g>=0&&(d=r.slice(g+1),r=r.slice(0,g)),{type:r,name:d}})}(e+""),T=g.length;if(!(arguments.length<2)){for(Q=r?it:M,m=0;m<T;++m)this.each(Q(g[m],r,d));return this}var Q=this.node().__on;if(Q)for(var Ct,X=0,wt=Q.length;X<wt;++X)for(m=0,Ct=Q[X];m<T;++m)if((A=g[m]).type===Ct.type&&A.name===Ct.name)return Ct.value},dispatch:function pt(e,r){return this.each(("function"==typeof r?lt:J)(e,r))},[Symbol.iterator]:function*gt(){for(var e=this._groups,r=0,d=e.length;r<d;++r)for(var A,g=e[r],m=0,T=g.length;m<T;++m)(A=g[m])&&(yield A)}};const qe=Xe;var Ye={value:()=>{}};function ai(){for(var g,e=0,r=arguments.length,d={};e<r;++e){if(!(g=arguments[e]+"")||g in d||/[\s.]/.test(g))throw new Error("illegal type: "+g);d[g]=[]}return new Nn(d)}function Nn(e){this._=e}function ar(e,r){for(var m,d=0,g=e.length;d<g;++d)if((m=e[d]).name===r)return m.value}function Or(e,r,d){for(var g=0,m=e.length;g<m;++g)if(e[g].name===r){e[g]=Ye,e=e.slice(0,g).concat(e.slice(g+1));break}return null!=d&&e.push({name:r,value:d}),e}Nn.prototype=ai.prototype={constructor:Nn,on:function(e,r){var m,d=this._,g=function Hr(e,r){return e.trim().split(/^|\s+/).map(function(d){var g="",m=d.indexOf(".");if(m>=0&&(g=d.slice(m+1),d=d.slice(0,m)),d&&!r.hasOwnProperty(d))throw new Error("unknown type: "+d);return{type:d,name:g}})}(e+"",d),T=-1,A=g.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++T<A;)if(m=(e=g[T]).type)d[m]=Or(d[m],e.name,r);else if(null==r)for(m in d)d[m]=Or(d[m],e.name,null);return this}for(;++T<A;)if((m=(e=g[T]).type)&&(m=ar(d[m],e.name)))return m},copy:function(){var e={},r=this._;for(var d in r)e[d]=r[d].slice();return new Nn(e)},call:function(e,r){if((m=arguments.length-2)>0)for(var m,T,d=new Array(m),g=0;g<m;++g)d[g]=arguments[g+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(g=0,m=(T=this._[e]).length;g<m;++g)T[g].value.apply(r,d)},apply:function(e,r,d){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var g=this._[e],m=0,T=g.length;m<T;++m)g[m].value.apply(r,d)}};const Ur=ai;var yi,Vi,cn=0,Sn=0,hn=0,or=1e3,fn=0,vn=0,Hn=0,gn="object"==typeof performance&&performance.now?performance:Date,lr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function On(){return vn||(lr(Tr),vn=gn.now()+Hn)}function Tr(){vn=0}function Un(){this._call=this._time=this._next=null}function Cr(e,r,d){var g=new Un;return g.restart(e,r,d),g}function sr(){vn=(fn=gn.now())+Hn,cn=Sn=0;try{!function zi(){On(),++cn;for(var r,e=yi;e;)(r=vn-e._time)>=0&&e._call.call(void 0,r),e=e._next;--cn}()}finally{cn=0,function Fr(){for(var e,d,r=yi,g=1/0;r;)r._call?(g>r._time&&(g=r._time),e=r,r=r._next):(d=r._next,r._next=null,r=e?e._next=d:yi=d);Vi=e,ur(g)}(),vn=0}}function In(){var e=gn.now(),r=e-fn;r>or&&(Hn-=r,fn=e)}function ur(e){cn||(Sn&&(Sn=clearTimeout(Sn)),e-vn>24?(e<1/0&&(Sn=setTimeout(sr,e-gn.now()-Hn)),hn&&(hn=clearInterval(hn))):(hn||(fn=gn.now(),hn=setInterval(In,or)),cn=1,lr(sr)))}function on(e,r,d){var g=new Un;return g.restart(m=>{g.stop(),e(m+r)},r=null==r?0:+r,d),g}Un.prototype=Cr.prototype={constructor:Un,restart:function(e,r,d){if("function"!=typeof e)throw new TypeError("callback is not a function");d=(null==d?On():+d)+(null==r?0:+r),!this._next&&Vi!==this&&(Vi?Vi._next=this:yi=this,Vi=this),this._call=e,this._time=d,ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,ur())}};var pn=Ur("start","end","cancel","interrupt"),dr=[],kr=0,Cn=3;function Pn(e,r,d,g,m,T){var A=e.__transition;if(A){if(d in A)return}else e.__transition={};!function Gr(e,r,d){var m,g=e.__transition;function A(wt){var Ct,Xt,Yt,fe;if(1!==d.state)return X();for(Ct in g)if((fe=g[Ct]).name===d.name){if(fe.state===Cn)return on(A);4===fe.state?(fe.state=6,fe.timer.stop(),fe.on.call("interrupt",e,e.__data__,fe.index,fe.group),delete g[Ct]):+Ct<r&&(fe.state=6,fe.timer.stop(),fe.on.call("cancel",e,e.__data__,fe.index,fe.group),delete g[Ct])}if(on(function(){d.state===Cn&&(d.state=4,d.timer.restart(Q,d.delay,d.time),Q(wt))}),d.state=2,d.on.call("start",e,e.__data__,d.index,d.group),2===d.state){for(d.state=Cn,m=new Array(Yt=d.tween.length),Ct=0,Xt=-1;Ct<Yt;++Ct)(fe=d.tween[Ct].value.call(e,e.__data__,d.index,d.group))&&(m[++Xt]=fe);m.length=Xt+1}}function Q(wt){for(var Ct=wt<d.duration?d.ease.call(null,wt/d.duration):(d.timer.restart(X),d.state=5,1),Xt=-1,Yt=m.length;++Xt<Yt;)m[Xt].call(e,Ct);5===d.state&&(d.on.call("end",e,e.__data__,d.index,d.group),X())}function X(){for(var wt in d.state=6,d.timer.stop(),delete g[r],g)return;delete e.__transition}g[r]=d,d.timer=Cr(function T(wt){d.state=1,d.timer.restart(A,d.delay,d.time),d.delay<=wt&&A(wt-d.delay)},0,d.time)}(e,d,{name:r,index:g,group:m,on:pn,tween:dr,time:T.time,delay:T.delay,duration:T.duration,ease:T.ease,timer:null,state:kr})}function hr(e,r){var d=Mi(e,r);if(d.state>kr)throw new Error("too late; already scheduled");return d}function Ji(e,r){var d=Mi(e,r);if(d.state>Cn)throw new Error("too late; already running");return d}function Mi(e,r){var d=e.__transition;if(!d||!(d=d[r]))throw new Error("transition not found");return d}function ln(e,r){return e=+e,r=+r,function(d){return e*(1-d)+r*d}}var Dn,Ar=180/Math.PI,fr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mr(e,r,d,g,m,T){var A,Q,X;return(A=Math.sqrt(e*e+r*r))&&(e/=A,r/=A),(X=e*d+r*g)&&(d-=e*X,g-=r*X),(Q=Math.sqrt(d*d+g*g))&&(d/=Q,g/=Q,X/=Q),e*g<r*d&&(e=-e,r=-r,X=-X,A=-A),{translateX:m,translateY:T,rotate:Math.atan2(r,e)*Ar,skewX:Math.atan(X)*Ar,scaleX:A,scaleY:Q}}function Vn(e,r,d,g){function m(wt){return wt.length?wt.pop()+" ":""}return function(wt,Ct){var Xt=[],Yt=[];return wt=e(wt),Ct=e(Ct),function T(wt,Ct,Xt,Yt,fe,ri){if(wt!==Xt||Ct!==Yt){var di=fe.push("translate(",null,r,null,d);ri.push({i:di-4,x:ln(wt,Xt)},{i:di-2,x:ln(Ct,Yt)})}else(Xt||Yt)&&fe.push("translate("+Xt+r+Yt+d)}(wt.translateX,wt.translateY,Ct.translateX,Ct.translateY,Xt,Yt),function A(wt,Ct,Xt,Yt){wt!==Ct?(wt-Ct>180?Ct+=360:Ct-wt>180&&(wt+=360),Yt.push({i:Xt.push(m(Xt)+"rotate(",null,g)-2,x:ln(wt,Ct)})):Ct&&Xt.push(m(Xt)+"rotate("+Ct+g)}(wt.rotate,Ct.rotate,Xt,Yt),function Q(wt,Ct,Xt,Yt){wt!==Ct?Yt.push({i:Xt.push(m(Xt)+"skewX(",null,g)-2,x:ln(wt,Ct)}):Ct&&Xt.push(m(Xt)+"skewX("+Ct+g)}(wt.skewX,Ct.skewX,Xt,Yt),function X(wt,Ct,Xt,Yt,fe,ri){if(wt!==Xt||Ct!==Yt){var di=fe.push(m(fe)+"scale(",null,",",null,")");ri.push({i:di-4,x:ln(wt,Xt)},{i:di-2,x:ln(Ct,Yt)})}else(1!==Xt||1!==Yt)&&fe.push(m(fe)+"scale("+Xt+","+Yt+")")}(wt.scaleX,wt.scaleY,Ct.scaleX,Ct.scaleY,Xt,Yt),wt=Ct=null,function(fe){for(var Zt,ri=-1,di=Yt.length;++ri<di;)Xt[(Zt=Yt[ri]).i]=Zt.x(fe);return Xt.join("")}}}var Ir=Vn(function vr(e){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?fr:Mr(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Pr=Vn(function Nr(e){return null!=e&&(Dn||(Dn=document.createElementNS("http://www.w3.org/2000/svg","g")),Dn.setAttribute("transform",e),e=Dn.transform.baseVal.consolidate())?Mr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):fr},", ",")",")");function gr(e,r){var d,g;return function(){var m=Ji(this,e),T=m.tween;if(T!==d)for(var A=0,Q=(g=d=T).length;A<Q;++A)if(g[A].name===r){(g=g.slice()).splice(A,1);break}m.tween=g}}function Jr(e,r,d){var g,m;if("function"!=typeof d)throw new Error;return function(){var T=Ji(this,e),A=T.tween;if(A!==g){m=(g=A).slice();for(var Q={name:r,value:d},X=0,wt=m.length;X<wt;++X)if(m[X].name===r){m[X]=Q;break}X===wt&&m.push(Q)}T.tween=m}}function pr(e,r,d){var g=e._id;return e.each(function(){var m=Ji(this,g);(m.value||(m.value={}))[r]=d.apply(this,arguments)}),function(m){return Mi(m,g).value[r]}}function yn(e,r,d){e.prototype=r.prototype=d,d.constructor=e}function yr(e,r){var d=Object.create(e.prototype);for(var g in r)d[g]=r[g];return d}function mn(){}var Jn=1/.7,kn="\\s*([+-]?\\d+)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n=/^#([0-9a-f]{3,8})$/,o=new RegExp(`^rgb\\(${kn},${kn},${kn}\\)$`),c=new RegExp(`^rgb\\(${i},${i},${i}\\)$`),h=new RegExp(`^rgba\\(${kn},${kn},${kn},${t}\\)$`),v=new RegExp(`^rgba\\(${i},${i},${i},${t}\\)$`),I=new RegExp(`^hsl\\(${t},${i},${i}\\)$`),O=new RegExp(`^hsla\\(${t},${i},${i},${t}\\)$`),G={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Et(){return this.rgb().formatHex()}function Ut(){return this.rgb().formatRgb()}function Ee(e){var r,d;return e=(e+"").trim().toLowerCase(),(r=n.exec(e))?(d=r[1].length,r=parseInt(r[1],16),6===d?Je(r):3===d?new li(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===d?Re(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===d?Re(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=o.exec(e))?new li(r[1],r[2],r[3],1):(r=c.exec(e))?new li(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=h.exec(e))?Re(r[1],r[2],r[3],r[4]):(r=v.exec(e))?Re(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=I.exec(e))?Qn(r[1],r[2]/100,r[3]/100,1):(r=O.exec(e))?Qn(r[1],r[2]/100,r[3]/100,r[4]):G.hasOwnProperty(e)?Je(G[e]):"transparent"===e?new li(NaN,NaN,NaN,0):null}function Je(e){return new li(e>>16&255,e>>8&255,255&e,1)}function Re(e,r,d,g){return g<=0&&(e=r=d=NaN),new li(e,r,d,g)}function ui(e,r,d,g){return 1===arguments.length?function mi(e){return e instanceof mn||(e=Ee(e)),e?new li((e=e.rgb()).r,e.g,e.b,e.opacity):new li}(e):new li(e,r,d,null==g?1:g)}function li(e,r,d,g){this.r=+e,this.g=+r,this.b=+d,this.opacity=+g}function Wi(){return`#${Ki(this.r)}${Ki(this.g)}${Ki(this.b)}`}function sn(){const e=$e(this.opacity);return`${1===e?"rgb(":"rgba("}${ti(this.r)}, ${ti(this.g)}, ${ti(this.b)}${1===e?")":`, ${e})`}`}function $e(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ti(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ki(e){return((e=ti(e))<16?"0":"")+e.toString(16)}function Qn(e,r,d,g){return g<=0?e=r=d=NaN:d<=0||d>=1?e=r=NaN:r<=0&&(e=NaN),new hi(e,r,d,g)}function Hi(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof mn||(e=Ee(e)),!e)return new hi;if(e instanceof hi)return e;var r=(e=e.rgb()).r/255,d=e.g/255,g=e.b/255,m=Math.min(r,d,g),T=Math.max(r,d,g),A=NaN,Q=T-m,X=(T+m)/2;return Q?(A=r===T?(d-g)/Q+6*(d<g):d===T?(g-r)/Q+2:(r-d)/Q+4,Q/=X<.5?T+m:2-T-m,A*=60):Q=X>0&&X<1?0:A,new hi(A,Q,X,e.opacity)}function hi(e,r,d,g){this.h=+e,this.s=+r,this.l=+d,this.opacity=+g}function Zi(e){return(e=(e||0)%360)<0?e+360:e}function Ui(e){return Math.max(0,Math.min(1,e||0))}function Oi(e,r,d){return 255*(e<60?r+(d-r)*e/60:e<180?d:e<240?r+(d-r)*(240-e)/60:r)}function Zn(e,r,d,g,m){var T=e*e,A=T*e;return((1-3*e+3*T-A)*r+(4-6*T+3*A)*d+(1+3*e+3*T-3*A)*g+A*m)/6}yn(mn,Ee,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Et,formatHex:Et,formatHex8:function Dt(){return this.rgb().formatHex8()},formatHsl:function ft(){return Hi(this).formatHsl()},formatRgb:Ut,toString:Ut}),yn(li,ui,yr(mn,{brighter(e){return e=null==e?Jn:Math.pow(Jn,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new li(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new li(ti(this.r),ti(this.g),ti(this.b),$e(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wi,formatHex:Wi,formatHex8:function Ge(){return`#${Ki(this.r)}${Ki(this.g)}${Ki(this.b)}${Ki(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:sn,toString:sn})),yn(hi,function Ln(e,r,d,g){return 1===arguments.length?Hi(e):new hi(e,r,d,null==g?1:g)},yr(mn,{brighter(e){return e=null==e?Jn:Math.pow(Jn,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),r=isNaN(e)||isNaN(this.s)?0:this.s,d=this.l,g=d+(d<.5?d:1-d)*r,m=2*d-g;return new li(Oi(e>=240?e-240:e+120,m,g),Oi(e,m,g),Oi(e<120?e+240:e-120,m,g),this.opacity)},clamp(){return new hi(Zi(this.h),Ui(this.s),Ui(this.l),$e(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$e(this.opacity);return`${1===e?"hsl(":"hsla("}${Zi(this.h)}, ${100*Ui(this.s)}%, ${100*Ui(this.l)}%${1===e?")":`, ${e})`}`}}));const Dr=e=>()=>e;function Pi(e,r){var d=r-e;return d?function Rr(e,r){return function(d){return e+d*r}}(e,d):Dr(isNaN(e)?r:e)}const _n=function e(r){var d=function qn(e){return 1==(e=+e)?Pi:function(r,d){return d-r?function Zr(e,r,d){return e=Math.pow(e,d),r=Math.pow(r,d)-e,d=1/d,function(g){return Math.pow(e+g*r,d)}}(r,d,e):Dr(isNaN(r)?d:r)}}(r);function g(m,T){var A=d((m=ui(m)).r,(T=ui(T)).r),Q=d(m.g,T.g),X=d(m.b,T.b),wt=Pi(m.opacity,T.opacity);return function(Ct){return m.r=A(Ct),m.g=Q(Ct),m.b=X(Ct),m.opacity=wt(Ct),m+""}}return g.gamma=e,g}(1);function Lr(e){return function(r){var A,Q,d=r.length,g=new Array(d),m=new Array(d),T=new Array(d);for(A=0;A<d;++A)Q=ui(r[A]),g[A]=Q.r||0,m[A]=Q.g||0,T[A]=Q.b||0;return g=e(g),m=e(m),T=e(T),Q.opacity=1,function(X){return Q.r=g(X),Q.g=m(X),Q.b=T(X),Q+""}}}Lr(function qi(e){var r=e.length-1;return function(d){var g=d<=0?d=0:d>=1?(d=1,r-1):Math.floor(d*r),m=e[g],T=e[g+1];return Zn((d-g/r)*r,g>0?e[g-1]:2*m-T,m,T,g<r-1?e[g+2]:2*T-m)}}),Lr(function Xi(e){var r=e.length;return function(d){var g=Math.floor(((d%=1)<0?++d:d)*r);return Zn((d-g/r)*r,e[(g+r-1)%r],e[g%r],e[(g+1)%r],e[(g+2)%r])}});var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jn=new RegExp(Yi.source,"g");function Bn(e,r){var g,m,T,d=Yi.lastIndex=jn.lastIndex=0,A=-1,Q=[],X=[];for(e+="",r+="";(g=Yi.exec(e))&&(m=jn.exec(r));)(T=m.index)>d&&(T=r.slice(d,T),Q[A]?Q[A]+=T:Q[++A]=T),(g=g[0])===(m=m[0])?Q[A]?Q[A]+=m:Q[++A]=m:(Q[++A]=null,X.push({i:A,x:ln(g,m)})),d=jn.lastIndex;return d<r.length&&(T=r.slice(d),Q[A]?Q[A]+=T:Q[++A]=T),Q.length<2?X[0]?function jr(e){return function(r){return e(r)+""}}(X[0].x):function un(e){return function(){return e}}(r):(r=X.length,function(wt){for(var Xt,Ct=0;Ct<r;++Ct)Q[(Xt=X[Ct]).i]=Xt.x(wt);return Q.join("")})}function zn(e,r){var d;return("number"==typeof r?ln:r instanceof Ee?_n:(d=Ee(r))?(r=d,_n):Bn)(e,r)}function Xn(e){return function(){this.removeAttribute(e)}}function mr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xr(e,r,d){var g,T,m=d+"";return function(){var A=this.getAttribute(e);return A===m?null:A===g?T:T=r(g=A,d)}}function Yn(e,r,d){var g,T,m=d+"";return function(){var A=this.getAttributeNS(e.space,e.local);return A===m?null:A===g?T:T=r(g=A,d)}}function _r(e,r,d){var g,m,T;return function(){var A,X,Q=d(this);return null==Q?void this.removeAttribute(e):(A=this.getAttribute(e))===(X=Q+"")?null:A===g&&X===m?T:(m=X,T=r(g=A,Q))}}function br(e,r,d){var g,m,T;return function(){var A,X,Q=d(this);return null==Q?void this.removeAttributeNS(e.space,e.local):(A=this.getAttributeNS(e.space,e.local))===(X=Q+"")?null:A===g&&X===m?T:(m=X,T=r(g=A,Q))}}function b(e,r){var d,g;function m(){var T=r.apply(this,arguments);return T!==g&&(d=(g=T)&&function Br(e,r){return function(d){this.setAttributeNS(e.space,e.local,r.call(this,d))}}(e,T)),d}return m._value=r,m}function H(e,r){var d,g;function m(){var T=r.apply(this,arguments);return T!==g&&(d=(g=T)&&function xr(e,r){return function(d){this.setAttribute(e,r.call(this,d))}}(e,T)),d}return m._value=r,m}function bt(e,r){return function(){hr(this,e).delay=+r.apply(this,arguments)}}function It(e,r){return r=+r,function(){hr(this,e).delay=r}}function ee(e,r){return function(){Ji(this,e).duration=+r.apply(this,arguments)}}function he(e,r){return r=+r,function(){Ji(this,e).duration=r}}var Ea=qe.prototype.constructor;function la(e){return function(){this.style.removeProperty(e)}}var Ka=0;function bn(e,r,d,g){this._groups=e,this._parents=r,this._name=d,this._id=g}function sa(){return++Ka}var xn=qe.prototype;bn.prototype=function Ha(e){return qe().transition(e)}.prototype={constructor:bn,select:function Si(e){var r=this._name,d=this._id;"function"!=typeof e&&(e=D(e));for(var g=this._groups,m=g.length,T=new Array(m),A=0;A<m;++A)for(var Ct,Xt,Q=g[A],X=Q.length,wt=T[A]=new Array(X),Yt=0;Yt<X;++Yt)(Ct=Q[Yt])&&(Xt=e.call(Ct,Ct.__data__,Yt,Q))&&("__data__"in Ct&&(Xt.__data__=Ct.__data__),wt[Yt]=Xt,Pn(wt[Yt],r,d,Yt,wt,Mi(Ct,d)));return new bn(T,this._parents,r,d)},selectAll:function wa(e){var r=this._name,d=this._id;"function"!=typeof e&&(e=y(e));for(var g=this._groups,m=g.length,T=[],A=[],Q=0;Q<m;++Q)for(var Ct,X=g[Q],wt=X.length,Xt=0;Xt<wt;++Xt)if(Ct=X[Xt]){for(var fe,Yt=e.call(Ct,Ct.__data__,Xt,X),ri=Mi(Ct,d),di=0,Zt=Yt.length;di<Zt;++di)(fe=Yt[di])&&Pn(fe,r,d,di,Yt,ri);T.push(Yt),A.push(Ct)}return new bn(T,A,r,d)},selectChild:xn.selectChild,selectChildren:xn.selectChildren,filter:function _e(e){"function"!=typeof e&&(e=N(e));for(var r=this._groups,d=r.length,g=new Array(d),m=0;m<d;++m)for(var X,T=r[m],A=T.length,Q=g[m]=[],wt=0;wt<A;++wt)(X=T[wt])&&e.call(X,X.__data__,wt,T)&&Q.push(X);return new bn(g,this._parents,this._name,this._id)},merge:function ii(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,d=e._groups,g=r.length,T=Math.min(g,d.length),A=new Array(g),Q=0;Q<T;++Q)for(var Yt,X=r[Q],wt=d[Q],Ct=X.length,Xt=A[Q]=new Array(Ct),fe=0;fe<Ct;++fe)(Yt=X[fe]||wt[fe])&&(Xt[fe]=Yt);for(;Q<g;++Q)A[Q]=r[Q];return new bn(A,this._parents,this._name,this._id)},selection:function Sa(){return new Ea(this._groups,this._parents)},transition:function za(){for(var e=this._name,r=this._id,d=sa(),g=this._groups,m=g.length,T=0;T<m;++T)for(var X,A=g[T],Q=A.length,wt=0;wt<Q;++wt)if(X=A[wt]){var Ct=Mi(X,r);Pn(X,e,d,wt,A,{time:Ct.time+Ct.delay+Ct.duration,delay:0,duration:Ct.duration,ease:Ct.ease})}return new bn(g,this._parents,e,d)},call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:function Di(e,r){var d=this._id;return arguments.length<2?Mi(this.node(),d).on.on(e):this.each(function wi(e,r,d){var g,m,T=function Ti(e){return(e+"").trim().split(/^|\s+/).every(function(r){var d=r.indexOf(".");return d>=0&&(r=r.slice(0,d)),!r||"start"===r})}(r)?hr:Ji;return function(){var A=T(this,e),Q=A.on;Q!==g&&(m=(g=Q).copy()).on(r,d),A.on=m}}(d,e,r))},attr:function Yr(e,r){var d=ae(e),g="transform"===d?Pr:zn;return this.attrTween(e,"function"==typeof r?(d.local?br:_r)(d,g,pr(this,"attr."+e,r)):null==r?(d.local?mr:Xn)(d):(d.local?Yn:Xr)(d,g,r))},attrTween:function ut(e,r){var d="attr."+e;if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==r)return this.tween(d,null);if("function"!=typeof r)throw new Error;var g=ae(e);return this.tween(d,(g.local?b:H)(g,r))},style:function Aa(e,r,d){var g="transform"==(e+="")?Ir:zn;return null==r?this.styleTween(e,function Oa(e,r){var d,g,m;return function(){var T=U(this,e),A=(this.style.removeProperty(e),U(this,e));return T===A?null:T===d&&A===g?m:m=r(d=T,g=A)}}(e,g)).on("end.style."+e,la(e)):"function"==typeof r?this.styleTween(e,function Ca(e,r,d){var g,m,T;return function(){var A=U(this,e),Q=d(this),X=Q+"";return null==Q&&(this.style.removeProperty(e),X=Q=U(this,e)),A===X?null:A===g&&X===m?T:(m=X,T=r(g=A,Q))}}(e,g,pr(this,"style."+e,r))).each(function ka(e,r){var d,g,m,Q,T="style."+r,A="end."+T;return function(){var X=Ji(this,e),wt=X.on,Ct=null==X.value[T]?Q||(Q=la(r)):void 0;(wt!==d||m!==Ct)&&(g=(d=wt).copy()).on(A,m=Ct),X.on=g}}(this._id,e)):this.styleTween(e,function Ta(e,r,d){var g,T,m=d+"";return function(){var A=U(this,e);return A===m?null:A===g?T:T=r(g=A,d)}}(e,g,r),d).on("end.style."+e,null)},styleTween:function Ia(e,r,d){var g="style."+(e+="");if(arguments.length<2)return(g=this.tween(g))&&g._value;if(null==r)return this.tween(g,null);if("function"!=typeof r)throw new Error;return this.tween(g,function Na(e,r,d){var g,m;function T(){var A=r.apply(this,arguments);return A!==m&&(g=(m=A)&&function Ma(e,r,d){return function(g){this.style.setProperty(e,r.call(this,g),d)}}(e,A,d)),g}return T._value=r,T}(e,r,null==d?"":d))},text:function Ra(e){return this.tween("text","function"==typeof e?function Da(e){return function(){var r=e(this);this.textContent=null==r?"":r}}(pr(this,"text",e)):function Pa(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Ba(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function ja(e){var r,d;function g(){var m=e.apply(this,arguments);return m!==d&&(r=(d=m)&&function La(e){return function(r){this.textContent=e.call(this,r)}}(m)),r}return g._value=e,g}(e))},remove:function An(){return this.on("end.remove",function Qi(e){return function(){var r=this.parentNode;for(var d in this.__transition)if(+d!==e)return;r&&r.removeChild(this)}}(this._id))},tween:function Qr(e,r){var d=this._id;if(e+="",arguments.length<2){for(var A,g=Mi(this.node(),d).tween,m=0,T=g.length;m<T;++m)if((A=g[m]).name===e)return A.value;return null}return this.each((null==r?gr:Jr)(d,e,r))},delay:function Jt(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?bt:It)(r,e)):Mi(this.node(),r).delay},duration:function ie(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?ee:he)(r,e)):Mi(this.node(),r).duration},ease:function ke(e){var r=this._id;return arguments.length?this.each(function Ue(e,r){if("function"!=typeof r)throw new Error;return function(){Ji(this,e).ease=r}}(r,e)):Mi(this.node(),r).ease},easeVarying:function Fe(e){if("function"!=typeof e)throw new Error;return this.each(function Ie(e,r){return function(){var d=r.apply(this,arguments);if("function"!=typeof d)throw new Error;Ji(this,e).ease=d}}(this._id,e))},end:function Wa(){var e,r,d=this,g=d._id,m=d.size();return new Promise(function(T,A){var Q={value:A},X={value:function(){0==--m&&T()}};d.each(function(){var wt=Ji(this,g),Ct=wt.on;Ct!==e&&((r=(e=Ct).copy())._.cancel.push(Q),r._.interrupt.push(Q),r._.end.push(X)),wt.on=r}),0===m&&T()})},[Symbol.iterator]:xn[Symbol.iterator]};var Fa={time:null,delay:0,duration:250,ease:function Ua(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ga(e,r){for(var d;!(d=e.__transition)||!(d=d[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return d}qe.prototype.interrupt=function Vr(e){return this.each(function(){!function $r(e,r){var g,m,A,d=e.__transition,T=!0;if(d){for(A in r=null==r?null:r+"",d)(g=d[A]).name===r?(m=g.state>2&&g.state<5,g.state=6,g.timer.stop(),g.on.call(m?"interrupt":"cancel",e,e.__data__,g.index,g.group),delete d[A]):T=!1;T&&delete e.__transition}}(this,e)})},qe.prototype.transition=function $a(e){var r,d;e instanceof bn?(r=e._id,e=e._name):(r=sa(),(d=Fa).time=On(),e=null==e?null:e+"");for(var g=this._groups,m=g.length,T=0;T<m;++T)for(var X,A=g[T],Q=A.length,wt=0;wt<Q;++wt)(X=A[wt])&&Pn(X,e,r,wt,A,d||Ga(X,r));return new bn(g,this._parents,e,r)};Math;function wr(e){return{type:e}}function ir(e){return function(){return e}}function va(e){this._context=e}function eo(e){return new va(e)}["w","e"].map(wr),["n","s"].map(wr),["n","w","e","s","nw","ne","sw","se"].map(wr),va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r)}}};const ra=Math.PI,aa=2*ra,Wn=1e-6,io=aa-Wn;function ga(e){this._+=e[0];for(let r=1,d=e.length;r<d;++r)this._+=arguments[r]+e[r]}class Kr{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==r?ga:function no(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return ga;const d=10**r;return function(g){this._+=g[0];for(let m=1,T=g.length;m<T;++m)this._+=Math.round(arguments[m]*d)/d+g[m]}}(r)}moveTo(r,d){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+d}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,d){this._append`L${this._x1=+r},${this._y1=+d}`}quadraticCurveTo(r,d,g,m){this._append`Q${+r},${+d},${this._x1=+g},${this._y1=+m}`}bezierCurveTo(r,d,g,m,T,A){this._append`C${+r},${+d},${+g},${+m},${this._x1=+T},${this._y1=+A}`}arcTo(r,d,g,m,T){if(r=+r,d=+d,g=+g,m=+m,(T=+T)<0)throw new Error(`negative radius: ${T}`);let A=this._x1,Q=this._y1,X=g-r,wt=m-d,Ct=A-r,Xt=Q-d,Yt=Ct*Ct+Xt*Xt;if(null===this._x1)this._append`M${this._x1=r},${this._y1=d}`;else if(Yt>Wn)if(Math.abs(Xt*X-wt*Ct)>Wn&&T){let fe=g-A,ri=m-Q,di=X*X+wt*wt,Zt=fe*fe+ri*ri,Gt=Math.sqrt(di),Se=Math.sqrt(Yt),ve=T*Math.tan((ra-Math.acos((di+Yt-Zt)/(2*Gt*Se)))/2),Be=ve/Se,Qe=ve/Gt;Math.abs(Be-1)>Wn&&this._append`L${r+Be*Ct},${d+Be*Xt}`,this._append`A${T},${T},0,0,${+(Xt*fe>Ct*ri)},${this._x1=r+Qe*X},${this._y1=d+Qe*wt}`}else this._append`L${this._x1=r},${this._y1=d}`}arc(r,d,g,m,T,A){if(r=+r,d=+d,A=!!A,(g=+g)<0)throw new Error(`negative radius: ${g}`);let Q=g*Math.cos(m),X=g*Math.sin(m),wt=r+Q,Ct=d+X,Xt=1^A,Yt=A?m-T:T-m;null===this._x1?this._append`M${wt},${Ct}`:(Math.abs(this._x1-wt)>Wn||Math.abs(this._y1-Ct)>Wn)&&this._append`L${wt},${Ct}`,g&&(Yt<0&&(Yt=Yt%aa+aa),Yt>io?this._append`A${g},${g},0,1,${Xt},${r-Q},${d-X}A${g},${g},0,1,${Xt},${this._x1=wt},${this._y1=Ct}`:Yt>Wn&&this._append`A${g},${g},0,${+(Yt>=ra)},${Xt},${this._x1=r+g*Math.cos(T)},${this._y1=d+g*Math.sin(T)}`)}rect(r,d,g,m){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+d}h${g=+g}v${+m}h${-g}Z`}toString(){return this._}}function oo(e){return e[0]}function lo(e){return e[1]}function so(e,r){var d=ir(!0),g=null,m=eo,T=null,A=function ao(e){let r=3;return e.digits=function(d){if(!arguments.length)return r;if(null==d)r=null;else{const g=Math.floor(d);if(!(g>=0))throw new RangeError(`invalid digits: ${d}`);r=g}return e},()=>new Kr(r)}(Q);function Q(X){var wt,Xt,fe,Ct=(X=function to(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(X)).length,Yt=!1;for(null==g&&(T=m(fe=A())),wt=0;wt<=Ct;++wt)!(wt<Ct&&d(Xt=X[wt],wt,X))===Yt&&((Yt=!Yt)?T.lineStart():T.lineEnd()),Yt&&T.point(+e(Xt,wt,X),+r(Xt,wt,X));if(fe)return T=null,fe+""||null}return e="function"==typeof e?e:void 0===e?oo:ir(e),r="function"==typeof r?r:void 0===r?lo:ir(r),Q.x=function(X){return arguments.length?(e="function"==typeof X?X:ir(+X),Q):e},Q.y=function(X){return arguments.length?(r="function"==typeof X?X:ir(+X),Q):r},Q.defined=function(X){return arguments.length?(d="function"==typeof X?X:ir(!!X),Q):d},Q.curve=function(X){return arguments.length?(m=X,null!=g&&(T=m(g)),Q):m},Q.context=function(X){return arguments.length?(null==X?g=T=null:T=m(g=X),Q):g},Q}function pa(e,r,d){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+d)/6)}function ya(e){this._context=e}function uo(e){return new ya(e)}function nr(e,r,d){this.k=e,this.x=r,this.y=d}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pa(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},nr.prototype={constructor:nr,scale:function(e){return 1===e?this:new nr(this.k*e,this.x,this.y)},translate:function(e,r){return 0===e&0===r?this:new nr(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new nr(1,0,0)}}]);